var f6=Object.defineProperty;var h6=(t,e,r)=>e in t?f6(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var cv=(t,e,r)=>(h6(t,typeof e!="symbol"?e+"":e,r),r);function p6(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var hh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var OO={exports:{}},lg={},NO={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var af=Symbol.for("react.element"),m6=Symbol.for("react.portal"),g6=Symbol.for("react.fragment"),y6=Symbol.for("react.strict_mode"),v6=Symbol.for("react.profiler"),w6=Symbol.for("react.provider"),b6=Symbol.for("react.context"),_6=Symbol.for("react.forward_ref"),x6=Symbol.for("react.suspense"),E6=Symbol.for("react.memo"),k6=Symbol.for("react.lazy"),_S=Symbol.iterator;function S6(t){return t===null||typeof t!="object"?null:(t=_S&&t[_S]||t["@@iterator"],typeof t=="function"?t:null)}var DO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},RO=Object.assign,MO={};function kc(t,e,r){this.props=t,this.context=e,this.refs=MO,this.updater=r||DO}kc.prototype.isReactComponent={};kc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};kc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function LO(){}LO.prototype=kc.prototype;function m_(t,e,r){this.props=t,this.context=e,this.refs=MO,this.updater=r||DO}var g_=m_.prototype=new LO;g_.constructor=m_;RO(g_,kc.prototype);g_.isPureReactComponent=!0;var xS=Array.isArray,jO=Object.prototype.hasOwnProperty,y_={current:null},$O={key:!0,ref:!0,__self:!0,__source:!0};function VO(t,e,r){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)jO.call(e,n)&&!$O.hasOwnProperty(n)&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:af,type:t,key:a,ref:o,props:i,_owner:y_.current}}function T6(t,e){return{$$typeof:af,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function v_(t){return typeof t=="object"&&t!==null&&t.$$typeof===af}function A6(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var ES=/\/+/g;function uv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?A6(""+t.key):e.toString(36)}function op(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case af:case m6:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+uv(o,0):n,xS(i)?(r="",t!=null&&(r=t.replace(ES,"$&/")+"/"),op(i,e,r,"",function(c){return c})):i!=null&&(v_(i)&&(i=T6(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ES,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",xS(t))for(var s=0;s<t.length;s++){a=t[s];var l=n+uv(a,s);o+=op(a,e,r,l,i)}else if(l=S6(t),typeof l=="function")for(t=l.call(t),s=0;!(a=t.next()).done;)a=a.value,l=n+uv(a,s++),o+=op(a,e,r,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ph(t,e,r){if(t==null)return t;var n=[],i=0;return op(t,n,"","",function(a){return e.call(r,a,i++)}),n}function P6(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ur={current:null},sp={transition:null},I6={ReactCurrentDispatcher:Ur,ReactCurrentBatchConfig:sp,ReactCurrentOwner:y_};function FO(){throw Error("act(...) is not supported in production builds of React.")}ke.Children={map:ph,forEach:function(t,e,r){ph(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ph(t,function(){e++}),e},toArray:function(t){return ph(t,function(e){return e})||[]},only:function(t){if(!v_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ke.Component=kc;ke.Fragment=g6;ke.Profiler=v6;ke.PureComponent=m_;ke.StrictMode=y6;ke.Suspense=x6;ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I6;ke.act=FO;ke.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=RO({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=y_.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)jO.call(e,l)&&!$O.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];n.children=s}return{$$typeof:af,type:t.type,key:i,ref:a,props:n,_owner:o}};ke.createContext=function(t){return t={$$typeof:b6,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:w6,_context:t},t.Consumer=t};ke.createElement=VO;ke.createFactory=function(t){var e=VO.bind(null,t);return e.type=t,e};ke.createRef=function(){return{current:null}};ke.forwardRef=function(t){return{$$typeof:_6,render:t}};ke.isValidElement=v_;ke.lazy=function(t){return{$$typeof:k6,_payload:{_status:-1,_result:t},_init:P6}};ke.memo=function(t,e){return{$$typeof:E6,type:t,compare:e===void 0?null:e}};ke.startTransition=function(t){var e=sp.transition;sp.transition={};try{t()}finally{sp.transition=e}};ke.unstable_act=FO;ke.useCallback=function(t,e){return Ur.current.useCallback(t,e)};ke.useContext=function(t){return Ur.current.useContext(t)};ke.useDebugValue=function(){};ke.useDeferredValue=function(t){return Ur.current.useDeferredValue(t)};ke.useEffect=function(t,e){return Ur.current.useEffect(t,e)};ke.useId=function(){return Ur.current.useId()};ke.useImperativeHandle=function(t,e,r){return Ur.current.useImperativeHandle(t,e,r)};ke.useInsertionEffect=function(t,e){return Ur.current.useInsertionEffect(t,e)};ke.useLayoutEffect=function(t,e){return Ur.current.useLayoutEffect(t,e)};ke.useMemo=function(t,e){return Ur.current.useMemo(t,e)};ke.useReducer=function(t,e,r){return Ur.current.useReducer(t,e,r)};ke.useRef=function(t){return Ur.current.useRef(t)};ke.useState=function(t){return Ur.current.useState(t)};ke.useSyncExternalStore=function(t,e,r){return Ur.current.useSyncExternalStore(t,e,r)};ke.useTransition=function(){return Ur.current.useTransition()};ke.version="18.3.1";NO.exports=ke;var _=NO.exports;const le=bn(_),UO=p6({__proto__:null,default:le},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C6=_,O6=Symbol.for("react.element"),N6=Symbol.for("react.fragment"),D6=Object.prototype.hasOwnProperty,R6=C6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,M6={key:!0,ref:!0,__self:!0,__source:!0};function BO(t,e,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)D6.call(e,n)&&!M6.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:O6,type:t,key:a,ref:o,props:i,_owner:R6.current}}lg.Fragment=N6;lg.jsx=BO;lg.jsxs=BO;OO.exports=lg;var w_=OO.exports;const Jl=w_.Fragment,y=w_.jsx,A=w_.jsxs;var zO={exports:{}},_n={},WO={exports:{}},qO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(W,X){var Q=W.length;W.push(X);e:for(;0<Q;){var ce=Q-1>>>1,Y=W[ce];if(0<i(Y,X))W[ce]=X,W[Q]=Y,Q=ce;else break e}}function r(W){return W.length===0?null:W[0]}function n(W){if(W.length===0)return null;var X=W[0],Q=W.pop();if(Q!==X){W[0]=Q;e:for(var ce=0,Y=W.length,he=Y>>>1;ce<he;){var Nt=2*(ce+1)-1,qe=W[Nt],Gt=Nt+1,Tt=W[Gt];if(0>i(qe,Q))Gt<Y&&0>i(Tt,qe)?(W[ce]=Tt,W[Gt]=Q,ce=Gt):(W[ce]=qe,W[Nt]=Q,ce=Nt);else if(Gt<Y&&0>i(Tt,Q))W[ce]=Tt,W[Gt]=Q,ce=Gt;else break e}}return X}function i(W,X){var Q=W.sortIndex-X.sortIndex;return Q!==0?Q:W.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],c=[],u=1,d=null,h=3,p=!1,m=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(W){for(var X=r(c);X!==null;){if(X.callback===null)n(c);else if(X.startTime<=W)n(c),X.sortIndex=X.expirationTime,e(l,X);else break;X=r(c)}}function C(W){if(g=!1,E(W),!m)if(r(l)!==null)m=!0,G(I);else{var X=r(c);X!==null&&de(C,X.startTime-W)}}function I(W,X){m=!1,g&&(g=!1,w(S),S=-1),p=!0;var Q=h;try{for(E(X),d=r(l);d!==null&&(!(d.expirationTime>X)||W&&!D());){var ce=d.callback;if(typeof ce=="function"){d.callback=null,h=d.priorityLevel;var Y=ce(d.expirationTime<=X);X=t.unstable_now(),typeof Y=="function"?d.callback=Y:d===r(l)&&n(l),E(X)}else n(l);d=r(l)}if(d!==null)var he=!0;else{var Nt=r(c);Nt!==null&&de(C,Nt.startTime-X),he=!1}return he}finally{d=null,h=Q,p=!1}}var M=!1,T=null,S=-1,N=5,L=-1;function D(){return!(t.unstable_now()-L<N)}function O(){if(T!==null){var W=t.unstable_now();L=W;var X=!0;try{X=T(!0,W)}finally{X?P():(M=!1,T=null)}}else M=!1}var P;if(typeof x=="function")P=function(){x(O)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,ee=U.port2;U.port1.onmessage=O,P=function(){ee.postMessage(null)}}else P=function(){b(O,0)};function G(W){T=W,M||(M=!0,P())}function de(W,X){S=b(function(){W(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,G(I))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(W){switch(h){case 1:case 2:case 3:var X=3;break;default:X=h}var Q=h;h=X;try{return W()}finally{h=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,X){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var Q=h;h=W;try{return X()}finally{h=Q}},t.unstable_scheduleCallback=function(W,X,Q){var ce=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ce+Q:ce):Q=ce,W){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=Q+Y,W={id:u++,callback:X,priorityLevel:W,startTime:Q,expirationTime:Y,sortIndex:-1},Q>ce?(W.sortIndex=Q,e(c,W),r(l)===null&&W===r(c)&&(g?(w(S),S=-1):g=!0,de(C,Q-ce))):(W.sortIndex=Y,e(l,W),m||p||(m=!0,G(I))),W},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(W){var X=h;return function(){var Q=h;h=X;try{return W.apply(this,arguments)}finally{h=Q}}}})(qO);WO.exports=qO;var L6=WO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j6=_,mn=L6;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var KO=new Set,pd={};function Ws(t,e){Zl(t,e),Zl(t+"Capture",e)}function Zl(t,e){for(pd[t]=e,t=0;t<e.length;t++)KO.add(e[t])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),D0=Object.prototype.hasOwnProperty,$6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kS={},SS={};function V6(t){return D0.call(SS,t)?!0:D0.call(kS,t)?!1:$6.test(t)?SS[t]=!0:(kS[t]=!0,!1)}function F6(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function U6(t,e,r,n){if(e===null||typeof e>"u"||F6(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Br(t,e,r,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var gr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){gr[t]=new Br(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];gr[e]=new Br(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){gr[t]=new Br(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){gr[t]=new Br(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){gr[t]=new Br(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){gr[t]=new Br(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){gr[t]=new Br(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){gr[t]=new Br(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){gr[t]=new Br(t,5,!1,t.toLowerCase(),null,!1,!1)});var b_=/[\-:]([a-z])/g;function __(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(b_,__);gr[e]=new Br(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(b_,__);gr[e]=new Br(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(b_,__);gr[e]=new Br(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){gr[t]=new Br(t,1,!1,t.toLowerCase(),null,!1,!1)});gr.xlinkHref=new Br("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){gr[t]=new Br(t,1,!1,t.toLowerCase(),null,!0,!0)});function x_(t,e,r,n){var i=gr.hasOwnProperty(e)?gr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(U6(e,r,i,n)&&(r=null),n||i===null?V6(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var wa=j6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mh=Symbol.for("react.element"),wl=Symbol.for("react.portal"),bl=Symbol.for("react.fragment"),E_=Symbol.for("react.strict_mode"),R0=Symbol.for("react.profiler"),HO=Symbol.for("react.provider"),GO=Symbol.for("react.context"),k_=Symbol.for("react.forward_ref"),M0=Symbol.for("react.suspense"),L0=Symbol.for("react.suspense_list"),S_=Symbol.for("react.memo"),qa=Symbol.for("react.lazy"),YO=Symbol.for("react.offscreen"),TS=Symbol.iterator;function cu(t){return t===null||typeof t!="object"?null:(t=TS&&t[TS]||t["@@iterator"],typeof t=="function"?t:null)}var gt=Object.assign,dv;function Ru(t){if(dv===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);dv=e&&e[1]||""}return`
`+dv+t}var fv=!1;function hv(t,e){if(!t||fv)return"";fv=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=s);break}}}finally{fv=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Ru(t):""}function B6(t){switch(t.tag){case 5:return Ru(t.type);case 16:return Ru("Lazy");case 13:return Ru("Suspense");case 19:return Ru("SuspenseList");case 0:case 2:case 15:return t=hv(t.type,!1),t;case 11:return t=hv(t.type.render,!1),t;case 1:return t=hv(t.type,!0),t;default:return""}}function j0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case bl:return"Fragment";case wl:return"Portal";case R0:return"Profiler";case E_:return"StrictMode";case M0:return"Suspense";case L0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case GO:return(t.displayName||"Context")+".Consumer";case HO:return(t._context.displayName||"Context")+".Provider";case k_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case S_:return e=t.displayName||null,e!==null?e:j0(t.type)||"Memo";case qa:e=t._payload,t=t._init;try{return j0(t(e))}catch{}}return null}function z6(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return j0(e);case 8:return e===E_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function xo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function QO(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function W6(t){var e=QO(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function gh(t){t._valueTracker||(t._valueTracker=W6(t))}function XO(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=QO(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Cp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function $0(t,e){var r=e.checked;return gt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function AS(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=xo(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function JO(t,e){e=e.checked,e!=null&&x_(t,"checked",e,!1)}function V0(t,e){JO(t,e);var r=xo(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?F0(t,e.type,r):e.hasOwnProperty("defaultValue")&&F0(t,e.type,xo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function PS(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function F0(t,e,r){(e!=="number"||Cp(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Mu=Array.isArray;function $l(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+xo(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function U0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return gt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function IS(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(H(92));if(Mu(r)){if(1<r.length)throw Error(H(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:xo(r)}}function ZO(t,e){var r=xo(e.value),n=xo(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function CS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function eN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function B0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?eN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var yh,tN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(yh=yh||document.createElement("div"),yh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=yh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function md(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Yu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},q6=["Webkit","ms","Moz","O"];Object.keys(Yu).forEach(function(t){q6.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Yu[e]=Yu[t]})});function rN(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Yu.hasOwnProperty(t)&&Yu[t]?(""+e).trim():e+"px"}function nN(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=rN(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var K6=gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function z0(t,e){if(e){if(K6[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function W0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var q0=null;function T_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var K0=null,Vl=null,Fl=null;function OS(t){if(t=lf(t)){if(typeof K0!="function")throw Error(H(280));var e=t.stateNode;e&&(e=hg(e),K0(t.stateNode,t.type,e))}}function iN(t){Vl?Fl?Fl.push(t):Fl=[t]:Vl=t}function aN(){if(Vl){var t=Vl,e=Fl;if(Fl=Vl=null,OS(t),e)for(t=0;t<e.length;t++)OS(e[t])}}function oN(t,e){return t(e)}function sN(){}var pv=!1;function lN(t,e,r){if(pv)return t(e,r);pv=!0;try{return oN(t,e,r)}finally{pv=!1,(Vl!==null||Fl!==null)&&(sN(),aN())}}function gd(t,e){var r=t.stateNode;if(r===null)return null;var n=hg(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(H(231,e,typeof r));return r}var H0=!1;if(ia)try{var uu={};Object.defineProperty(uu,"passive",{get:function(){H0=!0}}),window.addEventListener("test",uu,uu),window.removeEventListener("test",uu,uu)}catch{H0=!1}function H6(t,e,r,n,i,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(u){this.onError(u)}}var Qu=!1,Op=null,Np=!1,G0=null,G6={onError:function(t){Qu=!0,Op=t}};function Y6(t,e,r,n,i,a,o,s,l){Qu=!1,Op=null,H6.apply(G6,arguments)}function Q6(t,e,r,n,i,a,o,s,l){if(Y6.apply(this,arguments),Qu){if(Qu){var c=Op;Qu=!1,Op=null}else throw Error(H(198));Np||(Np=!0,G0=c)}}function qs(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function cN(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function NS(t){if(qs(t)!==t)throw Error(H(188))}function X6(t){var e=t.alternate;if(!e){if(e=qs(t),e===null)throw Error(H(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return NS(i),t;if(a===n)return NS(i),e;a=a.sibling}throw Error(H(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(H(189))}}if(r.alternate!==n)throw Error(H(190))}if(r.tag!==3)throw Error(H(188));return r.stateNode.current===r?t:e}function uN(t){return t=X6(t),t!==null?dN(t):null}function dN(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=dN(t);if(e!==null)return e;t=t.sibling}return null}var fN=mn.unstable_scheduleCallback,DS=mn.unstable_cancelCallback,J6=mn.unstable_shouldYield,Z6=mn.unstable_requestPaint,It=mn.unstable_now,eF=mn.unstable_getCurrentPriorityLevel,A_=mn.unstable_ImmediatePriority,hN=mn.unstable_UserBlockingPriority,Dp=mn.unstable_NormalPriority,tF=mn.unstable_LowPriority,pN=mn.unstable_IdlePriority,cg=null,yi=null;function rF(t){if(yi&&typeof yi.onCommitFiberRoot=="function")try{yi.onCommitFiberRoot(cg,t,void 0,(t.current.flags&128)===128)}catch{}}var ti=Math.clz32?Math.clz32:aF,nF=Math.log,iF=Math.LN2;function aF(t){return t>>>=0,t===0?32:31-(nF(t)/iF|0)|0}var vh=64,wh=4194304;function Lu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Rp(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,o=r&268435455;if(o!==0){var s=o&~i;s!==0?n=Lu(s):(a&=o,a!==0&&(n=Lu(a)))}else o=r&~i,o!==0?n=Lu(o):a!==0&&(n=Lu(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-ti(e),i=1<<r,n|=t[r],e&=~i;return n}function oF(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sF(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-ti(a),s=1<<o,l=i[o];l===-1?(!(s&r)||s&n)&&(i[o]=oF(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}}function Y0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function mN(){var t=vh;return vh<<=1,!(vh&4194240)&&(vh=64),t}function mv(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function of(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ti(e),t[e]=r}function lF(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-ti(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function P_(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-ti(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Be=0;function gN(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var yN,I_,vN,wN,bN,Q0=!1,bh=[],so=null,lo=null,co=null,yd=new Map,vd=new Map,Ga=[],cF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function RS(t,e){switch(t){case"focusin":case"focusout":so=null;break;case"dragenter":case"dragleave":lo=null;break;case"mouseover":case"mouseout":co=null;break;case"pointerover":case"pointerout":yd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vd.delete(e.pointerId)}}function du(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=lf(e),e!==null&&I_(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function uF(t,e,r,n,i){switch(e){case"focusin":return so=du(so,t,e,r,n,i),!0;case"dragenter":return lo=du(lo,t,e,r,n,i),!0;case"mouseover":return co=du(co,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return yd.set(a,du(yd.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,vd.set(a,du(vd.get(a)||null,t,e,r,n,i)),!0}return!1}function _N(t){var e=ss(t.target);if(e!==null){var r=qs(e);if(r!==null){if(e=r.tag,e===13){if(e=cN(r),e!==null){t.blockedOn=e,bN(t.priority,function(){vN(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=X0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);q0=n,r.target.dispatchEvent(n),q0=null}else return e=lf(r),e!==null&&I_(e),t.blockedOn=r,!1;e.shift()}return!0}function MS(t,e,r){lp(t)&&r.delete(e)}function dF(){Q0=!1,so!==null&&lp(so)&&(so=null),lo!==null&&lp(lo)&&(lo=null),co!==null&&lp(co)&&(co=null),yd.forEach(MS),vd.forEach(MS)}function fu(t,e){t.blockedOn===e&&(t.blockedOn=null,Q0||(Q0=!0,mn.unstable_scheduleCallback(mn.unstable_NormalPriority,dF)))}function wd(t){function e(i){return fu(i,t)}if(0<bh.length){fu(bh[0],t);for(var r=1;r<bh.length;r++){var n=bh[r];n.blockedOn===t&&(n.blockedOn=null)}}for(so!==null&&fu(so,t),lo!==null&&fu(lo,t),co!==null&&fu(co,t),yd.forEach(e),vd.forEach(e),r=0;r<Ga.length;r++)n=Ga[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ga.length&&(r=Ga[0],r.blockedOn===null);)_N(r),r.blockedOn===null&&Ga.shift()}var Ul=wa.ReactCurrentBatchConfig,Mp=!0;function fF(t,e,r,n){var i=Be,a=Ul.transition;Ul.transition=null;try{Be=1,C_(t,e,r,n)}finally{Be=i,Ul.transition=a}}function hF(t,e,r,n){var i=Be,a=Ul.transition;Ul.transition=null;try{Be=4,C_(t,e,r,n)}finally{Be=i,Ul.transition=a}}function C_(t,e,r,n){if(Mp){var i=X0(t,e,r,n);if(i===null)Sv(t,e,n,Lp,r),RS(t,n);else if(uF(i,t,e,r,n))n.stopPropagation();else if(RS(t,n),e&4&&-1<cF.indexOf(t)){for(;i!==null;){var a=lf(i);if(a!==null&&yN(a),a=X0(t,e,r,n),a===null&&Sv(t,e,n,Lp,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Sv(t,e,n,null,r)}}var Lp=null;function X0(t,e,r,n){if(Lp=null,t=T_(n),t=ss(t),t!==null)if(e=qs(t),e===null)t=null;else if(r=e.tag,r===13){if(t=cN(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Lp=t,null}function xN(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(eF()){case A_:return 1;case hN:return 4;case Dp:case tF:return 16;case pN:return 536870912;default:return 16}default:return 16}}var no=null,O_=null,cp=null;function EN(){if(cp)return cp;var t,e=O_,r=e.length,n,i="value"in no?no.value:no.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[a-n];n++);return cp=i.slice(t,1<n?1-n:void 0)}function up(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function _h(){return!0}function LS(){return!1}function xn(t){function e(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?_h:LS,this.isPropagationStopped=LS,this}return gt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=_h)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=_h)},persist:function(){},isPersistent:_h}),e}var Sc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},N_=xn(Sc),sf=gt({},Sc,{view:0,detail:0}),pF=xn(sf),gv,yv,hu,ug=gt({},sf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:D_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hu&&(hu&&t.type==="mousemove"?(gv=t.screenX-hu.screenX,yv=t.screenY-hu.screenY):yv=gv=0,hu=t),gv)},movementY:function(t){return"movementY"in t?t.movementY:yv}}),jS=xn(ug),mF=gt({},ug,{dataTransfer:0}),gF=xn(mF),yF=gt({},sf,{relatedTarget:0}),vv=xn(yF),vF=gt({},Sc,{animationName:0,elapsedTime:0,pseudoElement:0}),wF=xn(vF),bF=gt({},Sc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_F=xn(bF),xF=gt({},Sc,{data:0}),$S=xn(xF),EF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},SF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TF(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=SF[t])?!!e[t]:!1}function D_(){return TF}var AF=gt({},sf,{key:function(t){if(t.key){var e=EF[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=up(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?kF[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:D_,charCode:function(t){return t.type==="keypress"?up(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?up(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),PF=xn(AF),IF=gt({},ug,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),VS=xn(IF),CF=gt({},sf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:D_}),OF=xn(CF),NF=gt({},Sc,{propertyName:0,elapsedTime:0,pseudoElement:0}),DF=xn(NF),RF=gt({},ug,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),MF=xn(RF),LF=[9,13,27,32],R_=ia&&"CompositionEvent"in window,Xu=null;ia&&"documentMode"in document&&(Xu=document.documentMode);var jF=ia&&"TextEvent"in window&&!Xu,kN=ia&&(!R_||Xu&&8<Xu&&11>=Xu),FS=String.fromCharCode(32),US=!1;function SN(t,e){switch(t){case"keyup":return LF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function TN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _l=!1;function $F(t,e){switch(t){case"compositionend":return TN(e);case"keypress":return e.which!==32?null:(US=!0,FS);case"textInput":return t=e.data,t===FS&&US?null:t;default:return null}}function VF(t,e){if(_l)return t==="compositionend"||!R_&&SN(t,e)?(t=EN(),cp=O_=no=null,_l=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return kN&&e.locale!=="ko"?null:e.data;default:return null}}var FF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function BS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!FF[t.type]:e==="textarea"}function AN(t,e,r,n){iN(n),e=jp(e,"onChange"),0<e.length&&(r=new N_("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Ju=null,bd=null;function UF(t){$N(t,0)}function dg(t){var e=kl(t);if(XO(e))return t}function BF(t,e){if(t==="change")return e}var PN=!1;if(ia){var wv;if(ia){var bv="oninput"in document;if(!bv){var zS=document.createElement("div");zS.setAttribute("oninput","return;"),bv=typeof zS.oninput=="function"}wv=bv}else wv=!1;PN=wv&&(!document.documentMode||9<document.documentMode)}function WS(){Ju&&(Ju.detachEvent("onpropertychange",IN),bd=Ju=null)}function IN(t){if(t.propertyName==="value"&&dg(bd)){var e=[];AN(e,bd,t,T_(t)),lN(UF,e)}}function zF(t,e,r){t==="focusin"?(WS(),Ju=e,bd=r,Ju.attachEvent("onpropertychange",IN)):t==="focusout"&&WS()}function WF(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return dg(bd)}function qF(t,e){if(t==="click")return dg(e)}function KF(t,e){if(t==="input"||t==="change")return dg(e)}function HF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ni=typeof Object.is=="function"?Object.is:HF;function _d(t,e){if(ni(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!D0.call(e,i)||!ni(t[i],e[i]))return!1}return!0}function qS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function KS(t,e){var r=qS(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=qS(r)}}function CN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?CN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ON(){for(var t=window,e=Cp();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Cp(t.document)}return e}function M_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function GF(t){var e=ON(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&CN(r.ownerDocument.documentElement,r)){if(n!==null&&M_(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=KS(r,a);var o=KS(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var YF=ia&&"documentMode"in document&&11>=document.documentMode,xl=null,J0=null,Zu=null,Z0=!1;function HS(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Z0||xl==null||xl!==Cp(n)||(n=xl,"selectionStart"in n&&M_(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Zu&&_d(Zu,n)||(Zu=n,n=jp(J0,"onSelect"),0<n.length&&(e=new N_("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=xl)))}function xh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var El={animationend:xh("Animation","AnimationEnd"),animationiteration:xh("Animation","AnimationIteration"),animationstart:xh("Animation","AnimationStart"),transitionend:xh("Transition","TransitionEnd")},_v={},NN={};ia&&(NN=document.createElement("div").style,"AnimationEvent"in window||(delete El.animationend.animation,delete El.animationiteration.animation,delete El.animationstart.animation),"TransitionEvent"in window||delete El.transitionend.transition);function fg(t){if(_v[t])return _v[t];if(!El[t])return t;var e=El[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in NN)return _v[t]=e[r];return t}var DN=fg("animationend"),RN=fg("animationiteration"),MN=fg("animationstart"),LN=fg("transitionend"),jN=new Map,GS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function No(t,e){jN.set(t,e),Ws(e,[t])}for(var xv=0;xv<GS.length;xv++){var Ev=GS[xv],QF=Ev.toLowerCase(),XF=Ev[0].toUpperCase()+Ev.slice(1);No(QF,"on"+XF)}No(DN,"onAnimationEnd");No(RN,"onAnimationIteration");No(MN,"onAnimationStart");No("dblclick","onDoubleClick");No("focusin","onFocus");No("focusout","onBlur");No(LN,"onTransitionEnd");Zl("onMouseEnter",["mouseout","mouseover"]);Zl("onMouseLeave",["mouseout","mouseover"]);Zl("onPointerEnter",["pointerout","pointerover"]);Zl("onPointerLeave",["pointerout","pointerover"]);Ws("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ws("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ws("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ws("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ws("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ws("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ju="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JF=new Set("cancel close invalid load scroll toggle".split(" ").concat(ju));function YS(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Q6(n,e,void 0,t),t.currentTarget=null}function $N(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;YS(i,s,c),a=l}else for(o=0;o<n.length;o++){if(s=n[o],l=s.instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;YS(i,s,c),a=l}}}if(Np)throw t=G0,Np=!1,G0=null,t}function nt(t,e){var r=e[iw];r===void 0&&(r=e[iw]=new Set);var n=t+"__bubble";r.has(n)||(VN(e,t,2,!1),r.add(n))}function kv(t,e,r){var n=0;e&&(n|=4),VN(r,t,n,e)}var Eh="_reactListening"+Math.random().toString(36).slice(2);function xd(t){if(!t[Eh]){t[Eh]=!0,KO.forEach(function(r){r!=="selectionchange"&&(JF.has(r)||kv(r,!1,t),kv(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Eh]||(e[Eh]=!0,kv("selectionchange",!1,e))}}function VN(t,e,r,n){switch(xN(e)){case 1:var i=fF;break;case 4:i=hF;break;default:i=C_}r=i.bind(null,e,r,t),i=void 0,!H0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Sv(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=ss(s),o===null)return;if(l=o.tag,l===5||l===6){n=a=o;continue e}s=s.parentNode}}n=n.return}lN(function(){var c=a,u=T_(r),d=[];e:{var h=jN.get(t);if(h!==void 0){var p=N_,m=t;switch(t){case"keypress":if(up(r)===0)break e;case"keydown":case"keyup":p=PF;break;case"focusin":m="focus",p=vv;break;case"focusout":m="blur",p=vv;break;case"beforeblur":case"afterblur":p=vv;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=jS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=gF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=OF;break;case DN:case RN:case MN:p=wF;break;case LN:p=DF;break;case"scroll":p=pF;break;case"wheel":p=MF;break;case"copy":case"cut":case"paste":p=_F;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=VS}var g=(e&4)!==0,b=!g&&t==="scroll",w=g?h!==null?h+"Capture":null:h;g=[];for(var x=c,E;x!==null;){E=x;var C=E.stateNode;if(E.tag===5&&C!==null&&(E=C,w!==null&&(C=gd(x,w),C!=null&&g.push(Ed(x,C,E)))),b)break;x=x.return}0<g.length&&(h=new p(h,m,null,r,u),d.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&r!==q0&&(m=r.relatedTarget||r.fromElement)&&(ss(m)||m[aa]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=c,m=m?ss(m):null,m!==null&&(b=qs(m),m!==b||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(g=jS,C="onMouseLeave",w="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(g=VS,C="onPointerLeave",w="onPointerEnter",x="pointer"),b=p==null?h:kl(p),E=m==null?h:kl(m),h=new g(C,x+"leave",p,r,u),h.target=b,h.relatedTarget=E,C=null,ss(u)===c&&(g=new g(w,x+"enter",m,r,u),g.target=E,g.relatedTarget=b,C=g),b=C,p&&m)t:{for(g=p,w=m,x=0,E=g;E;E=fl(E))x++;for(E=0,C=w;C;C=fl(C))E++;for(;0<x-E;)g=fl(g),x--;for(;0<E-x;)w=fl(w),E--;for(;x--;){if(g===w||w!==null&&g===w.alternate)break t;g=fl(g),w=fl(w)}g=null}else g=null;p!==null&&QS(d,h,p,g,!1),m!==null&&b!==null&&QS(d,b,m,g,!0)}}e:{if(h=c?kl(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var I=BF;else if(BS(h))if(PN)I=KF;else{I=WF;var M=zF}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(I=qF);if(I&&(I=I(t,c))){AN(d,I,r,u);break e}M&&M(t,h,c),t==="focusout"&&(M=h._wrapperState)&&M.controlled&&h.type==="number"&&F0(h,"number",h.value)}switch(M=c?kl(c):window,t){case"focusin":(BS(M)||M.contentEditable==="true")&&(xl=M,J0=c,Zu=null);break;case"focusout":Zu=J0=xl=null;break;case"mousedown":Z0=!0;break;case"contextmenu":case"mouseup":case"dragend":Z0=!1,HS(d,r,u);break;case"selectionchange":if(YF)break;case"keydown":case"keyup":HS(d,r,u)}var T;if(R_)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else _l?SN(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(kN&&r.locale!=="ko"&&(_l||S!=="onCompositionStart"?S==="onCompositionEnd"&&_l&&(T=EN()):(no=u,O_="value"in no?no.value:no.textContent,_l=!0)),M=jp(c,S),0<M.length&&(S=new $S(S,t,null,r,u),d.push({event:S,listeners:M}),T?S.data=T:(T=TN(r),T!==null&&(S.data=T)))),(T=jF?$F(t,r):VF(t,r))&&(c=jp(c,"onBeforeInput"),0<c.length&&(u=new $S("onBeforeInput","beforeinput",null,r,u),d.push({event:u,listeners:c}),u.data=T))}$N(d,e)})}function Ed(t,e,r){return{instance:t,listener:e,currentTarget:r}}function jp(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=gd(t,r),a!=null&&n.unshift(Ed(t,a,i)),a=gd(t,e),a!=null&&n.push(Ed(t,a,i))),t=t.return}return n}function fl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function QS(t,e,r,n,i){for(var a=e._reactName,o=[];r!==null&&r!==n;){var s=r,l=s.alternate,c=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&c!==null&&(s=c,i?(l=gd(r,a),l!=null&&o.unshift(Ed(r,l,s))):i||(l=gd(r,a),l!=null&&o.push(Ed(r,l,s)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var ZF=/\r\n?/g,eU=/\u0000|\uFFFD/g;function XS(t){return(typeof t=="string"?t:""+t).replace(ZF,`
`).replace(eU,"")}function kh(t,e,r){if(e=XS(e),XS(t)!==e&&r)throw Error(H(425))}function $p(){}var ew=null,tw=null;function rw(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var nw=typeof setTimeout=="function"?setTimeout:void 0,tU=typeof clearTimeout=="function"?clearTimeout:void 0,JS=typeof Promise=="function"?Promise:void 0,rU=typeof queueMicrotask=="function"?queueMicrotask:typeof JS<"u"?function(t){return JS.resolve(null).then(t).catch(nU)}:nw;function nU(t){setTimeout(function(){throw t})}function Tv(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),wd(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);wd(e)}function uo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ZS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Tc=Math.random().toString(36).slice(2),hi="__reactFiber$"+Tc,kd="__reactProps$"+Tc,aa="__reactContainer$"+Tc,iw="__reactEvents$"+Tc,iU="__reactListeners$"+Tc,aU="__reactHandles$"+Tc;function ss(t){var e=t[hi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[aa]||r[hi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=ZS(t);t!==null;){if(r=t[hi])return r;t=ZS(t)}return e}t=r,r=t.parentNode}return null}function lf(t){return t=t[hi]||t[aa],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function kl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function hg(t){return t[kd]||null}var aw=[],Sl=-1;function Do(t){return{current:t}}function st(t){0>Sl||(t.current=aw[Sl],aw[Sl]=null,Sl--)}function Ze(t,e){Sl++,aw[Sl]=t.current,t.current=e}var Eo={},Cr=Do(Eo),Qr=Do(!1),Ps=Eo;function ec(t,e){var r=t.type.contextTypes;if(!r)return Eo;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Xr(t){return t=t.childContextTypes,t!=null}function Vp(){st(Qr),st(Cr)}function eT(t,e,r){if(Cr.current!==Eo)throw Error(H(168));Ze(Cr,e),Ze(Qr,r)}function FN(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(H(108,z6(t)||"Unknown",i));return gt({},r,n)}function Fp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Eo,Ps=Cr.current,Ze(Cr,t),Ze(Qr,Qr.current),!0}function tT(t,e,r){var n=t.stateNode;if(!n)throw Error(H(169));r?(t=FN(t,e,Ps),n.__reactInternalMemoizedMergedChildContext=t,st(Qr),st(Cr),Ze(Cr,t)):st(Qr),Ze(Qr,r)}var Ui=null,pg=!1,Av=!1;function UN(t){Ui===null?Ui=[t]:Ui.push(t)}function oU(t){pg=!0,UN(t)}function Ro(){if(!Av&&Ui!==null){Av=!0;var t=0,e=Be;try{var r=Ui;for(Be=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Ui=null,pg=!1}catch(i){throw Ui!==null&&(Ui=Ui.slice(t+1)),fN(A_,Ro),i}finally{Be=e,Av=!1}}return null}var Tl=[],Al=0,Up=null,Bp=0,Nn=[],Dn=0,Is=null,qi=1,Ki="";function ts(t,e){Tl[Al++]=Bp,Tl[Al++]=Up,Up=t,Bp=e}function BN(t,e,r){Nn[Dn++]=qi,Nn[Dn++]=Ki,Nn[Dn++]=Is,Is=t;var n=qi;t=Ki;var i=32-ti(n)-1;n&=~(1<<i),r+=1;var a=32-ti(e)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,qi=1<<32-ti(e)+i|r<<i|n,Ki=a+t}else qi=1<<a|r<<i|n,Ki=t}function L_(t){t.return!==null&&(ts(t,1),BN(t,1,0))}function j_(t){for(;t===Up;)Up=Tl[--Al],Tl[Al]=null,Bp=Tl[--Al],Tl[Al]=null;for(;t===Is;)Is=Nn[--Dn],Nn[Dn]=null,Ki=Nn[--Dn],Nn[Dn]=null,qi=Nn[--Dn],Nn[Dn]=null}var hn=null,un=null,ct=!1,Qn=null;function zN(t,e){var r=Mn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function rT(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,hn=t,un=uo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,hn=t,un=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Is!==null?{id:qi,overflow:Ki}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Mn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,hn=t,un=null,!0):!1;default:return!1}}function ow(t){return(t.mode&1)!==0&&(t.flags&128)===0}function sw(t){if(ct){var e=un;if(e){var r=e;if(!rT(t,e)){if(ow(t))throw Error(H(418));e=uo(r.nextSibling);var n=hn;e&&rT(t,e)?zN(n,r):(t.flags=t.flags&-4097|2,ct=!1,hn=t)}}else{if(ow(t))throw Error(H(418));t.flags=t.flags&-4097|2,ct=!1,hn=t}}}function nT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;hn=t}function Sh(t){if(t!==hn)return!1;if(!ct)return nT(t),ct=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!rw(t.type,t.memoizedProps)),e&&(e=un)){if(ow(t))throw WN(),Error(H(418));for(;e;)zN(t,e),e=uo(e.nextSibling)}if(nT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){un=uo(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}un=null}}else un=hn?uo(t.stateNode.nextSibling):null;return!0}function WN(){for(var t=un;t;)t=uo(t.nextSibling)}function tc(){un=hn=null,ct=!1}function $_(t){Qn===null?Qn=[t]:Qn.push(t)}var sU=wa.ReactCurrentBatchConfig;function pu(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(H(309));var n=r.stateNode}if(!n)throw Error(H(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(H(284));if(!r._owner)throw Error(H(290,t))}return t}function Th(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function iT(t){var e=t._init;return e(t._payload)}function qN(t){function e(w,x){if(t){var E=w.deletions;E===null?(w.deletions=[x],w.flags|=16):E.push(x)}}function r(w,x){if(!t)return null;for(;x!==null;)e(w,x),x=x.sibling;return null}function n(w,x){for(w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function i(w,x){return w=mo(w,x),w.index=0,w.sibling=null,w}function a(w,x,E){return w.index=E,t?(E=w.alternate,E!==null?(E=E.index,E<x?(w.flags|=2,x):E):(w.flags|=2,x)):(w.flags|=1048576,x)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function s(w,x,E,C){return x===null||x.tag!==6?(x=Rv(E,w.mode,C),x.return=w,x):(x=i(x,E),x.return=w,x)}function l(w,x,E,C){var I=E.type;return I===bl?u(w,x,E.props.children,C,E.key):x!==null&&(x.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===qa&&iT(I)===x.type)?(C=i(x,E.props),C.ref=pu(w,x,E),C.return=w,C):(C=yp(E.type,E.key,E.props,null,w.mode,C),C.ref=pu(w,x,E),C.return=w,C)}function c(w,x,E,C){return x===null||x.tag!==4||x.stateNode.containerInfo!==E.containerInfo||x.stateNode.implementation!==E.implementation?(x=Mv(E,w.mode,C),x.return=w,x):(x=i(x,E.children||[]),x.return=w,x)}function u(w,x,E,C,I){return x===null||x.tag!==7?(x=bs(E,w.mode,C,I),x.return=w,x):(x=i(x,E),x.return=w,x)}function d(w,x,E){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Rv(""+x,w.mode,E),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case mh:return E=yp(x.type,x.key,x.props,null,w.mode,E),E.ref=pu(w,null,x),E.return=w,E;case wl:return x=Mv(x,w.mode,E),x.return=w,x;case qa:var C=x._init;return d(w,C(x._payload),E)}if(Mu(x)||cu(x))return x=bs(x,w.mode,E,null),x.return=w,x;Th(w,x)}return null}function h(w,x,E,C){var I=x!==null?x.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return I!==null?null:s(w,x,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case mh:return E.key===I?l(w,x,E,C):null;case wl:return E.key===I?c(w,x,E,C):null;case qa:return I=E._init,h(w,x,I(E._payload),C)}if(Mu(E)||cu(E))return I!==null?null:u(w,x,E,C,null);Th(w,E)}return null}function p(w,x,E,C,I){if(typeof C=="string"&&C!==""||typeof C=="number")return w=w.get(E)||null,s(x,w,""+C,I);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case mh:return w=w.get(C.key===null?E:C.key)||null,l(x,w,C,I);case wl:return w=w.get(C.key===null?E:C.key)||null,c(x,w,C,I);case qa:var M=C._init;return p(w,x,E,M(C._payload),I)}if(Mu(C)||cu(C))return w=w.get(E)||null,u(x,w,C,I,null);Th(x,C)}return null}function m(w,x,E,C){for(var I=null,M=null,T=x,S=x=0,N=null;T!==null&&S<E.length;S++){T.index>S?(N=T,T=null):N=T.sibling;var L=h(w,T,E[S],C);if(L===null){T===null&&(T=N);break}t&&T&&L.alternate===null&&e(w,T),x=a(L,x,S),M===null?I=L:M.sibling=L,M=L,T=N}if(S===E.length)return r(w,T),ct&&ts(w,S),I;if(T===null){for(;S<E.length;S++)T=d(w,E[S],C),T!==null&&(x=a(T,x,S),M===null?I=T:M.sibling=T,M=T);return ct&&ts(w,S),I}for(T=n(w,T);S<E.length;S++)N=p(T,w,S,E[S],C),N!==null&&(t&&N.alternate!==null&&T.delete(N.key===null?S:N.key),x=a(N,x,S),M===null?I=N:M.sibling=N,M=N);return t&&T.forEach(function(D){return e(w,D)}),ct&&ts(w,S),I}function g(w,x,E,C){var I=cu(E);if(typeof I!="function")throw Error(H(150));if(E=I.call(E),E==null)throw Error(H(151));for(var M=I=null,T=x,S=x=0,N=null,L=E.next();T!==null&&!L.done;S++,L=E.next()){T.index>S?(N=T,T=null):N=T.sibling;var D=h(w,T,L.value,C);if(D===null){T===null&&(T=N);break}t&&T&&D.alternate===null&&e(w,T),x=a(D,x,S),M===null?I=D:M.sibling=D,M=D,T=N}if(L.done)return r(w,T),ct&&ts(w,S),I;if(T===null){for(;!L.done;S++,L=E.next())L=d(w,L.value,C),L!==null&&(x=a(L,x,S),M===null?I=L:M.sibling=L,M=L);return ct&&ts(w,S),I}for(T=n(w,T);!L.done;S++,L=E.next())L=p(T,w,S,L.value,C),L!==null&&(t&&L.alternate!==null&&T.delete(L.key===null?S:L.key),x=a(L,x,S),M===null?I=L:M.sibling=L,M=L);return t&&T.forEach(function(O){return e(w,O)}),ct&&ts(w,S),I}function b(w,x,E,C){if(typeof E=="object"&&E!==null&&E.type===bl&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case mh:e:{for(var I=E.key,M=x;M!==null;){if(M.key===I){if(I=E.type,I===bl){if(M.tag===7){r(w,M.sibling),x=i(M,E.props.children),x.return=w,w=x;break e}}else if(M.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===qa&&iT(I)===M.type){r(w,M.sibling),x=i(M,E.props),x.ref=pu(w,M,E),x.return=w,w=x;break e}r(w,M);break}else e(w,M);M=M.sibling}E.type===bl?(x=bs(E.props.children,w.mode,C,E.key),x.return=w,w=x):(C=yp(E.type,E.key,E.props,null,w.mode,C),C.ref=pu(w,x,E),C.return=w,w=C)}return o(w);case wl:e:{for(M=E.key;x!==null;){if(x.key===M)if(x.tag===4&&x.stateNode.containerInfo===E.containerInfo&&x.stateNode.implementation===E.implementation){r(w,x.sibling),x=i(x,E.children||[]),x.return=w,w=x;break e}else{r(w,x);break}else e(w,x);x=x.sibling}x=Mv(E,w.mode,C),x.return=w,w=x}return o(w);case qa:return M=E._init,b(w,x,M(E._payload),C)}if(Mu(E))return m(w,x,E,C);if(cu(E))return g(w,x,E,C);Th(w,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,x!==null&&x.tag===6?(r(w,x.sibling),x=i(x,E),x.return=w,w=x):(r(w,x),x=Rv(E,w.mode,C),x.return=w,w=x),o(w)):r(w,x)}return b}var rc=qN(!0),KN=qN(!1),zp=Do(null),Wp=null,Pl=null,V_=null;function F_(){V_=Pl=Wp=null}function U_(t){var e=zp.current;st(zp),t._currentValue=e}function lw(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Bl(t,e){Wp=t,V_=Pl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Gr=!0),t.firstContext=null)}function Vn(t){var e=t._currentValue;if(V_!==t)if(t={context:t,memoizedValue:e,next:null},Pl===null){if(Wp===null)throw Error(H(308));Pl=t,Wp.dependencies={lanes:0,firstContext:t}}else Pl=Pl.next=t;return e}var ls=null;function B_(t){ls===null?ls=[t]:ls.push(t)}function HN(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,B_(e)):(r.next=i.next,i.next=r),e.interleaved=r,oa(t,n)}function oa(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ka=!1;function z_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function GN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ji(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function fo(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ne&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,oa(t,r)}return i=n.interleaved,i===null?(e.next=e,B_(n)):(e.next=i.next,i.next=e),n.interleaved=e,oa(t,r)}function dp(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,P_(t,r)}}function aT(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function qp(t,e,r,n){var i=t.updateQueue;Ka=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,o===null?a=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;o=0,u=c=l=null,s=a;do{var h=s.lane,p=s.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=t,g=s;switch(h=e,p=r,g.tag){case 1:if(m=g.payload,typeof m=="function"){d=m.call(p,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(p,d,h):m,h==null)break e;d=gt({},d,h);break e;case 2:Ka=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Os|=o,t.lanes=o,t.memoizedState=d}}function oT(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(H(191,i));i.call(n)}}}var cf={},vi=Do(cf),Sd=Do(cf),Td=Do(cf);function cs(t){if(t===cf)throw Error(H(174));return t}function W_(t,e){switch(Ze(Td,e),Ze(Sd,t),Ze(vi,cf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:B0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=B0(e,t)}st(vi),Ze(vi,e)}function nc(){st(vi),st(Sd),st(Td)}function YN(t){cs(Td.current);var e=cs(vi.current),r=B0(e,t.type);e!==r&&(Ze(Sd,t),Ze(vi,r))}function q_(t){Sd.current===t&&(st(vi),st(Sd))}var pt=Do(0);function Kp(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Pv=[];function K_(){for(var t=0;t<Pv.length;t++)Pv[t]._workInProgressVersionPrimary=null;Pv.length=0}var fp=wa.ReactCurrentDispatcher,Iv=wa.ReactCurrentBatchConfig,Cs=0,mt=null,Ut=null,tr=null,Hp=!1,ed=!1,Ad=0,lU=0;function br(){throw Error(H(321))}function H_(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ni(t[r],e[r]))return!1;return!0}function G_(t,e,r,n,i,a){if(Cs=a,mt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,fp.current=t===null||t.memoizedState===null?fU:hU,t=r(n,i),ed){a=0;do{if(ed=!1,Ad=0,25<=a)throw Error(H(301));a+=1,tr=Ut=null,e.updateQueue=null,fp.current=pU,t=r(n,i)}while(ed)}if(fp.current=Gp,e=Ut!==null&&Ut.next!==null,Cs=0,tr=Ut=mt=null,Hp=!1,e)throw Error(H(300));return t}function Y_(){var t=Ad!==0;return Ad=0,t}function fi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tr===null?mt.memoizedState=tr=t:tr=tr.next=t,tr}function Fn(){if(Ut===null){var t=mt.alternate;t=t!==null?t.memoizedState:null}else t=Ut.next;var e=tr===null?mt.memoizedState:tr.next;if(e!==null)tr=e,Ut=t;else{if(t===null)throw Error(H(310));Ut=t,t={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},tr===null?mt.memoizedState=tr=t:tr=tr.next=t}return tr}function Pd(t,e){return typeof e=="function"?e(t):e}function Cv(t){var e=Fn(),r=e.queue;if(r===null)throw Error(H(311));r.lastRenderedReducer=t;var n=Ut,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var s=o=null,l=null,c=a;do{var u=c.lane;if((Cs&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=d,o=n):l=l.next=d,mt.lanes|=u,Os|=u}c=c.next}while(c!==null&&c!==a);l===null?o=n:l.next=s,ni(n,e.memoizedState)||(Gr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,mt.lanes|=a,Os|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Ov(t){var e=Fn(),r=e.queue;if(r===null)throw Error(H(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);ni(a,e.memoizedState)||(Gr=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function QN(){}function XN(t,e){var r=mt,n=Fn(),i=e(),a=!ni(n.memoizedState,i);if(a&&(n.memoizedState=i,Gr=!0),n=n.queue,Q_(e2.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||tr!==null&&tr.memoizedState.tag&1){if(r.flags|=2048,Id(9,ZN.bind(null,r,n,i,e),void 0,null),nr===null)throw Error(H(349));Cs&30||JN(r,e,i)}return i}function JN(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=mt.updateQueue,e===null?(e={lastEffect:null,stores:null},mt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function ZN(t,e,r,n){e.value=r,e.getSnapshot=n,t2(e)&&r2(t)}function e2(t,e,r){return r(function(){t2(e)&&r2(t)})}function t2(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ni(t,r)}catch{return!0}}function r2(t){var e=oa(t,1);e!==null&&ri(e,t,1,-1)}function sT(t){var e=fi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pd,lastRenderedState:t},e.queue=t,t=t.dispatch=dU.bind(null,mt,t),[e.memoizedState,t]}function Id(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=mt.updateQueue,e===null?(e={lastEffect:null,stores:null},mt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function n2(){return Fn().memoizedState}function hp(t,e,r,n){var i=fi();mt.flags|=t,i.memoizedState=Id(1|e,r,void 0,n===void 0?null:n)}function mg(t,e,r,n){var i=Fn();n=n===void 0?null:n;var a=void 0;if(Ut!==null){var o=Ut.memoizedState;if(a=o.destroy,n!==null&&H_(n,o.deps)){i.memoizedState=Id(e,r,a,n);return}}mt.flags|=t,i.memoizedState=Id(1|e,r,a,n)}function lT(t,e){return hp(8390656,8,t,e)}function Q_(t,e){return mg(2048,8,t,e)}function i2(t,e){return mg(4,2,t,e)}function a2(t,e){return mg(4,4,t,e)}function o2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function s2(t,e,r){return r=r!=null?r.concat([t]):null,mg(4,4,o2.bind(null,e,t),r)}function X_(){}function l2(t,e){var r=Fn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&H_(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function c2(t,e){var r=Fn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&H_(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function u2(t,e,r){return Cs&21?(ni(r,e)||(r=mN(),mt.lanes|=r,Os|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Gr=!0),t.memoizedState=r)}function cU(t,e){var r=Be;Be=r!==0&&4>r?r:4,t(!0);var n=Iv.transition;Iv.transition={};try{t(!1),e()}finally{Be=r,Iv.transition=n}}function d2(){return Fn().memoizedState}function uU(t,e,r){var n=po(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},f2(t))h2(e,r);else if(r=HN(t,e,r,n),r!==null){var i=$r();ri(r,t,n,i),p2(r,e,n)}}function dU(t,e,r){var n=po(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(f2(t))h2(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,r);if(i.hasEagerState=!0,i.eagerState=s,ni(s,o)){var l=e.interleaved;l===null?(i.next=i,B_(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=HN(t,e,i,n),r!==null&&(i=$r(),ri(r,t,n,i),p2(r,e,n))}}function f2(t){var e=t.alternate;return t===mt||e!==null&&e===mt}function h2(t,e){ed=Hp=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function p2(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,P_(t,r)}}var Gp={readContext:Vn,useCallback:br,useContext:br,useEffect:br,useImperativeHandle:br,useInsertionEffect:br,useLayoutEffect:br,useMemo:br,useReducer:br,useRef:br,useState:br,useDebugValue:br,useDeferredValue:br,useTransition:br,useMutableSource:br,useSyncExternalStore:br,useId:br,unstable_isNewReconciler:!1},fU={readContext:Vn,useCallback:function(t,e){return fi().memoizedState=[t,e===void 0?null:e],t},useContext:Vn,useEffect:lT,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,hp(4194308,4,o2.bind(null,e,t),r)},useLayoutEffect:function(t,e){return hp(4194308,4,t,e)},useInsertionEffect:function(t,e){return hp(4,2,t,e)},useMemo:function(t,e){var r=fi();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=fi();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=uU.bind(null,mt,t),[n.memoizedState,t]},useRef:function(t){var e=fi();return t={current:t},e.memoizedState=t},useState:sT,useDebugValue:X_,useDeferredValue:function(t){return fi().memoizedState=t},useTransition:function(){var t=sT(!1),e=t[0];return t=cU.bind(null,t[1]),fi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=mt,i=fi();if(ct){if(r===void 0)throw Error(H(407));r=r()}else{if(r=e(),nr===null)throw Error(H(349));Cs&30||JN(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,lT(e2.bind(null,n,a,t),[t]),n.flags|=2048,Id(9,ZN.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=fi(),e=nr.identifierPrefix;if(ct){var r=Ki,n=qi;r=(n&~(1<<32-ti(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Ad++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=lU++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},hU={readContext:Vn,useCallback:l2,useContext:Vn,useEffect:Q_,useImperativeHandle:s2,useInsertionEffect:i2,useLayoutEffect:a2,useMemo:c2,useReducer:Cv,useRef:n2,useState:function(){return Cv(Pd)},useDebugValue:X_,useDeferredValue:function(t){var e=Fn();return u2(e,Ut.memoizedState,t)},useTransition:function(){var t=Cv(Pd)[0],e=Fn().memoizedState;return[t,e]},useMutableSource:QN,useSyncExternalStore:XN,useId:d2,unstable_isNewReconciler:!1},pU={readContext:Vn,useCallback:l2,useContext:Vn,useEffect:Q_,useImperativeHandle:s2,useInsertionEffect:i2,useLayoutEffect:a2,useMemo:c2,useReducer:Ov,useRef:n2,useState:function(){return Ov(Pd)},useDebugValue:X_,useDeferredValue:function(t){var e=Fn();return Ut===null?e.memoizedState=t:u2(e,Ut.memoizedState,t)},useTransition:function(){var t=Ov(Pd)[0],e=Fn().memoizedState;return[t,e]},useMutableSource:QN,useSyncExternalStore:XN,useId:d2,unstable_isNewReconciler:!1};function Gn(t,e){if(t&&t.defaultProps){e=gt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function cw(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:gt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var gg={isMounted:function(t){return(t=t._reactInternals)?qs(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=$r(),i=po(t),a=Ji(n,i);a.payload=e,r!=null&&(a.callback=r),e=fo(t,a,i),e!==null&&(ri(e,t,i,n),dp(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=$r(),i=po(t),a=Ji(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=fo(t,a,i),e!==null&&(ri(e,t,i,n),dp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=$r(),n=po(t),i=Ji(r,n);i.tag=2,e!=null&&(i.callback=e),e=fo(t,i,n),e!==null&&(ri(e,t,n,r),dp(e,t,n))}};function cT(t,e,r,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!_d(r,n)||!_d(i,a):!0}function m2(t,e,r){var n=!1,i=Eo,a=e.contextType;return typeof a=="object"&&a!==null?a=Vn(a):(i=Xr(e)?Ps:Cr.current,n=e.contextTypes,a=(n=n!=null)?ec(t,i):Eo),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=gg,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function uT(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&gg.enqueueReplaceState(e,e.state,null)}function uw(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},z_(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Vn(a):(a=Xr(e)?Ps:Cr.current,i.context=ec(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(cw(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&gg.enqueueReplaceState(i,i.state,null),qp(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ic(t,e){try{var r="",n=e;do r+=B6(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function Nv(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function dw(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var mU=typeof WeakMap=="function"?WeakMap:Map;function g2(t,e,r){r=Ji(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Qp||(Qp=!0,_w=n),dw(t,e)},r}function y2(t,e,r){r=Ji(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){dw(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){dw(t,e),typeof n!="function"&&(ho===null?ho=new Set([this]):ho.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function dT(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new mU;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=IU.bind(null,t,e,r),e.then(t,t))}function fT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function hT(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Ji(-1,1),e.tag=2,fo(r,e,1))),r.lanes|=1),t)}var gU=wa.ReactCurrentOwner,Gr=!1;function Mr(t,e,r,n){e.child=t===null?KN(e,null,r,n):rc(e,t.child,r,n)}function pT(t,e,r,n,i){r=r.render;var a=e.ref;return Bl(e,i),n=G_(t,e,r,n,a,i),r=Y_(),t!==null&&!Gr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,sa(t,e,i)):(ct&&r&&L_(e),e.flags|=1,Mr(t,e,n,i),e.child)}function mT(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!a1(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,v2(t,e,a,n,i)):(t=yp(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:_d,r(o,n)&&t.ref===e.ref)return sa(t,e,i)}return e.flags|=1,t=mo(a,n),t.ref=e.ref,t.return=e,e.child=t}function v2(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(_d(a,n)&&t.ref===e.ref)if(Gr=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(Gr=!0);else return e.lanes=t.lanes,sa(t,e,i)}return fw(t,e,r,n,i)}function w2(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(Cl,an),an|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ze(Cl,an),an|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Ze(Cl,an),an|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,Ze(Cl,an),an|=n;return Mr(t,e,i,r),e.child}function b2(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function fw(t,e,r,n,i){var a=Xr(r)?Ps:Cr.current;return a=ec(e,a),Bl(e,i),r=G_(t,e,r,n,a,i),n=Y_(),t!==null&&!Gr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,sa(t,e,i)):(ct&&n&&L_(e),e.flags|=1,Mr(t,e,r,i),e.child)}function gT(t,e,r,n,i){if(Xr(r)){var a=!0;Fp(e)}else a=!1;if(Bl(e,i),e.stateNode===null)pp(t,e),m2(e,r,n),uw(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=Vn(c):(c=Xr(r)?Ps:Cr.current,c=ec(e,c));var u=r.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||l!==c)&&uT(e,o,n,c),Ka=!1;var h=e.memoizedState;o.state=h,qp(e,n,o,i),l=e.memoizedState,s!==n||h!==l||Qr.current||Ka?(typeof u=="function"&&(cw(e,r,u,n),l=e.memoizedState),(s=Ka||cT(e,r,s,n,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=c,n=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,GN(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:Gn(e.type,s),o.props=c,d=e.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Vn(l):(l=Xr(r)?Ps:Cr.current,l=ec(e,l));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==d||h!==l)&&uT(e,o,n,l),Ka=!1,h=e.memoizedState,o.state=h,qp(e,n,o,i);var m=e.memoizedState;s!==d||h!==m||Qr.current||Ka?(typeof p=="function"&&(cw(e,r,p,n),m=e.memoizedState),(c=Ka||cT(e,r,c,n,h,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),o.props=n,o.state=m,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return hw(t,e,r,n,a,i)}function hw(t,e,r,n,i,a){b2(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&tT(e,r,!1),sa(t,e,a);n=e.stateNode,gU.current=e;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=rc(e,t.child,null,a),e.child=rc(e,null,s,a)):Mr(t,e,s,a),e.memoizedState=n.state,i&&tT(e,r,!0),e.child}function _2(t){var e=t.stateNode;e.pendingContext?eT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&eT(t,e.context,!1),W_(t,e.containerInfo)}function yT(t,e,r,n,i){return tc(),$_(i),e.flags|=256,Mr(t,e,r,n),e.child}var pw={dehydrated:null,treeContext:null,retryLane:0};function mw(t){return{baseLanes:t,cachePool:null,transitions:null}}function x2(t,e,r){var n=e.pendingProps,i=pt.current,a=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ze(pt,i&1),t===null)return sw(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,a?(n=e.mode,a=e.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=wg(o,n,0,null),t=bs(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=mw(r),e.memoizedState=pw,t):J_(e,o));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return yU(t,e,o,n,s,i,r);if(a){a=n.fallback,o=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=mo(i,l),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=mo(s,a):(a=bs(a,o,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o=o===null?mw(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~r,e.memoizedState=pw,n}return a=t.child,t=a.sibling,n=mo(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function J_(t,e){return e=wg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ah(t,e,r,n){return n!==null&&$_(n),rc(e,t.child,null,r),t=J_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function yU(t,e,r,n,i,a,o){if(r)return e.flags&256?(e.flags&=-257,n=Nv(Error(H(422))),Ah(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=wg({mode:"visible",children:n.children},i,0,null),a=bs(a,i,o,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&rc(e,t.child,null,o),e.child.memoizedState=mw(o),e.memoizedState=pw,a);if(!(e.mode&1))return Ah(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,a=Error(H(419)),n=Nv(a,n,void 0),Ah(t,e,o,n)}if(s=(o&t.childLanes)!==0,Gr||s){if(n=nr,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,oa(t,i),ri(n,t,i,-1))}return i1(),n=Nv(Error(H(421))),Ah(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=CU.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,un=uo(i.nextSibling),hn=e,ct=!0,Qn=null,t!==null&&(Nn[Dn++]=qi,Nn[Dn++]=Ki,Nn[Dn++]=Is,qi=t.id,Ki=t.overflow,Is=e),e=J_(e,n.children),e.flags|=4096,e)}function vT(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),lw(t.return,e,r)}function Dv(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function E2(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(Mr(t,e,n.children,r),n=pt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vT(t,r,e);else if(t.tag===19)vT(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ze(pt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Kp(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Dv(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Kp(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Dv(e,!0,r,null,a);break;case"together":Dv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function pp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function sa(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Os|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,r=mo(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=mo(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function vU(t,e,r){switch(e.tag){case 3:_2(e),tc();break;case 5:YN(e);break;case 1:Xr(e.type)&&Fp(e);break;case 4:W_(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Ze(zp,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Ze(pt,pt.current&1),e.flags|=128,null):r&e.child.childLanes?x2(t,e,r):(Ze(pt,pt.current&1),t=sa(t,e,r),t!==null?t.sibling:null);Ze(pt,pt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return E2(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ze(pt,pt.current),n)break;return null;case 22:case 23:return e.lanes=0,w2(t,e,r)}return sa(t,e,r)}var k2,gw,S2,T2;k2=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};gw=function(){};S2=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,cs(vi.current);var a=null;switch(r){case"input":i=$0(t,i),n=$0(t,n),a=[];break;case"select":i=gt({},i,{value:void 0}),n=gt({},n,{value:void 0}),a=[];break;case"textarea":i=U0(t,i),n=U0(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=$p)}z0(r,n);var o;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(pd.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in n){var l=n[c];if(s=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(a||(a=[]),a.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(pd.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&nt("scroll",t),a||s===l||(a=[])):(a=a||[]).push(c,l))}r&&(a=a||[]).push("style",r);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};T2=function(t,e,r,n){r!==n&&(e.flags|=4)};function mu(t,e){if(!ct)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function _r(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function wU(t,e,r){var n=e.pendingProps;switch(j_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _r(e),null;case 1:return Xr(e.type)&&Vp(),_r(e),null;case 3:return n=e.stateNode,nc(),st(Qr),st(Cr),K_(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Sh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qn!==null&&(kw(Qn),Qn=null))),gw(t,e),_r(e),null;case 5:q_(e);var i=cs(Td.current);if(r=e.type,t!==null&&e.stateNode!=null)S2(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(H(166));return _r(e),null}if(t=cs(vi.current),Sh(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[hi]=e,n[kd]=a,t=(e.mode&1)!==0,r){case"dialog":nt("cancel",n),nt("close",n);break;case"iframe":case"object":case"embed":nt("load",n);break;case"video":case"audio":for(i=0;i<ju.length;i++)nt(ju[i],n);break;case"source":nt("error",n);break;case"img":case"image":case"link":nt("error",n),nt("load",n);break;case"details":nt("toggle",n);break;case"input":AS(n,a),nt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},nt("invalid",n);break;case"textarea":IS(n,a),nt("invalid",n)}z0(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?n.textContent!==s&&(a.suppressHydrationWarning!==!0&&kh(n.textContent,s,t),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&kh(n.textContent,s,t),i=["children",""+s]):pd.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&nt("scroll",n)}switch(r){case"input":gh(n),PS(n,a,!0);break;case"textarea":gh(n),CS(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=$p)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=eN(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[hi]=e,t[kd]=n,k2(t,e,!1,!1),e.stateNode=t;e:{switch(o=W0(r,n),r){case"dialog":nt("cancel",t),nt("close",t),i=n;break;case"iframe":case"object":case"embed":nt("load",t),i=n;break;case"video":case"audio":for(i=0;i<ju.length;i++)nt(ju[i],t);i=n;break;case"source":nt("error",t),i=n;break;case"img":case"image":case"link":nt("error",t),nt("load",t),i=n;break;case"details":nt("toggle",t),i=n;break;case"input":AS(t,n),i=$0(t,n),nt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=gt({},n,{value:void 0}),nt("invalid",t);break;case"textarea":IS(t,n),i=U0(t,n),nt("invalid",t);break;default:i=n}z0(r,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?nN(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&tN(t,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&md(t,l):typeof l=="number"&&md(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(pd.hasOwnProperty(a)?l!=null&&a==="onScroll"&&nt("scroll",t):l!=null&&x_(t,a,l,o))}switch(r){case"input":gh(t),PS(t,n,!1);break;case"textarea":gh(t),CS(t);break;case"option":n.value!=null&&t.setAttribute("value",""+xo(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?$l(t,!!n.multiple,a,!1):n.defaultValue!=null&&$l(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=$p)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _r(e),null;case 6:if(t&&e.stateNode!=null)T2(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(H(166));if(r=cs(Td.current),cs(vi.current),Sh(e)){if(n=e.stateNode,r=e.memoizedProps,n[hi]=e,(a=n.nodeValue!==r)&&(t=hn,t!==null))switch(t.tag){case 3:kh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&kh(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[hi]=e,e.stateNode=n}return _r(e),null;case 13:if(st(pt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ct&&un!==null&&e.mode&1&&!(e.flags&128))WN(),tc(),e.flags|=98560,a=!1;else if(a=Sh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(H(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(H(317));a[hi]=e}else tc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_r(e),a=!1}else Qn!==null&&(kw(Qn),Qn=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||pt.current&1?Bt===0&&(Bt=3):i1())),e.updateQueue!==null&&(e.flags|=4),_r(e),null);case 4:return nc(),gw(t,e),t===null&&xd(e.stateNode.containerInfo),_r(e),null;case 10:return U_(e.type._context),_r(e),null;case 17:return Xr(e.type)&&Vp(),_r(e),null;case 19:if(st(pt),a=e.memoizedState,a===null)return _r(e),null;if(n=(e.flags&128)!==0,o=a.rendering,o===null)if(n)mu(a,!1);else{if(Bt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Kp(t),o!==null){for(e.flags|=128,mu(a,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ze(pt,pt.current&1|2),e.child}t=t.sibling}a.tail!==null&&It()>ac&&(e.flags|=128,n=!0,mu(a,!1),e.lanes=4194304)}else{if(!n)if(t=Kp(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),mu(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!ct)return _r(e),null}else 2*It()-a.renderingStartTime>ac&&r!==1073741824&&(e.flags|=128,n=!0,mu(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(r=a.last,r!==null?r.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=It(),e.sibling=null,r=pt.current,Ze(pt,n?r&1|2:r&1),e):(_r(e),null);case 22:case 23:return n1(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?an&1073741824&&(_r(e),e.subtreeFlags&6&&(e.flags|=8192)):_r(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function bU(t,e){switch(j_(e),e.tag){case 1:return Xr(e.type)&&Vp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return nc(),st(Qr),st(Cr),K_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return q_(e),null;case 13:if(st(pt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));tc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return st(pt),null;case 4:return nc(),null;case 10:return U_(e.type._context),null;case 22:case 23:return n1(),null;case 24:return null;default:return null}}var Ph=!1,Tr=!1,_U=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Il(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){_t(t,e,n)}else r.current=null}function yw(t,e,r){try{r()}catch(n){_t(t,e,n)}}var wT=!1;function xU(t,e){if(ew=Mp,t=ON(),M_(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,s=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var p;d!==r||i!==0&&d.nodeType!==3||(s=o+i),d!==a||n!==0&&d.nodeType!==3||(l=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===r&&++c===i&&(s=o),h===a&&++u===n&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(tw={focusedElem:t,selectionRange:r},Mp=!1,ne=e;ne!==null;)if(e=ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ne=t;else for(;ne!==null;){e=ne;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,b=m.memoizedState,w=e.stateNode,x=w.getSnapshotBeforeUpdate(e.elementType===e.type?g:Gn(e.type,g),b);w.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(C){_t(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,ne=t;break}ne=e.return}return m=wT,wT=!1,m}function td(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&yw(e,r,a)}i=i.next}while(i!==n)}}function yg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function vw(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function A2(t){var e=t.alternate;e!==null&&(t.alternate=null,A2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[hi],delete e[kd],delete e[iw],delete e[iU],delete e[aU])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function P2(t){return t.tag===5||t.tag===3||t.tag===4}function bT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||P2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ww(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=$p));else if(n!==4&&(t=t.child,t!==null))for(ww(t,e,r),t=t.sibling;t!==null;)ww(t,e,r),t=t.sibling}function bw(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(bw(t,e,r),t=t.sibling;t!==null;)bw(t,e,r),t=t.sibling}var ur=null,Yn=!1;function ja(t,e,r){for(r=r.child;r!==null;)I2(t,e,r),r=r.sibling}function I2(t,e,r){if(yi&&typeof yi.onCommitFiberUnmount=="function")try{yi.onCommitFiberUnmount(cg,r)}catch{}switch(r.tag){case 5:Tr||Il(r,e);case 6:var n=ur,i=Yn;ur=null,ja(t,e,r),ur=n,Yn=i,ur!==null&&(Yn?(t=ur,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ur.removeChild(r.stateNode));break;case 18:ur!==null&&(Yn?(t=ur,r=r.stateNode,t.nodeType===8?Tv(t.parentNode,r):t.nodeType===1&&Tv(t,r),wd(t)):Tv(ur,r.stateNode));break;case 4:n=ur,i=Yn,ur=r.stateNode.containerInfo,Yn=!0,ja(t,e,r),ur=n,Yn=i;break;case 0:case 11:case 14:case 15:if(!Tr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&yw(r,e,o),i=i.next}while(i!==n)}ja(t,e,r);break;case 1:if(!Tr&&(Il(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){_t(r,e,s)}ja(t,e,r);break;case 21:ja(t,e,r);break;case 22:r.mode&1?(Tr=(n=Tr)||r.memoizedState!==null,ja(t,e,r),Tr=n):ja(t,e,r);break;default:ja(t,e,r)}}function _T(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new _U),e.forEach(function(n){var i=OU.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Kn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:ur=s.stateNode,Yn=!1;break e;case 3:ur=s.stateNode.containerInfo,Yn=!0;break e;case 4:ur=s.stateNode.containerInfo,Yn=!0;break e}s=s.return}if(ur===null)throw Error(H(160));I2(a,o,i),ur=null,Yn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){_t(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)C2(e,t),e=e.sibling}function C2(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Kn(e,t),ci(t),n&4){try{td(3,t,t.return),yg(3,t)}catch(g){_t(t,t.return,g)}try{td(5,t,t.return)}catch(g){_t(t,t.return,g)}}break;case 1:Kn(e,t),ci(t),n&512&&r!==null&&Il(r,r.return);break;case 5:if(Kn(e,t),ci(t),n&512&&r!==null&&Il(r,r.return),t.flags&32){var i=t.stateNode;try{md(i,"")}catch(g){_t(t,t.return,g)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=r!==null?r.memoizedProps:a,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&JO(i,a),W0(s,o);var c=W0(s,a);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?nN(i,d):u==="dangerouslySetInnerHTML"?tN(i,d):u==="children"?md(i,d):x_(i,u,d,c)}switch(s){case"input":V0(i,a);break;case"textarea":ZO(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?$l(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?$l(i,!!a.multiple,a.defaultValue,!0):$l(i,!!a.multiple,a.multiple?[]:"",!1))}i[kd]=a}catch(g){_t(t,t.return,g)}}break;case 6:if(Kn(e,t),ci(t),n&4){if(t.stateNode===null)throw Error(H(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(g){_t(t,t.return,g)}}break;case 3:if(Kn(e,t),ci(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{wd(e.containerInfo)}catch(g){_t(t,t.return,g)}break;case 4:Kn(e,t),ci(t);break;case 13:Kn(e,t),ci(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(t1=It())),n&4&&_T(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(Tr=(c=Tr)||u,Kn(e,t),Tr=c):Kn(e,t),ci(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(ne=t,u=t.child;u!==null;){for(d=ne=u;ne!==null;){switch(h=ne,p=h.child,h.tag){case 0:case 11:case 14:case 15:td(4,h,h.return);break;case 1:Il(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){_t(n,r,g)}}break;case 5:Il(h,h.return);break;case 22:if(h.memoizedState!==null){ET(d);continue}}p!==null?(p.return=h,ne=p):ET(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=rN("display",o))}catch(g){_t(t,t.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){_t(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Kn(e,t),ci(t),n&4&&_T(t);break;case 21:break;default:Kn(e,t),ci(t)}}function ci(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(P2(r)){var n=r;break e}r=r.return}throw Error(H(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(md(i,""),n.flags&=-33);var a=bT(t);bw(t,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,s=bT(t);ww(t,s,o);break;default:throw Error(H(161))}}catch(l){_t(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function EU(t,e,r){ne=t,O2(t)}function O2(t,e,r){for(var n=(t.mode&1)!==0;ne!==null;){var i=ne,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Ph;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Tr;s=Ph;var c=Tr;if(Ph=o,(Tr=l)&&!c)for(ne=i;ne!==null;)o=ne,l=o.child,o.tag===22&&o.memoizedState!==null?kT(i):l!==null?(l.return=o,ne=l):kT(i);for(;a!==null;)ne=a,O2(a),a=a.sibling;ne=i,Ph=s,Tr=c}xT(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,ne=a):xT(t)}}function xT(t){for(;ne!==null;){var e=ne;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Tr||yg(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Tr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Gn(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&oT(e,a,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}oT(e,o,r)}break;case 5:var s=e.stateNode;if(r===null&&e.flags&4){r=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&wd(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Tr||e.flags&512&&vw(e)}catch(h){_t(e,e.return,h)}}if(e===t){ne=null;break}if(r=e.sibling,r!==null){r.return=e.return,ne=r;break}ne=e.return}}function ET(t){for(;ne!==null;){var e=ne;if(e===t){ne=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ne=r;break}ne=e.return}}function kT(t){for(;ne!==null;){var e=ne;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{yg(4,e)}catch(l){_t(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){_t(e,i,l)}}var a=e.return;try{vw(e)}catch(l){_t(e,a,l)}break;case 5:var o=e.return;try{vw(e)}catch(l){_t(e,o,l)}}}catch(l){_t(e,e.return,l)}if(e===t){ne=null;break}var s=e.sibling;if(s!==null){s.return=e.return,ne=s;break}ne=e.return}}var kU=Math.ceil,Yp=wa.ReactCurrentDispatcher,Z_=wa.ReactCurrentOwner,jn=wa.ReactCurrentBatchConfig,Ne=0,nr=null,Lt=null,pr=0,an=0,Cl=Do(0),Bt=0,Cd=null,Os=0,vg=0,e1=0,rd=null,Kr=null,t1=0,ac=1/0,$i=null,Qp=!1,_w=null,ho=null,Ih=!1,io=null,Xp=0,nd=0,xw=null,mp=-1,gp=0;function $r(){return Ne&6?It():mp!==-1?mp:mp=It()}function po(t){return t.mode&1?Ne&2&&pr!==0?pr&-pr:sU.transition!==null?(gp===0&&(gp=mN()),gp):(t=Be,t!==0||(t=window.event,t=t===void 0?16:xN(t.type)),t):1}function ri(t,e,r,n){if(50<nd)throw nd=0,xw=null,Error(H(185));of(t,r,n),(!(Ne&2)||t!==nr)&&(t===nr&&(!(Ne&2)&&(vg|=r),Bt===4&&Ya(t,pr)),Jr(t,n),r===1&&Ne===0&&!(e.mode&1)&&(ac=It()+500,pg&&Ro()))}function Jr(t,e){var r=t.callbackNode;sF(t,e);var n=Rp(t,t===nr?pr:0);if(n===0)r!==null&&DS(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&DS(r),e===1)t.tag===0?oU(ST.bind(null,t)):UN(ST.bind(null,t)),rU(function(){!(Ne&6)&&Ro()}),r=null;else{switch(gN(n)){case 1:r=A_;break;case 4:r=hN;break;case 16:r=Dp;break;case 536870912:r=pN;break;default:r=Dp}r=V2(r,N2.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function N2(t,e){if(mp=-1,gp=0,Ne&6)throw Error(H(327));var r=t.callbackNode;if(zl()&&t.callbackNode!==r)return null;var n=Rp(t,t===nr?pr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Jp(t,n);else{e=n;var i=Ne;Ne|=2;var a=R2();(nr!==t||pr!==e)&&($i=null,ac=It()+500,ws(t,e));do try{AU();break}catch(s){D2(t,s)}while(1);F_(),Yp.current=a,Ne=i,Lt!==null?e=0:(nr=null,pr=0,e=Bt)}if(e!==0){if(e===2&&(i=Y0(t),i!==0&&(n=i,e=Ew(t,i))),e===1)throw r=Cd,ws(t,0),Ya(t,n),Jr(t,It()),r;if(e===6)Ya(t,n);else{if(i=t.current.alternate,!(n&30)&&!SU(i)&&(e=Jp(t,n),e===2&&(a=Y0(t),a!==0&&(n=a,e=Ew(t,a))),e===1))throw r=Cd,ws(t,0),Ya(t,n),Jr(t,It()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(H(345));case 2:rs(t,Kr,$i);break;case 3:if(Ya(t,n),(n&130023424)===n&&(e=t1+500-It(),10<e)){if(Rp(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){$r(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=nw(rs.bind(null,t,Kr,$i),e);break}rs(t,Kr,$i);break;case 4:if(Ya(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-ti(n);a=1<<o,o=e[o],o>i&&(i=o),n&=~a}if(n=i,n=It()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*kU(n/1960))-n,10<n){t.timeoutHandle=nw(rs.bind(null,t,Kr,$i),n);break}rs(t,Kr,$i);break;case 5:rs(t,Kr,$i);break;default:throw Error(H(329))}}}return Jr(t,It()),t.callbackNode===r?N2.bind(null,t):null}function Ew(t,e){var r=rd;return t.current.memoizedState.isDehydrated&&(ws(t,e).flags|=256),t=Jp(t,e),t!==2&&(e=Kr,Kr=r,e!==null&&kw(e)),t}function kw(t){Kr===null?Kr=t:Kr.push.apply(Kr,t)}function SU(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!ni(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ya(t,e){for(e&=~e1,e&=~vg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ti(e),n=1<<r;t[r]=-1,e&=~n}}function ST(t){if(Ne&6)throw Error(H(327));zl();var e=Rp(t,0);if(!(e&1))return Jr(t,It()),null;var r=Jp(t,e);if(t.tag!==0&&r===2){var n=Y0(t);n!==0&&(e=n,r=Ew(t,n))}if(r===1)throw r=Cd,ws(t,0),Ya(t,e),Jr(t,It()),r;if(r===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,rs(t,Kr,$i),Jr(t,It()),null}function r1(t,e){var r=Ne;Ne|=1;try{return t(e)}finally{Ne=r,Ne===0&&(ac=It()+500,pg&&Ro())}}function Ns(t){io!==null&&io.tag===0&&!(Ne&6)&&zl();var e=Ne;Ne|=1;var r=jn.transition,n=Be;try{if(jn.transition=null,Be=1,t)return t()}finally{Be=n,jn.transition=r,Ne=e,!(Ne&6)&&Ro()}}function n1(){an=Cl.current,st(Cl)}function ws(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,tU(r)),Lt!==null)for(r=Lt.return;r!==null;){var n=r;switch(j_(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Vp();break;case 3:nc(),st(Qr),st(Cr),K_();break;case 5:q_(n);break;case 4:nc();break;case 13:st(pt);break;case 19:st(pt);break;case 10:U_(n.type._context);break;case 22:case 23:n1()}r=r.return}if(nr=t,Lt=t=mo(t.current,null),pr=an=e,Bt=0,Cd=null,e1=vg=Os=0,Kr=rd=null,ls!==null){for(e=0;e<ls.length;e++)if(r=ls[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}ls=null}return t}function D2(t,e){do{var r=Lt;try{if(F_(),fp.current=Gp,Hp){for(var n=mt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Hp=!1}if(Cs=0,tr=Ut=mt=null,ed=!1,Ad=0,Z_.current=null,r===null||r.return===null){Bt=1,Cd=e,Lt=null;break}e:{var a=t,o=r.return,s=r,l=e;if(e=pr,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=s,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=fT(o);if(p!==null){p.flags&=-257,hT(p,o,s,a,e),p.mode&1&&dT(a,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){dT(a,c,e),i1();break e}l=Error(H(426))}}else if(ct&&s.mode&1){var b=fT(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),hT(b,o,s,a,e),$_(ic(l,s));break e}}a=l=ic(l,s),Bt!==4&&(Bt=2),rd===null?rd=[a]:rd.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var w=g2(a,l,e);aT(a,w);break e;case 1:s=l;var x=a.type,E=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(ho===null||!ho.has(E)))){a.flags|=65536,e&=-e,a.lanes|=e;var C=y2(a,s,e);aT(a,C);break e}}a=a.return}while(a!==null)}L2(r)}catch(I){e=I,Lt===r&&r!==null&&(Lt=r=r.return);continue}break}while(1)}function R2(){var t=Yp.current;return Yp.current=Gp,t===null?Gp:t}function i1(){(Bt===0||Bt===3||Bt===2)&&(Bt=4),nr===null||!(Os&268435455)&&!(vg&268435455)||Ya(nr,pr)}function Jp(t,e){var r=Ne;Ne|=2;var n=R2();(nr!==t||pr!==e)&&($i=null,ws(t,e));do try{TU();break}catch(i){D2(t,i)}while(1);if(F_(),Ne=r,Yp.current=n,Lt!==null)throw Error(H(261));return nr=null,pr=0,Bt}function TU(){for(;Lt!==null;)M2(Lt)}function AU(){for(;Lt!==null&&!J6();)M2(Lt)}function M2(t){var e=$2(t.alternate,t,an);t.memoizedProps=t.pendingProps,e===null?L2(t):Lt=e,Z_.current=null}function L2(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=bU(r,e),r!==null){r.flags&=32767,Lt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Bt=6,Lt=null;return}}else if(r=wU(r,e,an),r!==null){Lt=r;return}if(e=e.sibling,e!==null){Lt=e;return}Lt=e=t}while(e!==null);Bt===0&&(Bt=5)}function rs(t,e,r){var n=Be,i=jn.transition;try{jn.transition=null,Be=1,PU(t,e,r,n)}finally{jn.transition=i,Be=n}return null}function PU(t,e,r,n){do zl();while(io!==null);if(Ne&6)throw Error(H(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(lF(t,a),t===nr&&(Lt=nr=null,pr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ih||(Ih=!0,V2(Dp,function(){return zl(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=jn.transition,jn.transition=null;var o=Be;Be=1;var s=Ne;Ne|=4,Z_.current=null,xU(t,r),C2(r,t),GF(tw),Mp=!!ew,tw=ew=null,t.current=r,EU(r),Z6(),Ne=s,Be=o,jn.transition=a}else t.current=r;if(Ih&&(Ih=!1,io=t,Xp=i),a=t.pendingLanes,a===0&&(ho=null),rF(r.stateNode),Jr(t,It()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Qp)throw Qp=!1,t=_w,_w=null,t;return Xp&1&&t.tag!==0&&zl(),a=t.pendingLanes,a&1?t===xw?nd++:(nd=0,xw=t):nd=0,Ro(),null}function zl(){if(io!==null){var t=gN(Xp),e=jn.transition,r=Be;try{if(jn.transition=null,Be=16>t?16:t,io===null)var n=!1;else{if(t=io,io=null,Xp=0,Ne&6)throw Error(H(331));var i=Ne;for(Ne|=4,ne=t.current;ne!==null;){var a=ne,o=a.child;if(ne.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(ne=c;ne!==null;){var u=ne;switch(u.tag){case 0:case 11:case 15:td(8,u,a)}var d=u.child;if(d!==null)d.return=u,ne=d;else for(;ne!==null;){u=ne;var h=u.sibling,p=u.return;if(A2(u),u===c){ne=null;break}if(h!==null){h.return=p,ne=h;break}ne=p}}}var m=a.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}ne=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,ne=o;else e:for(;ne!==null;){if(a=ne,a.flags&2048)switch(a.tag){case 0:case 11:case 15:td(9,a,a.return)}var w=a.sibling;if(w!==null){w.return=a.return,ne=w;break e}ne=a.return}}var x=t.current;for(ne=x;ne!==null;){o=ne;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,ne=E;else e:for(o=x;ne!==null;){if(s=ne,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:yg(9,s)}}catch(I){_t(s,s.return,I)}if(s===o){ne=null;break e}var C=s.sibling;if(C!==null){C.return=s.return,ne=C;break e}ne=s.return}}if(Ne=i,Ro(),yi&&typeof yi.onPostCommitFiberRoot=="function")try{yi.onPostCommitFiberRoot(cg,t)}catch{}n=!0}return n}finally{Be=r,jn.transition=e}}return!1}function TT(t,e,r){e=ic(r,e),e=g2(t,e,1),t=fo(t,e,1),e=$r(),t!==null&&(of(t,1,e),Jr(t,e))}function _t(t,e,r){if(t.tag===3)TT(t,t,r);else for(;e!==null;){if(e.tag===3){TT(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ho===null||!ho.has(n))){t=ic(r,t),t=y2(e,t,1),e=fo(e,t,1),t=$r(),e!==null&&(of(e,1,t),Jr(e,t));break}}e=e.return}}function IU(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=$r(),t.pingedLanes|=t.suspendedLanes&r,nr===t&&(pr&r)===r&&(Bt===4||Bt===3&&(pr&130023424)===pr&&500>It()-t1?ws(t,0):e1|=r),Jr(t,e)}function j2(t,e){e===0&&(t.mode&1?(e=wh,wh<<=1,!(wh&130023424)&&(wh=4194304)):e=1);var r=$r();t=oa(t,e),t!==null&&(of(t,e,r),Jr(t,r))}function CU(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),j2(t,r)}function OU(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(H(314))}n!==null&&n.delete(e),j2(t,r)}var $2;$2=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Qr.current)Gr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Gr=!1,vU(t,e,r);Gr=!!(t.flags&131072)}else Gr=!1,ct&&e.flags&1048576&&BN(e,Bp,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;pp(t,e),t=e.pendingProps;var i=ec(e,Cr.current);Bl(e,r),i=G_(null,e,n,t,i,r);var a=Y_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Xr(n)?(a=!0,Fp(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,z_(e),i.updater=gg,e.stateNode=i,i._reactInternals=e,uw(e,n,t,r),e=hw(null,e,n,!0,a,r)):(e.tag=0,ct&&a&&L_(e),Mr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(pp(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=DU(n),t=Gn(n,t),i){case 0:e=fw(null,e,n,t,r);break e;case 1:e=gT(null,e,n,t,r);break e;case 11:e=pT(null,e,n,t,r);break e;case 14:e=mT(null,e,n,Gn(n.type,t),r);break e}throw Error(H(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Gn(n,i),fw(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Gn(n,i),gT(t,e,n,i,r);case 3:e:{if(_2(e),t===null)throw Error(H(387));n=e.pendingProps,a=e.memoizedState,i=a.element,GN(t,e),qp(e,n,null,r);var o=e.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=ic(Error(H(423)),e),e=yT(t,e,n,r,i);break e}else if(n!==i){i=ic(Error(H(424)),e),e=yT(t,e,n,r,i);break e}else for(un=uo(e.stateNode.containerInfo.firstChild),hn=e,ct=!0,Qn=null,r=KN(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(tc(),n===i){e=sa(t,e,r);break e}Mr(t,e,n,r)}e=e.child}return e;case 5:return YN(e),t===null&&sw(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,rw(n,i)?o=null:a!==null&&rw(n,a)&&(e.flags|=32),b2(t,e),Mr(t,e,o,r),e.child;case 6:return t===null&&sw(e),null;case 13:return x2(t,e,r);case 4:return W_(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=rc(e,null,n,r):Mr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Gn(n,i),pT(t,e,n,i,r);case 7:return Mr(t,e,e.pendingProps,r),e.child;case 8:return Mr(t,e,e.pendingProps.children,r),e.child;case 12:return Mr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,Ze(zp,n._currentValue),n._currentValue=o,a!==null)if(ni(a.value,o)){if(a.children===i.children&&!Qr.current){e=sa(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=Ji(-1,r&-r),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),lw(a.return,r,e),s.lanes|=r;break}l=l.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(H(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),lw(o,r,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Mr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Bl(e,r),i=Vn(i),n=n(i),e.flags|=1,Mr(t,e,n,r),e.child;case 14:return n=e.type,i=Gn(n,e.pendingProps),i=Gn(n.type,i),mT(t,e,n,i,r);case 15:return v2(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Gn(n,i),pp(t,e),e.tag=1,Xr(n)?(t=!0,Fp(e)):t=!1,Bl(e,r),m2(e,n,i),uw(e,n,i,r),hw(null,e,n,!0,t,r);case 19:return E2(t,e,r);case 22:return w2(t,e,r)}throw Error(H(156,e.tag))};function V2(t,e){return fN(t,e)}function NU(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(t,e,r,n){return new NU(t,e,r,n)}function a1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function DU(t){if(typeof t=="function")return a1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===k_)return 11;if(t===S_)return 14}return 2}function mo(t,e){var r=t.alternate;return r===null?(r=Mn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function yp(t,e,r,n,i,a){var o=2;if(n=t,typeof t=="function")a1(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case bl:return bs(r.children,i,a,e);case E_:o=8,i|=8;break;case R0:return t=Mn(12,r,e,i|2),t.elementType=R0,t.lanes=a,t;case M0:return t=Mn(13,r,e,i),t.elementType=M0,t.lanes=a,t;case L0:return t=Mn(19,r,e,i),t.elementType=L0,t.lanes=a,t;case YO:return wg(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case HO:o=10;break e;case GO:o=9;break e;case k_:o=11;break e;case S_:o=14;break e;case qa:o=16,n=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=Mn(o,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function bs(t,e,r,n){return t=Mn(7,t,n,e),t.lanes=r,t}function wg(t,e,r,n){return t=Mn(22,t,n,e),t.elementType=YO,t.lanes=r,t.stateNode={isHidden:!1},t}function Rv(t,e,r){return t=Mn(6,t,null,e),t.lanes=r,t}function Mv(t,e,r){return e=Mn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function RU(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mv(0),this.expirationTimes=mv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mv(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function o1(t,e,r,n,i,a,o,s,l){return t=new RU(t,e,r,s,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Mn(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},z_(a),t}function MU(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wl,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function F2(t){if(!t)return Eo;t=t._reactInternals;e:{if(qs(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Xr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var r=t.type;if(Xr(r))return FN(t,r,e)}return e}function U2(t,e,r,n,i,a,o,s,l){return t=o1(r,n,!0,t,i,a,o,s,l),t.context=F2(null),r=t.current,n=$r(),i=po(r),a=Ji(n,i),a.callback=e??null,fo(r,a,i),t.current.lanes=i,of(t,i,n),Jr(t,n),t}function bg(t,e,r,n){var i=e.current,a=$r(),o=po(i);return r=F2(r),e.context===null?e.context=r:e.pendingContext=r,e=Ji(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=fo(i,e,o),t!==null&&(ri(t,i,o,a),dp(t,i,o)),o}function Zp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function AT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function s1(t,e){AT(t,e),(t=t.alternate)&&AT(t,e)}function LU(){return null}var B2=typeof reportError=="function"?reportError:function(t){console.error(t)};function l1(t){this._internalRoot=t}_g.prototype.render=l1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));bg(t,e,null,null)};_g.prototype.unmount=l1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ns(function(){bg(null,t,null,null)}),e[aa]=null}};function _g(t){this._internalRoot=t}_g.prototype.unstable_scheduleHydration=function(t){if(t){var e=wN();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ga.length&&e!==0&&e<Ga[r].priority;r++);Ga.splice(r,0,t),r===0&&_N(t)}};function c1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function xg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function PT(){}function jU(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var c=Zp(o);a.call(c)}}var o=U2(e,n,t,0,null,!1,!1,"",PT);return t._reactRootContainer=o,t[aa]=o.current,xd(t.nodeType===8?t.parentNode:t),Ns(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var c=Zp(l);s.call(c)}}var l=o1(t,0,!1,null,null,!1,!1,"",PT);return t._reactRootContainer=l,t[aa]=l.current,xd(t.nodeType===8?t.parentNode:t),Ns(function(){bg(e,l,r,n)}),l}function Eg(t,e,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=Zp(o);s.call(l)}}bg(e,o,t,i)}else o=jU(r,e,t,i,n);return Zp(o)}yN=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Lu(e.pendingLanes);r!==0&&(P_(e,r|1),Jr(e,It()),!(Ne&6)&&(ac=It()+500,Ro()))}break;case 13:Ns(function(){var n=oa(t,1);if(n!==null){var i=$r();ri(n,t,1,i)}}),s1(t,1)}};I_=function(t){if(t.tag===13){var e=oa(t,134217728);if(e!==null){var r=$r();ri(e,t,134217728,r)}s1(t,134217728)}};vN=function(t){if(t.tag===13){var e=po(t),r=oa(t,e);if(r!==null){var n=$r();ri(r,t,e,n)}s1(t,e)}};wN=function(){return Be};bN=function(t,e){var r=Be;try{return Be=t,e()}finally{Be=r}};K0=function(t,e,r){switch(e){case"input":if(V0(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=hg(n);if(!i)throw Error(H(90));XO(n),V0(n,i)}}}break;case"textarea":ZO(t,r);break;case"select":e=r.value,e!=null&&$l(t,!!r.multiple,e,!1)}};oN=r1;sN=Ns;var $U={usingClientEntryPoint:!1,Events:[lf,kl,hg,iN,aN,r1]},gu={findFiberByHostInstance:ss,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},VU={bundleType:gu.bundleType,version:gu.version,rendererPackageName:gu.rendererPackageName,rendererConfig:gu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=uN(t),t===null?null:t.stateNode},findFiberByHostInstance:gu.findFiberByHostInstance||LU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ch.isDisabled&&Ch.supportsFiber)try{cg=Ch.inject(VU),yi=Ch}catch{}}_n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$U;_n.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c1(e))throw Error(H(200));return MU(t,e,null,r)};_n.createRoot=function(t,e){if(!c1(t))throw Error(H(299));var r=!1,n="",i=B2;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=o1(t,1,!1,null,null,r,!1,n,i),t[aa]=e.current,xd(t.nodeType===8?t.parentNode:t),new l1(e)};_n.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=uN(e),t=t===null?null:t.stateNode,t};_n.flushSync=function(t){return Ns(t)};_n.hydrate=function(t,e,r){if(!xg(e))throw Error(H(200));return Eg(null,t,e,!0,r)};_n.hydrateRoot=function(t,e,r){if(!c1(t))throw Error(H(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=B2;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=U2(e,null,t,1,r??null,i,!1,a,o),t[aa]=e.current,xd(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new _g(e)};_n.render=function(t,e,r){if(!xg(e))throw Error(H(200));return Eg(null,t,e,!1,r)};_n.unmountComponentAtNode=function(t){if(!xg(t))throw Error(H(40));return t._reactRootContainer?(Ns(function(){Eg(null,null,t,!1,function(){t._reactRootContainer=null,t[aa]=null})}),!0):!1};_n.unstable_batchedUpdates=r1;_n.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!xg(r))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return Eg(t,e,r,!1,n)};_n.version="18.3.1-next-f1338f8080-20240426";function z2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(z2)}catch(t){console.error(t)}}z2(),zO.exports=_n;var u1=zO.exports,W2,IT=u1;W2=IT.createRoot,IT.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Od(){return Od=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Od.apply(this,arguments)}var ao;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ao||(ao={}));const CT="popstate";function FU(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:o,hash:s}=n.location;return Sw("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:em(i)}return BU(e,r,null,t)}function Ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function q2(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function UU(){return Math.random().toString(36).substr(2,8)}function OT(t,e){return{usr:t.state,key:t.key,idx:e}}function Sw(t,e,r,n){return r===void 0&&(r=null),Od({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ac(e):e,{state:r,key:e&&e.key||n||UU()})}function em(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ac(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function BU(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,s=ao.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Od({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){s=ao.Pop;let b=u(),w=b==null?null:b-c;c=b,l&&l({action:s,location:g.location,delta:w})}function h(b,w){s=ao.Push;let x=Sw(g.location,b,w);r&&r(x,b),c=u()+1;let E=OT(x,c),C=g.createHref(x);try{o.pushState(E,"",C)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(C)}a&&l&&l({action:s,location:g.location,delta:1})}function p(b,w){s=ao.Replace;let x=Sw(g.location,b,w);r&&r(x,b),c=u();let E=OT(x,c),C=g.createHref(x);o.replaceState(E,"",C),a&&l&&l({action:s,location:g.location,delta:0})}function m(b){let w=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof b=="string"?b:em(b);return x=x.replace(/ $/,"%20"),Ct(w,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,w)}let g={get action(){return s},get location(){return t(i,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(CT,d),l=b,()=>{i.removeEventListener(CT,d),l=null}},createHref(b){return e(i,b)},createURL:m,encodeLocation(b){let w=m(b);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:h,replace:p,go(b){return o.go(b)}};return g}var NT;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(NT||(NT={}));function zU(t,e,r){return r===void 0&&(r="/"),WU(t,e,r,!1)}function WU(t,e,r,n){let i=typeof e=="string"?Ac(e):e,a=d1(i.pathname||"/",r);if(a==null)return null;let o=K2(t);qU(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let c=rB(a);s=eB(o[l],c,n)}return s}function K2(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(Ct(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=go([n,l.relativePath]),u=r.concat(l);a.children&&a.children.length>0&&(Ct(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),K2(a.children,e,u,c)),!(a.path==null&&!a.index)&&e.push({path:c,score:JU(c,a.index),routesMeta:u})};return t.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of H2(a.path))i(a,o,l)}),e}function H2(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=H2(n.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function qU(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:ZU(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const KU=/^:[\w-]+$/,HU=3,GU=2,YU=1,QU=10,XU=-2,DT=t=>t==="*";function JU(t,e){let r=t.split("/"),n=r.length;return r.some(DT)&&(n+=XU),e&&(n+=GU),r.filter(i=>!DT(i)).reduce((i,a)=>i+(KU.test(a)?HU:a===""?YU:QU),n)}function ZU(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function eB(t,e,r){r===void 0&&(r=!1);let{routesMeta:n}=t,i={},a="/",o=[];for(let s=0;s<n.length;++s){let l=n[s],c=s===n.length-1,u=a==="/"?e:e.slice(a.length)||"/",d=RT({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d&&c&&r&&!n[n.length-1].route.index&&(d=RT({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:go([a,d.pathname]),pathnameBase:oB(go([a,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(a=go([a,d.pathnameBase]))}return o}function RT(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=tB(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:n.reduce((c,u,d)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let g=s[d]||"";o=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const m=s[d];return p&&!m?c[h]=void 0:c[h]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:o,pattern:t}}function tB(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),q2(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(n.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function rB(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return q2(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function d1(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function nB(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Ac(t):t;return{pathname:r?r.startsWith("/")?r:iB(r,e):e,search:sB(n),hash:lB(i)}}function iB(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Lv(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function aB(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function f1(t,e){let r=aB(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function h1(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Ac(t):(i=Od({},t),Ct(!i.pathname||!i.pathname.includes("?"),Lv("?","pathname","search",i)),Ct(!i.pathname||!i.pathname.includes("#"),Lv("#","pathname","hash",i)),Ct(!i.search||!i.search.includes("#"),Lv("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=r;else{let d=e.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}s=d>=0?e[d]:"/"}let l=nB(i,s),c=o&&o!=="/"&&o.endsWith("/"),u=(a||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const go=t=>t.join("/").replace(/\/\/+/g,"/"),oB=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),sB=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,lB=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function cB(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const G2=["post","put","patch","delete"];new Set(G2);const uB=["get",...G2];new Set(uB);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nd(){return Nd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nd.apply(this,arguments)}const p1=_.createContext(null),dB=_.createContext(null),Mo=_.createContext(null),kg=_.createContext(null),Lo=_.createContext({outlet:null,matches:[],isDataRoute:!1}),Y2=_.createContext(null);function fB(t,e){let{relative:r}=e===void 0?{}:e;Pc()||Ct(!1);let{basename:n,navigator:i}=_.useContext(Mo),{hash:a,pathname:o,search:s}=X2(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:go([n,o])),i.createHref({pathname:l,search:s,hash:a})}function Pc(){return _.useContext(kg)!=null}function uf(){return Pc()||Ct(!1),_.useContext(kg).location}function Q2(t){_.useContext(Mo).static||_.useLayoutEffect(t)}function df(){let{isDataRoute:t}=_.useContext(Lo);return t?SB():hB()}function hB(){Pc()||Ct(!1);let t=_.useContext(p1),{basename:e,future:r,navigator:n}=_.useContext(Mo),{matches:i}=_.useContext(Lo),{pathname:a}=uf(),o=JSON.stringify(f1(i,r.v7_relativeSplatPath)),s=_.useRef(!1);return Q2(()=>{s.current=!0}),_.useCallback(function(c,u){if(u===void 0&&(u={}),!s.current)return;if(typeof c=="number"){n.go(c);return}let d=h1(c,JSON.parse(o),a,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:go([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,o,a,t])}function X2(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=_.useContext(Mo),{matches:i}=_.useContext(Lo),{pathname:a}=uf(),o=JSON.stringify(f1(i,n.v7_relativeSplatPath));return _.useMemo(()=>h1(t,JSON.parse(o),a,r==="path"),[t,o,a,r])}function pB(t,e){return mB(t,e)}function mB(t,e,r,n){Pc()||Ct(!1);let{navigator:i}=_.useContext(Mo),{matches:a}=_.useContext(Lo),o=a[a.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=uf(),u;if(e){var d;let b=typeof e=="string"?Ac(e):e;l==="/"||(d=b.pathname)!=null&&d.startsWith(l)||Ct(!1),u=b}else u=c;let h=u.pathname||"/",p=h;if(l!=="/"){let b=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let m=zU(t,{pathname:p}),g=bB(m&&m.map(b=>Object.assign({},b,{params:Object.assign({},s,b.params),pathname:go([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:go([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,r,n);return e&&g?_.createElement(kg.Provider,{value:{location:Nd({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ao.Pop}},g):g}function gB(){let t=kB(),e=cB(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),r?_.createElement("pre",{style:i},r):null,a)}const yB=_.createElement(gB,null);class vB extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?_.createElement(Lo.Provider,{value:this.props.routeContext},_.createElement(Y2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function wB(t){let{routeContext:e,match:r,children:n}=t,i=_.useContext(p1);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),_.createElement(Lo.Provider,{value:e},n)}function bB(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,s=(i=r)==null?void 0:i.errors;if(s!=null){let u=o.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);u>=0||Ct(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:p}=r,m=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||m){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let p,m=!1,g=null,b=null;r&&(p=s&&d.route.id?s[d.route.id]:void 0,g=d.route.errorElement||yB,l&&(c<0&&h===0?(TB("route-fallback",!1),m=!0,b=null):c===h&&(m=!0,b=d.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,h+1)),x=()=>{let E;return p?E=g:m?E=b:d.route.Component?E=_.createElement(d.route.Component,null):d.route.element?E=d.route.element:E=u,_.createElement(wB,{match:d,routeContext:{outlet:u,matches:w,isDataRoute:r!=null},children:E})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?_.createElement(vB,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:x(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):x()},null)}var J2=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(J2||{}),tm=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(tm||{});function _B(t){let e=_.useContext(p1);return e||Ct(!1),e}function xB(t){let e=_.useContext(dB);return e||Ct(!1),e}function EB(t){let e=_.useContext(Lo);return e||Ct(!1),e}function Z2(t){let e=EB(),r=e.matches[e.matches.length-1];return r.route.id||Ct(!1),r.route.id}function kB(){var t;let e=_.useContext(Y2),r=xB(tm.UseRouteError),n=Z2(tm.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function SB(){let{router:t}=_B(J2.UseNavigateStable),e=Z2(tm.UseNavigateStable),r=_.useRef(!1);return Q2(()=>{r.current=!0}),_.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Nd({fromRouteId:e},a)))},[t,e])}const MT={};function TB(t,e,r){!e&&!MT[t]&&(MT[t]=!0)}function AB(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function PB(t){let{to:e,replace:r,state:n,relative:i}=t;Pc()||Ct(!1);let{future:a,static:o}=_.useContext(Mo),{matches:s}=_.useContext(Lo),{pathname:l}=uf(),c=df(),u=h1(e,f1(s,a.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(u);return _.useEffect(()=>c(JSON.parse(d),{replace:r,state:n,relative:i}),[c,d,i,r,n]),null}function $u(t){Ct(!1)}function IB(t){let{basename:e="/",children:r=null,location:n,navigationType:i=ao.Pop,navigator:a,static:o=!1,future:s}=t;Pc()&&Ct(!1);let l=e.replace(/^\/*/,"/"),c=_.useMemo(()=>({basename:l,navigator:a,static:o,future:Nd({v7_relativeSplatPath:!1},s)}),[l,s,a,o]);typeof n=="string"&&(n=Ac(n));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:m="default"}=n,g=_.useMemo(()=>{let b=d1(u,l);return b==null?null:{location:{pathname:b,search:d,hash:h,state:p,key:m},navigationType:i}},[l,u,d,h,p,m,i]);return g==null?null:_.createElement(Mo.Provider,{value:c},_.createElement(kg.Provider,{children:r,value:g}))}function CB(t){let{children:e,location:r}=t;return pB(Tw(e),r)}new Promise(()=>{});function Tw(t,e){e===void 0&&(e=[]);let r=[];return _.Children.forEach(t,(n,i)=>{if(!_.isValidElement(n))return;let a=[...e,i];if(n.type===_.Fragment){r.push.apply(r,Tw(n.props.children,a));return}n.type!==$u&&Ct(!1),!n.props.index||!n.props.children||Ct(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Tw(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Aw(){return Aw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Aw.apply(this,arguments)}function OB(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function NB(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function DB(t,e){return t.button===0&&(!e||e==="_self")&&!NB(t)}const RB=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],MB="6";try{window.__reactRouterVersion=MB}catch{}const LB="startTransition",LT=UO[LB];function jB(t){let{basename:e,children:r,future:n,window:i}=t,a=_.useRef();a.current==null&&(a.current=FU({window:i,v5Compat:!0}));let o=a.current,[s,l]=_.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},u=_.useCallback(d=>{c&&LT?LT(()=>l(d)):l(d)},[l,c]);return _.useLayoutEffect(()=>o.listen(u),[o,u]),_.useEffect(()=>AB(n),[n]),_.createElement(IB,{basename:e,children:r,location:s.location,navigationType:s.action,navigator:o,future:n})}const $B=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",VB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eD=_.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:s,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,h=OB(e,RB),{basename:p}=_.useContext(Mo),m,g=!1;if(typeof c=="string"&&VB.test(c)&&(m=c,$B))try{let E=new URL(window.location.href),C=c.startsWith("//")?new URL(E.protocol+c):new URL(c),I=d1(C.pathname,p);C.origin===E.origin&&I!=null?c=I+C.search+C.hash:g=!0}catch{}let b=fB(c,{relative:i}),w=FB(c,{replace:o,state:s,target:l,preventScrollReset:u,relative:i,viewTransition:d});function x(E){n&&n(E),E.defaultPrevented||w(E)}return _.createElement("a",Aw({},h,{href:m||b,onClick:g||a?n:x,ref:r,target:l}))});var jT;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(jT||(jT={}));var $T;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})($T||($T={}));function FB(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:s}=e===void 0?{}:e,l=df(),c=uf(),u=X2(t,{relative:o});return _.useCallback(d=>{if(DB(d,r)){d.preventDefault();let h=n!==void 0?n:em(c)===em(u);l(t,{replace:h,state:i,preventScrollReset:a,relative:o,viewTransition:s})}},[c,l,u,n,i,r,t,a,o,s])}const UB="modulepreload",BB=function(t){return"/Campus_Resourses_management_System/"+t},VT={},zB=function(e,r,n){if(!r||r.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(r.map(a=>{if(a=BB(a),a in VT)return;VT[a]=!0;const o=a.endsWith(".css"),s=o?'[rel="stylesheet"]':"";if(!!n)for(let u=i.length-1;u>=0;u--){const d=i[u];if(d.href===a&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${s}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":UB,o||(c.as="script",c.crossOrigin=""),c.href=a,document.head.appendChild(c),o)return new Promise((u,d)=>{c.addEventListener("load",u),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>e()).catch(a=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a})};var WB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const qB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),KB=(t,e)=>{const r=_.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,children:s,...l},c)=>_.createElement("svg",{ref:c,...WB,width:i,height:i,stroke:n,strokeWidth:o?Number(a)*24/Number(i):a,className:`lucide lucide-${qB(t)}`,...l},[...e.map(([u,d])=>_.createElement(u,d)),...(Array.isArray(s)?s:[s])||[]]));return r.displayName=`${t}`,r};var _e=KB;const HB=_e("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),tD=_e("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),GB=_e("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),YB=_e("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),FT=_e("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Pw=_e("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),UT=_e("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),ln=_e("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),QB=_e("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),XB=_e("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),rm=_e("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),Wl=_e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),jv=_e("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),JB=_e("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Iw=_e("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ZB=_e("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Cw=_e("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]),$v=_e("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),e5=_e("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),t5=_e("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),BT=_e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),r5=_e("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Sg=_e("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),n5=_e("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),i5=_e("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),Ow=_e("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),id=_e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),a5=_e("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),rD=_e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Nw=_e("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Zi=_e("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),o5=_e("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),zT=_e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),m1=_e("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),s5=_e("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),l5=_e("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),us=_e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Ic=_e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),g1=_e("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]),c5=_e("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),la=_e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function nD(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=nD(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function u5(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=nD(t))&&(n&&(n+=" "),n+=e);return n}function d5(){for(var t=0,e,r,n="";t<arguments.length;)(e=arguments[t++])&&(r=iD(e))&&(n&&(n+=" "),n+=r);return n}function iD(t){if(typeof t=="string")return t;for(var e,r="",n=0;n<t.length;n++)t[n]&&(e=iD(t[n]))&&(r&&(r+=" "),r+=e);return r}var y1="-";function f5(t){var e=p5(t),r=t.conflictingClassGroups,n=t.conflictingClassGroupModifiers,i=n===void 0?{}:n;function a(s){var l=s.split(y1);return l[0]===""&&l.length!==1&&l.shift(),aD(l,e)||h5(s)}function o(s,l){var c=r[s]||[];return l&&i[s]?[].concat(c,i[s]):c}return{getClassGroupId:a,getConflictingClassGroupIds:o}}function aD(t,e){var o;if(t.length===0)return e.classGroupId;var r=t[0],n=e.nextPart.get(r),i=n?aD(t.slice(1),n):void 0;if(i)return i;if(e.validators.length!==0){var a=t.join(y1);return(o=e.validators.find(function(s){var l=s.validator;return l(a)}))==null?void 0:o.classGroupId}}var WT=/^\[(.+)\]$/;function h5(t){if(WT.test(t)){var e=WT.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}}function p5(t){var e=t.theme,r=t.prefix,n={nextPart:new Map,validators:[]},i=g5(Object.entries(t.classGroups),r);return i.forEach(function(a){var o=a[0],s=a[1];Dw(s,n,o,e)}),n}function Dw(t,e,r,n){t.forEach(function(i){if(typeof i=="string"){var a=i===""?e:qT(e,i);a.classGroupId=r;return}if(typeof i=="function"){if(m5(i)){Dw(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(function(o){var s=o[0],l=o[1];Dw(l,qT(e,s),r,n)})})}function qT(t,e){var r=t;return e.split(y1).forEach(function(n){r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r}function m5(t){return t.isThemeGetter}function g5(t,e){return e?t.map(function(r){var n=r[0],i=r[1],a=i.map(function(o){return typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(s){var l=s[0],c=s[1];return[e+l,c]})):o});return[n,a]}):t}function y5(t){if(t<1)return{get:function(){},set:function(){}};var e=0,r=new Map,n=new Map;function i(a,o){r.set(a,o),e++,e>t&&(e=0,n=r,r=new Map)}return{get:function(o){var s=r.get(o);if(s!==void 0)return s;if((s=n.get(o))!==void 0)return i(o,s),s},set:function(o,s){r.has(o)?r.set(o,s):i(o,s)}}}var oD="!";function v5(t){var e=t.separator||":",r=e.length===1,n=e[0],i=e.length;return function(o){for(var s=[],l=0,c=0,u,d=0;d<o.length;d++){var h=o[d];if(l===0){if(h===n&&(r||o.slice(d,d+i)===e)){s.push(o.slice(c,d)),c=d+i;continue}if(h==="/"){u=d;continue}}h==="["?l++:h==="]"&&l--}var p=s.length===0?o:o.substring(c),m=p.startsWith(oD),g=m?p.substring(1):p,b=u&&u>c?u-c:void 0;return{modifiers:s,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:b}}}function w5(t){if(t.length<=1)return t;var e=[],r=[];return t.forEach(function(n){var i=n[0]==="[";i?(e.push.apply(e,r.sort().concat([n])),r=[]):r.push(n)}),e.push.apply(e,r.sort()),e}function b5(t){return{cache:y5(t.cacheSize),splitModifiers:v5(t),...f5(t)}}var _5=/\s+/;function x5(t,e){var r=e.splitModifiers,n=e.getClassGroupId,i=e.getConflictingClassGroupIds,a=new Set;return t.trim().split(_5).map(function(o){var s=r(o),l=s.modifiers,c=s.hasImportantModifier,u=s.baseClassName,d=s.maybePostfixModifierPosition,h=n(d?u.substring(0,d):u),p=!!d;if(!h){if(!d)return{isTailwindClass:!1,originalClassName:o};if(h=n(u),!h)return{isTailwindClass:!1,originalClassName:o};p=!1}var m=w5(l).join(":"),g=c?m+oD:m;return{isTailwindClass:!0,modifierId:g,classGroupId:h,originalClassName:o,hasPostfixModifier:p}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var s=o.modifierId,l=o.classGroupId,c=o.hasPostfixModifier,u=s+l;return a.has(u)?!1:(a.add(u),i(l,c).forEach(function(d){return a.add(s+d)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function E5(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n,i,a,o=s;function s(c){var u=e[0],d=e.slice(1),h=d.reduce(function(p,m){return m(p)},u());return n=b5(h),i=n.cache.get,a=n.cache.set,o=l,l(c)}function l(c){var u=i(c);if(u)return u;var d=x5(c,n);return a(c,d),d}return function(){return o(d5.apply(null,arguments))}}function rt(t){var e=function(n){return n[t]||[]};return e.isThemeGetter=!0,e}var sD=/^\[(?:([a-z-]+):)?(.+)\]$/i,k5=/^\d+\/\d+$/,S5=new Set(["px","full","screen"]),T5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,A5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,P5=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Hn(t){return ds(t)||S5.has(t)||k5.test(t)||Rw(t)}function Rw(t){return Ks(t,"length",R5)}function I5(t){return Ks(t,"size",lD)}function C5(t){return Ks(t,"position",lD)}function O5(t){return Ks(t,"url",M5)}function Oh(t){return Ks(t,"number",ds)}function ds(t){return!Number.isNaN(Number(t))}function N5(t){return t.endsWith("%")&&ds(t.slice(0,-1))}function yu(t){return KT(t)||Ks(t,"number",KT)}function Se(t){return sD.test(t)}function vu(){return!0}function $a(t){return T5.test(t)}function D5(t){return Ks(t,"",L5)}function Ks(t,e,r){var n=sD.exec(t);return n?n[1]?n[1]===e:r(n[2]):!1}function R5(t){return A5.test(t)}function lD(){return!1}function M5(t){return t.startsWith("url(")}function KT(t){return Number.isInteger(Number(t))}function L5(t){return P5.test(t)}function j5(){var t=rt("colors"),e=rt("spacing"),r=rt("blur"),n=rt("brightness"),i=rt("borderColor"),a=rt("borderRadius"),o=rt("borderSpacing"),s=rt("borderWidth"),l=rt("contrast"),c=rt("grayscale"),u=rt("hueRotate"),d=rt("invert"),h=rt("gap"),p=rt("gradientColorStops"),m=rt("gradientColorStopPositions"),g=rt("inset"),b=rt("margin"),w=rt("opacity"),x=rt("padding"),E=rt("saturate"),C=rt("scale"),I=rt("sepia"),M=rt("skew"),T=rt("space"),S=rt("translate"),N=function(){return["auto","contain","none"]},L=function(){return["auto","hidden","clip","visible","scroll"]},D=function(){return["auto",Se,e]},O=function(){return[Se,e]},P=function(){return["",Hn]},U=function(){return["auto",ds,Se]},ee=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},G=function(){return["solid","dashed","dotted","double","none"]},de=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},W=function(){return["start","end","center","between","around","evenly","stretch"]},X=function(){return["","0",Se]},Q=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},ce=function(){return[ds,Oh]},Y=function(){return[ds,Se]};return{cacheSize:500,theme:{colors:[vu],spacing:[Hn],blur:["none","",$a,Se],brightness:ce(),borderColor:[t],borderRadius:["none","","full",$a,Se],borderSpacing:O(),borderWidth:P(),contrast:ce(),grayscale:X(),hueRotate:Y(),invert:X(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[N5,Rw],inset:D(),margin:D(),opacity:ce(),padding:O(),saturate:ce(),scale:ce(),sepia:X(),skew:Y(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Se]}],container:["container"],columns:[{columns:[$a]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(ee(),[Se])}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",yu]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Se]}],grow:[{grow:X()}],shrink:[{shrink:X()}],order:[{order:["first","last","none",yu]}],"grid-cols":[{"grid-cols":[vu]}],"col-start-end":[{col:["auto",{span:["full",yu]},Se]}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":[vu]}],"row-start-end":[{row:["auto",{span:[yu]},Se]}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Se]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Se]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal"].concat(W())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(W(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(W(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Se,e]}],"min-w":[{"min-w":["min","max","fit",Se,Hn]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[$a]},$a,Se]}],h:[{h:[Se,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Se,Hn]}],"max-h":[{"max-h":[Se,e,"min","max","fit"]}],"font-size":[{text:["base",$a,Rw]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Oh]}],"font-family":[{font:[vu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Se]}],"line-clamp":[{"line-clamp":["none",ds,Oh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Se,Hn]}],"list-image":[{"list-image":["none",Se]}],"list-style-type":[{list:["none","disc","decimal",Se]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(G(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Hn]}],"underline-offset":[{"underline-offset":["auto",Se,Hn]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Se]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Se]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(ee(),[C5])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",I5]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},O5]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[].concat(G(),["hidden"])}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:G()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(G())}],"outline-offset":[{"outline-offset":[Se,Hn]}],"outline-w":[{outline:[Hn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Hn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",$a,D5]}],"shadow-color":[{shadow:[vu]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":de()}],"bg-blend":[{"bg-blend":de()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",$a,Se]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[E]}],sepia:[{sepia:[I]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[I]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Se]}],duration:[{duration:Y()}],ease:[{ease:["linear","in","out","in-out",Se]}],delay:[{delay:Y()}],animate:[{animate:["none","spin","ping","pulse","bounce",Se]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[yu,Se]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Se]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Se]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Se]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Hn,Oh]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var $5=E5(j5);function Jt(...t){return $5(u5(t))}const $e=_.forwardRef((t,e)=>{const{label:r,error:n,helperText:i,required:a=!1,disabled:o=!1,className:s,variant:l="default",size:c="md",leftIcon:u,rightIcon:d,loading:h=!1,success:p=!1,floating:m=!1,fullWidth:g=!0,type:b="text",...w}=t,[x,E]=_.useState(!1),[C,I]=_.useState(!1),M=_.useId(),T=_.useId(),S=_.useId(),N=["transition-all","duration-300","ease-out","focus:outline-none","disabled:opacity-50","disabled:cursor-not-allowed","disabled:bg-secondary-50","dark:disabled:bg-secondary-800",g&&"w-full"],L={sm:["px-3","py-2","text-sm","min-h-[40px]"],md:["px-4","py-3","text-base","min-h-[44px]"],lg:["px-5","py-4","text-lg","min-h-[48px]"]},D={default:["bg-white/80","dark:bg-secondary-800/80","backdrop-blur-sm","border-2","border-secondary-300","dark:border-secondary-600","rounded-xl","focus:border-primary-500","focus:ring-2","focus:ring-primary-500/20","hover:border-secondary-400","dark:hover:border-secondary-500"],filled:["bg-secondary-100","dark:bg-secondary-800","border-2","border-transparent","rounded-xl","focus:border-primary-500","focus:ring-2","focus:ring-primary-500/20","hover:bg-secondary-200","dark:hover:bg-secondary-700"],outlined:["bg-transparent","border-2","border-secondary-300","dark:border-secondary-600","rounded-xl","focus:border-primary-500","focus:ring-2","focus:ring-primary-500/20","hover:border-secondary-400","dark:hover:border-secondary-500"],ghost:["bg-transparent","border-2","border-transparent","rounded-xl","focus:border-primary-500","focus:ring-2","focus:ring-primary-500/20","hover:bg-secondary-50","dark:hover:bg-secondary-800"]},O=[n&&["border-error-500","focus:border-error-500","focus:ring-error-500/20","text-error-900","dark:text-error-100"],p&&["border-success-500","focus:border-success-500","focus:ring-success-500/20"],h&&"animate-pulse"],P=Q=>{const ce=["absolute","top-1/2","transform","-translate-y-1/2","text-secondary-400","dark:text-secondary-500","transition-colors","duration-200"],Y={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"},he={left:Q==="left"?["left-3"]:[],right:Q==="right"?["right-3"]:[]};return Jt(ce,Y[c],he[Q])},U=()=>{const Q=L[c];return Jt(Q,u?c==="sm"?"pl-10":c==="md"?"pl-12":"pl-14":"",d||b==="password"?c==="sm"?"pr-10":c==="md"?"pr-12":"pr-14":"")},ee=()=>{switch(b){case"search":return y(rD,{className:P("left")});case"date":return y(ln,{className:P("right")});case"time":return y(Wl,{className:P("right")});default:return null}},G=Jt(N,U(),D[l],O,m&&"placeholder-transparent","text-secondary-900","dark:text-secondary-100","placeholder-secondary-400","dark:placeholder-secondary-500",s),de=Jt("block","text-sm","font-medium","text-secondary-700","dark:text-secondary-300","transition-all","duration-200",m&&["absolute","left-4","pointer-events-none","transform","origin-left",(C||t.value)&&["-translate-y-6","scale-75","text-primary-600","dark:text-primary-400"],!(C||t.value)&&["top-1/2","-translate-y-1/2","text-secondary-400"]],a&&'after:content-["*"] after:text-error-500 after:ml-1'),W=Jt("text-sm","mt-2","flex","items-center","gap-1",n?"text-error-600 dark:text-error-400":"text-secondary-500 dark:text-secondary-400"),X=()=>{if(b==="select"){const Q=t;return A("select",{ref:e,id:M,disabled:o,className:G,value:Q.value||"",onChange:ce=>{var Y;return(Y=Q.onChange)==null?void 0:Y.call(Q,ce.target.value)},onFocus:()=>I(!0),onBlur:()=>I(!1),"aria-describedby":Jt(n&&T,i&&S),"aria-invalid":!!n,...w,children:[Q.placeholder&&y("option",{value:"",disabled:!0,children:Q.placeholder}),Q.options.map(ce=>y("option",{value:ce.value,disabled:ce.disabled,children:ce.label},ce.value))]})}if(b==="textarea"){const Q=t;return y("textarea",{ref:e,id:M,disabled:o,className:Jt(G,Q.resize===!1&&"resize-none","min-h-[100px]"),rows:Q.rows||4,onFocus:()=>I(!0),onBlur:()=>I(!1),"aria-describedby":Jt(n&&T,i&&S),"aria-invalid":!!n,...w})}return y("input",{ref:e,id:M,type:b==="password"&&x?"text":b,disabled:o,className:G,onFocus:()=>I(!0),onBlur:()=>I(!1),"aria-describedby":Jt(n&&T,i&&S),"aria-invalid":!!n,...w})};return A("div",{className:Jt("relative",g&&"w-full"),children:[r&&y("label",{htmlFor:M,className:de,children:r}),A("div",{className:Jt("relative",!m&&r&&"mt-2"),children:[u&&y("div",{className:P("left"),children:u}),!u&&ee(),X(),b==="password"?y("button",{type:"button",onClick:()=>E(!x),className:Jt(P("right"),"hover:text-secondary-600","dark:hover:text-secondary-400","focus:outline-none","focus:text-primary-600","dark:focus:text-primary-400","min-h-touch","min-w-touch","flex","items-center","justify-center","rounded-md"),"aria-label":x?"Hide password":"Show password",children:x?y(JB,{}):y(Iw,{})}):d?y("div",{className:P("right"),children:d}):null,p&&!n&&y("div",{className:P("right"),children:y(XB,{className:"text-success-500"})}),h&&y("div",{className:P("right"),children:y("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-primary-600 border-t-transparent"})}),y("div",{className:Jt("absolute","inset-0","rounded-xl","pointer-events-none","transition-all","duration-300",C&&!n&&"ring-2 ring-primary-500/20 ring-offset-2 dark:ring-offset-secondary-800",n&&C&&"ring-2 ring-error-500/20 ring-offset-2 dark:ring-offset-secondary-800")})]}),n&&A("div",{id:T,className:W,role:"alert",children:[y(tD,{className:"w-4 h-4 flex-shrink-0"}),y("span",{children:n})]}),i&&!n&&y("div",{id:S,className:W,children:y("span",{children:i})})]})});$e.displayName="Input";const Ee=_.forwardRef(({children:t,variant:e="primary",size:r="md",loading:n=!1,leftIcon:i,rightIcon:a,fullWidth:o=!1,rounded:s="xl",shadow:l="md",gradient:c=!0,glow:u=!1,pulse:d=!1,disabled:h=!1,className:p,type:m="button",...g},b)=>{const w=["btn","relative","inline-flex","items-center","justify-center","font-semibold","transition-all","duration-300","ease-out","focus:outline-none","focus:ring-2","focus:ring-offset-2","dark:focus:ring-offset-secondary-800","disabled:opacity-50","disabled:cursor-not-allowed","disabled:transform-none","touch-manipulation","select-none","overflow-hidden","motion-safe:transform","motion-safe:hover:scale-105","motion-safe:active:scale-95","motion-reduce:transform-none","motion-reduce:transition-none"],x={xs:["btn-xs","px-2","py-1","text-xs","min-h-[32px]","gap-1"],sm:["btn-sm","px-3","py-2","text-sm","min-h-[40px]","gap-1.5"],md:["btn-md","px-4","py-2.5","text-base","min-h-[44px]","gap-2"],lg:["btn-lg","px-6","py-3","text-lg","min-h-[48px]","gap-2.5"],xl:["btn-xl","px-8","py-4","text-xl","min-h-[52px]","gap-3"]},E={primary:[c?"bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800":"bg-primary-600 hover:bg-primary-700","text-white","border-transparent","focus:ring-primary-500",l!=="none"&&`shadow-${l}`,"hover:shadow-lg",u&&"hover:shadow-glow hover:shadow-primary-500/25"],secondary:[c?"bg-gradient-to-r from-secondary-100 to-secondary-200 hover:from-secondary-200 hover:to-secondary-300 dark:from-secondary-700 dark:to-secondary-800 dark:hover:from-secondary-600 dark:hover:to-secondary-700":"bg-secondary-100 hover:bg-secondary-200 dark:bg-secondary-700 dark:hover:bg-secondary-600","text-secondary-900 dark:text-secondary-100","border-transparent","focus:ring-secondary-500",l!=="none"&&`shadow-${l}`,"hover:shadow-lg"],success:[c?"bg-gradient-to-r from-success-500 to-success-600 hover:from-success-600 hover:to-success-700":"bg-success-500 hover:bg-success-600","text-white","border-transparent","focus:ring-success-500",l!=="none"&&`shadow-${l}`,"hover:shadow-lg",u&&"hover:shadow-glow hover:shadow-success-500/25"],warning:[c?"bg-gradient-to-r from-warning-500 to-warning-600 hover:from-warning-600 hover:to-warning-700":"bg-warning-500 hover:bg-warning-600","text-white","border-transparent","focus:ring-warning-500",l!=="none"&&`shadow-${l}`,"hover:shadow-lg",u&&"hover:shadow-glow hover:shadow-warning-500/25"],error:[c?"bg-gradient-to-r from-error-500 to-error-600 hover:from-error-600 hover:to-error-700":"bg-error-500 hover:bg-error-600","text-white","border-transparent","focus:ring-error-500",l!=="none"&&`shadow-${l}`,"hover:shadow-lg",u&&"hover:shadow-glow hover:shadow-error-500/25"],ghost:["bg-transparent","hover:bg-secondary-100 dark:hover:bg-secondary-800","text-secondary-700 dark:text-secondary-300","border border-secondary-300 dark:border-secondary-600","hover:border-secondary-400 dark:hover:border-secondary-500","focus:ring-secondary-500",l!=="none"&&`shadow-${l}`],outline:["bg-transparent","border-2","border-current","hover:bg-current","hover:text-white","focus:ring-offset-2",l!=="none"&&`shadow-${l}`]},C={sm:"rounded-sm",md:"rounded-md",lg:"rounded-lg",xl:"rounded-xl",full:"rounded-full"},I=[o&&"w-full",d&&"animate-pulse-soft",n&&"cursor-wait"],M=Jt(w,x[r],E[e],C[s],I,p),T={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-7 h-7"}[r];return A("button",{ref:b,type:m,disabled:h||n,className:M,...g,children:[y("span",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent transform -skew-x-12 -translate-x-full transition-transform duration-700 group-hover:translate-x-full"}),n&&y(e5,{className:Jt("animate-spin",T,i||a?"mr-2":"")}),i&&!n&&y("span",{className:Jt(T,"flex-shrink-0"),children:i}),y("span",{className:Jt("relative z-10 flex items-center justify-center",(i||n)&&"ml-2",a&&"mr-2"),children:t}),a&&!n&&y("span",{className:Jt(T,"flex-shrink-0"),children:a}),y("span",{className:"absolute inset-0 overflow-hidden rounded-inherit",children:y("span",{className:"absolute inset-0 bg-white/20 transform scale-0 rounded-full transition-transform duration-300 group-active:scale-100"})})]})});Ee.displayName="Button";const cD=t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),V5=t=>t.length<8?{isValid:!1,message:"Password must be at least 8 characters long"}:/(?=.*[a-z])/.test(t)?/(?=.*[A-Z])/.test(t)?/(?=.*\d)/.test(t)?{isValid:!0,message:""}:{isValid:!1,message:"Password must contain at least one number"}:{isValid:!1,message:"Password must contain at least one uppercase letter"}:{isValid:!1,message:"Password must contain at least one lowercase letter"},F5=t=>t.length<3?{isValid:!1,message:"Username must be at least 3 characters long"}:/^[a-zA-Z0-9_]+$/.test(t)?{isValid:!0,message:""}:{isValid:!1,message:"Username can only contain letters, numbers, and underscores"};let U5={data:""},B5=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||U5,z5=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,W5=/\/\*[^]*?\*\/|  +/g,HT=/\n+/g,Qa=(t,e)=>{let r="",n="",i="";for(let a in t){let o=t[a];a[0]=="@"?a[1]=="i"?r=a+" "+o+";":n+=a[1]=="f"?Qa(o,a):a+"{"+Qa(o,a[1]=="k"?"":e)+"}":typeof o=="object"?n+=Qa(o,e?e.replace(/([^,])+/g,s=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,s):s?s+" "+l:l)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Qa.p?Qa.p(a,o):a+":"+o+";")}return r+(e&&i?e+"{"+i+"}":i)+n},Ri={},uD=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+uD(t[r]);return e}return t},q5=(t,e,r,n,i)=>{let a=uD(t),o=Ri[a]||(Ri[a]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(a));if(!Ri[o]){let l=a!==t?t:(c=>{let u,d,h=[{}];for(;u=z5.exec(c.replace(W5,""));)u[4]?h.shift():u[3]?(d=u[3].replace(HT," ").trim(),h.unshift(h[0][d]=h[0][d]||{})):h[0][u[1]]=u[2].replace(HT," ").trim();return h[0]})(t);Ri[o]=Qa(i?{["@keyframes "+o]:l}:l,r?"":"."+o)}let s=r&&Ri.g?Ri.g:null;return r&&(Ri.g=Ri[o]),((l,c,u,d)=>{d?c.data=c.data.replace(d,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(Ri[o],e,n,s),o},K5=(t,e,r)=>t.reduce((n,i,a)=>{let o=e[a];if(o&&o.call){let s=o(r),l=s&&s.props&&s.props.className||/^go/.test(s)&&s;o=l?"."+l:s&&typeof s=="object"?s.props?"":Qa(s,""):s===!1?"":s}return n+i+(o??"")},"");function Tg(t){let e=this||{},r=t.call?t(e.p):t;return q5(r.unshift?r.raw?K5(r,[].slice.call(arguments,1),e.p):r.reduce((n,i)=>Object.assign(n,i&&i.call?i(e.p):i),{}):r,B5(e.target),e.g,e.o,e.k)}let dD,Mw,Lw;Tg.bind({g:1});let ca=Tg.bind({k:1});function H5(t,e,r,n){Qa.p=e,dD=t,Mw=r,Lw=n}function jo(t,e){let r=this||{};return function(){let n=arguments;function i(a,o){let s=Object.assign({},a),l=s.className||i.className;r.p=Object.assign({theme:Mw&&Mw()},s),r.o=/ *go\d+/.test(l),s.className=Tg.apply(r,n)+(l?" "+l:""),e&&(s.ref=o);let c=t;return t[0]&&(c=s.as||t,delete s.as),Lw&&c[0]&&Lw(s),dD(c,s)}return e?e(i):i}}var G5=t=>typeof t=="function",nm=(t,e)=>G5(t)?t(e):t,Y5=(()=>{let t=0;return()=>(++t).toString()})(),fD=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),Q5=20,hD=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,Q5)};case 1:return{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:r}=e;return hD(t,{type:t.toasts.find(a=>a.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=e;return{...t,toasts:t.toasts.map(a=>a.id===n||n===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},vp=[],fs={toasts:[],pausedAt:void 0},Hs=t=>{fs=hD(fs,t),vp.forEach(e=>{e(fs)})},X5={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},J5=(t={})=>{let[e,r]=_.useState(fs),n=_.useRef(fs);_.useEffect(()=>(n.current!==fs&&r(fs),vp.push(r),()=>{let a=vp.indexOf(r);a>-1&&vp.splice(a,1)}),[]);let i=e.toasts.map(a=>{var o,s,l;return{...t,...t[a.type],...a,removeDelay:a.removeDelay||((o=t[a.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:a.duration||((s=t[a.type])==null?void 0:s.duration)||(t==null?void 0:t.duration)||X5[a.type],style:{...t.style,...(l=t[a.type])==null?void 0:l.style,...a.style}}});return{...e,toasts:i}},Z5=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||Y5()}),ff=t=>(e,r)=>{let n=Z5(e,t,r);return Hs({type:2,toast:n}),n.id},Lr=(t,e)=>ff("blank")(t,e);Lr.error=ff("error");Lr.success=ff("success");Lr.loading=ff("loading");Lr.custom=ff("custom");Lr.dismiss=t=>{Hs({type:3,toastId:t})};Lr.remove=t=>Hs({type:4,toastId:t});Lr.promise=(t,e,r)=>{let n=Lr.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let a=e.success?nm(e.success,i):void 0;return a?Lr.success(a,{id:n,...r,...r==null?void 0:r.success}):Lr.dismiss(n),i}).catch(i=>{let a=e.error?nm(e.error,i):void 0;a?Lr.error(a,{id:n,...r,...r==null?void 0:r.error}):Lr.dismiss(n)}),t};var e9=(t,e)=>{Hs({type:1,toast:{id:t,height:e}})},t9=()=>{Hs({type:5,time:Date.now()})},ad=new Map,r9=1e3,n9=(t,e=r9)=>{if(ad.has(t))return;let r=setTimeout(()=>{ad.delete(t),Hs({type:4,toastId:t})},e);ad.set(t,r)},i9=t=>{let{toasts:e,pausedAt:r}=J5(t);_.useEffect(()=>{if(r)return;let a=Date.now(),o=e.map(s=>{if(s.duration===1/0)return;let l=(s.duration||0)+s.pauseDuration-(a-s.createdAt);if(l<0){s.visible&&Lr.dismiss(s.id);return}return setTimeout(()=>Lr.dismiss(s.id),l)});return()=>{o.forEach(s=>s&&clearTimeout(s))}},[e,r]);let n=_.useCallback(()=>{r&&Hs({type:6,time:Date.now()})},[r]),i=_.useCallback((a,o)=>{let{reverseOrder:s=!1,gutter:l=8,defaultPosition:c}=o||{},u=e.filter(p=>(p.position||c)===(a.position||c)&&p.height),d=u.findIndex(p=>p.id===a.id),h=u.filter((p,m)=>m<d&&p.visible).length;return u.filter(p=>p.visible).slice(...s?[h+1]:[0,h]).reduce((p,m)=>p+(m.height||0)+l,0)},[e]);return _.useEffect(()=>{e.forEach(a=>{if(a.dismissed)n9(a.id,a.removeDelay);else{let o=ad.get(a.id);o&&(clearTimeout(o),ad.delete(a.id))}})},[e]),{toasts:e,handlers:{updateHeight:e9,startPause:t9,endPause:n,calculateOffset:i}}},a9=ca`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,o9=ca`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,s9=ca`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,l9=jo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${a9} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${o9} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${s9} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,c9=ca`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,u9=jo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${c9} 1s linear infinite;
`,d9=ca`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,f9=ca`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,h9=jo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${d9} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${f9} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,p9=jo("div")`
  position: absolute;
`,m9=jo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,g9=ca`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,y9=jo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${g9} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,v9=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?_.createElement(y9,null,e):e:r==="blank"?null:_.createElement(m9,null,_.createElement(u9,{...n}),r!=="loading"&&_.createElement(p9,null,r==="error"?_.createElement(l9,{...n}):_.createElement(h9,{...n})))},w9=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,b9=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,_9="0%{opacity:0;} 100%{opacity:1;}",x9="0%{opacity:1;} 100%{opacity:0;}",E9=jo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,k9=jo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,S9=(t,e)=>{let r=t.includes("top")?1:-1,[n,i]=fD()?[_9,x9]:[w9(r),b9(r)];return{animation:e?`${ca(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ca(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},T9=_.memo(({toast:t,position:e,style:r,children:n})=>{let i=t.height?S9(t.position||e||"top-center",t.visible):{opacity:0},a=_.createElement(v9,{toast:t}),o=_.createElement(k9,{...t.ariaProps},nm(t.message,t));return _.createElement(E9,{className:t.className,style:{...i,...r,...t.style}},typeof n=="function"?n({icon:a,message:o}):_.createElement(_.Fragment,null,a,o))});H5(_.createElement);var A9=({id:t,className:e,style:r,onHeightUpdate:n,children:i})=>{let a=_.useCallback(o=>{if(o){let s=()=>{let l=o.getBoundingClientRect().height;n(t,l)};s(),new MutationObserver(s).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return _.createElement("div",{ref:a,className:e,style:r},i)},P9=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:fD()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...i}},I9=Tg`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Nh=16,Ag=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:i,containerStyle:a,containerClassName:o})=>{let{toasts:s,handlers:l}=i9(r);return _.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Nh,left:Nh,right:Nh,bottom:Nh,pointerEvents:"none",...a},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},s.map(c=>{let u=c.position||e,d=l.calculateOffset(c,{reverseOrder:t,gutter:n,defaultPosition:e}),h=P9(u,d);return _.createElement(A9,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?I9:"",style:h},c.type==="custom"?nm(c.message,c):i?i(c):_.createElement(T9,{toast:c,position:u}))}))},be=Lr;const C9=()=>{const t=df(),[e,r]=_.useState({email:"",password:""}),[n,i]=_.useState({}),[a,o]=_.useState(!1),s=(u,d)=>{r(h=>({...h,[u]:d})),n[u]&&i(h=>({...h,[u]:void 0}))},l=()=>{const u={};return e.email?cD(e.email)||(u.email="Please enter a valid email address"):u.email="Email is required",e.password||(u.password="Password is required"),i(u),Object.keys(u).length===0};return A("div",{className:"min-h-screen flex items-center justify-center py-6 sm:py-12 px-4 sm:px-6 lg:px-8 bg-gray-50 dark:bg-gray-900 transition-all duration-300",children:[y(Ag,{position:"top-center"}),A("div",{className:"max-w-md w-full space-y-6 sm:space-y-8",children:[A("div",{className:"text-center",children:[y("div",{className:"mx-auto h-12 w-12 sm:h-14 sm:w-14 bg-primary-600 rounded-xl flex items-center justify-center",children:y(Cw,{className:"h-7 w-7 sm:h-8 sm:w-8 text-white"})}),y("h2",{className:"mt-4 sm:mt-6 text-2xl sm:text-3xl font-bold text-gray-900 dark:text-gray-100 leading-tight",children:"Welcome back"}),y("p",{className:"mt-2 text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"Sign in to your Campus Resources account"})]}),A("div",{className:"bg-white dark:bg-gray-800 rounded-lg sm:rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6 sm:p-8 animate-fade-in",children:[A("form",{className:"space-y-4 sm:space-y-6",onSubmit:async u=>{if(u.preventDefault(),!!l()){o(!0);try{const{firebaseService:d}=await zB(()=>Promise.resolve().then(()=>MG),void 0),{user:h,token:p}=await d.login(e.email,e.password);localStorage.setItem("user",JSON.stringify(h)),localStorage.setItem("token",p),console.log("✅ Login successful:",h),be.success(`Welcome back, ${h.username}!`),t("/dashboard")}catch(d){console.error("❌ Login failed:",d),be.error("Invalid email or password. Please try again."),i({email:"Invalid email or password. Please try again."})}finally{o(!1)}}},children:[y($e,{label:"Email Address",type:"email",value:e.email,onChange:u=>s("email",u.target.value),error:n.email,placeholder:"Enter your email",required:!0}),y($e,{label:"Password",type:"password",value:e.password,onChange:u=>s("password",u.target.value),error:n.password,placeholder:"Enter your password",required:!0}),A("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between space-y-3 sm:space-y-0",children:[A("div",{className:"flex items-center",children:[y("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded touch-manipulation",style:{minHeight:"20px",minWidth:"20px"}}),y("label",{htmlFor:"remember-me",className:"ml-3 block text-sm text-gray-900 dark:text-gray-100",children:"Remember me"})]}),y("div",{className:"text-sm",children:y("a",{href:"#",className:"font-medium text-primary-600 hover:text-primary-500 py-2 px-1 -mx-1 rounded touch-manipulation",children:"Forgot your password?"})})]}),y(Ee,{type:"submit",loading:a,className:"w-full",children:"Sign in"})]}),A("div",{className:"mt-6",children:[A("div",{className:"relative",children:[y("div",{className:"absolute inset-0 flex items-center",children:y("div",{className:"w-full border-t border-gray-300"})}),y("div",{className:"relative flex justify-center text-sm",children:y("span",{className:"px-2 bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400",children:"Or continue with"})})]}),A("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 gap-3",children:[A(Ee,{variant:"secondary",className:"w-full mobile-button",children:[A("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[y("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),y("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),y("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),y("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),y("span",{className:"ml-2",children:"Google"})]}),A(Ee,{variant:"secondary",className:"w-full mobile-button",children:[y("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:y("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806.026-1.566.247-2.229.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})}),y("span",{className:"ml-2",children:"Twitter"})]})]})]}),y("div",{className:"mt-6 text-center",children:A("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Don't have an account?"," ",y(eD,{to:"/register",className:"font-medium text-primary-600 hover:text-primary-500 py-2 px-1 -mx-1 rounded touch-manipulation",children:"Sign up"})]})})]})]})]})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},O9=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],o=t[r++],s=t[r++],l=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const a=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},mD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,s=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=a>>2,d=(a&3)<<4|s>>4;let h=(s&15)<<2|c>>6,p=c&63;l||(p=64,o||(h=64)),n.push(r[u],r[d],r[h],r[p])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(pD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):O9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],s=i<t.length?r[t.charAt(i)]:0;++i;const c=i<t.length?r[t.charAt(i)]:64;++i;const d=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||s==null||c==null||d==null)throw new N9;const h=a<<2|s>>4;if(n.push(h),c!==64){const p=s<<4&240|c>>2;if(n.push(p),d!==64){const m=c<<6&192|d;n.push(m)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class N9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const D9=function(t){const e=pD(t);return mD.encodeByteArray(e,!0)},im=function(t){return D9(t).replace(/\./g,"")},gD=function(t){try{return mD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M9=()=>R9().__FIREBASE_DEFAULTS__,L9=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},j9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&gD(t[1]);return e&&JSON.parse(e)},Pg=()=>{try{return M9()||L9()||j9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yD=t=>{var e,r;return(r=(e=Pg())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},vD=t=>{const e=yD(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},wD=()=>{var t;return(t=Pg())===null||t===void 0?void 0:t.config},bD=t=>{var e;return(e=Pg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t),s="";return[im(JSON.stringify(r)),im(JSON.stringify(o)),s].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function V9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Or())}function F9(){var t;const e=(t=Pg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function U9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function B9(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function z9(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function W9(){const t=Or();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function q9(){return!F9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function K9(){try{return typeof indexedDB=="object"}catch{return!1}}function H9(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G9="FirebaseError";class Pi extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=G9,Object.setPrototypeOf(this,Pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hf.prototype.create)}}class hf{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?Y9(a,n):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new Pi(i,s,n)}}function Y9(t,e){return t.replace(Q9,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const Q9=/\{\$([^}]+)}/g;function X9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function am(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],o=e[i];if(GT(a)&&GT(o)){if(!am(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function GT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Vu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Fu(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function J9(t,e){const r=new Z9(t,e);return r.subscribe.bind(r)}class Z9{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");ez(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=Vv),i.error===void 0&&(i.error=Vv),i.complete===void 0&&(i.complete=Vv);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ez(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function Vv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(t){return t&&t._delegate?t._delegate:t}class ko{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tz=class{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new $9;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nz(e))try{this.getOrInitializeService({instanceIdentifier:ns})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=ns){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ns){return this.instances.has(e)}getOptions(e=ns){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);n===s&&o.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:rz(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=ns){return this.component?this.component.multipleInstances?e:ns:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function rz(t){return t===ns?void 0:t}function nz(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new tz(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Pe||(Pe={}));const az={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},oz=Pe.INFO,sz={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},lz=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=sz[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class v1{constructor(e){this.name=e,this._logLevel=oz,this._logHandler=lz,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?az[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const cz=(t,e)=>e.some(r=>t instanceof r);let YT,QT;function uz(){return YT||(YT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dz(){return QT||(QT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xD=new WeakMap,jw=new WeakMap,ED=new WeakMap,Fv=new WeakMap,w1=new WeakMap;function fz(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{r(yo(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&xD.set(r,t)}).catch(()=>{}),w1.set(e,t),e}function hz(t){if(jw.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});jw.set(t,e)}let $w={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return jw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ED.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return yo(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function pz(t){$w=t($w)}function mz(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Uv(this),e,...r);return ED.set(n,e.sort?e.sort():[e]),yo(n)}:dz().includes(t)?function(...e){return t.apply(Uv(this),e),yo(xD.get(this))}:function(...e){return yo(t.apply(Uv(this),e))}}function gz(t){return typeof t=="function"?mz(t):(t instanceof IDBTransaction&&hz(t),cz(t,uz())?new Proxy(t,$w):t)}function yo(t){if(t instanceof IDBRequest)return fz(t);if(Fv.has(t))return Fv.get(t);const e=gz(t);return e!==t&&(Fv.set(t,e),w1.set(e,t)),e}const Uv=t=>w1.get(t);function yz(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),s=yo(o);return n&&o.addEventListener("upgradeneeded",l=>{n(yo(o.result),l.oldVersion,l.newVersion,yo(o.transaction),l)}),r&&o.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),s}const vz=["get","getKey","getAll","getAllKeys","count"],wz=["put","add","delete","clear"],Bv=new Map;function XT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Bv.get(e))return Bv.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=wz.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||vz.includes(r)))return;const a=async function(o,...s){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(s.shift())),(await Promise.all([c[r](...s),i&&l.done]))[0]};return Bv.set(e,a),a}pz(t=>({...t,get:(e,r,n)=>XT(e,r)||t.get(e,r,n),has:(e,r)=>!!XT(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bz{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(_z(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function _z(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Vw="@firebase/app",JT="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=new v1("@firebase/app"),xz="@firebase/app-compat",Ez="@firebase/analytics-compat",kz="@firebase/analytics",Sz="@firebase/app-check-compat",Tz="@firebase/app-check",Az="@firebase/auth",Pz="@firebase/auth-compat",Iz="@firebase/database",Cz="@firebase/data-connect",Oz="@firebase/database-compat",Nz="@firebase/functions",Dz="@firebase/functions-compat",Rz="@firebase/installations",Mz="@firebase/installations-compat",Lz="@firebase/messaging",jz="@firebase/messaging-compat",$z="@firebase/performance",Vz="@firebase/performance-compat",Fz="@firebase/remote-config",Uz="@firebase/remote-config-compat",Bz="@firebase/storage",zz="@firebase/storage-compat",Wz="@firebase/firestore",qz="@firebase/vertexai-preview",Kz="@firebase/firestore-compat",Hz="firebase",Gz="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw="[DEFAULT]",Yz={[Vw]:"fire-core",[xz]:"fire-core-compat",[kz]:"fire-analytics",[Ez]:"fire-analytics-compat",[Tz]:"fire-app-check",[Sz]:"fire-app-check-compat",[Az]:"fire-auth",[Pz]:"fire-auth-compat",[Iz]:"fire-rtdb",[Cz]:"fire-data-connect",[Oz]:"fire-rtdb-compat",[Nz]:"fire-fn",[Dz]:"fire-fn-compat",[Rz]:"fire-iid",[Mz]:"fire-iid-compat",[Lz]:"fire-fcm",[jz]:"fire-fcm-compat",[$z]:"fire-perf",[Vz]:"fire-perf-compat",[Fz]:"fire-rc",[Uz]:"fire-rc-compat",[Bz]:"fire-gcs",[zz]:"fire-gcs-compat",[Wz]:"fire-fst",[Kz]:"fire-fst-compat",[qz]:"fire-vertex","fire-js":"fire-js",[Hz]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om=new Map,Qz=new Map,Uw=new Map;function ZT(t,e){try{t.container.addComponent(e)}catch(r){ua.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Ds(t){const e=t.name;if(Uw.has(e))return ua.debug(`There were multiple attempts to register component ${e}.`),!1;Uw.set(e,t);for(const r of om.values())ZT(r,t);for(const r of Qz.values())ZT(r,t);return!0}function Ig(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function pi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vo=new hf("app","Firebase",Xz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jz{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ko("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=Gz;function kD(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Fw,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw vo.create("bad-app-name",{appName:String(i)});if(r||(r=wD()),!r)throw vo.create("no-options");const a=om.get(i);if(a){if(am(r,a.options)&&am(n,a.config))return a;throw vo.create("duplicate-app",{appName:i})}const o=new iz(i);for(const l of Uw.values())o.addComponent(l);const s=new Jz(r,n,o);return om.set(i,s),s}function b1(t=Fw){const e=om.get(t);if(!e&&t===Fw&&wD())return kD();if(!e)throw vo.create("no-app",{appName:t});return e}function wi(t,e,r){var n;let i=(n=Yz[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const s=[`Unable to register library "${i}" with version "${e}":`];a&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ua.warn(s.join(" "));return}Ds(new ko(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zz="firebase-heartbeat-database",e8=1,Dd="firebase-heartbeat-store";let zv=null;function SD(){return zv||(zv=yz(Zz,e8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Dd)}catch(r){console.warn(r)}}}}).catch(t=>{throw vo.create("idb-open",{originalErrorMessage:t.message})})),zv}async function t8(t){try{const r=(await SD()).transaction(Dd),n=await r.objectStore(Dd).get(TD(t));return await r.done,n}catch(e){if(e instanceof Pi)ua.warn(e.message);else{const r=vo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ua.warn(r.message)}}}async function eA(t,e){try{const n=(await SD()).transaction(Dd,"readwrite");await n.objectStore(Dd).put(e,TD(t)),await n.done}catch(r){if(r instanceof Pi)ua.warn(r.message);else{const n=vo.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});ua.warn(n.message)}}}function TD(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r8=1024,n8=30*24*60*60*1e3;class i8{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new o8(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=tA();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=n8}),this._storage.overwrite(this._heartbeatsCache))}catch(n){ua.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=tA(),{heartbeatsToSend:n,unsentEntries:i}=a8(this._heartbeatsCache.heartbeats),a=im(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return ua.warn(r),""}}}function tA(){return new Date().toISOString().substring(0,10)}function a8(t,e=r8){const r=[];let n=t.slice();for(const i of t){const a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),rA(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),rA(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class o8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return K9()?H9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await t8(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return eA(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return eA(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function rA(t){return im(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s8(t){Ds(new ko("platform-logger",e=>new bz(e),"PRIVATE")),Ds(new ko("heartbeat",e=>new i8(e),"PRIVATE")),wi(Vw,JT,t),wi(Vw,JT,"esm2017"),wi("fire-js","")}s8("");function _1(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function AD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const l8=AD,PD=new hf("auth","Firebase",AD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm=new v1("@firebase/auth");function c8(t,...e){sm.logLevel<=Pe.WARN&&sm.warn(`Auth (${Gs}): ${t}`,...e)}function wp(t,...e){sm.logLevel<=Pe.ERROR&&sm.error(`Auth (${Gs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(t,...e){throw x1(t,...e)}function bi(t,...e){return x1(t,...e)}function ID(t,e,r){const n=Object.assign(Object.assign({},l8()),{[e]:r});return new hf("auth","Firebase",n).create(e,{appName:t.name})}function ea(t){return ID(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function x1(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return PD.create(t,...e)}function pe(t,e,...r){if(!t)throw x1(e,...r)}function Hi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw wp(e),new Error(e)}function da(t,e){t||Hi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function u8(){return nA()==="http:"||nA()==="https:"}function nA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(u8()||B9()||"connection"in navigator)?navigator.onLine:!0}function f8(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,r){this.shortDelay=e,this.longDelay=r,da(r>e,"Short delay should be less than long delay!"),this.isMobile=V9()||z9()}get(){return d8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(t,e){da(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p8=new mf(3e4,6e4);function $o(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ba(t,e,r,n,i={}){return OD(t,i,async()=>{let a={},o={};n&&(e==="GET"?o=n:a={body:JSON.stringify(n)});const s=pf(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},a);return U9()||(c.referrerPolicy="no-referrer"),CD.fetch()(ND(t,t.config.apiHost,r,s),c)})}async function OD(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},h8),e);try{const i=new g8(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw Dh(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const s=a.ok?o.errorMessage:o.error.message,[l,c]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Dh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Dh(t,"user-disabled",o);const u=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw ID(t,u,c);ii(t,u)}}catch(i){if(i instanceof Pi)throw i;ii(t,"network-request-failed",{message:String(i)})}}async function gf(t,e,r,n,i={}){const a=await ba(t,e,r,n,i);return"mfaPendingCredential"in a&&ii(t,"multi-factor-auth-required",{_serverResponse:a}),a}function ND(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?E1(t.config,i):`${t.config.apiScheme}://${i}`}function m8(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class g8{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(bi(this.auth,"network-request-failed")),p8.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Dh(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=bi(t,e,n);return i.customData._tokenResponse=r,i}function iA(t){return t!==void 0&&t.enterprise!==void 0}class y8{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return m8(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function v8(t,e){return ba(t,"GET","/v2/recaptchaConfig",$o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w8(t,e){return ba(t,"POST","/v1/accounts:delete",e)}async function DD(t,e){return ba(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function b8(t,e=!1){const r=Et(t),n=await r.getIdToken(e),i=k1(n);pe(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:od(Wv(i.auth_time)),issuedAtTime:od(Wv(i.iat)),expirationTime:od(Wv(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Wv(t){return Number(t)*1e3}function k1(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return wp("JWT malformed, contained fewer than 3 sections"),null;try{const i=gD(r);return i?JSON.parse(i):(wp("Failed to decode base64 JWT payload"),null)}catch(i){return wp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function aA(t){const e=k1(t);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oc(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Pi&&_8(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function _8({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=od(this.lastLoginAt),this.creationTime=od(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lm(t){var e;const r=t.auth,n=await t.getIdToken(),i=await oc(t,DD(r,{idToken:n}));pe(i==null?void 0:i.users.length,r,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?RD(a.providerUserInfo):[],s=k8(t.providerData,o),l=t.isAnonymous,c=!(t.email&&a.passwordHash)&&!(s!=null&&s.length),u=l?c:!1,d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new zw(a.createdAt,a.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function E8(t){const e=Et(t);await lm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function k8(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function RD(t){return t.map(e=>{var{providerId:r}=e,n=_1(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S8(t,e){const r=await OD(t,{},async()=>{const n=pf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=ND(t,i,"/v1/token",`key=${a}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",CD.fetch()(o,{method:"POST",headers:s,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function T8(t,e){return ba(t,"POST","/v2/accounts:revokeToken",$o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):aA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){pe(e.length!==0,"internal-error");const r=aA(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await S8(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,o=new ql;return n&&(pe(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),i&&(pe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(pe(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ql,this.toJSON())}_performRefresh(){return Hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(t,e){pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Gi{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,a=_1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new x8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new zw(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await oc(this,this.stsTokenManager.getToken(this.auth,e));return pe(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return b8(this,e)}reload(){return E8(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Gi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await lm(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pi(this.auth.app))return Promise.reject(ea(this.auth));const e=await this.getIdToken();return await oc(this,w8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,a,o,s,l,c,u;const d=(n=r.displayName)!==null&&n!==void 0?n:void 0,h=(i=r.email)!==null&&i!==void 0?i:void 0,p=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,m=(o=r.photoURL)!==null&&o!==void 0?o:void 0,g=(s=r.tenantId)!==null&&s!==void 0?s:void 0,b=(l=r._redirectEventId)!==null&&l!==void 0?l:void 0,w=(c=r.createdAt)!==null&&c!==void 0?c:void 0,x=(u=r.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:E,emailVerified:C,isAnonymous:I,providerData:M,stsTokenManager:T}=r;pe(E&&T,e,"internal-error");const S=ql.fromJSON(this.name,T);pe(typeof E=="string",e,"internal-error"),Va(d,e.name),Va(h,e.name),pe(typeof C=="boolean",e,"internal-error"),pe(typeof I=="boolean",e,"internal-error"),Va(p,e.name),Va(m,e.name),Va(g,e.name),Va(b,e.name),Va(w,e.name),Va(x,e.name);const N=new Gi({uid:E,auth:e,email:h,emailVerified:C,displayName:d,isAnonymous:I,photoURL:m,phoneNumber:p,tenantId:g,stsTokenManager:S,createdAt:w,lastLoginAt:x});return M&&Array.isArray(M)&&(N.providerData=M.map(L=>Object.assign({},L))),b&&(N._redirectEventId=b),N}static async _fromIdTokenResponse(e,r,n=!1){const i=new ql;i.updateFromServerResponse(r);const a=new Gi({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await lm(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];pe(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?RD(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),s=new ql;s.updateFromIdToken(n);const l=new Gi({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new zw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA=new Map;function Yi(t){da(t instanceof Function,"Expected a class definition");let e=oA.get(t);return e?(da(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,oA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}MD.type="NONE";const sA=MD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(t,e,r){return`firebase:${t}:${e}:${r}`}class Kl{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=bp(this.userKey,i.apiKey,a),this.fullPersistenceKey=bp("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Gi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Kl(Yi(sA),e,n);const i=(await Promise.all(r.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let a=i[0]||Yi(sA);const o=bp(n,e.config.apiKey,e.name);let s=null;for(const c of r)try{const u=await c._get(o);if(u){const d=Gi._fromJSON(e,u);c!==a&&(s=d),a=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new Kl(a,e,n):(a=l[0],s&&await a._set(o,s.toJSON()),await Promise.all(r.map(async c=>{if(c!==a)try{await c._remove(o)}catch{}})),new Kl(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(VD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(LD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UD(e))return"Blackberry";if(BD(e))return"Webos";if(jD(e))return"Safari";if((e.includes("chrome/")||$D(e))&&!e.includes("edge/"))return"Chrome";if(FD(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function LD(t=Or()){return/firefox\//i.test(t)}function jD(t=Or()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $D(t=Or()){return/crios\//i.test(t)}function VD(t=Or()){return/iemobile/i.test(t)}function FD(t=Or()){return/android/i.test(t)}function UD(t=Or()){return/blackberry/i.test(t)}function BD(t=Or()){return/webos/i.test(t)}function S1(t=Or()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function A8(t=Or()){var e;return S1(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function P8(){return W9()&&document.documentMode===10}function zD(t=Or()){return S1(t)||FD(t)||BD(t)||UD(t)||/windows phone/i.test(t)||VD(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(t,e=[]){let r;switch(t){case"Browser":r=lA(Or());break;case"Worker":r=`${lA(Or())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Gs}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((o,s)=>{try{const l=e(a);o(l)}catch(l){s(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C8(t,e={}){return ba(t,"GET","/v2/passwordPolicy",$o(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O8=6;class N8{constructor(e){var r,n,i,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:O8,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,a,o,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(r=l.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsUppercaseLetter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cA(this),this.idTokenSubscription=new cA(this),this.beforeStateQueue=new I8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=PD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Yi(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await Kl.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await DD(this,{idToken:e}),n=await Gi._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(pi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===s)&&(l!=null&&l.user)&&(i=l.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await lm(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=f8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pi(this.app))return Promise.reject(ea(this));const r=e?Et(e):null;return r&&pe(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pi(this.app)?Promise.reject(ea(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pi(this.app)?Promise.reject(ea(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await C8(this),r=new N8(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new hf("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await T8(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Yi(e)||this._popupRedirectResolver;pe(r,this,"argument-error"),this.redirectPersistenceManager=await Kl.create(this,[Yi(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(s,this,"internal-error"),s.then(()=>{o||a(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,i);return()=>{o=!0,l()}}else{const l=e.addObserver(r);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=WD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&c8(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Ys(t){return Et(t)}class cA{constructor(e){this.auth=e,this.observer=null,this.addObserver=J9(r=>this.observer=r)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function R8(t){Cg=t}function qD(t){return Cg.loadJS(t)}function M8(){return Cg.recaptchaEnterpriseScript}function L8(){return Cg.gapiScript}function j8(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const $8="recaptcha-enterprise",V8="NO_RECAPTCHA";class F8{constructor(e){this.type=$8,this.auth=Ys(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,s)=>{v8(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const c=new y8(l);return a.tenantId==null?a._agentRecaptchaConfig=c:a._tenantRecaptchaConfigs[a.tenantId]=c,o(c.siteKey)}}).catch(l=>{s(l)})})}function i(a,o,s){const l=window.grecaptcha;iA(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(c=>{o(c)}).catch(()=>{o(V8)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,o)=>{n(this.auth).then(s=>{if(!r&&iA(window.grecaptcha))i(s,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=M8();l.length!==0&&(l+=s),qD(l).then(()=>{i(s,a,o)}).catch(c=>{o(c)})}}).catch(s=>{o(s)})})}}async function uA(t,e,r,n=!1){const i=new F8(t);let a;try{a=await i.verify(r)}catch{a=await i.verify(r,!0)}const o=Object.assign({},e);return n?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Ww(t,e,r,n){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await uA(t,e,r,r==="getOobCode");return n(t,a)}else return n(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await uA(t,e,r,r==="getOobCode");return n(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U8(t,e){const r=Ig(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(am(a,e??{}))return i;ii(i,"already-initialized")}return r.initialize({options:e})}function B8(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Yi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function z8(t,e,r){const n=Ys(t);pe(n._canInitEmulator,n,"emulator-config-failed"),pe(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!!(r!=null&&r.disableWarnings),a=KD(e),{host:o,port:s}=W8(e),l=s===null?"":`:${s}`;n.config.emulator={url:`${a}//${o}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||q8()}function KD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function W8(t){const e=KD(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:dA(n.substr(a.length+1))}}else{const[a,o]=n.split(":");return{host:a,port:dA(o)}}}function dA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function q8(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Hi("not implemented")}_getIdTokenResponse(e){return Hi("not implemented")}_linkToIdToken(e,r){return Hi("not implemented")}_getReauthenticationResolver(e){return Hi("not implemented")}}async function K8(t,e){return ba(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H8(t,e){return gf(t,"POST","/v1/accounts:signInWithPassword",$o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G8(t,e){return gf(t,"POST","/v1/accounts:signInWithEmailLink",$o(t,e))}async function Y8(t,e){return gf(t,"POST","/v1/accounts:signInWithEmailLink",$o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd extends T1{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new Rd(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new Rd(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ww(e,r,"signInWithPassword",H8);case"emailLink":return G8(e,{email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ww(e,n,"signUpPassword",K8);case"emailLink":return Y8(e,{idToken:r,email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hl(t,e){return gf(t,"POST","/v1/accounts:signInWithIdp",$o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q8="http://localhost";class Rs extends T1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Rs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):ii("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,a=_1(r,["providerId","signInMethod"]);if(!n||!i)return null;const o=new Rs(n,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return Hl(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Hl(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Hl(e,r)}buildRequest(){const e={requestUri:Q8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=pf(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X8(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function J8(t){const e=Vu(Fu(t)).link,r=e?Vu(Fu(e)).deep_link_id:null,n=Vu(Fu(t)).deep_link_id;return(n?Vu(Fu(n)).link:null)||n||r||e||t}class A1{constructor(e){var r,n,i,a,o,s;const l=Vu(Fu(e)),c=(r=l.apiKey)!==null&&r!==void 0?r:null,u=(n=l.oobCode)!==null&&n!==void 0?n:null,d=X8((i=l.mode)!==null&&i!==void 0?i:null);pe(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(a=l.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(s=l.tenantId)!==null&&s!==void 0?s:null}static parseLink(e){const r=J8(e);try{return new A1(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(){this.providerId=Cc.PROVIDER_ID}static credential(e,r){return Rd._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=A1.parseLink(r);return pe(n,"argument-error"),Rd._fromEmailAndCode(e,n.code,n.tenantId)}}Cc.PROVIDER_ID="password";Cc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Cc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf extends HD{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa extends yf{constructor(){super("facebook.com")}static credential(e){return Rs._fromParams({providerId:Xa.PROVIDER_ID,signInMethod:Xa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xa.credentialFromTaggedObject(e)}static credentialFromError(e){return Xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xa.credential(e.oauthAccessToken)}catch{return null}}}Xa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja extends yf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Rs._fromParams({providerId:Ja.PROVIDER_ID,signInMethod:Ja.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Ja.credentialFromTaggedObject(e)}static credentialFromError(e){return Ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Ja.credential(r,n)}catch{return null}}}Ja.GOOGLE_SIGN_IN_METHOD="google.com";Ja.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za extends yf{constructor(){super("github.com")}static credential(e){return Rs._fromParams({providerId:Za.PROVIDER_ID,signInMethod:Za.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Za.credentialFromTaggedObject(e)}static credentialFromError(e){return Za.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Za.credential(e.oauthAccessToken)}catch{return null}}}Za.GITHUB_SIGN_IN_METHOD="github.com";Za.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo extends yf{constructor(){super("twitter.com")}static credential(e,r){return Rs._fromParams({providerId:eo.PROVIDER_ID,signInMethod:eo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return eo.credentialFromTaggedObject(e)}static credentialFromError(e){return eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return eo.credential(r,n)}catch{return null}}}eo.TWITTER_SIGN_IN_METHOD="twitter.com";eo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z8(t,e){return gf(t,"POST","/v1/accounts:signUp",$o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await Gi._fromIdTokenResponse(e,n,i),o=fA(n);return new Ms({user:a,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=fA(n);return new Ms({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function fA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm extends Pi{constructor(e,r,n,i){var a;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,cm.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new cm(e,r,n,i)}}function GD(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?cm._fromErrorAndOperation(t,a,e,n):a})}async function eW(t,e,r=!1){const n=await oc(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Ms._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tW(t,e,r=!1){const{auth:n}=t;if(pi(n.app))return Promise.reject(ea(n));const i="reauthenticate";try{const a=await oc(t,GD(n,i,e,t),r);pe(a.idToken,n,"internal-error");const o=k1(a.idToken);pe(o,n,"internal-error");const{sub:s}=o;return pe(t.uid===s,n,"user-mismatch"),Ms._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&ii(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YD(t,e,r=!1){if(pi(t.app))return Promise.reject(ea(t));const n="signIn",i=await GD(t,n,e),a=await Ms._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function rW(t,e){return YD(Ys(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QD(t){const e=Ys(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function nW(t,e,r){if(pi(t.app))return Promise.reject(ea(t));const n=Ys(t),o=await Ww(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Z8).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&QD(t),l}),s=await Ms._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(s.user),s}function hA(t,e,r){return pi(t.app)?Promise.reject(ea(t)):rW(Et(t),Cc.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&QD(t),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iW(t,e){return ba(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aW(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const n=Et(t),a={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},o=await oc(n,iW(n.auth,a));n.displayName=o.displayName||null,n.photoURL=o.photoUrl||null;const s=n.providerData.find(({providerId:l})=>l==="password");s&&(s.displayName=n.displayName,s.photoURL=n.photoURL),await n._updateTokensIfNecessary(o)}function oW(t,e,r,n){return Et(t).onIdTokenChanged(e,r,n)}function sW(t,e,r){return Et(t).beforeAuthStateChanged(e,r)}function lW(t){return Et(t).signOut()}const um="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(um,"1"),this.storage.removeItem(um),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cW=1e3,uW=10;class JD extends XD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,s,l)=>{this.notifyListeners(o,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},a=this.storage.getItem(n);P8()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,uW):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},cW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}JD.type="LOCAL";const dW=JD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD extends XD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}ZD.type="SESSION";const eR=ZD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fW(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new Og(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const s=Array.from(o).map(async c=>c(r.origin,a)),l=await fW(s);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Og.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hW{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((s,l)=>{const c=P1("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),s(h.data.response);break;default:clearTimeout(u),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(){return window}function pW(t){_i().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(){return typeof _i().WorkerGlobalScope<"u"&&typeof _i().importScripts=="function"}async function mW(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gW(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function yW(){return tR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR="firebaseLocalStorageDb",vW=1,dm="firebaseLocalStorage",nR="fbase_key";class vf{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Ng(t,e){return t.transaction([dm],e?"readwrite":"readonly").objectStore(dm)}function wW(){const t=indexedDB.deleteDatabase(rR);return new vf(t).toPromise()}function qw(){const t=indexedDB.open(rR,vW);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(dm,{keyPath:nR})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(dm)?e(n):(n.close(),await wW(),e(await qw()))})})}async function pA(t,e,r){const n=Ng(t,!0).put({[nR]:e,value:r});return new vf(n).toPromise()}async function bW(t,e){const r=Ng(t,!1).get(e),n=await new vf(r).toPromise();return n===void 0?null:n.value}function mA(t,e){const r=Ng(t,!0).delete(e);return new vf(r).toPromise()}const _W=800,xW=3;class iR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qw(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>xW)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Og._getInstance(yW()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await mW(),!this.activeServiceWorker)return;this.sender=new hW(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gW()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qw();return await pA(e,um,"1"),await mA(e,um),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>pA(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>bW(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>mA(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Ng(i,!1).getAll();return new vf(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_W)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iR.type="LOCAL";const EW=iR;new mf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kW(t,e){return e?Yi(e):(pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1 extends T1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hl(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Hl(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Hl(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function SW(t){return YD(t.auth,new I1(t),t.bypassAuthState)}function TW(t){const{auth:e,user:r}=t;return pe(r,e,"internal-error"),tW(r,new I1(t),t.bypassAuthState)}async function AW(t){const{auth:e,user:r}=t;return pe(r,e,"internal-error"),eW(r,new I1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:o,type:s}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return SW;case"linkViaPopup":case"linkViaRedirect":return AW;case"reauthViaPopup":case"reauthViaRedirect":return TW;default:ii(this.auth,"internal-error")}}resolve(e){da(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){da(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PW=new mf(2e3,1e4);class Ol extends aR{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,Ol.currentPopupAction&&Ol.currentPopupAction.cancel(),Ol.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pe(e,this.auth,"internal-error"),e}async onExecution(){da(this.filter.length===1,"Popup operations only handle one event");const e=P1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ol.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,PW.get())};e()}}Ol.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IW="pendingRedirect",_p=new Map;class CW extends aR{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=_p.get(this.auth._key());if(!e){try{const n=await OW(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}_p.set(this.auth._key(),e)}return this.bypassAuthState||_p.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function OW(t,e){const r=RW(e),n=DW(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function NW(t,e){_p.set(t._key(),e)}function DW(t){return Yi(t._redirectPersistence)}function RW(t){return bp(IW,t.config.apiKey,t.name)}async function MW(t,e,r=!1){if(pi(t.app))return Promise.reject(ea(t));const n=Ys(t),i=kW(n,e),o=await new CW(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LW=10*60*1e3;class jW{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$W(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!oR(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(bi(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=LW&&this.cachedEventUids.clear(),this.cachedEventUids.has(gA(e))}saveEventToCache(e){this.cachedEventUids.add(gA(e)),this.lastProcessedEventTime=Date.now()}}function gA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function oR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function $W(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VW(t,e={}){return ba(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UW=/^https?/;async function BW(t){if(t.config.emulator)return;const{authorizedDomains:e}=await VW(t);for(const r of e)try{if(zW(r))return}catch{}ii(t,"unauthorized-domain")}function zW(t){const e=Bw(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!UW.test(r))return!1;if(FW.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WW=new mf(3e4,6e4);function yA(){const t=_i().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function qW(t){return new Promise((e,r)=>{var n,i,a;function o(){yA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yA(),r(bi(t,"network-request-failed"))},timeout:WW.get()})}if(!((i=(n=_i().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=_i().gapi)===null||a===void 0)&&a.load)o();else{const s=j8("iframefcb");return _i()[s]=()=>{gapi.load?o():r(bi(t,"network-request-failed"))},qD(`${L8()}?onload=${s}`).catch(l=>r(l))}}).catch(e=>{throw xp=null,e})}let xp=null;function KW(t){return xp=xp||qW(t),xp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HW=new mf(5e3,15e3),GW="__/auth/iframe",YW="emulator/auth/iframe",QW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function JW(t){const e=t.config;pe(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?E1(e,YW):`https://${t.config.authDomain}/${GW}`,n={apiKey:e.apiKey,appName:t.name,v:Gs},i=XW.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${pf(n).slice(1)}`}async function ZW(t){const e=await KW(t),r=_i().gapi;return pe(r,t,"internal-error"),e.open({where:document.body,url:JW(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QW,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const o=bi(t,"network-request-failed"),s=_i().setTimeout(()=>{a(o)},HW.get());function l(){_i().clearTimeout(s),i(n)}n.ping(l).then(l,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},t7=500,r7=600,n7="_blank",i7="http://localhost";class vA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function a7(t,e,r,n=t7,i=r7){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let s="";const l=Object.assign(Object.assign({},e7),{width:n.toString(),height:i.toString(),top:a,left:o}),c=Or().toLowerCase();r&&(s=$D(c)?n7:r),LD(c)&&(e=e||i7,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,m])=>`${h}${p}=${m},`,"");if(A8(c)&&s!=="_self")return o7(e||"",s),new vA(null);const d=window.open(e||"",s,u);pe(d,t,"popup-blocked");try{d.focus()}catch{}return new vA(d)}function o7(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s7="__/auth/handler",l7="emulator/auth/handler",c7=encodeURIComponent("fac");async function wA(t,e,r,n,i,a){pe(t.config.authDomain,t,"auth-domain-config-required"),pe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Gs,eventId:i};if(e instanceof HD){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",X9(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(a||{}))o[u]=d}if(e instanceof yf){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const s=o;for(const u of Object.keys(s))s[u]===void 0&&delete s[u];const l=await t._getAppCheckToken(),c=l?`#${c7}=${encodeURIComponent(l)}`:"";return`${u7(t)}?${pf(s).slice(1)}${c}`}function u7({config:t}){return t.emulator?E1(t,l7):`https://${t.authDomain}/${s7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv="webStorageSupport";class d7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eR,this._completeRedirectFn=MW,this._overrideRedirectResult=NW}async _openPopup(e,r,n,i){var a;da((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await wA(e,r,n,Bw(),i);return a7(e,o,P1())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await wA(e,r,n,Bw(),i);return pW(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(da(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await ZW(e),n=new jW(e);return r.register("authEvent",i=>(pe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(qv,{type:qv},i=>{var a;const o=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[qv];o!==void 0&&r(!!o),ii(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=BW(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return zD()||jD()||S1()}}const f7=d7;var bA="@firebase/auth",_A="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function m7(t){Ds(new ko("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=n.options;pe(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:o,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WD(t)},c=new D8(n,i,a,l);return B8(c,r),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Ds(new ko("auth-internal",e=>{const r=Ys(e.getProvider("auth").getImmediate());return(n=>new h7(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),wi(bA,_A,p7(t)),wi(bA,_A,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g7=5*60,y7=bD("authIdTokenMaxAge")||g7;let xA=null;const v7=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>y7)return;const i=r==null?void 0:r.token;xA!==i&&(xA=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function w7(t=b1()){const e=Ig(t,"auth");if(e.isInitialized())return e.getImmediate();const r=U8(t,{popupRedirectResolver:f7,persistence:[EW,dW,eR]}),n=bD("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const o=v7(a.toString());sW(r,o,()=>o(r.currentUser)),oW(r,s=>o(s))}}const i=yD("auth");return i&&z8(r,`http://${i}`),r}function b7(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}R8({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=bi("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",b7().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});m7("Browser");var EA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _s,sR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,S){function N(){}N.prototype=S.prototype,T.D=S.prototype,T.prototype=new N,T.prototype.constructor=T,T.C=function(L,D,O){for(var P=Array(arguments.length-2),U=2;U<arguments.length;U++)P[U-2]=arguments[U];return S.prototype[D].apply(L,P)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,S,N){N||(N=0);var L=Array(16);if(typeof S=="string")for(var D=0;16>D;++D)L[D]=S.charCodeAt(N++)|S.charCodeAt(N++)<<8|S.charCodeAt(N++)<<16|S.charCodeAt(N++)<<24;else for(D=0;16>D;++D)L[D]=S[N++]|S[N++]<<8|S[N++]<<16|S[N++]<<24;S=T.g[0],N=T.g[1],D=T.g[2];var O=T.g[3],P=S+(O^N&(D^O))+L[0]+3614090360&4294967295;S=N+(P<<7&4294967295|P>>>25),P=O+(D^S&(N^D))+L[1]+3905402710&4294967295,O=S+(P<<12&4294967295|P>>>20),P=D+(N^O&(S^N))+L[2]+606105819&4294967295,D=O+(P<<17&4294967295|P>>>15),P=N+(S^D&(O^S))+L[3]+3250441966&4294967295,N=D+(P<<22&4294967295|P>>>10),P=S+(O^N&(D^O))+L[4]+4118548399&4294967295,S=N+(P<<7&4294967295|P>>>25),P=O+(D^S&(N^D))+L[5]+1200080426&4294967295,O=S+(P<<12&4294967295|P>>>20),P=D+(N^O&(S^N))+L[6]+2821735955&4294967295,D=O+(P<<17&4294967295|P>>>15),P=N+(S^D&(O^S))+L[7]+4249261313&4294967295,N=D+(P<<22&4294967295|P>>>10),P=S+(O^N&(D^O))+L[8]+1770035416&4294967295,S=N+(P<<7&4294967295|P>>>25),P=O+(D^S&(N^D))+L[9]+2336552879&4294967295,O=S+(P<<12&4294967295|P>>>20),P=D+(N^O&(S^N))+L[10]+4294925233&4294967295,D=O+(P<<17&4294967295|P>>>15),P=N+(S^D&(O^S))+L[11]+2304563134&4294967295,N=D+(P<<22&4294967295|P>>>10),P=S+(O^N&(D^O))+L[12]+1804603682&4294967295,S=N+(P<<7&4294967295|P>>>25),P=O+(D^S&(N^D))+L[13]+4254626195&4294967295,O=S+(P<<12&4294967295|P>>>20),P=D+(N^O&(S^N))+L[14]+2792965006&4294967295,D=O+(P<<17&4294967295|P>>>15),P=N+(S^D&(O^S))+L[15]+1236535329&4294967295,N=D+(P<<22&4294967295|P>>>10),P=S+(D^O&(N^D))+L[1]+4129170786&4294967295,S=N+(P<<5&4294967295|P>>>27),P=O+(N^D&(S^N))+L[6]+3225465664&4294967295,O=S+(P<<9&4294967295|P>>>23),P=D+(S^N&(O^S))+L[11]+643717713&4294967295,D=O+(P<<14&4294967295|P>>>18),P=N+(O^S&(D^O))+L[0]+3921069994&4294967295,N=D+(P<<20&4294967295|P>>>12),P=S+(D^O&(N^D))+L[5]+3593408605&4294967295,S=N+(P<<5&4294967295|P>>>27),P=O+(N^D&(S^N))+L[10]+38016083&4294967295,O=S+(P<<9&4294967295|P>>>23),P=D+(S^N&(O^S))+L[15]+3634488961&4294967295,D=O+(P<<14&4294967295|P>>>18),P=N+(O^S&(D^O))+L[4]+3889429448&4294967295,N=D+(P<<20&4294967295|P>>>12),P=S+(D^O&(N^D))+L[9]+568446438&4294967295,S=N+(P<<5&4294967295|P>>>27),P=O+(N^D&(S^N))+L[14]+3275163606&4294967295,O=S+(P<<9&4294967295|P>>>23),P=D+(S^N&(O^S))+L[3]+4107603335&4294967295,D=O+(P<<14&4294967295|P>>>18),P=N+(O^S&(D^O))+L[8]+1163531501&4294967295,N=D+(P<<20&4294967295|P>>>12),P=S+(D^O&(N^D))+L[13]+2850285829&4294967295,S=N+(P<<5&4294967295|P>>>27),P=O+(N^D&(S^N))+L[2]+4243563512&4294967295,O=S+(P<<9&4294967295|P>>>23),P=D+(S^N&(O^S))+L[7]+1735328473&4294967295,D=O+(P<<14&4294967295|P>>>18),P=N+(O^S&(D^O))+L[12]+2368359562&4294967295,N=D+(P<<20&4294967295|P>>>12),P=S+(N^D^O)+L[5]+4294588738&4294967295,S=N+(P<<4&4294967295|P>>>28),P=O+(S^N^D)+L[8]+2272392833&4294967295,O=S+(P<<11&4294967295|P>>>21),P=D+(O^S^N)+L[11]+1839030562&4294967295,D=O+(P<<16&4294967295|P>>>16),P=N+(D^O^S)+L[14]+4259657740&4294967295,N=D+(P<<23&4294967295|P>>>9),P=S+(N^D^O)+L[1]+2763975236&4294967295,S=N+(P<<4&4294967295|P>>>28),P=O+(S^N^D)+L[4]+1272893353&4294967295,O=S+(P<<11&4294967295|P>>>21),P=D+(O^S^N)+L[7]+4139469664&4294967295,D=O+(P<<16&4294967295|P>>>16),P=N+(D^O^S)+L[10]+3200236656&4294967295,N=D+(P<<23&4294967295|P>>>9),P=S+(N^D^O)+L[13]+681279174&4294967295,S=N+(P<<4&4294967295|P>>>28),P=O+(S^N^D)+L[0]+3936430074&4294967295,O=S+(P<<11&4294967295|P>>>21),P=D+(O^S^N)+L[3]+3572445317&4294967295,D=O+(P<<16&4294967295|P>>>16),P=N+(D^O^S)+L[6]+76029189&4294967295,N=D+(P<<23&4294967295|P>>>9),P=S+(N^D^O)+L[9]+3654602809&4294967295,S=N+(P<<4&4294967295|P>>>28),P=O+(S^N^D)+L[12]+3873151461&4294967295,O=S+(P<<11&4294967295|P>>>21),P=D+(O^S^N)+L[15]+530742520&4294967295,D=O+(P<<16&4294967295|P>>>16),P=N+(D^O^S)+L[2]+3299628645&4294967295,N=D+(P<<23&4294967295|P>>>9),P=S+(D^(N|~O))+L[0]+4096336452&4294967295,S=N+(P<<6&4294967295|P>>>26),P=O+(N^(S|~D))+L[7]+1126891415&4294967295,O=S+(P<<10&4294967295|P>>>22),P=D+(S^(O|~N))+L[14]+2878612391&4294967295,D=O+(P<<15&4294967295|P>>>17),P=N+(O^(D|~S))+L[5]+4237533241&4294967295,N=D+(P<<21&4294967295|P>>>11),P=S+(D^(N|~O))+L[12]+1700485571&4294967295,S=N+(P<<6&4294967295|P>>>26),P=O+(N^(S|~D))+L[3]+2399980690&4294967295,O=S+(P<<10&4294967295|P>>>22),P=D+(S^(O|~N))+L[10]+4293915773&4294967295,D=O+(P<<15&4294967295|P>>>17),P=N+(O^(D|~S))+L[1]+2240044497&4294967295,N=D+(P<<21&4294967295|P>>>11),P=S+(D^(N|~O))+L[8]+1873313359&4294967295,S=N+(P<<6&4294967295|P>>>26),P=O+(N^(S|~D))+L[15]+4264355552&4294967295,O=S+(P<<10&4294967295|P>>>22),P=D+(S^(O|~N))+L[6]+2734768916&4294967295,D=O+(P<<15&4294967295|P>>>17),P=N+(O^(D|~S))+L[13]+1309151649&4294967295,N=D+(P<<21&4294967295|P>>>11),P=S+(D^(N|~O))+L[4]+4149444226&4294967295,S=N+(P<<6&4294967295|P>>>26),P=O+(N^(S|~D))+L[11]+3174756917&4294967295,O=S+(P<<10&4294967295|P>>>22),P=D+(S^(O|~N))+L[2]+718787259&4294967295,D=O+(P<<15&4294967295|P>>>17),P=N+(O^(D|~S))+L[9]+3951481745&4294967295,T.g[0]=T.g[0]+S&4294967295,T.g[1]=T.g[1]+(D+(P<<21&4294967295|P>>>11))&4294967295,T.g[2]=T.g[2]+D&4294967295,T.g[3]=T.g[3]+O&4294967295}n.prototype.u=function(T,S){S===void 0&&(S=T.length);for(var N=S-this.blockSize,L=this.B,D=this.h,O=0;O<S;){if(D==0)for(;O<=N;)i(this,T,O),O+=this.blockSize;if(typeof T=="string"){for(;O<S;)if(L[D++]=T.charCodeAt(O++),D==this.blockSize){i(this,L),D=0;break}}else for(;O<S;)if(L[D++]=T[O++],D==this.blockSize){i(this,L),D=0;break}}this.h=D,this.o+=S},n.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var S=1;S<T.length-8;++S)T[S]=0;var N=8*this.o;for(S=T.length-8;S<T.length;++S)T[S]=N&255,N/=256;for(this.u(T),T=Array(16),S=N=0;4>S;++S)for(var L=0;32>L;L+=8)T[N++]=this.g[S]>>>L&255;return T};function a(T,S){var N=s;return Object.prototype.hasOwnProperty.call(N,T)?N[T]:N[T]=S(T)}function o(T,S){this.h=S;for(var N=[],L=!0,D=T.length-1;0<=D;D--){var O=T[D]|0;L&&O==S||(N[D]=O,L=!1)}this.g=N}var s={};function l(T){return-128<=T&&128>T?a(T,function(S){return new o([S|0],0>S?-1:0)}):new o([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return d;if(0>T)return b(c(-T));for(var S=[],N=1,L=0;T>=N;L++)S[L]=T/N|0,N*=4294967296;return new o(S,0)}function u(T,S){if(T.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(T.charAt(0)=="-")return b(u(T.substring(1),S));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=c(Math.pow(S,8)),L=d,D=0;D<T.length;D+=8){var O=Math.min(8,T.length-D),P=parseInt(T.substring(D,D+O),S);8>O?(O=c(Math.pow(S,O)),L=L.j(O).add(c(P))):(L=L.j(N),L=L.add(c(P)))}return L}var d=l(0),h=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(g(this))return-b(this).m();for(var T=0,S=1,N=0;N<this.g.length;N++){var L=this.i(N);T+=(0<=L?L:4294967296+L)*S,S*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(m(this))return"0";if(g(this))return"-"+b(this).toString(T);for(var S=c(Math.pow(T,6)),N=this,L="";;){var D=C(N,S).g;N=w(N,D.j(S));var O=((0<N.g.length?N.g[0]:N.h)>>>0).toString(T);if(N=D,m(N))return O+L;for(;6>O.length;)O="0"+O;L=O+L}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function m(T){if(T.h!=0)return!1;for(var S=0;S<T.g.length;S++)if(T.g[S]!=0)return!1;return!0}function g(T){return T.h==-1}t.l=function(T){return T=w(this,T),g(T)?-1:m(T)?0:1};function b(T){for(var S=T.g.length,N=[],L=0;L<S;L++)N[L]=~T.g[L];return new o(N,~T.h).add(h)}t.abs=function(){return g(this)?b(this):this},t.add=function(T){for(var S=Math.max(this.g.length,T.g.length),N=[],L=0,D=0;D<=S;D++){var O=L+(this.i(D)&65535)+(T.i(D)&65535),P=(O>>>16)+(this.i(D)>>>16)+(T.i(D)>>>16);L=P>>>16,O&=65535,P&=65535,N[D]=P<<16|O}return new o(N,N[N.length-1]&-2147483648?-1:0)};function w(T,S){return T.add(b(S))}t.j=function(T){if(m(this)||m(T))return d;if(g(this))return g(T)?b(this).j(b(T)):b(b(this).j(T));if(g(T))return b(this.j(b(T)));if(0>this.l(p)&&0>T.l(p))return c(this.m()*T.m());for(var S=this.g.length+T.g.length,N=[],L=0;L<2*S;L++)N[L]=0;for(L=0;L<this.g.length;L++)for(var D=0;D<T.g.length;D++){var O=this.i(L)>>>16,P=this.i(L)&65535,U=T.i(D)>>>16,ee=T.i(D)&65535;N[2*L+2*D]+=P*ee,x(N,2*L+2*D),N[2*L+2*D+1]+=O*ee,x(N,2*L+2*D+1),N[2*L+2*D+1]+=P*U,x(N,2*L+2*D+1),N[2*L+2*D+2]+=O*U,x(N,2*L+2*D+2)}for(L=0;L<S;L++)N[L]=N[2*L+1]<<16|N[2*L];for(L=S;L<2*S;L++)N[L]=0;return new o(N,0)};function x(T,S){for(;(T[S]&65535)!=T[S];)T[S+1]+=T[S]>>>16,T[S]&=65535,S++}function E(T,S){this.g=T,this.h=S}function C(T,S){if(m(S))throw Error("division by zero");if(m(T))return new E(d,d);if(g(T))return S=C(b(T),S),new E(b(S.g),b(S.h));if(g(S))return S=C(T,b(S)),new E(b(S.g),S.h);if(30<T.g.length){if(g(T)||g(S))throw Error("slowDivide_ only works with positive integers.");for(var N=h,L=S;0>=L.l(T);)N=I(N),L=I(L);var D=M(N,1),O=M(L,1);for(L=M(L,2),N=M(N,2);!m(L);){var P=O.add(L);0>=P.l(T)&&(D=D.add(N),O=P),L=M(L,1),N=M(N,1)}return S=w(T,D.j(S)),new E(D,S)}for(D=d;0<=T.l(S);){for(N=Math.max(1,Math.floor(T.m()/S.m())),L=Math.ceil(Math.log(N)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),O=c(N),P=O.j(S);g(P)||0<P.l(T);)N-=L,O=c(N),P=O.j(S);m(O)&&(O=h),D=D.add(O),T=w(T,P)}return new E(D,T)}t.A=function(T){return C(this,T).h},t.and=function(T){for(var S=Math.max(this.g.length,T.g.length),N=[],L=0;L<S;L++)N[L]=this.i(L)&T.i(L);return new o(N,this.h&T.h)},t.or=function(T){for(var S=Math.max(this.g.length,T.g.length),N=[],L=0;L<S;L++)N[L]=this.i(L)|T.i(L);return new o(N,this.h|T.h)},t.xor=function(T){for(var S=Math.max(this.g.length,T.g.length),N=[],L=0;L<S;L++)N[L]=this.i(L)^T.i(L);return new o(N,this.h^T.h)};function I(T){for(var S=T.g.length+1,N=[],L=0;L<S;L++)N[L]=T.i(L)<<1|T.i(L-1)>>>31;return new o(N,T.h)}function M(T,S){var N=S>>5;S%=32;for(var L=T.g.length-N,D=[],O=0;O<L;O++)D[O]=0<S?T.i(O+N)>>>S|T.i(O+N+1)<<32-S:T.i(O+N);return new o(D,T.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,sR=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,_s=o}).apply(typeof EA<"u"?EA:typeof self<"u"?self:typeof window<"u"?window:{});var Rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lR,Uu,cR,Ep,Kw,uR,dR,fR;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,v,k){return f==Array.prototype||f==Object.prototype||(f[v]=k.value),f};function r(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rh=="object"&&Rh];for(var v=0;v<f.length;++v){var k=f[v];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var n=r(this);function i(f,v){if(v)e:{var k=n;f=f.split(".");for(var R=0;R<f.length-1;R++){var j=f[R];if(!(j in k))break e;k=k[j]}f=f[f.length-1],R=k[f],v=v(R),v!=R&&v!=null&&e(k,f,{configurable:!0,writable:!0,value:v})}}function a(f,v){f instanceof String&&(f+="");var k=0,R=!1,j={next:function(){if(!R&&k<f.length){var F=k++;return{value:v(F,f[F]),done:!1}}return R=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}i("Array.prototype.values",function(f){return f||function(){return a(this,function(v,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function l(f){var v=typeof f;return v=v!="object"?v:f?Array.isArray(f)?"array":v:"null",v=="array"||v=="object"&&typeof f.length=="number"}function c(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function u(f,v,k){return f.call.apply(f.bind,arguments)}function d(f,v,k){if(!f)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,R),f.apply(v,j)}}return function(){return f.apply(v,arguments)}}function h(f,v,k){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:d,h.apply(null,arguments)}function p(f,v){var k=Array.prototype.slice.call(arguments,1);return function(){var R=k.slice();return R.push.apply(R,arguments),f.apply(this,R)}}function m(f,v){function k(){}k.prototype=v.prototype,f.aa=v.prototype,f.prototype=new k,f.prototype.constructor=f,f.Qb=function(R,j,F){for(var J=Array(arguments.length-2),He=2;He<arguments.length;He++)J[He-2]=arguments[He];return v.prototype[j].apply(R,J)}}function g(f){const v=f.length;if(0<v){const k=Array(v);for(let R=0;R<v;R++)k[R]=f[R];return k}return[]}function b(f,v){for(let k=1;k<arguments.length;k++){const R=arguments[k];if(l(R)){const j=f.length||0,F=R.length||0;f.length=j+F;for(let J=0;J<F;J++)f[j+J]=R[J]}else f.push(R)}}class w{constructor(v,k){this.i=v,this.j=k,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function x(f){return/^[\s\xa0]*$/.test(f)}function E(){var f=s.navigator;return f&&(f=f.userAgent)?f:""}function C(f){return C[" "](f),f}C[" "]=function(){};var I=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function M(f,v,k){for(const R in f)v.call(k,f[R],R,f)}function T(f,v){for(const k in f)v.call(void 0,f[k],k,f)}function S(f){const v={};for(const k in f)v[k]=f[k];return v}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(f,v){let k,R;for(let j=1;j<arguments.length;j++){R=arguments[j];for(k in R)f[k]=R[k];for(let F=0;F<N.length;F++)k=N[F],Object.prototype.hasOwnProperty.call(R,k)&&(f[k]=R[k])}}function D(f){var v=1;f=f.split(":");const k=[];for(;0<v&&f.length;)k.push(f.shift()),v--;return f.length&&k.push(f.join(":")),k}function O(f){s.setTimeout(()=>{throw f},0)}function P(){var f=X;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class U{constructor(){this.h=this.g=null}add(v,k){const R=ee.get();R.set(v,k),this.h?this.h.next=R:this.g=R,this.h=R}}var ee=new w(()=>new G,f=>f.reset());class G{constructor(){this.next=this.g=this.h=null}set(v,k){this.h=v,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let de,W=!1,X=new U,Q=()=>{const f=s.Promise.resolve(void 0);de=()=>{f.then(ce)}};var ce=()=>{for(var f;f=P();){try{f.h.call(f.g)}catch(k){O(k)}var v=ee;v.j(f),100>v.h&&(v.h++,f.next=v.g,v.g=f)}W=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var Nt=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const k=()=>{};s.addEventListener("test",k,v),s.removeEventListener("test",k,v)}catch{}return f}();function qe(f,v){if(he.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var k=this.type=f.type,R=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget){if(I){e:{try{C(v.nodeName);var j=!0;break e}catch{}j=!1}j||(v=null)}}else k=="mouseover"?v=f.fromElement:k=="mouseout"&&(v=f.toElement);this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Gt[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&qe.aa.h.call(this)}}m(qe,he);var Gt={2:"touch",3:"pen",4:"mouse"};qe.prototype.h=function(){qe.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Tt="closure_listenable_"+(1e6*Math.random()|0),en=0;function Z(f,v,k,R,j){this.listener=f,this.proxy=null,this.src=v,this.type=k,this.capture=!!R,this.ha=j,this.key=++en,this.da=this.fa=!1}function me(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ye(f){this.src=f,this.g={},this.h=0}ye.prototype.add=function(f,v,k,R,j){var F=f.toString();f=this.g[F],f||(f=this.g[F]=[],this.h++);var J=Qe(f,v,R,j);return-1<J?(v=f[J],k||(v.fa=!1)):(v=new Z(v,this.src,F,!!R,j),v.fa=k,f.push(v)),v};function q(f,v){var k=v.type;if(k in f.g){var R=f.g[k],j=Array.prototype.indexOf.call(R,v,void 0),F;(F=0<=j)&&Array.prototype.splice.call(R,j,1),F&&(me(v),f.g[k].length==0&&(delete f.g[k],f.h--))}}function Qe(f,v,k,R){for(var j=0;j<f.length;++j){var F=f[j];if(!F.da&&F.listener==v&&F.capture==!!k&&F.ha==R)return j}return-1}var fe="closure_lm_"+(1e6*Math.random()|0),et={};function je(f,v,k,R,j){if(R&&R.once)return Pa(f,v,k,R,j);if(Array.isArray(v)){for(var F=0;F<v.length;F++)je(f,v[F],k,R,j);return null}return k=Na(k),f&&f[Tt]?f.K(v,k,c(R)?!!R.capture:!!R,j):or(f,v,k,!1,R,j)}function or(f,v,k,R,j,F){if(!v)throw Error("Invalid event type");var J=c(j)?!!j.capture:!!j,He=Ca(f);if(He||(f[fe]=He=new ye(f)),k=He.add(v,k,R,J,F),k.proxy)return k;if(R=Ii(),k.proxy=R,R.src=f,R.listener=k,f.addEventListener)Nt||(j=J),j===void 0&&(j=!1),f.addEventListener(v.toString(),R,j);else if(f.attachEvent)f.attachEvent(Yo(v.toString()),R);else if(f.addListener&&f.removeListener)f.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return k}function Ii(){function f(k){return v.call(f.src,f.listener,k)}const v=Qo;return f}function Pa(f,v,k,R,j){if(Array.isArray(v)){for(var F=0;F<v.length;F++)Pa(f,v[F],k,R,j);return null}return k=Na(k),f&&f[Tt]?f.L(v,k,c(R)?!!R.capture:!!R,j):or(f,v,k,!0,R,j)}function Go(f,v,k,R,j){if(Array.isArray(v))for(var F=0;F<v.length;F++)Go(f,v[F],k,R,j);else R=c(R)?!!R.capture:!!R,k=Na(k),f&&f[Tt]?(f=f.i,v=String(v).toString(),v in f.g&&(F=f.g[v],k=Qe(F,k,R,j),-1<k&&(me(F[k]),Array.prototype.splice.call(F,k,1),F.length==0&&(delete f.g[v],f.h--)))):f&&(f=Ca(f))&&(v=f.g[v.toString()],f=-1,v&&(f=Qe(v,k,R,j)),(k=-1<f?v[f]:null)&&Ia(k))}function Ia(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[Tt])q(v.i,f);else{var k=f.type,R=f.proxy;v.removeEventListener?v.removeEventListener(k,R,f.capture):v.detachEvent?v.detachEvent(Yo(k),R):v.addListener&&v.removeListener&&v.removeListener(R),(k=Ca(v))?(q(k,f),k.h==0&&(k.src=null,v[fe]=null)):me(f)}}}function Yo(f){return f in et?et[f]:et[f]="on"+f}function Qo(f,v){if(f.da)f=!0;else{v=new qe(v,this);var k=f.listener,R=f.ha||f.src;f.fa&&Ia(f),f=k.call(R,v)}return f}function Ca(f){return f=f[fe],f instanceof ye?f:null}var Oa="__closure_events_fn_"+(1e9*Math.random()>>>0);function Na(f){return typeof f=="function"?f:(f[Oa]||(f[Oa]=function(v){return f.handleEvent(v)}),f[Oa])}function At(){Y.call(this),this.i=new ye(this),this.M=this,this.F=null}m(At,Y),At.prototype[Tt]=!0,At.prototype.removeEventListener=function(f,v,k,R){Go(this,f,v,k,R)};function Dt(f,v){var k,R=f.F;if(R)for(k=[];R;R=R.F)k.push(R);if(f=f.M,R=v.type||v,typeof v=="string")v=new he(v,f);else if(v instanceof he)v.target=v.target||f;else{var j=v;v=new he(R,f),L(v,j)}if(j=!0,k)for(var F=k.length-1;0<=F;F--){var J=v.g=k[F];j=V(J,R,!0,v)&&j}if(J=v.g=f,j=V(J,R,!0,v)&&j,j=V(J,R,!1,v)&&j,k)for(F=0;F<k.length;F++)J=v.g=k[F],j=V(J,R,!1,v)&&j}At.prototype.N=function(){if(At.aa.N.call(this),this.i){var f=this.i,v;for(v in f.g){for(var k=f.g[v],R=0;R<k.length;R++)me(k[R]);delete f.g[v],f.h--}}this.F=null},At.prototype.K=function(f,v,k,R){return this.i.add(String(f),v,!1,k,R)},At.prototype.L=function(f,v,k,R){return this.i.add(String(f),v,!0,k,R)};function V(f,v,k,R){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();for(var j=!0,F=0;F<v.length;++F){var J=v[F];if(J&&!J.da&&J.capture==k){var He=J.listener,lr=J.ha||J.src;J.fa&&q(f.i,J),j=He.call(lr,R)!==!1&&j}}return j&&!R.defaultPrevented}function se(f,v,k){if(typeof f=="function")k&&(f=h(f,k));else if(f&&typeof f.handleEvent=="function")f=h(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:s.setTimeout(f,v||0)}function Ve(f){f.g=se(()=>{f.g=null,f.i&&(f.i=!1,Ve(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class Tn extends Y{constructor(v,k){super(),this.m=v,this.l=k,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Ve(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sr(f){Y.call(this),this.h=f,this.g={}}m(sr,Y);var Wn=[];function Gf(f){M(f.g,function(v,k){this.g.hasOwnProperty(k)&&Ia(v)},f),f.g={}}sr.prototype.N=function(){sr.aa.N.call(this),Gf(this)},sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ol=s.JSON.stringify,Yf=s.JSON.parse,Hc=class{stringify(f){return s.JSON.stringify(f,void 0)}parse(f){return s.JSON.parse(f,void 0)}};function Gc(){}Gc.prototype.h=null;function Yc(f){return f.h||(f.h=f.i())}function Qf(){}var Da={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yt(){he.call(this,"d")}m(Yt,he);function Qt(){he.call(this,"c")}m(Qt,he);var An={},Xe=null;function Dr(){return Xe=Xe||new At}An.La="serverreachability";function Xf(f){he.call(this,An.La,f)}m(Xf,he);function Ci(f){const v=Dr();Dt(v,new Xf(v))}An.STAT_EVENT="statevent";function Qc(f,v){he.call(this,An.STAT_EVENT,f),this.stat=v}m(Qc,he);function Xt(f){const v=Dr();Dt(v,new Qc(v,f))}An.Ma="timingevent";function sl(f,v){he.call(this,An.Ma,f),this.size=v}m(sl,he);function li(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){f()},v)}function Oi(){this.g=!0}Oi.prototype.xa=function(){this.g=!1};function Xc(f,v,k,R,j,F){f.info(function(){if(f.g)if(F)for(var J="",He=F.split("&"),lr=0;lr<He.length;lr++){var De=He[lr].split("=");if(1<De.length){var vr=De[0];De=De[1];var wr=vr.split("_");J=2<=wr.length&&wr[1]=="type"?J+(vr+"="+De+"&"):J+(vr+"=redacted&")}}else J=null;else J=F;return"XMLHTTP REQ ("+R+") [attempt "+j+"]: "+v+`
`+k+`
`+J})}function Jc(f,v,k,R,j,F,J){f.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+j+"]: "+v+`
`+k+`
`+F+" "+J})}function Ra(f,v,k,R){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+Jf(f,k)+(R?" "+R:"")})}function Zc(f,v){f.info(function(){return"TIMEOUT: "+v})}Oi.prototype.info=function(){};function Jf(f,v){if(!f.g)return v;if(!v)return null;try{var k=JSON.parse(v);if(k){for(f=0;f<k.length;f++)if(Array.isArray(k[f])){var R=k[f];if(!(2>R.length)){var j=R[1];if(Array.isArray(j)&&!(1>j.length)){var F=j[0];if(F!="noop"&&F!="stop"&&F!="close")for(var J=1;J<j.length;J++)j[J]=""}}}}return ol(k)}catch{return v}}var ll={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Zf={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xe;function Ke(){}m(Ke,Gc),Ke.prototype.g=function(){return new XMLHttpRequest},Ke.prototype.i=function(){return{}},xe=new Ke;function Fe(f,v,k,R){this.j=f,this.i=v,this.l=k,this.R=R||1,this.U=new sr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zr}function zr(){this.i=null,this.g="",this.h=!1}var Wr={},Xo={};function eu(f,v,k){f.L=1,f.v=ih(Ni(v)),f.m=k,f.P=!0,eh(f,null)}function eh(f,v){f.F=Date.now(),th(f),f.A=Ni(f.v);var k=f.A,R=f.R;Array.isArray(R)||(R=[String(R)]),Zk(k.i,"t",R),f.C=0,k=f.j.J,f.h=new zr,f.g=yS(f.j,k?v:null,!f.m),0<f.O&&(f.M=new Tn(h(f.Y,f,f.g),f.O)),v=f.U,k=f.g,R=f.ca;var j="readystatechange";Array.isArray(j)||(j&&(Wn[0]=j.toString()),j=Wn);for(var F=0;F<j.length;F++){var J=je(k,j[F],R||v.handleEvent,!1,v.h||v);if(!J)break;v.g[J.key]=J}v=f.H?S(f.H):{},f.m?(f.u||(f.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,v)):(f.u="GET",f.g.ea(f.A,f.u,null,v)),Ci(),Xc(f.i,f.u,f.A,f.l,f.R,f.m)}Fe.prototype.ca=function(f){f=f.target;const v=this.M;v&&Di(f)==3?v.j():this.Y(f)},Fe.prototype.Y=function(f){try{if(f==this.g)e:{const wr=Di(this.g);var v=this.g.Ba();const dl=this.g.Z();if(!(3>wr)&&(wr!=3||this.g&&(this.h.h||this.g.oa()||oS(this.g)))){this.J||wr!=4||v==7||(v==8||0>=dl?Ci(3):Ci(2)),ev(this);var k=this.g.Z();this.X=k;t:if(Fk(this)){var R=oS(this.g);f="";var j=R.length,F=Di(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jo(this),tu(this);var J="";break t}this.h.i=new s.TextDecoder}for(v=0;v<j;v++)this.h.h=!0,f+=this.h.i.decode(R[v],{stream:!(F&&v==j-1)});R.length=0,this.h.g+=f,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=k==200,Jc(this.i,this.u,this.A,this.l,this.R,wr,k),this.o){if(this.T&&!this.K){t:{if(this.g){var He,lr=this.g;if((He=lr.g?lr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(He)){var De=He;break t}}De=null}if(k=De)Ra(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tv(this,k);else{this.o=!1,this.s=3,Xt(12),Jo(this),tu(this);break e}}if(this.P){k=!0;let qn;for(;!this.J&&this.C<J.length;)if(qn=HV(this,J),qn==Xo){wr==4&&(this.s=4,Xt(14),k=!1),Ra(this.i,this.l,null,"[Incomplete Response]");break}else if(qn==Wr){this.s=4,Xt(15),Ra(this.i,this.l,J,"[Invalid Chunk]"),k=!1;break}else Ra(this.i,this.l,qn,null),tv(this,qn);if(Fk(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wr!=4||J.length!=0||this.h.h||(this.s=1,Xt(16),k=!1),this.o=this.o&&k,!k)Ra(this.i,this.l,J,"[Invalid Chunked Response]"),Jo(this),tu(this);else if(0<J.length&&!this.W){this.W=!0;var vr=this.j;vr.g==this&&vr.ba&&!vr.M&&(vr.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),sv(vr),vr.M=!0,Xt(11))}}else Ra(this.i,this.l,J,null),tv(this,J);wr==4&&Jo(this),this.o&&!this.J&&(wr==4?hS(this.j,this):(this.o=!1,th(this)))}else u6(this.g),k==400&&0<J.indexOf("Unknown SID")?(this.s=3,Xt(12)):(this.s=0,Xt(13)),Jo(this),tu(this)}}}catch{}finally{}};function Fk(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function HV(f,v){var k=f.C,R=v.indexOf(`
`,k);return R==-1?Xo:(k=Number(v.substring(k,R)),isNaN(k)?Wr:(R+=1,R+k>v.length?Xo:(v=v.slice(R,R+k),f.C=R+k,v)))}Fe.prototype.cancel=function(){this.J=!0,Jo(this)};function th(f){f.S=Date.now()+f.I,Uk(f,f.I)}function Uk(f,v){if(f.B!=null)throw Error("WatchDog timer not null");f.B=li(h(f.ba,f),v)}function ev(f){f.B&&(s.clearTimeout(f.B),f.B=null)}Fe.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Zc(this.i,this.A),this.L!=2&&(Ci(),Xt(17)),Jo(this),this.s=2,tu(this)):Uk(this,this.S-f)};function tu(f){f.j.G==0||f.J||hS(f.j,f)}function Jo(f){ev(f);var v=f.M;v&&typeof v.ma=="function"&&v.ma(),f.M=null,Gf(f.U),f.g&&(v=f.g,f.g=null,v.abort(),v.ma())}function tv(f,v){try{var k=f.j;if(k.G!=0&&(k.g==f||rv(k.h,f))){if(!f.K&&rv(k.h,f)&&k.G==3){try{var R=k.Da.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var j=R;if(j[0]==0){e:if(!k.u){if(k.g)if(k.g.F+3e3<f.F)uh(k),lh(k);else break e;ov(k),Xt(18)}}else k.za=j[1],0<k.za-k.T&&37500>j[2]&&k.F&&k.v==0&&!k.C&&(k.C=li(h(k.Za,k),6e3));if(1>=Wk(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else es(k,11)}else if((f.K||k.g==f)&&uh(k),!x(v))for(j=k.Da.g.parse(v),v=0;v<j.length;v++){let De=j[v];if(k.T=De[0],De=De[1],k.G==2)if(De[0]=="c"){k.K=De[1],k.ia=De[2];const vr=De[3];vr!=null&&(k.la=vr,k.j.info("VER="+k.la));const wr=De[4];wr!=null&&(k.Aa=wr,k.j.info("SVER="+k.Aa));const dl=De[5];dl!=null&&typeof dl=="number"&&0<dl&&(R=1.5*dl,k.L=R,k.j.info("backChannelRequestTimeoutMs_="+R)),R=k;const qn=f.g;if(qn){const fh=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fh){var F=R.h;F.g||fh.indexOf("spdy")==-1&&fh.indexOf("quic")==-1&&fh.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(nv(F,F.h),F.h=null))}if(R.D){const lv=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;lv&&(R.ya=lv,tt(R.I,R.D,lv))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-f.F,k.j.info("Handshake RTT: "+k.R+"ms")),R=k;var J=f;if(R.qa=gS(R,R.J?R.ia:null,R.W),J.K){qk(R.h,J);var He=J,lr=R.L;lr&&(He.I=lr),He.B&&(ev(He),th(He)),R.g=J}else dS(R);0<k.i.length&&ch(k)}else De[0]!="stop"&&De[0]!="close"||es(k,7);else k.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?es(k,7):av(k):De[0]!="noop"&&k.l&&k.l.ta(De),k.v=0)}}Ci(4)}catch{}}var GV=class{constructor(f,v){this.g=f,this.map=v}};function Bk(f){this.l=f||10,s.PerformanceNavigationTiming?(f=s.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zk(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Wk(f){return f.h?1:f.g?f.g.size:0}function rv(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function nv(f,v){f.g?f.g.add(v):f.h=v}function qk(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}Bk.prototype.cancel=function(){if(this.i=Kk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Kk(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const k of f.g.values())v=v.concat(k.D);return v}return g(f.i)}function YV(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var v=[],k=f.length,R=0;R<k;R++)v.push(f[R]);return v}v=[],k=0;for(R in f)v[k++]=f[R];return v}function QV(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var v=[];f=f.length;for(var k=0;k<f;k++)v.push(k);return v}v=[],k=0;for(const R in f)v[k++]=R;return v}}}function Hk(f,v){if(f.forEach&&typeof f.forEach=="function")f.forEach(v,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,v,void 0);else for(var k=QV(f),R=YV(f),j=R.length,F=0;F<j;F++)v.call(void 0,R[F],k&&k[F],f)}var Gk=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function XV(f,v){if(f){f=f.split("&");for(var k=0;k<f.length;k++){var R=f[k].indexOf("="),j=null;if(0<=R){var F=f[k].substring(0,R);j=f[k].substring(R+1)}else F=f[k];v(F,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Zo(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Zo){this.h=f.h,rh(this,f.j),this.o=f.o,this.g=f.g,nh(this,f.s),this.l=f.l;var v=f.i,k=new iu;k.i=v.i,v.g&&(k.g=new Map(v.g),k.h=v.h),Yk(this,k),this.m=f.m}else f&&(v=String(f).match(Gk))?(this.h=!1,rh(this,v[1]||"",!0),this.o=ru(v[2]||""),this.g=ru(v[3]||"",!0),nh(this,v[4]),this.l=ru(v[5]||"",!0),Yk(this,v[6]||"",!0),this.m=ru(v[7]||"")):(this.h=!1,this.i=new iu(null,this.h))}Zo.prototype.toString=function(){var f=[],v=this.j;v&&f.push(nu(v,Qk,!0),":");var k=this.g;return(k||v=="file")&&(f.push("//"),(v=this.o)&&f.push(nu(v,Qk,!0),"@"),f.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&f.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&f.push("/"),f.push(nu(k,k.charAt(0)=="/"?e6:ZV,!0))),(k=this.i.toString())&&f.push("?",k),(k=this.m)&&f.push("#",nu(k,r6)),f.join("")};function Ni(f){return new Zo(f)}function rh(f,v,k){f.j=k?ru(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function nh(f,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);f.s=v}else f.s=null}function Yk(f,v,k){v instanceof iu?(f.i=v,n6(f.i,f.h)):(k||(v=nu(v,t6)),f.i=new iu(v,f.h))}function tt(f,v,k){f.i.set(v,k)}function ih(f){return tt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function ru(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function nu(f,v,k){return typeof f=="string"?(f=encodeURI(f).replace(v,JV),k&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function JV(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Qk=/[#\/\?@]/g,ZV=/[#\?:]/g,e6=/[#\?]/g,t6=/[#\?@]/g,r6=/#/g;function iu(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function Ma(f){f.g||(f.g=new Map,f.h=0,f.i&&XV(f.i,function(v,k){f.add(decodeURIComponent(v.replace(/\+/g," ")),k)}))}t=iu.prototype,t.add=function(f,v){Ma(this),this.i=null,f=cl(this,f);var k=this.g.get(f);return k||this.g.set(f,k=[]),k.push(v),this.h+=1,this};function Xk(f,v){Ma(f),v=cl(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function Jk(f,v){return Ma(f),v=cl(f,v),f.g.has(v)}t.forEach=function(f,v){Ma(this),this.g.forEach(function(k,R){k.forEach(function(j){f.call(v,j,R,this)},this)},this)},t.na=function(){Ma(this);const f=Array.from(this.g.values()),v=Array.from(this.g.keys()),k=[];for(let R=0;R<v.length;R++){const j=f[R];for(let F=0;F<j.length;F++)k.push(v[R])}return k},t.V=function(f){Ma(this);let v=[];if(typeof f=="string")Jk(this,f)&&(v=v.concat(this.g.get(cl(this,f))));else{f=Array.from(this.g.values());for(let k=0;k<f.length;k++)v=v.concat(f[k])}return v},t.set=function(f,v){return Ma(this),this.i=null,f=cl(this,f),Jk(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},t.get=function(f,v){return f?(f=this.V(f),0<f.length?String(f[0]):v):v};function Zk(f,v,k){Xk(f,v),0<k.length&&(f.i=null,f.g.set(cl(f,v),g(k)),f.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(var k=0;k<v.length;k++){var R=v[k];const F=encodeURIComponent(String(R)),J=this.V(R);for(R=0;R<J.length;R++){var j=F;J[R]!==""&&(j+="="+encodeURIComponent(String(J[R]))),f.push(j)}}return this.i=f.join("&")};function cl(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function n6(f,v){v&&!f.j&&(Ma(f),f.i=null,f.g.forEach(function(k,R){var j=R.toLowerCase();R!=j&&(Xk(this,R),Zk(this,j,k))},f)),f.j=v}function i6(f,v){const k=new Oi;if(s.Image){const R=new Image;R.onload=p(La,k,"TestLoadImage: loaded",!0,v,R),R.onerror=p(La,k,"TestLoadImage: error",!1,v,R),R.onabort=p(La,k,"TestLoadImage: abort",!1,v,R),R.ontimeout=p(La,k,"TestLoadImage: timeout",!1,v,R),s.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=f}else v(!1)}function a6(f,v){const k=new Oi,R=new AbortController,j=setTimeout(()=>{R.abort(),La(k,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:R.signal}).then(F=>{clearTimeout(j),F.ok?La(k,"TestPingServer: ok",!0,v):La(k,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(j),La(k,"TestPingServer: error",!1,v)})}function La(f,v,k,R,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),R(k)}catch{}}function o6(){this.g=new Hc}function s6(f,v,k){const R=k||"";try{Hk(f,function(j,F){let J=j;c(j)&&(J=ol(j)),v.push(R+F+"="+encodeURIComponent(J))})}catch(j){throw v.push(R+"type="+encodeURIComponent("_badmap")),j}}function ah(f){this.l=f.Ub||null,this.j=f.eb||!1}m(ah,Gc),ah.prototype.g=function(){return new oh(this.l,this.j)},ah.prototype.i=function(f){return function(){return f}}({});function oh(f,v){At.call(this),this.D=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(oh,At),t=oh.prototype,t.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=v,this.readyState=1,ou(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(v.body=f),(this.D||s).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,au(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,ou(this)),this.g&&(this.readyState=3,ou(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;eS(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function eS(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?au(this):ou(this),this.readyState==3&&eS(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,au(this))},t.Qa=function(f){this.g&&(this.response=f,au(this))},t.ga=function(){this.g&&au(this)};function au(f){f.readyState=4,f.l=null,f.j=null,f.v=null,ou(f)}t.setRequestHeader=function(f,v){this.u.append(f,v)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var k=v.next();!k.done;)k=k.value,f.push(k[0]+": "+k[1]),k=v.next();return f.join(`\r
`)};function ou(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(oh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function tS(f){let v="";return M(f,function(k,R){v+=R,v+=":",v+=k,v+=`\r
`}),v}function iv(f,v,k){e:{for(R in k){var R=!1;break e}R=!0}R||(k=tS(k),typeof f=="string"?k!=null&&encodeURIComponent(String(k)):tt(f,v,k))}function wt(f){At.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(wt,At);var l6=/^https?$/i,c6=["POST","PUT"];t=wt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,v,k,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xe.g(),this.v=this.o?Yc(this.o):Yc(xe),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(F){rS(this,F);return}if(f=k||"",k=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var j in R)k.set(j,R[j]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const F of R.keys())k.set(F,R.get(F));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(k.keys()).find(F=>F.toLowerCase()=="content-type"),j=s.FormData&&f instanceof s.FormData,!(0<=Array.prototype.indexOf.call(c6,v,void 0))||R||j||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,J]of k)this.g.setRequestHeader(F,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{aS(this),this.u=!0,this.g.send(f),this.u=!1}catch(F){rS(this,F)}};function rS(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.m=5,nS(f),sh(f)}function nS(f){f.A||(f.A=!0,Dt(f,"complete"),Dt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Dt(this,"complete"),Dt(this,"abort"),sh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sh(this,!0)),wt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?iS(this):this.bb())},t.bb=function(){iS(this)};function iS(f){if(f.h&&typeof o<"u"&&(!f.v[1]||Di(f)!=4||f.Z()!=2)){if(f.u&&Di(f)==4)se(f.Ea,0,f);else if(Dt(f,"readystatechange"),Di(f)==4){f.h=!1;try{const J=f.Z();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var k;if(!(k=v)){var R;if(R=J===0){var j=String(f.D).match(Gk)[1]||null;!j&&s.self&&s.self.location&&(j=s.self.location.protocol.slice(0,-1)),R=!l6.test(j?j.toLowerCase():"")}k=R}if(k)Dt(f,"complete"),Dt(f,"success");else{f.m=6;try{var F=2<Di(f)?f.g.statusText:""}catch{F=""}f.l=F+" ["+f.Z()+"]",nS(f)}}finally{sh(f)}}}}function sh(f,v){if(f.g){aS(f);const k=f.g,R=f.v[0]?()=>{}:null;f.g=null,f.v=null,v||Dt(f,"ready");try{k.onreadystatechange=R}catch{}}}function aS(f){f.I&&(s.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function Di(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<Di(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),Yf(v)}};function oS(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function u6(f){const v={};f=(f.g&&2<=Di(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<f.length;R++){if(x(f[R]))continue;var k=D(f[R]);const j=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const F=v[j]||[];v[j]=F,F.push(k)}T(v,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function su(f,v,k){return k&&k.internalChannelParams&&k.internalChannelParams[f]||v}function sS(f){this.Aa=0,this.i=[],this.j=new Oi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=su("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=su("baseRetryDelayMs",5e3,f),this.cb=su("retryDelaySeedMs",1e4,f),this.Wa=su("forwardChannelMaxRetries",2,f),this.wa=su("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Bk(f&&f.concurrentRequestLimit),this.Da=new o6,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=sS.prototype,t.la=8,t.G=1,t.connect=function(f,v,k,R){Xt(0),this.W=f,this.H=v||{},k&&R!==void 0&&(this.H.OSID=k,this.H.OAID=R),this.F=this.X,this.I=gS(this,null,this.W),ch(this)};function av(f){if(lS(f),f.G==3){var v=f.U++,k=Ni(f.I);if(tt(k,"SID",f.K),tt(k,"RID",v),tt(k,"TYPE","terminate"),lu(f,k),v=new Fe(f,f.j,v),v.L=2,v.v=ih(Ni(k)),k=!1,s.navigator&&s.navigator.sendBeacon)try{k=s.navigator.sendBeacon(v.v.toString(),"")}catch{}!k&&s.Image&&(new Image().src=v.v,k=!0),k||(v.g=yS(v.j,null),v.g.ea(v.v)),v.F=Date.now(),th(v)}mS(f)}function lh(f){f.g&&(sv(f),f.g.cancel(),f.g=null)}function lS(f){lh(f),f.u&&(s.clearTimeout(f.u),f.u=null),uh(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&s.clearTimeout(f.s),f.s=null)}function ch(f){if(!zk(f.h)&&!f.s){f.s=!0;var v=f.Ga;de||Q(),W||(de(),W=!0),X.add(v,f),f.B=0}}function d6(f,v){return Wk(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=v.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=li(h(f.Ga,f,v),pS(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const j=new Fe(this,this.j,f);let F=this.o;if(this.S&&(F?(F=S(F),L(F,this.S)):F=this.S),this.m!==null||this.O||(j.H=F,F=null),this.P)e:{for(var v=0,k=0;k<this.i.length;k++){t:{var R=this.i[k];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,4096<v){v=k;break e}if(v===4096||k===this.i.length-1){v=k+1;break e}}v=1e3}else v=1e3;v=uS(this,j,v),k=Ni(this.I),tt(k,"RID",f),tt(k,"CVER",22),this.D&&tt(k,"X-HTTP-Session-Id",this.D),lu(this,k),F&&(this.O?v="headers="+encodeURIComponent(String(tS(F)))+"&"+v:this.m&&iv(k,this.m,F)),nv(this.h,j),this.Ua&&tt(k,"TYPE","init"),this.P?(tt(k,"$req",v),tt(k,"SID","null"),j.T=!0,eu(j,k,null)):eu(j,k,v),this.G=2}}else this.G==3&&(f?cS(this,f):this.i.length==0||zk(this.h)||cS(this))};function cS(f,v){var k;v?k=v.l:k=f.U++;const R=Ni(f.I);tt(R,"SID",f.K),tt(R,"RID",k),tt(R,"AID",f.T),lu(f,R),f.m&&f.o&&iv(R,f.m,f.o),k=new Fe(f,f.j,k,f.B+1),f.m===null&&(k.H=f.o),v&&(f.i=v.D.concat(f.i)),v=uS(f,k,1e3),k.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),nv(f.h,k),eu(k,R,v)}function lu(f,v){f.H&&M(f.H,function(k,R){tt(v,R,k)}),f.l&&Hk({},function(k,R){tt(v,R,k)})}function uS(f,v,k){k=Math.min(f.i.length,k);var R=f.l?h(f.l.Na,f.l,f):null;e:{var j=f.i;let F=-1;for(;;){const J=["count="+k];F==-1?0<k?(F=j[0].g,J.push("ofs="+F)):F=0:J.push("ofs="+F);let He=!0;for(let lr=0;lr<k;lr++){let De=j[lr].g;const vr=j[lr].map;if(De-=F,0>De)F=Math.max(0,j[lr].g-100),He=!1;else try{s6(vr,J,"req"+De+"_")}catch{R&&R(vr)}}if(He){R=J.join("&");break e}}}return f=f.i.splice(0,k),v.D=f,R}function dS(f){if(!f.g&&!f.u){f.Y=1;var v=f.Fa;de||Q(),W||(de(),W=!0),X.add(v,f),f.v=0}}function ov(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=li(h(f.Fa,f),pS(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,fS(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=li(h(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Xt(10),lh(this),fS(this))};function sv(f){f.A!=null&&(s.clearTimeout(f.A),f.A=null)}function fS(f){f.g=new Fe(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var v=Ni(f.qa);tt(v,"RID","rpc"),tt(v,"SID",f.K),tt(v,"AID",f.T),tt(v,"CI",f.F?"0":"1"),!f.F&&f.ja&&tt(v,"TO",f.ja),tt(v,"TYPE","xmlhttp"),lu(f,v),f.m&&f.o&&iv(v,f.m,f.o),f.L&&(f.g.I=f.L);var k=f.g;f=f.ia,k.L=1,k.v=ih(Ni(v)),k.m=null,k.P=!0,eh(k,f)}t.Za=function(){this.C!=null&&(this.C=null,lh(this),ov(this),Xt(19))};function uh(f){f.C!=null&&(s.clearTimeout(f.C),f.C=null)}function hS(f,v){var k=null;if(f.g==v){uh(f),sv(f),f.g=null;var R=2}else if(rv(f.h,v))k=v.D,qk(f.h,v),R=1;else return;if(f.G!=0){if(v.o)if(R==1){k=v.m?v.m.length:0,v=Date.now()-v.F;var j=f.B;R=Dr(),Dt(R,new sl(R,k)),ch(f)}else dS(f);else if(j=v.s,j==3||j==0&&0<v.X||!(R==1&&d6(f,v)||R==2&&ov(f)))switch(k&&0<k.length&&(v=f.h,v.i=v.i.concat(k)),j){case 1:es(f,5);break;case 4:es(f,10);break;case 3:es(f,6);break;default:es(f,2)}}}function pS(f,v){let k=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(k*=2),k*v}function es(f,v){if(f.j.info("Error code "+v),v==2){var k=h(f.fb,f),R=f.Xa;const j=!R;R=new Zo(R||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||rh(R,"https"),ih(R),j?i6(R.toString(),k):a6(R.toString(),k)}else Xt(2);f.G=0,f.l&&f.l.sa(v),mS(f),lS(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Xt(2)):(this.j.info("Failed to ping google.com"),Xt(1))};function mS(f){if(f.G=0,f.ka=[],f.l){const v=Kk(f.h);(v.length!=0||f.i.length!=0)&&(b(f.ka,v),b(f.ka,f.i),f.h.i.length=0,g(f.i),f.i.length=0),f.l.ra()}}function gS(f,v,k){var R=k instanceof Zo?Ni(k):new Zo(k);if(R.g!="")v&&(R.g=v+"."+R.g),nh(R,R.s);else{var j=s.location;R=j.protocol,v=v?v+"."+j.hostname:j.hostname,j=+j.port;var F=new Zo(null);R&&rh(F,R),v&&(F.g=v),j&&nh(F,j),k&&(F.l=k),R=F}return k=f.D,v=f.ya,k&&v&&tt(R,k,v),tt(R,"VER",f.la),lu(f,R),R}function yS(f,v,k){if(v&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Ca&&!f.pa?new wt(new ah({eb:k})):new wt(f.pa),v.Ha(f.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function vS(){}t=vS.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function dh(){}dh.prototype.g=function(f,v){return new tn(f,v)};function tn(f,v){At.call(this),this.g=new sS(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(f?f["X-WebChannel-Client-Profile"]=v.va:f={"X-WebChannel-Client-Profile":v.va}),this.g.S=f,(f=v&&v.Sb)&&!x(f)&&(this.g.m=f),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!x(v)&&(this.g.D=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new ul(this)}m(tn,At),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){av(this.g)},tn.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var k={};k.__data__=f,f=k}else this.u&&(k={},k.__data__=ol(f),f=k);v.i.push(new GV(v.Ya++,f)),v.G==3&&ch(v)},tn.prototype.N=function(){this.g.l=null,delete this.j,av(this.g),delete this.g,tn.aa.N.call(this)};function wS(f){Yt.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){e:{for(const k in v){f=k;break e}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}m(wS,Yt);function bS(){Qt.call(this),this.status=1}m(bS,Qt);function ul(f){this.g=f}m(ul,vS),ul.prototype.ua=function(){Dt(this.g,"a")},ul.prototype.ta=function(f){Dt(this.g,new wS(f))},ul.prototype.sa=function(f){Dt(this.g,new bS)},ul.prototype.ra=function(){Dt(this.g,"b")},dh.prototype.createWebChannel=dh.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,fR=function(){return new dh},dR=function(){return Dr()},uR=An,Kw={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ll.NO_ERROR=0,ll.TIMEOUT=8,ll.HTTP_ERROR=6,Ep=ll,Zf.COMPLETE="complete",cR=Zf,Qf.EventType=Da,Da.OPEN="a",Da.CLOSE="b",Da.ERROR="c",Da.MESSAGE="d",At.prototype.listen=At.prototype.K,Uu=Qf,wt.prototype.listenOnce=wt.prototype.L,wt.prototype.getLastError=wt.prototype.Ka,wt.prototype.getLastErrorCode=wt.prototype.Ba,wt.prototype.getStatus=wt.prototype.Z,wt.prototype.getResponseJson=wt.prototype.Oa,wt.prototype.getResponseText=wt.prototype.oa,wt.prototype.send=wt.prototype.ea,wt.prototype.setWithCredentials=wt.prototype.Ha,lR=wt}).apply(typeof Rh<"u"?Rh:typeof self<"u"?self:typeof window<"u"?window:{});const kA="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Sr.UNAUTHENTICATED=new Sr(null),Sr.GOOGLE_CREDENTIALS=new Sr("google-credentials-uid"),Sr.FIRST_PARTY=new Sr("first-party-uid"),Sr.MOCK_USER=new Sr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=new v1("@firebase/firestore");function wu(){return Ls.logLevel}function ae(t,...e){if(Ls.logLevel<=Pe.DEBUG){const r=e.map(C1);Ls.debug(`Firestore (${Oc}): ${t}`,...r)}}function fa(t,...e){if(Ls.logLevel<=Pe.ERROR){const r=e.map(C1);Ls.error(`Firestore (${Oc}): ${t}`,...r)}}function sc(t,...e){if(Ls.logLevel<=Pe.WARN){const r=e.map(C1);Ls.warn(`Firestore (${Oc}): ${t}`,...r)}}function C1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(t="Unexpected state"){const e=`FIRESTORE (${Oc}) INTERNAL ASSERTION FAILED: `+t;throw fa(e),new Error(e)}function ze(t,e){t||ge()}function we(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends Pi{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Sr.UNAUTHENTICATED))}shutdown(){}}class x7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class E7{constructor(e){this.t=e,this.currentUser=Sr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){ze(this.o===void 0);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let a=new ta;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ta,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ta)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(ze(typeof n.accessToken=="string"),new hR(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string"),new Sr(e)}}class k7{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=Sr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class S7{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new k7(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Sr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class T7{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class A7{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){ze(this.o===void 0);const n=a=>{a.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.R;return this.R=a.token,ae("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(ze(typeof r.token=="string"),this.R=r.token,new T7(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P7(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=P7(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%e.length))}return n}}function Re(t,e){return t<e?-1:t>e?1:0}function lc(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new re(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new re(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new re(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return zt.fromMillis(Date.now())}static fromDate(e){return zt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new zt(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ve(e)}static min(){return new ve(new zt(0,0))}static max(){return new ve(new zt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,r,n){r===void 0?r=0:r>e.length&&ge(),n===void 0?n=e.length-r:n>e.length-r&&ge(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Md.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Md?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=e.get(i),o=r.get(i);if(a<o)return-1;if(a>o)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class at extends Md{construct(e,r,n){return new at(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new re(z.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new at(r)}static emptyPath(){return new at([])}}const I7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hr extends Md{construct(e,r,n){return new hr(e,r,n)}static isValidIdentifier(e){return I7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new hr(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new re(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new re(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new re(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else s==="`"?(o=!o,i++):s!=="."||o?(n+=s,i++):(a(),i++)}if(a(),o)throw new re(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hr(r)}static emptyPath(){return new hr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.path=e}static fromPath(e){return new ue(at.fromString(e))}static fromName(e){return new ue(at.fromString(e).popFirst(5))}static empty(){return new ue(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return at.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ue(new at(e.slice()))}}function C7(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=ve.fromTimestamp(n===1e9?new zt(r+1,0):new zt(r,n));return new So(i,ue.empty(),e)}function O7(t){return new So(t.readTime,t.key,-1)}class So{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new So(ve.min(),ue.empty(),-1)}static max(){return new So(ve.max(),ue.empty(),-1)}}function N7(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=ue.comparator(t.documentKey,e.documentKey),r!==0?r:Re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class R7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wf(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==D7)throw t;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new K((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof K?r:K.resolve(r)}catch(r){return K.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):K.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):K.reject(r)}static resolve(e){return new K((r,n)=>{r(e)})}static reject(e){return new K((r,n)=>{n(e)})}static waitFor(e){return new K((r,n)=>{let i=0,a=0,o=!1;e.forEach(s=>{++i,s.next(()=>{++a,o&&a===i&&r()},l=>n(l))}),o=!0,a===i&&r()})}static or(e){let r=K.resolve(!1);for(const n of e)r=r.next(i=>i?K.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(e,r){return new K((n,i)=>{const a=e.length,o=new Array(a);let s=0;for(let l=0;l<a;l++){const c=l;r(e[c]).next(u=>{o[c]=u,++s,s===a&&n(o)},u=>i(u))}})}static doWhile(e,r){return new K((n,i)=>{const a=()=>{e()===!0?r().next(()=>{a()},i):n()};a()})}}function M7(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function bf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}O1.oe=-1;function Dg(t){return t==null}function fm(t){return t===0&&1/t==-1/0}function L7(t){return typeof t=="number"&&Number.isInteger(t)&&!fm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Qs(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function mR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,r){this.comparator=e,this.root=r||dr.EMPTY}insert(e,r){return new yt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,dr.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mh(this.root,e,this.comparator,!0)}}class Mh{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dr{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??dr.RED,this.left=i??dr.EMPTY,this.right=a??dr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new dr(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return dr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return dr.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();const e=this.left.check();if(e!==this.right.check())throw ge();return e+(this.isRed()?0:1)}}dr.EMPTY=null,dr.RED=!0,dr.BLACK=!1;dr.EMPTY=new class{constructor(){this.size=0}get key(){throw ge()}get value(){throw ge()}get color(){throw ge()}get left(){throw ge()}get right(){throw ge()}copy(e,r,n,i,a){return this}insert(e,r,n){return new dr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new TA(this.data.getIterator())}getIteratorFrom(e){return new TA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof mr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new mr(this.comparator);return r.data=e,r}}class TA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.fields=e,e.sort(hr.comparator)}static empty(){return new dn([])}unionWith(e){let r=new mr(hr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new dn(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return lc(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new gR("Invalid base64 string: "+a):a}}(e);return new yr(r)}static fromUint8Array(e){const r=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new yr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yr.EMPTY_BYTE_STRING=new yr("");const j7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function To(t){if(ze(!!t),typeof t=="string"){let e=0;const r=j7.exec(t);if(ze(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Pt(t.seconds),nanos:Pt(t.nanos)}}function Pt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function js(t){return typeof t=="string"?yr.fromBase64String(t):yr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function D1(t){const e=t.mapValue.fields.__previous_value__;return N1(e)?D1(e):e}function Ld(t){const e=To(t.mapValue.fields.__local_write_time__.timestampValue);return new zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $7{constructor(e,r,n,i,a,o,s,l,c){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=c}}class jd{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new jd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof jd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function $s(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?N1(t)?4:F7(t)?9007199254740991:V7(t)?10:11:ge()}function Si(t,e){if(t===e)return!0;const r=$s(t);if(r!==$s(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ld(t).isEqual(Ld(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=To(i.timestampValue),s=To(a.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return js(i.bytesValue).isEqual(js(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Pt(i.geoPointValue.latitude)===Pt(a.geoPointValue.latitude)&&Pt(i.geoPointValue.longitude)===Pt(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Pt(i.integerValue)===Pt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=Pt(i.doubleValue),s=Pt(a.doubleValue);return o===s?fm(o)===fm(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return lc(t.arrayValue.values||[],e.arrayValue.values||[],Si);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},s=a.mapValue.fields||{};if(SA(o)!==SA(s))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(s[l]===void 0||!Si(o[l],s[l])))return!1;return!0}(t,e);default:return ge()}}function $d(t,e){return(t.values||[]).find(r=>Si(r,e))!==void 0}function cc(t,e){if(t===e)return 0;const r=$s(t),n=$s(e);if(r!==n)return Re(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Re(t.booleanValue,e.booleanValue);case 2:return function(a,o){const s=Pt(a.integerValue||a.doubleValue),l=Pt(o.integerValue||o.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return AA(t.timestampValue,e.timestampValue);case 4:return AA(Ld(t),Ld(e));case 5:return Re(t.stringValue,e.stringValue);case 6:return function(a,o){const s=js(a),l=js(o);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const s=a.split("/"),l=o.split("/");for(let c=0;c<s.length&&c<l.length;c++){const u=Re(s[c],l[c]);if(u!==0)return u}return Re(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const s=Re(Pt(a.latitude),Pt(o.latitude));return s!==0?s:Re(Pt(a.longitude),Pt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return PA(t.arrayValue,e.arrayValue);case 10:return function(a,o){var s,l,c,u;const d=a.fields||{},h=o.fields||{},p=(s=d.value)===null||s===void 0?void 0:s.arrayValue,m=(l=h.value)===null||l===void 0?void 0:l.arrayValue,g=Re(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0);return g!==0?g:PA(p,m)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===Lh.mapValue&&o===Lh.mapValue)return 0;if(a===Lh.mapValue)return 1;if(o===Lh.mapValue)return-1;const s=a.fields||{},l=Object.keys(s),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=Re(l[d],u[d]);if(h!==0)return h;const p=cc(s[l[d]],c[u[d]]);if(p!==0)return p}return Re(l.length,u.length)}(t.mapValue,e.mapValue);default:throw ge()}}function AA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Re(t,e);const r=To(t),n=To(e),i=Re(r.seconds,n.seconds);return i!==0?i:Re(r.nanos,n.nanos)}function PA(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=cc(r[i],n[i]);if(a)return a}return Re(r.length,n.length)}function uc(t){return Hw(t)}function Hw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=To(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return js(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return ue.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=Hw(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const o of n)a?a=!1:i+=",",i+=`${o}:${Hw(r.fields[o])}`;return i+"}"}(t.mapValue):ge()}function IA(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Gw(t){return!!t&&"integerValue"in t}function R1(t){return!!t&&"arrayValue"in t}function CA(t){return!!t&&"nullValue"in t}function OA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function kp(t){return!!t&&"mapValue"in t}function V7(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function sd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Qs(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=sd(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=sd(t.arrayValue.values[r]);return e}return Object.assign({},t)}function F7(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this.value=e}static empty(){return new Hr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!kp(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=sd(r)}setAll(e){let r=hr.emptyPath(),n={},i=[];e.forEach((o,s)=>{if(!r.isImmediateParentOf(s)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=s.popLast()}o?n[s.lastSegment()]=sd(o):i.push(s.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());kp(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Si(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];kp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Qs(r,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new Hr(sd(this.value))}}function yR(t){const e=[];return Qs(t.fields,(r,n)=>{const i=new hr([r]);if(kp(n)){const a=yR(n.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,r,n,i,a,o,s){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Ar(e,0,ve.min(),ve.min(),ve.min(),Hr.empty(),0)}static newFoundDocument(e,r,n,i){return new Ar(e,1,r,ve.min(),n,i,0)}static newNoDocument(e,r){return new Ar(e,2,r,ve.min(),ve.min(),Hr.empty(),0)}static newUnknownDocument(e,r){return new Ar(e,3,r,ve.min(),ve.min(),Hr.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ar&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ar(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,r){this.position=e,this.inclusive=r}}function NA(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?n=ue.comparator(ue.fromName(o.referenceValue),r.key):n=cc(o,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function DA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Si(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,r="asc"){this.field=e,this.dir=r}}function U7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{}class jt extends vR{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new z7(e,r,n):r==="array-contains"?new K7(e,n):r==="in"?new H7(e,n):r==="not-in"?new G7(e,n):r==="array-contains-any"?new Y7(e,n):new jt(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new W7(e,n):new q7(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(cc(r,this.value)):r!==null&&$s(this.value)===$s(r)&&this.matchesComparison(cc(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends vR{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new ai(e,r)}matches(e){return wR(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function wR(t){return t.op==="and"}function bR(t){return B7(t)&&wR(t)}function B7(t){for(const e of t.filters)if(e instanceof ai)return!1;return!0}function Yw(t){if(t instanceof jt)return t.field.canonicalString()+t.op.toString()+uc(t.value);if(bR(t))return t.filters.map(e=>Yw(e)).join(",");{const e=t.filters.map(r=>Yw(r)).join(",");return`${t.op}(${e})`}}function _R(t,e){return t instanceof jt?function(n,i){return i instanceof jt&&n.op===i.op&&n.field.isEqual(i.field)&&Si(n.value,i.value)}(t,e):t instanceof ai?function(n,i){return i instanceof ai&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,o,s)=>a&&_R(o,i.filters[s]),!0):!1}(t,e):void ge()}function xR(t){return t instanceof jt?function(r){return`${r.field.canonicalString()} ${r.op} ${uc(r.value)}`}(t):t instanceof ai?function(r){return r.op.toString()+" {"+r.getFilters().map(xR).join(" ,")+"}"}(t):"Filter"}class z7 extends jt{constructor(e,r,n){super(e,r,n),this.key=ue.fromName(n.referenceValue)}matches(e){const r=ue.comparator(e.key,this.key);return this.matchesComparison(r)}}class W7 extends jt{constructor(e,r){super(e,"in",r),this.keys=ER("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class q7 extends jt{constructor(e,r){super(e,"not-in",r),this.keys=ER("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function ER(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>ue.fromName(n.referenceValue))}class K7 extends jt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return R1(r)&&$d(r.arrayValue,this.value)}}class H7 extends jt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&$d(this.value.arrayValue,r)}}class G7 extends jt{constructor(e,r){super(e,"not-in",r)}matches(e){if($d(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!$d(this.value.arrayValue,r)}}class Y7 extends jt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!R1(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>$d(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q7{constructor(e,r=null,n=[],i=[],a=null,o=null,s=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ue=null}}function RA(t,e=null,r=[],n=[],i=null,a=null,o=null){return new Q7(t,e,r,n,i,a,o)}function M1(t){const e=we(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>Yw(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),Dg(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>uc(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>uc(n)).join(",")),e.ue=r}return e.ue}function L1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!U7(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!_R(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!DA(t.startAt,e.startAt)&&DA(t.endAt,e.endAt)}function Qw(t){return ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,r=null,n=[],i=[],a=null,o="F",s=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function X7(t,e,r,n,i,a,o,s){return new Nc(t,e,r,n,i,a,o,s)}function j1(t){return new Nc(t)}function MA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function kR(t){return t.collectionGroup!==null}function ld(t){const e=we(t);if(e.ce===null){e.ce=[];const r=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let s=new mr(hr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(s=s.add(c.field))})}),s})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Vd(a,n))}),r.has(hr.keyField().canonicalString())||e.ce.push(new Vd(hr.keyField(),n))}return e.ce}function xi(t){const e=we(t);return e.le||(e.le=J7(e,ld(t))),e.le}function J7(t,e){if(t.limitType==="F")return RA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Vd(i.field,a)});const r=t.endAt?new hm(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new hm(t.startAt.position,t.startAt.inclusive):null;return RA(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function Xw(t,e){const r=t.filters.concat([e]);return new Nc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function Jw(t,e,r){return new Nc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Rg(t,e){return L1(xi(t),xi(e))&&t.limitType===e.limitType}function SR(t){return`${M1(xi(t))}|lt:${t.limitType}`}function gl(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>xR(i)).join(", ")}]`),Dg(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>uc(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>uc(i)).join(",")),`Target(${n})`}(xi(t))}; limitType=${t.limitType})`}function Mg(t,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):ue.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,i){for(const a of ld(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(o,s,l){const c=NA(o,s,l);return o.inclusive?c<=0:c<0}(n.startAt,ld(n),i)||n.endAt&&!function(o,s,l){const c=NA(o,s,l);return o.inclusive?c>=0:c>0}(n.endAt,ld(n),i))}(t,e)}function Z7(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function TR(t){return(e,r)=>{let n=!1;for(const i of ld(t)){const a=eq(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function eq(t,e,r){const n=t.field.isKeyField()?ue.comparator(e.key,r.key):function(a,o,s){const l=o.data.field(a),c=s.data.field(a);return l!==null&&c!==null?cc(l,c):ge()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return ge()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Qs(this.inner,(r,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return mR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tq=new yt(ue.comparator);function ha(){return tq}const AR=new yt(ue.comparator);function Bu(...t){let e=AR;for(const r of t)e=e.insert(r.key,r);return e}function PR(t){let e=AR;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function hs(){return cd()}function IR(){return cd()}function cd(){return new Dc(t=>t.toString(),(t,e)=>t.isEqual(e))}const rq=new yt(ue.comparator),nq=new mr(ue.comparator);function Te(...t){let e=nq;for(const r of t)e=e.add(r);return e}const iq=new mr(Re);function aq(){return iq}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fm(e)?"-0":e}}function CR(t){return{integerValue:""+t}}function oq(t,e){return L7(e)?CR(e):$1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(){this._=void 0}}function sq(t,e,r){return t instanceof pm?function(i,a){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&N1(a)&&(a=D1(a)),a&&(o.fields.__previous_value__=a),{mapValue:o}}(r,e):t instanceof Fd?NR(t,e):t instanceof Ud?DR(t,e):function(i,a){const o=OR(i,a),s=LA(o)+LA(i.Pe);return Gw(o)&&Gw(i.Pe)?CR(s):$1(i.serializer,s)}(t,e)}function lq(t,e,r){return t instanceof Fd?NR(t,e):t instanceof Ud?DR(t,e):r}function OR(t,e){return t instanceof mm?function(n){return Gw(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class pm extends Lg{}class Fd extends Lg{constructor(e){super(),this.elements=e}}function NR(t,e){const r=RR(e);for(const n of t.elements)r.some(i=>Si(i,n))||r.push(n);return{arrayValue:{values:r}}}class Ud extends Lg{constructor(e){super(),this.elements=e}}function DR(t,e){let r=RR(e);for(const n of t.elements)r=r.filter(i=>!Si(i,n));return{arrayValue:{values:r}}}class mm extends Lg{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function LA(t){return Pt(t.integerValue||t.doubleValue)}function RR(t){return R1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function cq(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof Fd&&i instanceof Fd||n instanceof Ud&&i instanceof Ud?lc(n.elements,i.elements,Si):n instanceof mm&&i instanceof mm?Si(n.Pe,i.Pe):n instanceof pm&&i instanceof pm}(t.transform,e.transform)}class uq{constructor(e,r){this.version=e,this.transformResults=r}}class $n{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new $n}static exists(e){return new $n(void 0,e)}static updateTime(e){return new $n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class jg{}function MR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new V1(t.key,$n.none()):new _f(t.key,t.data,$n.none());{const r=t.data,n=Hr.empty();let i=new mr(hr.comparator);for(let a of e.fields)if(!i.has(a)){let o=r.field(a);o===null&&a.length>1&&(a=a.popLast(),o=r.field(a)),o===null?n.delete(a):n.set(a,o),i=i.add(a)}return new Vo(t.key,n,new dn(i.toArray()),$n.none())}}function dq(t,e,r){t instanceof _f?function(i,a,o){const s=i.value.clone(),l=$A(i.fieldTransforms,a,o.transformResults);s.setAll(l),a.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,r):t instanceof Vo?function(i,a,o){if(!Sp(i.precondition,a))return void a.convertToUnknownDocument(o.version);const s=$A(i.fieldTransforms,a,o.transformResults),l=a.data;l.setAll(LR(i)),l.setAll(s),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,r):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function ud(t,e,r,n){return t instanceof _f?function(a,o,s,l){if(!Sp(a.precondition,o))return s;const c=a.value.clone(),u=VA(a.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,r,n):t instanceof Vo?function(a,o,s,l){if(!Sp(a.precondition,o))return s;const c=VA(a.fieldTransforms,l,o),u=o.data;return u.setAll(LR(a)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),s===null?null:s.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(d=>d.field))}(t,e,r,n):function(a,o,s){return Sp(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,r)}function fq(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=OR(n.transform,i||null);a!=null&&(r===null&&(r=Hr.empty()),r.set(n.field,a))}return r||null}function jA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&lc(n,i,(a,o)=>cq(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _f extends jg{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Vo extends jg{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function LR(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function $A(t,e,r){const n=new Map;ze(t.length===r.length);for(let i=0;i<r.length;i++){const a=t[i],o=a.transform,s=e.data.field(a.field);n.set(a.field,lq(o,s,r[i]))}return n}function VA(t,e,r){const n=new Map;for(const i of t){const a=i.transform,o=r.data.field(i.field);n.set(i.field,sq(a,o,e))}return n}class V1 extends jg{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hq extends jg{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pq{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&dq(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=ud(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=ud(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=IR();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let s=this.applyToLocalView(o,a.mutatedFields);s=r.has(i.key)?null:s;const l=MR(o,s);l!==null&&n.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ve.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Te())}isEqual(e){return this.batchId===e.batchId&&lc(this.mutations,e.mutations,(r,n)=>jA(r,n))&&lc(this.baseMutations,e.baseMutations,(r,n)=>jA(r,n))}}class F1{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){ze(e.mutations.length===n.length);let i=function(){return rq}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,n[o].version);return new F1(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mq{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gq{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt,Ie;function yq(t){switch(t){default:return ge();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0}}function jR(t){if(t===void 0)return fa("GRPC error has no .code"),z.UNKNOWN;switch(t){case Mt.OK:return z.OK;case Mt.CANCELLED:return z.CANCELLED;case Mt.UNKNOWN:return z.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return z.INTERNAL;case Mt.UNAVAILABLE:return z.UNAVAILABLE;case Mt.UNAUTHENTICATED:return z.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case Mt.NOT_FOUND:return z.NOT_FOUND;case Mt.ALREADY_EXISTS:return z.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return z.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case Mt.ABORTED:return z.ABORTED;case Mt.OUT_OF_RANGE:return z.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return z.UNIMPLEMENTED;case Mt.DATA_LOSS:return z.DATA_LOSS;default:return ge()}}(Ie=Mt||(Mt={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vq(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wq=new _s([4294967295,4294967295],0);function FA(t){const e=vq().encode(t),r=new sR;return r.update(e),new Uint8Array(r.digest())}function UA(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new _s([r,n],0),new _s([i,a],0)]}class U1{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new zu(`Invalid padding: ${r}`);if(n<0)throw new zu(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new zu(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new zu(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=_s.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(_s.fromNumber(n)));return i.compare(wq)===1&&(i=new _s([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=FA(e),[n,i]=UA(r);for(let a=0;a<this.hashCount;a++){const o=this.Ee(n,i,a);if(!this.de(o))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new U1(a,i,r);return n.forEach(s=>o.insert(s)),o}insert(e){if(this.Ie===0)return;const r=FA(e),[n,i]=UA(r);for(let a=0;a<this.hashCount;a++){const o=this.Ee(n,i,a);this.Ae(o)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class zu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,xf.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new $g(ve.min(),i,new yt(Re),ha(),Te())}}class xf{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new xf(n,r,Te(),Te(),Te())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class $R{constructor(e,r){this.targetId=e,this.me=r}}class VR{constructor(e,r,n=yr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class BA{constructor(){this.fe=0,this.ge=WA(),this.pe=yr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Te(),r=Te(),n=Te();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:ge()}}),new xf(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=WA()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ze(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class bq{constructor(e){this.Le=e,this.Be=new Map,this.ke=ha(),this.qe=zA(),this.Qe=new yt(Re)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:ge()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const a=i.target;if(Qw(a))if(n===0){const o=new ue(a.path);this.Ue(r,o,Ar.newNoDocument(o,ve.min()))}else ze(n===1);else{const o=this.Ye(r);if(o!==n){const s=this.Ze(e),l=s?this.Xe(s,e,o):1;if(l!==0){this.je(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,c)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let o,s;try{o=js(n).toUint8Array()}catch(l){if(l instanceof gR)return sc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new U1(o,i,a)}catch(l){return sc(l instanceof zu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.Ie===0?null:s}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const o=this.Le.tt(),s=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(s)||(this.Ue(r,a,null),i++)}),i}rt(e){const r=new Map;this.Be.forEach((a,o)=>{const s=this.Je(o);if(s){if(a.current&&Qw(s.target)){const l=new ue(s.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Ar.newNoDocument(l,e))}a.be&&(r.set(o,a.ve()),a.Ce())}});let n=Te();this.qe.forEach((a,o)=>{let s=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(n=n.add(a))}),this.ke.forEach((a,o)=>o.setReadTime(e));const i=new $g(e,r,this.Qe,this.ke,n);return this.ke=ha(),this.qe=zA(),this.Qe=new yt(Re),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new BA,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new mr(Re),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||ae("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new BA),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function zA(){return new yt(ue.comparator)}function WA(){return new yt(ue.comparator)}const _q=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),xq=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Eq=(()=>({and:"AND",or:"OR"}))();class kq{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Zw(t,e){return t.useProto3Json||Dg(e)?e:{value:e}}function gm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Sq(t,e){return gm(t,e.toTimestamp())}function Ei(t){return ze(!!t),ve.fromTimestamp(function(r){const n=To(r);return new zt(n.seconds,n.nanos)}(t))}function B1(t,e){return eb(t,e).canonicalString()}function eb(t,e){const r=function(i){return new at(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function UR(t){const e=at.fromString(t);return ze(KR(e)),e}function tb(t,e){return B1(t.databaseId,e.path)}function Kv(t,e){const r=UR(e);if(r.get(1)!==t.databaseId.projectId)throw new re(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new re(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new ue(zR(r))}function BR(t,e){return B1(t.databaseId,e)}function Tq(t){const e=UR(t);return e.length===4?at.emptyPath():zR(e)}function rb(t){return new at(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function zR(t){return ze(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function qA(t,e,r){return{name:tb(t,e),fields:r.value.mapValue.fields}}function Aq(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ge()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(c,u){return c.useProto3Json?(ze(u===void 0||typeof u=="string"),yr.fromBase64String(u||"")):(ze(u===void 0||u instanceof Buffer||u instanceof Uint8Array),yr.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,s=o&&function(c){const u=c.code===void 0?z.UNKNOWN:jR(c.code);return new re(u,c.message||"")}(o);r=new VR(n,i,a,s||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Kv(t,n.document.name),a=Ei(n.document.updateTime),o=n.document.createTime?Ei(n.document.createTime):ve.min(),s=new Hr({mapValue:{fields:n.document.fields}}),l=Ar.newFoundDocument(i,a,o,s),c=n.targetIds||[],u=n.removedTargetIds||[];r=new Tp(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Kv(t,n.document),a=n.readTime?Ei(n.readTime):ve.min(),o=Ar.newNoDocument(i,a),s=n.removedTargetIds||[];r=new Tp([],s,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Kv(t,n.document),a=n.removedTargetIds||[];r=new Tp([],a,i,null)}else{if(!("filter"in e))return ge();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,o=new gq(i,a),s=n.targetId;r=new $R(s,o)}}return r}function Pq(t,e){let r;if(e instanceof _f)r={update:qA(t,e.key,e.value)};else if(e instanceof V1)r={delete:tb(t,e.key)};else if(e instanceof Vo)r={update:qA(t,e.key,e.data),updateMask:jq(e.fieldMask)};else{if(!(e instanceof hq))return ge();r={verify:tb(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(a,o){const s=o.transform;if(s instanceof pm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Fd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Ud)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof mm)return{fieldPath:o.field.canonicalString(),increment:s.Pe};throw ge()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:Sq(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ge()}(t,e.precondition)),r}function Iq(t,e){return t&&t.length>0?(ze(e!==void 0),t.map(r=>function(i,a){let o=i.updateTime?Ei(i.updateTime):Ei(a);return o.isEqual(ve.min())&&(o=Ei(a)),new uq(o,i.transformResults||[])}(r,e))):[]}function Cq(t,e){return{documents:[BR(t,e.path)]}}function Oq(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=BR(t,i);const a=function(c){if(c.length!==0)return qR(ai.create(c,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const o=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:yl(h.field),direction:Rq(h.dir)}}(u))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const s=Zw(t,e.limit);return s!==null&&(r.structuredQuery.limit=s),e.startAt&&(r.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:r,parent:i}}function Nq(t){let e=Tq(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){ze(n===1);const u=r.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let a=[];r.where&&(a=function(d){const h=WR(d);return h instanceof ai&&bR(h)?h.getFilters():[h]}(r.where));let o=[];r.orderBy&&(o=function(d){return d.map(h=>function(m){return new Vd(vl(m.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(r.orderBy));let s=null;r.limit&&(s=function(d){let h;return h=typeof d=="object"?d.value:d,Dg(h)?null:h}(r.limit));let l=null;r.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new hm(p,h)}(r.startAt));let c=null;return r.endAt&&(c=function(d){const h=!d.before,p=d.values||[];return new hm(p,h)}(r.endAt)),X7(e,i,o,a,s,"F",l,c)}function Dq(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function WR(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=vl(r.unaryFilter.field);return jt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=vl(r.unaryFilter.field);return jt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=vl(r.unaryFilter.field);return jt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=vl(r.unaryFilter.field);return jt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ge()}}(t):t.fieldFilter!==void 0?function(r){return jt.create(vl(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ge()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return ai.create(r.compositeFilter.filters.map(n=>WR(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ge()}}(r.compositeFilter.op))}(t):ge()}function Rq(t){return _q[t]}function Mq(t){return xq[t]}function Lq(t){return Eq[t]}function yl(t){return{fieldPath:t.canonicalString()}}function vl(t){return hr.fromServerFormat(t.fieldPath)}function qR(t){return t instanceof jt?function(r){if(r.op==="=="){if(OA(r.value))return{unaryFilter:{field:yl(r.field),op:"IS_NAN"}};if(CA(r.value))return{unaryFilter:{field:yl(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(OA(r.value))return{unaryFilter:{field:yl(r.field),op:"IS_NOT_NAN"}};if(CA(r.value))return{unaryFilter:{field:yl(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yl(r.field),op:Mq(r.op),value:r.value}}}(t):t instanceof ai?function(r){const n=r.getFilters().map(i=>qR(i));return n.length===1?n[0]:{compositeFilter:{op:Lq(r.op),filters:n}}}(t):ge()}function jq(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function KR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,r,n,i,a=ve.min(),o=ve.min(),s=yr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new oo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $q{constructor(e){this.ct=e}}function Vq(t){const e=Nq({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Jw(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fq{constructor(){this.un=new Uq}addToCollectionParentIndex(e,r){return this.un.add(r),K.resolve()}getCollectionParents(e,r){return K.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return K.resolve()}deleteFieldIndex(e,r){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,r){return K.resolve()}getDocumentsMatchingTarget(e,r){return K.resolve(null)}getIndexType(e,r){return K.resolve(0)}getFieldIndexes(e,r){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,r){return K.resolve(So.min())}getMinOffsetFromCollectionGroup(e,r){return K.resolve(So.min())}updateCollectionGroup(e,r,n){return K.resolve()}updateIndexEntries(e,r){return K.resolve()}}class Uq{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new mr(at.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new mr(at.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new dc(0)}static kn(){return new dc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bq{constructor(){this.changes=new Dc(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Ar.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?K.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zq{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wq{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&ud(n.mutation,i,dn.empty(),zt.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Te()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Te()){const i=hs();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(a=>{let o=Bu();return a.forEach((s,l)=>{o=o.insert(s,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=hs();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Te()))}populateOverlays(e,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,s)=>{r.set(o,s)})})}computeViews(e,r,n,i){let a=ha();const o=cd(),s=function(){return cd()}();return r.forEach((l,c)=>{const u=n.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Vo)?a=a.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),ud(u.mutation,c,u.mutation.getFieldMask(),zt.now())):o.set(c.key,dn.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((c,u)=>o.set(c,u)),r.forEach((c,u)=>{var d;return s.set(c,new zq(u,(d=o.get(c))!==null&&d!==void 0?d:null))}),s))}recalculateAndSaveOverlays(e,r){const n=cd();let i=new yt((o,s)=>o-s),a=Te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const s of o)s.keys().forEach(l=>{const c=r.get(l);if(c===null)return;let u=n.get(l)||dn.empty();u=s.applyToLocalView(c,u),n.set(l,u);const d=(i.get(s.batchId)||Te()).add(l);i=i.insert(s.batchId,d)})}).next(()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),c=l.key,u=l.value,d=IR();u.forEach(h=>{if(!a.has(h)){const p=MR(r.get(h),n.get(h));p!==null&&d.set(h,p),a=a.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return K.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(o){return ue.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):kR(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):K.resolve(hs());let s=-1,l=a;return o.next(c=>K.forEach(c,(u,d)=>(s<d.largestBatchId&&(s=d.largestBatchId),a.get(u)?K.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,a)).next(()=>this.computeViews(e,l,c,Te())).next(u=>({batchId:s,changes:PR(u)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new ue(r)).next(n=>{let i=Bu();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let o=Bu();return this.indexManager.getCollectionParents(e,a).next(s=>K.forEach(s,l=>{const c=function(d,h){return new Nc(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(r,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,c,n,i).next(u=>{u.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i))).next(o=>{a.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Ar.newInvalidDocument(u)))});let s=Bu();return o.forEach((l,c)=>{const u=a.get(l);u!==void 0&&ud(u.mutation,c,dn.empty(),zt.now()),Mg(r,c)&&(s=s.insert(l,c))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qq{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return K.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Ei(i.createTime)}}(r)),K.resolve()}getNamedQuery(e,r){return K.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:Vq(i.bundledQuery),readTime:Ei(i.readTime)}}(r)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kq{constructor(){this.overlays=new yt(ue.comparator),this.Ir=new Map}getOverlay(e,r){return K.resolve(this.overlays.get(r))}getOverlays(e,r){const n=hs();return K.forEach(r,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,a)=>{this.ht(e,r,a)}),K.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(n)),K.resolve()}getOverlaysForCollection(e,r,n){const i=hs(),a=r.length+1,o=new ue(r.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const l=s.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===a&&l.largestBatchId>n&&i.set(l.getKey(),l)}return K.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new yt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let u=a.get(c.largestBatchId);u===null&&(u=hs(),a=a.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const s=hs(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>s.set(c,u)),!(s.size()>=i)););return K.resolve(s)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new mq(r,n));let a=this.Ir.get(r);a===void 0&&(a=Te(),this.Ir.set(r,a)),this.Ir.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hq{constructor(){this.sessionToken=yr.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(){this.Tr=new mr(Zt.Er),this.dr=new mr(Zt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new Zt(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new Zt(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new ue(new at([])),n=new Zt(r,e),i=new Zt(r,e+1),a=[];return this.dr.forEachInRange([n,i],o=>{this.Vr(o),a.push(o.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new ue(new at([])),n=new Zt(r,e),i=new Zt(r,e+1);let a=Te();return this.dr.forEachInRange([n,i],o=>{a=a.add(o.key)}),a}containsKey(e){const r=new Zt(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Zt{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return ue.comparator(e.key,r.key)||Re(e.wr,r.wr)}static Ar(e,r){return Re(e.wr,r.wr)||ue.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gq{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new mr(Zt.Er)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new pq(a,r,n,i);this.mutationQueue.push(o);for(const s of i)this.br=this.br.add(new Zt(s.key,a)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return K.resolve(o)}lookupMutationBatch(e,r){return K.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),a=i<0?0:i;return K.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Zt(r,0),i=new Zt(r,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([n,i],o=>{const s=this.Dr(o.wr);a.push(s)}),K.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new mr(Re);return r.forEach(i=>{const a=new Zt(i,0),o=new Zt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,o],s=>{n=n.add(s.wr)})}),K.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;ue.isDocumentKey(a)||(a=a.child(""));const o=new Zt(new ue(a),0);let s=new mr(Re);return this.br.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===i&&(s=s.add(l.wr)),!0)},o),K.resolve(this.Cr(s))}Cr(e){const r=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){ze(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return K.forEach(r.mutations,i=>{const a=new Zt(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new Zt(r,0),i=this.br.firstAfterOrEqual(n);return K.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yq{constructor(e){this.Mr=e,this.docs=function(){return new yt(ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,o=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return K.resolve(n?n.document.mutableCopy():Ar.newInvalidDocument(r))}getEntries(e,r){let n=ha();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Ar.newInvalidDocument(i))}),K.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=ha();const o=r.path,s=new ue(o.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||N7(O7(u),n)<=0||(i.has(u.key)||Mg(r,u))&&(a=a.insert(u.key,u.mutableCopy()))}return K.resolve(a)}getAllFromCollectionGroup(e,r,n,i){ge()}Or(e,r){return K.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new Qq(this)}getSize(e){return K.resolve(this.size)}}class Qq extends Bq{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),K.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xq{constructor(e){this.persistence=e,this.Nr=new Dc(r=>M1(r),L1),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.Lr=0,this.Br=new z1,this.targetCount=0,this.kr=dc.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,i)=>r(i)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),K.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new dc(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,K.resolve()}updateTargetData(e,r){return this.Kn(r),K.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.Nr.forEach((o,s)=>{s.sequenceNumber<=r&&n.get(s.targetId)===null&&(this.Nr.delete(o),a.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),K.waitFor(a).next(()=>i)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return K.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),K.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),K.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),K.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return K.resolve(n)}containsKey(e,r){return K.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jq{constructor(e,r){this.qr={},this.overlays={},this.Qr=new O1(0),this.Kr=!1,this.Kr=!0,this.$r=new Hq,this.referenceDelegate=e(this),this.Ur=new Xq(this),this.indexManager=new Fq,this.remoteDocumentCache=function(i){return new Yq(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new $q(r),this.Gr=new qq(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Kq,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new Gq(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){ae("MemoryPersistence","Starting transaction:",e);const i=new Zq(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(a=>this.referenceDelegate.jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Hr(e,r){return K.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class Zq extends R7{constructor(e){super(),this.currentSequenceNumber=e}}class W1{constructor(e){this.persistence=e,this.Jr=new z1,this.Yr=null}static Zr(e){return new W1(e)}get Xr(){if(this.Yr)return this.Yr;throw ge()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),K.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),K.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),K.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(a=>this.Xr.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.Xr,n=>{const i=ue.fromPath(n);return this.ei(e,i).next(a=>{a||r.removeEntry(i,ve.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return K.or([()=>K.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=Te(),i=Te();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new q1(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eK{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tK{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return q9()?8:M7(Or())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.Yi(e,r).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.Zi(e,r,i,n).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new eK;return this.Xi(e,r,o).next(s=>{if(a.result=s,this.zi)return this.es(e,r,o,s.size)})}).next(()=>a.result)}es(e,r,n,i){return n.documentReadCount<this.ji?(wu()<=Pe.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",gl(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),K.resolve()):(wu()<=Pe.DEBUG&&ae("QueryEngine","Query:",gl(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(wu()<=Pe.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",gl(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xi(r))):K.resolve())}Yi(e,r){if(MA(r))return K.resolve(null);let n=xi(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=Jw(r,null,"F"),n=xi(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const o=Te(...a);return this.Ji.getDocuments(e,o).next(s=>this.indexManager.getMinOffset(e,n).next(l=>{const c=this.ts(r,s);return this.ns(r,c,o,l.readTime)?this.Yi(e,Jw(r,null,"F")):this.rs(e,c,r,l)}))})))}Zi(e,r,n,i){return MA(r)||i.isEqual(ve.min())?K.resolve(null):this.Ji.getDocuments(e,n).next(a=>{const o=this.ts(r,a);return this.ns(r,o,n,i)?K.resolve(null):(wu()<=Pe.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),gl(r)),this.rs(e,o,r,C7(i,-1)).next(s=>s))})}ts(e,r){let n=new mr(TR(e));return r.forEach((i,a)=>{Mg(e,a)&&(n=n.add(a))}),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,r,n){return wu()<=Pe.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",gl(r)),this.Ji.getDocumentsMatchingQuery(e,r,So.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(a=>(r.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rK{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new yt(Re),this._s=new Dc(a=>M1(a),L1),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Wq(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function nK(t,e,r,n){return new rK(t,e,r,n)}async function HR(t,e){const r=we(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const o=[],s=[];let l=Te();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of a){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return r.localDocuments.getDocuments(n,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:s}))})})}function iK(t,e){const r=we(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=r.cs.newChangeBuffer({trackRemovals:!0});return function(s,l,c,u){const d=c.batch,h=d.keys();let p=K.resolve();return h.forEach(m=>{p=p.next(()=>u.getEntry(l,m)).next(g=>{const b=c.docVersions.get(m);ze(b!==null),g.version.compareTo(b)<0&&(d.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))})}),p.next(()=>s.mutationQueue.removeMutationBatch(l,d))}(r,n,e,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(s){let l=Te();for(let c=0;c<s.mutationResults.length;++c)s.mutationResults[c].transformResults.length>0&&(l=l.add(s.batch.mutations[c].key));return l}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function GR(t){const e=we(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function aK(t,e){const r=we(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const s=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;s.push(r.Ur.removeMatchingKeys(a,u.removedDocuments,d).next(()=>r.Ur.addMatchingKeys(a,u.addedDocuments,d)));let p=h.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(yr.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,n)),i=i.insert(d,p),function(g,b,w){return g.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(h,p,u)&&s.push(r.Ur.updateTargetData(a,p))});let l=ha(),c=Te();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&s.push(r.persistence.referenceDelegate.updateLimboDocument(a,u))}),s.push(oK(a,o,e.documentUpdates).next(u=>{l=u.Ps,c=u.Is})),!n.isEqual(ve.min())){const u=r.Ur.getLastRemoteSnapshotVersion(a).next(d=>r.Ur.setTargetsMetadata(a,a.currentSequenceNumber,n));s.push(u)}return K.waitFor(s).next(()=>o.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,l,c)).next(()=>l)}).then(a=>(r.os=i,a))}function oK(t,e,r){let n=Te(),i=Te();return r.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let o=ha();return r.forEach((s,l)=>{const c=a.get(s);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(ve.min())?(e.removeEntry(s,l.readTime),o=o.insert(s,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(s,l)):ae("LocalStore","Ignoring outdated watch update for ",s,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function sK(t,e){const r=we(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function lK(t,e){const r=we(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,e).next(a=>a?(i=a,K.resolve(i)):r.Ur.allocateTargetId(n).next(o=>(i=new oo(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function nb(t,e,r){const n=we(t),i=n.os.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,o=>n.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!bf(o))throw o;ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function KA(t,e,r){const n=we(t);let i=ve.min(),a=Te();return n.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const d=we(l),h=d._s.get(u);return h!==void 0?K.resolve(d.os.get(h)):d.Ur.getTargetData(c,u)}(n,o,xi(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(o,s.targetId).next(l=>{a=l})}).next(()=>n.ss.getDocumentsMatchingQuery(o,e,r?i:ve.min(),r?a:Te())).next(s=>(cK(n,Z7(e),s),{documents:s,Ts:a})))}function cK(t,e,r){let n=t.us.get(e)||ve.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.us.set(e,n)}class HA{constructor(){this.activeTargetIds=aq()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uK{constructor(){this.so=new HA,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new HA,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dK{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jh=null;function Hv(){return jh===null?jh=function(){return 268435456+Math.round(2147483648*Math.random())}():jh++,"0x"+jh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hK{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr="WebChannelConnection";class pK extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(r,n,i,a,o){const s=Hv(),l=this.xo(r,n.toUriEncodedString());ae("RestConnection",`Sending RPC '${r}' ${s}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,a,o),this.No(r,l,c,i).then(u=>(ae("RestConnection",`Received RPC '${r}' ${s}: `,u),u),u=>{throw sc("RestConnection",`RPC '${r}' ${s} failed with error: `,u,"url: ",l,"request:",i),u})}Lo(r,n,i,a,o,s){return this.Mo(r,n,i,a,o)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Oc}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,o)=>r[o]=a),i&&i.headers.forEach((a,o)=>r[o]=a)}xo(r,n){const i=fK[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const a=Hv();return new Promise((o,s)=>{const l=new lR;l.setWithCredentials(!0),l.listenOnce(cR.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ep.NO_ERROR:const u=l.getResponseJson();ae(xr,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(u)),o(u);break;case Ep.TIMEOUT:ae(xr,`RPC '${e}' ${a} timed out`),s(new re(z.DEADLINE_EXCEEDED,"Request time out"));break;case Ep.HTTP_ERROR:const d=l.getStatus();if(ae(xr,`RPC '${e}' ${a} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const m=function(b){const w=b.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(w)>=0?w:z.UNKNOWN}(p.status);s(new re(m,p.message))}else s(new re(z.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new re(z.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{ae(xr,`RPC '${e}' ${a} completed.`)}});const c=JSON.stringify(i);ae(xr,`RPC '${e}' ${a} sending request:`,i),l.send(r,"POST",c,n,15)})}Bo(e,r,n){const i=Hv(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=fR(),s=dR(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const u=a.join("");ae(xr,`Creating RPC '${e}' stream ${i}: ${u}`,l);const d=o.createWebChannel(u,l);let h=!1,p=!1;const m=new hK({Io:b=>{p?ae(xr,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(h||(ae(xr,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),ae(xr,`RPC '${e}' stream ${i} sending:`,b),d.send(b))},To:()=>d.close()}),g=(b,w,x)=>{b.listen(w,E=>{try{x(E)}catch(C){setTimeout(()=>{throw C},0)}})};return g(d,Uu.EventType.OPEN,()=>{p||(ae(xr,`RPC '${e}' stream ${i} transport opened.`),m.yo())}),g(d,Uu.EventType.CLOSE,()=>{p||(p=!0,ae(xr,`RPC '${e}' stream ${i} transport closed`),m.So())}),g(d,Uu.EventType.ERROR,b=>{p||(p=!0,sc(xr,`RPC '${e}' stream ${i} transport errored:`,b),m.So(new re(z.UNAVAILABLE,"The operation could not be completed")))}),g(d,Uu.EventType.MESSAGE,b=>{var w;if(!p){const x=b.data[0];ze(!!x);const E=x,C=E.error||((w=E[0])===null||w===void 0?void 0:w.error);if(C){ae(xr,`RPC '${e}' stream ${i} received error:`,C);const I=C.status;let M=function(N){const L=Mt[N];if(L!==void 0)return jR(L)}(I),T=C.message;M===void 0&&(M=z.INTERNAL,T="Unknown error status: "+I+" with message "+C.message),p=!0,m.So(new re(M,T)),d.close()}else ae(xr,`RPC '${e}' stream ${i} received:`,x),m.bo(x)}}),g(s,uR.STAT_EVENT,b=>{b.stat===Kw.PROXY?ae(xr,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===Kw.NOPROXY&&ae(xr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.wo()},0),m}}function Gv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(t){return new kq(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,r,n=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&ae("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,r,n,i,a,o,s,l){this.ui=e,this.Ho=n,this.Jo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new YR(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===z.RESOURCE_EXHAUSTED?(fa(r.toString()),fa("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{e(()=>{const i=new re(z.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mK extends QR{constructor(e,r,n,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=Aq(this.serializer,e),n=function(a){if(!("targetChange"in a))return ve.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?ve.min():o.readTime?Ei(o.readTime):ve.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=rb(this.serializer),r.addTarget=function(a,o){let s;const l=o.target;if(s=Qw(l)?{documents:Cq(a,l)}:{query:Oq(a,l)._t},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=FR(a,o.resumeToken);const c=Zw(a,o.expectedCount);c!==null&&(s.expectedCount=c)}else if(o.snapshotVersion.compareTo(ve.min())>0){s.readTime=gm(a,o.snapshotVersion.toTimestamp());const c=Zw(a,o.expectedCount);c!==null&&(s.expectedCount=c)}return s}(this.serializer,e);const n=Dq(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=rb(this.serializer),r.removeTarget=e,this.a_(r)}}class gK extends QR{constructor(e,r,n,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return ze(!!e.streamToken),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=Iq(e.writeResults,e.commitTime),n=Ei(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=rb(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>Pq(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yK extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new re(z.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Mo(e,eb(r,n),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new re(z.UNKNOWN,a.toString())})}Lo(e,r,n,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Lo(e,eb(r,n),i,o,s,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new re(z.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class vK{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(fa(r),this.D_=!1):ae("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wK{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(o=>{n.enqueueAndForget(async()=>{Xs(this)&&(ae("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=we(l);c.L_.add(4),await Ef(c),c.q_.set("Unknown"),c.L_.delete(4),await Fg(c)}(this))})}),this.q_=new vK(n,i)}}async function Fg(t){if(Xs(t))for(const e of t.B_)await e(!0)}async function Ef(t){for(const e of t.B_)await e(!1)}function XR(t,e){const r=we(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),Y1(r)?G1(r):Rc(r).r_()&&H1(r,e))}function K1(t,e){const r=we(t),n=Rc(r);r.N_.delete(e),n.r_()&&JR(r,e),r.N_.size===0&&(n.r_()?n.o_():Xs(r)&&r.q_.set("Unknown"))}function H1(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Rc(t).A_(e)}function JR(t,e){t.Q_.xe(e),Rc(t).R_(e)}function G1(t){t.Q_=new bq({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Rc(t).start(),t.q_.v_()}function Y1(t){return Xs(t)&&!Rc(t).n_()&&t.N_.size>0}function Xs(t){return we(t).L_.size===0}function ZR(t){t.Q_=void 0}async function bK(t){t.q_.set("Online")}async function _K(t){t.N_.forEach((e,r)=>{H1(t,e)})}async function xK(t,e){ZR(t),Y1(t)?(t.q_.M_(e),G1(t)):t.q_.set("Unknown")}async function EK(t,e,r){if(t.q_.set("Online"),e instanceof VR&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const s of a.targetIds)i.N_.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i.N_.delete(s),i.Q_.removeTarget(s))}(t,e)}catch(n){ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await ym(t,n)}else if(e instanceof Tp?t.Q_.Ke(e):e instanceof $R?t.Q_.He(e):t.Q_.We(e),!r.isEqual(ve.min()))try{const n=await GR(t.localStore);r.compareTo(n)>=0&&await function(a,o){const s=a.Q_.rt(o);return s.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=a.N_.get(c);u&&a.N_.set(c,u.withResumeToken(l.resumeToken,o))}}),s.targetMismatches.forEach((l,c)=>{const u=a.N_.get(l);if(!u)return;a.N_.set(l,u.withResumeToken(yr.EMPTY_BYTE_STRING,u.snapshotVersion)),JR(a,l);const d=new oo(u.target,l,c,u.sequenceNumber);H1(a,d)}),a.remoteSyncer.applyRemoteEvent(s)}(t,r)}catch(n){ae("RemoteStore","Failed to raise snapshot:",n),await ym(t,n)}}async function ym(t,e,r){if(!bf(e))throw e;t.L_.add(1),await Ef(t),t.q_.set("Offline"),r||(r=()=>GR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ae("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await Fg(t)})}function eM(t,e){return e().catch(r=>ym(t,r,e))}async function Ug(t){const e=we(t),r=Ao(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;kK(e);)try{const i=await sK(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,SK(e,i)}catch(i){await ym(e,i)}tM(e)&&rM(e)}function kK(t){return Xs(t)&&t.O_.length<10}function SK(t,e){t.O_.push(e);const r=Ao(t);r.r_()&&r.V_&&r.m_(e.mutations)}function tM(t){return Xs(t)&&!Ao(t).n_()&&t.O_.length>0}function rM(t){Ao(t).start()}async function TK(t){Ao(t).p_()}async function AK(t){const e=Ao(t);for(const r of t.O_)e.m_(r.mutations)}async function PK(t,e,r){const n=t.O_.shift(),i=F1.from(n,e,r);await eM(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ug(t)}async function IK(t,e){e&&Ao(t).V_&&await async function(n,i){if(function(o){return yq(o)&&o!==z.ABORTED}(i.code)){const a=n.O_.shift();Ao(n).s_(),await eM(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Ug(n)}}(t,e),tM(t)&&rM(t)}async function YA(t,e){const r=we(t);r.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");const n=Xs(r);r.L_.add(3),await Ef(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await Fg(r)}async function CK(t,e){const r=we(t);e?(r.L_.delete(2),await Fg(r)):e||(r.L_.add(2),await Ef(r),r.q_.set("Unknown"))}function Rc(t){return t.K_||(t.K_=function(r,n,i){const a=we(r);return a.w_(),new mK(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:bK.bind(null,t),Ro:_K.bind(null,t),mo:xK.bind(null,t),d_:EK.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Y1(t)?G1(t):t.q_.set("Unknown")):(await t.K_.stop(),ZR(t))})),t.K_}function Ao(t){return t.U_||(t.U_=function(r,n,i){const a=we(r);return a.w_(),new gK(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:TK.bind(null,t),mo:IK.bind(null,t),f_:AK.bind(null,t),g_:PK.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Ug(t)):(await t.U_.stop(),t.O_.length>0&&(ae("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new ta,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const o=Date.now()+n,s=new Q1(e,r,o,i,a);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function X1(t,e){if(fa("AsyncQueue",`${e}: ${t}`),bf(t))return new re(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e){this.comparator=e?(r,n)=>e(r,n)||ue.comparator(r.key,n.key):(r,n)=>ue.comparator(r.key,n.key),this.keyedMap=Bu(),this.sortedSet=new yt(this.comparator)}static emptySet(e){return new Gl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Gl)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Gl;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(){this.W_=new yt(ue.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):ge():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class fc{constructor(e,r,n,i,a,o,s,l,c){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,r,n,i,a){const o=[];return r.forEach(s=>{o.push({type:0,doc:s})}),new fc(e,r,Gl.emptySet(r),o,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OK{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class NK{constructor(){this.queries=XA(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=we(r),a=i.queries;i.queries=XA(),a.forEach((o,s)=>{for(const l of s.j_)l.onError(n)})})(this,new re(z.ABORTED,"Firestore shutting down"))}}function XA(){return new Dc(t=>SR(t),Rg)}async function nM(t,e){const r=we(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.H_()&&e.J_()&&(n=2):(a=new OK,n=e.J_()?0:1);try{switch(n){case 0:a.z_=await r.onListen(i,!0);break;case 1:a.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const s=X1(o,`Initialization of query '${gl(e.query)}' failed`);return void e.onError(s)}r.queries.set(i,a),a.j_.push(e),e.Z_(r.onlineState),a.z_&&e.X_(a.z_)&&J1(r)}async function iM(t,e){const r=we(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const o=a.j_.indexOf(e);o>=0&&(a.j_.splice(o,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function DK(t,e){const r=we(t);let n=!1;for(const i of e){const a=i.query,o=r.queries.get(a);if(o){for(const s of o.j_)s.X_(i)&&(n=!0);o.z_=i}}n&&J1(r)}function RK(t,e,r){const n=we(t),i=n.queries.get(e);if(i)for(const a of i.j_)a.onError(r);n.queries.delete(e)}function J1(t){t.Y_.forEach(e=>{e.next()})}var ib,JA;(JA=ib||(ib={})).ea="default",JA.Cache="cache";class aM{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new fc(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=fc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==ib.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e){this.key=e}}class sM{constructor(e){this.key=e}}class MK{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Te(),this.mutatedKeys=Te(),this.Aa=TR(e),this.Ra=new Gl(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new QA,i=r?r.Ra:this.Ra;let a=r?r.mutatedKeys:this.mutatedKeys,o=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),p=Mg(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let b=!1;h&&p?h.data.isEqual(p.data)?m!==g&&(n.track({type:3,doc:p}),b=!0):this.ga(h,p)||(n.track({type:2,doc:p}),b=!0,(l&&this.Aa(p,l)>0||c&&this.Aa(p,c)<0)&&(s=!0)):!h&&p?(n.track({type:0,doc:p}),b=!0):h&&!p&&(n.track({type:1,doc:h}),b=!0,(l||c)&&(s=!0)),b&&(p?(o=o.add(p),a=g?a.add(u):a.delete(u)):(o=o.delete(u),a=a.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),a=a.delete(u.key),n.track({type:1,doc:u})}return{Ra:o,fa:n,ns:s,mutatedKeys:a}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((u,d)=>function(p,m){const g=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return g(p)-g(m)}(u.type,d.type)||this.Aa(u.doc,d.doc)),this.pa(n),i=i!=null&&i;const s=r&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new fc(this.query,e.Ra,a,o,e.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new QA,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Te(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new sM(n))}),this.da.forEach(n=>{e.has(n)||r.push(new oM(n))}),r}ba(e){this.Ta=e.Ts,this.da=Te();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return fc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class LK{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class jK{constructor(e){this.key=e,this.va=!1}}class $K{constructor(e,r,n,i,a,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Dc(s=>SR(s),Rg),this.Ma=new Map,this.xa=new Set,this.Oa=new yt(ue.comparator),this.Na=new Map,this.La=new z1,this.Ba={},this.ka=new Map,this.qa=dc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function VK(t,e,r=!0){const n=hM(t);let i;const a=n.Fa.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await lM(n,e,r,!0),i}async function FK(t,e){const r=hM(t);await lM(r,e,!0,!1)}async function lM(t,e,r,n){const i=await lK(t.localStore,xi(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,r);let s;return n&&(s=await UK(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&r&&XR(t.remoteStore,i),s}async function UK(t,e,r,n,i){t.Ka=(d,h,p)=>async function(g,b,w,x){let E=b.view.ma(w);E.ns&&(E=await KA(g.localStore,b.query,!1).then(({documents:T})=>b.view.ma(T,E)));const C=x&&x.targetChanges.get(b.targetId),I=x&&x.targetMismatches.get(b.targetId)!=null,M=b.view.applyChanges(E,g.isPrimaryClient,C,I);return eP(g,b.targetId,M.wa),M.snapshot}(t,d,h,p);const a=await KA(t.localStore,e,!0),o=new MK(e,a.Ts),s=o.ma(a.documents),l=xf.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),c=o.applyChanges(s,t.isPrimaryClient,l);eP(t,r,c.wa);const u=new LK(e,r,o);return t.Fa.set(e,u),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),c.snapshot}async function BK(t,e,r){const n=we(t),i=n.Fa.get(e),a=n.Ma.get(i.targetId);if(a.length>1)return n.Ma.set(i.targetId,a.filter(o=>!Rg(o,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await nb(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&K1(n.remoteStore,i.targetId),ab(n,i.targetId)}).catch(wf)):(ab(n,i.targetId),await nb(n.localStore,i.targetId,!0))}async function zK(t,e){const r=we(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),K1(r.remoteStore,n.targetId))}async function WK(t,e,r){const n=XK(t);try{const i=await function(o,s){const l=we(o),c=zt.now(),u=s.reduce((p,m)=>p.add(m.key),Te());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=ha(),g=Te();return l.cs.getEntries(p,u).next(b=>{m=b,m.forEach((w,x)=>{x.isValidDocument()||(g=g.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(b=>{d=b;const w=[];for(const x of s){const E=fq(x,d.get(x.key).overlayedDocument);E!=null&&w.push(new Vo(x.key,E,yR(E.value.mapValue),$n.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,w,s)}).next(b=>{h=b;const w=b.applyToLocalDocumentSet(d,g);return l.documentOverlayCache.saveOverlays(p,b.batchId,w)})}).then(()=>({batchId:h.batchId,changes:PR(d)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(o,s,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new yt(Re)),c=c.insert(s,l),o.Ba[o.currentUser.toKey()]=c}(n,i.batchId,r),await kf(n,i.changes),await Ug(n.remoteStore)}catch(i){const a=X1(i,"Failed to persist write");r.reject(a)}}async function cM(t,e){const r=we(t);try{const n=await aK(r.localStore,e);e.targetChanges.forEach((i,a)=>{const o=r.Na.get(a);o&&(ze(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?ze(o.va):i.removedDocuments.size>0&&(ze(o.va),o.va=!1))}),await kf(r,n,e)}catch(n){await wf(n)}}function ZA(t,e,r){const n=we(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((a,o)=>{const s=o.view.Z_(e);s.snapshot&&i.push(s.snapshot)}),function(o,s){const l=we(o);l.onlineState=s;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.j_)h.Z_(s)&&(c=!0)}),c&&J1(l)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function qK(t,e,r){const n=we(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),a=i&&i.key;if(a){let o=new yt(ue.comparator);o=o.insert(a,Ar.newNoDocument(a,ve.min()));const s=Te().add(a),l=new $g(ve.min(),new Map,new yt(Re),o,s);await cM(n,l),n.Oa=n.Oa.remove(a),n.Na.delete(e),Z1(n)}else await nb(n.localStore,e,!1).then(()=>ab(n,e,r)).catch(wf)}async function KK(t,e){const r=we(t),n=e.batch.batchId;try{const i=await iK(r.localStore,e);dM(r,n,null),uM(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await kf(r,i)}catch(i){await wf(i)}}async function HK(t,e,r){const n=we(t);try{const i=await function(o,s){const l=we(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,s).next(d=>(ze(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(n.localStore,e);dM(n,e,r),uM(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await kf(n,i)}catch(i){await wf(i)}}function uM(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function dM(t,e,r){const n=we(t);let i=n.Ba[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function ab(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||fM(t,n)})}function fM(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(K1(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),Z1(t))}function eP(t,e,r){for(const n of r)n instanceof oM?(t.La.addReference(n.key,e),GK(t,n)):n instanceof sM?(ae("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||fM(t,n.key)):ge()}function GK(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(ae("SyncEngine","New document in limbo: "+r),t.xa.add(n),Z1(t))}function Z1(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new ue(at.fromString(e)),n=t.qa.next();t.Na.set(n,new jK(r)),t.Oa=t.Oa.insert(r,n),XR(t.remoteStore,new oo(xi(j1(r.path)),n,"TargetPurposeLimboResolution",O1.oe))}}async function kf(t,e,r){const n=we(t),i=[],a=[],o=[];n.Fa.isEmpty()||(n.Fa.forEach((s,l)=>{o.push(n.Ka(l,e,r).then(c=>{var u;if((c||r)&&n.isPrimaryClient){const d=c?!c.fromCache:(u=r==null?void 0:r.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;n.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=q1.Wi(l.targetId,c);a.push(d)}}))}),await Promise.all(o),n.Ca.d_(i),await async function(l,c){const u=we(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>K.forEach(c,h=>K.forEach(h.$i,p=>u.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>K.forEach(h.Ui,p=>u.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!bf(d))throw d;ae("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const p=u.os.get(h),m=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(m);u.os=u.os.insert(h,g)}}}(n.localStore,a))}async function YK(t,e){const r=we(t);if(!r.currentUser.isEqual(e)){ae("SyncEngine","User change. New user:",e.toKey());const n=await HR(r.localStore,e);r.currentUser=e,function(a,o){a.ka.forEach(s=>{s.forEach(l=>{l.reject(new re(z.CANCELLED,o))})}),a.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await kf(r,n.hs)}}function QK(t,e){const r=we(t),n=r.Na.get(e);if(n&&n.va)return Te().add(n.key);{let i=Te();const a=r.Ma.get(e);if(!a)return i;for(const o of a){const s=r.Fa.get(o);i=i.unionWith(s.view.Va)}return i}}function hM(t){const e=we(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=cM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qK.bind(null,e),e.Ca.d_=DK.bind(null,e.eventManager),e.Ca.$a=RK.bind(null,e.eventManager),e}function XK(t){const e=we(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HK.bind(null,e),e}class vm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vg(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return nK(this.persistence,new tK,e.initialUser,this.serializer)}Ga(e){return new Jq(W1.Zr,this.serializer)}Wa(e){return new uK}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vm.provider={build:()=>new vm};class ob{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>ZA(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=YK.bind(null,this.syncEngine),await CK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new NK}()}createDatastore(e){const r=Vg(e.databaseInfo.databaseId),n=function(a){return new pK(a)}(e.databaseInfo);return function(a,o,s,l){return new yK(a,o,s,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,a,o,s){return new wK(n,i,a,o,s)}(this.localStore,this.datastore,e.asyncQueue,r=>ZA(this.syncEngine,r,0),function(){return GA.D()?new GA:new dK}())}createSyncEngine(e,r){return function(i,a,o,s,l,c,u){const d=new $K(i,a,o,s,l,c);return u&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const a=we(i);ae("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await Ef(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}ob.provider={build:()=>new ob};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):fa("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JK{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Sr.UNAUTHENTICATED,this.clientId=pR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async o=>{ae("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(ae("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ta;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=X1(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Yv(t,e){t.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await HR(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function tP(t,e){t.asyncQueue.verifyOperationInProgress();const r=await ZK(t);ae("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>YA(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>YA(e.remoteStore,i)),t._onlineComponents=e}async function ZK(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{await Yv(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===z.FAILED_PRECONDITION||i.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;sc("Error using user provided cache. Falling back to memory cache: "+r),await Yv(t,new vm)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),await Yv(t,new vm);return t._offlineComponents}async function mM(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),await tP(t,t._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),await tP(t,new ob))),t._onlineComponents}function eH(t){return mM(t).then(e=>e.syncEngine)}async function gM(t){const e=await mM(t),r=e.eventManager;return r.onListen=VK.bind(null,e.syncEngine),r.onUnlisten=BK.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=FK.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=zK.bind(null,e.syncEngine),r}function tH(t,e,r={}){const n=new ta;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,c){const u=new pM({next:h=>{u.Za(),o.enqueueAndForget(()=>iM(a,d));const p=h.docs.has(s);!p&&h.fromCache?c.reject(new re(z.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?c.reject(new re(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new aM(j1(s.path),u,{includeMetadataChanges:!0,_a:!0});return nM(a,d)}(await gM(t),t.asyncQueue,e,r,n)),n.promise}function rH(t,e,r={}){const n=new ta;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,c){const u=new pM({next:h=>{u.Za(),o.enqueueAndForget(()=>iM(a,d)),h.fromCache&&l.source==="server"?c.reject(new re(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new aM(s,u,{includeMetadataChanges:!0,_a:!0});return nM(a,d)}(await gM(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(t,e,r){if(!r)throw new re(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function nH(t,e,r,n){if(e===!0&&n===!0)throw new re(z.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function nP(t){if(!ue.isDocumentKey(t))throw new re(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function iP(t){if(ue.isDocumentKey(t))throw new re(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Bg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ge()}function oi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new re(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Bg(t);throw new re(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new re(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new re(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yM((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new re(z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new re(z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new re(z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zg{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aP({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new re(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new re(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aP(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new _7;switch(n.type){case"firstParty":return new S7(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new re(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=rP.get(r);n&&(ae("ComponentProvider","Removing Datastore"),rP.delete(r),n.terminate())}(this),Promise.resolve()}}function iH(t,e,r,n={}){var i;const a=(t=oi(t,zg))._getSettings(),o=`${e}:${r}`;if(a.host!=="firestore.googleapis.com"&&a.host!==o&&sc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),n.mockUserToken){let s,l;if(typeof n.mockUserToken=="string")s=n.mockUserToken,l=Sr.MOCK_USER;else{s=_D(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=n.mockUserToken.sub||n.mockUserToken.user_id;if(!c)throw new re(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Sr(c)}t._authCredentials=new x7(new hR(s,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Js(this.firestore,e,this._query)}}class Vr{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vr(this.firestore,e,this._key)}}class wo extends Js{constructor(e,r,n){super(e,r,j1(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vr(this.firestore,null,new ue(e))}withConverter(e){return new wo(this.firestore,e,this._path)}}function Er(t,e,...r){if(t=Et(t),vM("collection","path",e),t instanceof zg){const n=at.fromString(e,...r);return iP(n),new wo(t,null,n)}{if(!(t instanceof Vr||t instanceof wo))throw new re(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(at.fromString(e,...r));return iP(n),new wo(t.firestore,null,n)}}function Rt(t,e,...r){if(t=Et(t),arguments.length===1&&(e=pR.newId()),vM("doc","path",e),t instanceof zg){const n=at.fromString(e,...r);return nP(n),new Vr(t,null,new ue(n))}{if(!(t instanceof Vr||t instanceof wo))throw new re(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(at.fromString(e,...r));return nP(n),new Vr(t.firestore,t instanceof wo?t.converter:null,new ue(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new YR(this,"async_queue_retry"),this.Vu=()=>{const n=Gv();n&&ae("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=Gv();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=Gv();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new ta;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!bf(e))throw e;ae("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const i=function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(n);throw fa("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=Q1.createAndSchedule(this,e,r,n,a=>this.yu(a));return this.Tu.push(i),i}fu(){this.Eu&&ge()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}class Zs extends zg{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new oP,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new oP(e),this._firestoreClient=void 0,await e}}}function aH(t,e){const r=typeof t=="object"?t:b1(),n=typeof t=="string"?t:e||"(default)",i=Ig(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=vD("firestore");a&&iH(i,...a)}return i}function ex(t){if(t._terminated)throw new re(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||oH(t),t._firestoreClient}function oH(t){var e,r,n;const i=t._freezeSettings(),a=function(s,l,c,u){return new $7(s,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,yM(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new JK(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hc(yr.fromBase64String(e))}catch(r){throw new re(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new hc(yr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new re(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new re(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new re(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sH=/^__.*__$/;class lH{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Vo(e,this.data,this.fieldMask,r,this.fieldTransforms):new _f(e,this.data,r,this.fieldTransforms)}}class wM{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Vo(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function bM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}class ix{constructor(e,r,n,i,a,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new ix(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return wm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(bM(this.Cu)&&sH.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class cH{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Vg(e)}Qu(e,r,n,i=!1){return new ix({Cu:e,methodName:r,qu:n,path:hr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qg(t){const e=t._freezeSettings(),r=Vg(t._databaseId);return new cH(t._databaseId,!!e.ignoreUndefinedProperties,r)}function _M(t,e,r,n,i,a={}){const o=t.Qu(a.merge||a.mergeFields?2:0,e,r,i);ax("Data must be an object, but it was:",o,n);const s=xM(n,o);let l,c;if(a.merge)l=new dn(o.fieldMask),c=o.fieldTransforms;else if(a.mergeFields){const u=[];for(const d of a.mergeFields){const h=sb(e,d,r);if(!o.contains(h))throw new re(z.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);kM(u,h)||u.push(h)}l=new dn(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new lH(new Hr(s),l,c)}class Kg extends tx{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kg}}function uH(t,e,r,n){const i=t.Qu(1,e,r);ax("Data must be an object, but it was:",i,n);const a=[],o=Hr.empty();Qs(n,(l,c)=>{const u=ox(e,l,r);c=Et(c);const d=i.Nu(u);if(c instanceof Kg)a.push(u);else{const h=Sf(c,d);h!=null&&(a.push(u),o.set(u,h))}});const s=new dn(a);return new wM(o,s,i.fieldTransforms)}function dH(t,e,r,n,i,a){const o=t.Qu(1,e,r),s=[sb(e,n,r)],l=[i];if(a.length%2!=0)throw new re(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)s.push(sb(e,a[h])),l.push(a[h+1]);const c=[],u=Hr.empty();for(let h=s.length-1;h>=0;--h)if(!kM(c,s[h])){const p=s[h];let m=l[h];m=Et(m);const g=o.Nu(p);if(m instanceof Kg)c.push(p);else{const b=Sf(m,g);b!=null&&(c.push(p),u.set(p,b))}}const d=new dn(c);return new wM(u,d,o.fieldTransforms)}function fH(t,e,r,n=!1){return Sf(r,t.Qu(n?4:3,e))}function Sf(t,e){if(EM(t=Et(t)))return ax("Unsupported field value:",e,t),xM(t,e);if(t instanceof tx)return function(n,i){if(!bM(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,i){const a=[];let o=0;for(const s of n){let l=Sf(s,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),o++}return{arrayValue:{values:a}}}(t,e)}return function(n,i){if((n=Et(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return oq(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=zt.fromDate(n);return{timestampValue:gm(i.serializer,a)}}if(n instanceof zt){const a=new zt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:gm(i.serializer,a)}}if(n instanceof rx)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof hc)return{bytesValue:FR(i.serializer,n._byteString)};if(n instanceof Vr){const a=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(a))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:B1(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof nx)return function(o,s){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw s.Bu("VectorValues must only contain numeric values.");return $1(s.serializer,l)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${Bg(n)}`)}(t,e)}function xM(t,e){const r={};return mR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qs(t,(n,i)=>{const a=Sf(i,e.Mu(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function EM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof zt||t instanceof rx||t instanceof hc||t instanceof Vr||t instanceof tx||t instanceof nx)}function ax(t,e,r){if(!EM(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=Bg(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function sb(t,e,r){if((e=Et(e))instanceof Wg)return e._internalPath;if(typeof e=="string")return ox(t,e);throw wm("Field path arguments must be of type string or ",t,!1,void 0,r)}const hH=new RegExp("[~\\*/\\[\\]]");function ox(t,e,r){if(e.search(hH)>=0)throw wm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Wg(...e.split("."))._internalPath}catch{throw wm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function wm(t,e,r,n,i){const a=n&&!n.isEmpty(),o=i!==void 0;let s=`Function ${e}() called with invalid data`;r&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=` in field ${n}`),o&&(l+=` in document ${i}`),l+=")"),new re(z.INVALID_ARGUMENT,s+t+l)}function kM(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Vr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new pH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Hg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class pH extends SM{data(){return super.data()}}function Hg(t,e){return typeof e=="string"?ox(t,e):e instanceof Wg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mH(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new re(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sx{}class TM extends sx{}function Mi(t,e,...r){let n=[];e instanceof sx&&n.push(e),n=n.concat(r),function(a){const o=a.filter(l=>l instanceof lx).length,s=a.filter(l=>l instanceof Gg).length;if(o>1||o>0&&s>0)throw new re(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class Gg extends TM{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new Gg(e,r,n)}_apply(e){const r=this._parse(e);return AM(e._query,r),new Js(e.firestore,e.converter,Xw(e._query,r))}_parse(e){const r=qg(e.firestore);return function(a,o,s,l,c,u,d){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new re(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){cP(d,u);const p=[];for(const m of d)p.push(lP(l,a,m));h={arrayValue:{values:p}}}else h=lP(l,a,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||cP(d,u),h=fH(s,o,d,u==="in"||u==="not-in");return jt.create(c,u,h)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function Li(t,e,r){const n=e,i=Hg("where",t);return Gg._create(i,n,r)}class lx extends sx{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new lx(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:ai.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,a){let o=i;const s=a.getFlattenedFilters();for(const l of s)AM(o,l),o=Xw(o,l)}(e._query,r),new Js(e.firestore,e.converter,Xw(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class cx extends TM{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new cx(e,r)}_apply(e){const r=function(i,a,o){if(i.startAt!==null)throw new re(z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new re(z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Vd(a,o)}(e._query,this._field,this._direction);return new Js(e.firestore,e.converter,function(i,a){const o=i.explicitOrderBy.concat([a]);return new Nc(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function sP(t,e="asc"){const r=e,n=Hg("orderBy",t);return cx._create(n,r)}function lP(t,e,r){if(typeof(r=Et(r))=="string"){if(r==="")throw new re(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kR(e)&&r.indexOf("/")!==-1)throw new re(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(at.fromString(r));if(!ue.isDocumentKey(n))throw new re(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return IA(t,new ue(n))}if(r instanceof Vr)return IA(t,r._key);throw new re(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bg(r)}.`)}function cP(t,e){if(!Array.isArray(t)||t.length===0)throw new re(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function AM(t,e){const r=function(i,a){for(const o of i)for(const s of o.getFlattenedFilters())if(a.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new re(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new re(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class gH{convertValue(e,r="none"){switch($s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw ge()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Qs(e,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(e){var r,n,i;const a=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(o=>Pt(o.doubleValue));return new nx(a)}convertGeoPoint(e){return new rx(Pt(e.latitude),Pt(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=D1(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Ld(e));default:return null}}convertTimestamp(e){const r=To(e);return new zt(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=at.fromString(e);ze(KR(n));const i=new jd(n.get(1),n.get(3)),a=new ue(n.popFirst(5));return i.isEqual(r)||fa(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class IM extends SM{constructor(e,r,n,i,a,o){super(e,r,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Ap(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(Hg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class Ap extends IM{data(e={}){return super.data(e)}}class yH{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Wu(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new Ap(this._firestore,this._userDataWriter,n.key,n,new Wu(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new re(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>{const l=new Ap(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Wu(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>a||s.type!==3).map(s=>{const l=new Ap(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Wu(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return s.type!==0&&(c=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),u=o.indexOf(s.doc.key)),{type:vH(s.type),doc:l,oldIndex:c,newIndex:u}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function vH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(t){t=oi(t,Vr);const e=oi(t.firestore,Zs);return tH(ex(e),t._key).then(r=>wH(e,t,r))}class CM extends gH{constructor(e){super(),this.firestore=e}convertBytes(e){return new hc(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Vr(this.firestore,null,r)}}function ui(t){t=oi(t,Js);const e=oi(t.firestore,Zs),r=ex(e),n=new CM(e);return mH(t._query),rH(r,t._query).then(i=>new yH(e,n,t,i))}function uP(t,e,r){t=oi(t,Vr);const n=oi(t.firestore,Zs),i=PM(t.converter,e,r);return Yg(n,[_M(qg(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,$n.none())])}function ji(t,e,r,...n){t=oi(t,Vr);const i=oi(t.firestore,Zs),a=qg(i);let o;return o=typeof(e=Et(e))=="string"||e instanceof Wg?dH(a,"updateDoc",t._key,e,r,n):uH(a,"updateDoc",t._key,e),Yg(i,[o.toMutation(t._key,$n.exists(!0))])}function Qv(t){return Yg(oi(t.firestore,Zs),[new V1(t._key,$n.none())])}function _u(t,e){const r=oi(t.firestore,Zs),n=Rt(t),i=PM(t.converter,e);return Yg(r,[_M(qg(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,$n.exists(!1))]).then(()=>n)}function Yg(t,e){return function(n,i){const a=new ta;return n.asyncQueue.enqueueAndForget(async()=>WK(await eH(n),i,a)),a.promise}(ex(t),e)}function wH(t,e,r){const n=r.docs.get(e._key),i=new CM(t);return new IM(t,i,e._key,n,new Wu(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(i){Oc=i})(Gs),Ds(new ko("firestore",(n,{instanceIdentifier:i,options:a})=>{const o=n.getProvider("app").getImmediate(),s=new Zs(new E7(n.getProvider("auth-internal")),new A7(n.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new re(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jd(c.options.projectId,u)}(o,i),o);return a=Object.assign({useFetchStreams:r},a),s._setSettings(a),s},"PUBLIC").setMultipleInstances(!0)),wi(kA,"4.7.3",e),wi(kA,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM="firebasestorage.googleapis.com",NM="storageBucket",bH=2*60*1e3,_H=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St extends Pi{constructor(e,r,n=0){super(Xv(e),`Firebase Storage: ${r} (${Xv(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,St.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Xv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var kt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(kt||(kt={}));function Xv(t){return"storage/"+t}function ux(){const t="An unknown error occurred, please check the error payload for server response.";return new St(kt.UNKNOWN,t)}function xH(t){return new St(kt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function EH(t){return new St(kt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function kH(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new St(kt.UNAUTHENTICATED,t)}function SH(){return new St(kt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function TH(t){return new St(kt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function AH(){return new St(kt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function PH(){return new St(kt.CANCELED,"User canceled the upload/download.")}function IH(t){return new St(kt.INVALID_URL,"Invalid URL '"+t+"'.")}function CH(t){return new St(kt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function OH(){return new St(kt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+NM+"' property when initializing the app?")}function NH(){return new St(kt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function DH(){return new St(kt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function RH(t){return new St(kt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function lb(t){return new St(kt.INVALID_ARGUMENT,t)}function DM(){return new St(kt.APP_DELETED,"The Firebase app was deleted.")}function MH(t){return new St(kt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function dd(t,e){return new St(kt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function xu(t){throw new St(kt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=fn.makeFromUrl(e,r)}catch{return new fn(e,"")}if(n.path==="")return n;throw CH(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const o="(/(.*))?$",s=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(C){C.path_=decodeURIComponent(C.path)}const u="v[A-Za-z0-9_]+",d=r.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${u}/b/${i}/o${h}`,"i"),m={bucket:1,path:3},g=r===OM?"(?:storage.googleapis.com|storage.cloud.google.com)":r,b="([^?#]*)",w=new RegExp(`^https?://${g}/${i}/${b}`,"i"),E=[{regex:s,indices:l,postModify:a},{regex:p,indices:m,postModify:c},{regex:w,indices:{bucket:1,path:2},postModify:c}];for(let C=0;C<E.length;C++){const I=E[C],M=I.regex.exec(e);if(M){const T=M[I.indices.bucket];let S=M[I.indices.path];S||(S=""),n=new fn(T,S),I.postModify(n);break}}if(n==null)throw IH(e);return n}}class LH{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jH(t,e,r){let n=1,i=null,a=null,o=!1,s=0;function l(){return s===2}let c=!1;function u(...b){c||(c=!0,e.apply(null,b))}function d(b){i=setTimeout(()=>{i=null,t(p,l())},b)}function h(){a&&clearTimeout(a)}function p(b,...w){if(c){h();return}if(b){h(),u.call(null,b,...w);return}if(l()||o){h(),u.call(null,b,...w);return}n<64&&(n*=2);let E;s===1?(s=2,E=0):E=(n+Math.random())*1e3,d(E)}let m=!1;function g(b){m||(m=!0,h(),!c&&(i!==null?(b||(s=2),clearTimeout(i),d(0)):b||(s=1)))}return d(0),a=setTimeout(()=>{o=!0,g(!0)},r),g}function $H(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VH(t){return t!==void 0}function FH(t){return typeof t=="object"&&!Array.isArray(t)}function dx(t){return typeof t=="string"||t instanceof String}function dP(t){return fx()&&t instanceof Blob}function fx(){return typeof Blob<"u"}function fP(t,e,r,n){if(n<e)throw lb(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw lb(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(t,e,r){let n=e;return r==null&&(n=`https://${e}`),`${r}://${n}/v0${t}`}function RM(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var xs;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(xs||(xs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UH(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return r||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BH{constructor(e,r,n,i,a,o,s,l,c,u,d,h=!0){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new $h(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=s=>{const l=s.loaded,c=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const s=a.getErrorCode()===xs.NO_ERROR,l=a.getStatus();if(!s||UH(l,this.additionalRetryCodes_)&&this.retry){const u=a.getErrorCode()===xs.ABORT;n(!1,new $h(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;n(!0,new $h(c,a))})},r=(n,i)=>{const a=this.resolve_,o=this.reject_,s=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(s,s.getResponse());VH(l)?a(l):a()}catch(l){o(l)}else if(s!==null){const l=ux();l.serverResponse=s.getErrorText(),this.errorCallback_?o(this.errorCallback_(s,l)):o(l)}else if(i.canceled){const l=this.appDelete_?DM():PH();o(l)}else{const l=AH();o(l)}};this.canceled_?r(!1,new $h(!1,null,!0)):this.backoffId_=jH(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&$H(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class $h{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function zH(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function WH(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function qH(t,e){e&&(t["X-Firebase-GMPID"]=e)}function KH(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function HH(t,e,r,n,i,a,o=!0){const s=RM(t.urlParams),l=t.url+s,c=Object.assign({},t.headers);return qH(c,e),zH(c,r),WH(c,a),KH(c,n),new BH(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GH(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function YH(...t){const e=GH();if(e!==void 0){const r=new e;for(let n=0;n<t.length;n++)r.append(t[n]);return r.getBlob()}else{if(fx())return new Blob(t);throw new St(kt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function QH(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XH(t){if(typeof atob>"u")throw RH("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Jv{constructor(e,r){this.data=e,this.contentType=r||null}}function JH(t,e){switch(t){case mi.RAW:return new Jv(MM(e));case mi.BASE64:case mi.BASE64URL:return new Jv(LM(t,e));case mi.DATA_URL:return new Jv(eG(e),tG(e))}throw ux()}function MM(t){const e=[];for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const a=n,o=t.charCodeAt(++r);n=65536|(a&1023)<<10|o&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function ZH(t){let e;try{e=decodeURIComponent(t)}catch{throw dd(mi.DATA_URL,"Malformed data URL.")}return MM(e)}function LM(t,e){switch(t){case mi.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw dd(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case mi.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw dd(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=XH(e)}catch(i){throw i.message.includes("polyfill")?i:dd(t,"Invalid character found")}const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}class jM{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw dd(mi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=rG(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function eG(t){const e=new jM(t);return e.base64?LM(mi.BASE64,e.rest):ZH(e.rest)}function tG(t){return new jM(t).contentType}function rG(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,r){let n=0,i="";dP(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,r){if(dP(this.data_)){const n=this.data_,i=QH(n,e,r);return i===null?null:new to(i)}else{const n=new Uint8Array(this.data_.buffer,e,r-e);return new to(n,!0)}}static getBlob(...e){if(fx()){const r=e.map(n=>n instanceof to?n.data_:n);return new to(YH.apply(null,r))}else{const r=e.map(o=>dx(o)?JH(mi.RAW,o).data:o.data_);let n=0;r.forEach(o=>{n+=o.byteLength});const i=new Uint8Array(n);let a=0;return r.forEach(o=>{for(let s=0;s<o.length;s++)i[a++]=o[s]}),new to(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $M(t){let e;try{e=JSON.parse(t)}catch{return null}return FH(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nG(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function iG(t,e){const r=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?r:t+"/"+r}function VM(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aG(t,e){return e}class Rr{constructor(e,r,n,i){this.server=e,this.local=r||e,this.writable=!!n,this.xform=i||aG}}let Vh=null;function oG(t){return!dx(t)||t.length<2?t:VM(t)}function FM(){if(Vh)return Vh;const t=[];t.push(new Rr("bucket")),t.push(new Rr("generation")),t.push(new Rr("metageneration")),t.push(new Rr("name","fullPath",!0));function e(a,o){return oG(o)}const r=new Rr("name");r.xform=e,t.push(r);function n(a,o){return o!==void 0?Number(o):o}const i=new Rr("size");return i.xform=n,t.push(i),t.push(new Rr("timeCreated")),t.push(new Rr("updated")),t.push(new Rr("md5Hash",null,!0)),t.push(new Rr("cacheControl",null,!0)),t.push(new Rr("contentDisposition",null,!0)),t.push(new Rr("contentEncoding",null,!0)),t.push(new Rr("contentLanguage",null,!0)),t.push(new Rr("contentType",null,!0)),t.push(new Rr("metadata","customMetadata",!0)),Vh=t,Vh}function sG(t,e){function r(){const n=t.bucket,i=t.fullPath,a=new fn(n,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:r})}function lG(t,e,r){const n={};n.type="file";const i=r.length;for(let a=0;a<i;a++){const o=r[a];n[o.local]=o.xform(n,e[o.server])}return sG(n,t),n}function UM(t,e,r){const n=$M(e);return n===null?null:lG(t,n,r)}function cG(t,e,r,n){const i=$M(e);if(i===null||!dx(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const o=encodeURIComponent;return a.split(",").map(c=>{const u=t.bucket,d=t.fullPath,h="/b/"+o(u)+"/o/"+o(d),p=hx(h,r,n),m=RM({alt:"media",token:c});return p+m})[0]}function uG(t,e){const r={},n=e.length;for(let i=0;i<n;i++){const a=e[i];a.writable&&(r[a.server]=t[a.local])}return JSON.stringify(r)}class BM{constructor(e,r,n,i){this.url=e,this.method=r,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zM(t){if(!t)throw ux()}function dG(t,e){function r(n,i){const a=UM(t,i,e);return zM(a!==null),a}return r}function fG(t,e){function r(n,i){const a=UM(t,i,e);return zM(a!==null),cG(a,i,t.host,t._protocol)}return r}function WM(t){function e(r,n){let i;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?i=SH():i=kH():r.getStatus()===402?i=EH(t.bucket):r.getStatus()===403?i=TH(t.path):i=n,i.status=r.getStatus(),i.serverResponse=n.serverResponse,i}return e}function hG(t){const e=WM(t);function r(n,i){let a=e(n,i);return n.getStatus()===404&&(a=xH(t.path)),a.serverResponse=i.serverResponse,a}return r}function pG(t,e,r){const n=e.fullServerUrl(),i=hx(n,t.host,t._protocol),a="GET",o=t.maxOperationRetryTime,s=new BM(i,a,fG(t,r),o);return s.errorHandler=hG(e),s}function mG(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function gG(t,e,r){const n=Object.assign({},r);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=mG(null,e)),n}function yG(t,e,r,n,i){const a=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function s(){let E="";for(let C=0;C<2;C++)E=E+Math.random().toString().slice(2);return E}const l=s();o["Content-Type"]="multipart/related; boundary="+l;const c=gG(e,n,i),u=uG(c,r),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=to.getBlob(d,n,h);if(p===null)throw NH();const m={name:c.fullPath},g=hx(a,t.host,t._protocol),b="POST",w=t.maxUploadRetryTime,x=new BM(g,b,dG(t,r),w);return x.urlParams=m,x.headers=o,x.body=p.uploadData(),x.errorHandler=WM(e),x}class vG{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=xs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=xs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=xs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,i){if(this.sent_)throw xu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,e,!0),i!==void 0)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw xu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw xu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw xu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw xu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class wG extends vG{initXhr(){this.xhr_.responseType="text"}}function qM(){return new wG}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,r){this._service=e,r instanceof fn?this._location=r:this._location=fn.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new Vs(e,r)}get root(){const e=new fn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return VM(this._location.path)}get storage(){return this._service}get parent(){const e=nG(this._location.path);if(e===null)return null;const r=new fn(this._location.bucket,e);return new Vs(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw MH(e)}}function bG(t,e,r){t._throwIfRoot("uploadBytes");const n=yG(t.storage,t._location,FM(),new to(e,!0),r);return t.storage.makeRequestWithTokens(n,qM).then(i=>({metadata:i,ref:t}))}function _G(t){t._throwIfRoot("getDownloadURL");const e=pG(t.storage,t._location,FM());return t.storage.makeRequestWithTokens(e,qM).then(r=>{if(r===null)throw DH();return r})}function xG(t,e){const r=iG(t._location.path,e),n=new fn(t._location.bucket,r);return new Vs(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EG(t){return/^[A-Za-z]+:\/\//.test(t)}function kG(t,e){return new Vs(t,e)}function KM(t,e){if(t instanceof px){const r=t;if(r._bucket==null)throw OH();const n=new Vs(r,r._bucket);return e!=null?KM(n,e):n}else return e!==void 0?xG(t,e):t}function SG(t,e){if(e&&EG(e)){if(t instanceof px)return kG(t,e);throw lb("To use ref(service, url), the first argument must be a Storage instance.")}else return KM(t,e)}function hP(t,e){const r=e==null?void 0:e[NM];return r==null?null:fn.makeFromBucketSpec(r,t)}function TG(t,e,r,n={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:i}=n;i&&(t._overrideAuthToken=typeof i=="string"?i:_D(i,t.app.options.projectId))}class px{constructor(e,r,n,i,a){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=OM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=bH,this._maxUploadRetryTime=_H,this._requests=new Set,i!=null?this._bucket=fn.makeFromBucketSpec(i,this._host):this._bucket=hP(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=fn.makeFromBucketSpec(this._url,e):this._bucket=hP(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){fP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){fP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Vs(this,e)}_makeRequest(e,r,n,i,a=!0){if(this._deleted)return new LH(DM());{const o=HH(e,this._appId,n,i,r,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const pP="@firebase/storage",mP="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM="storage";function gP(t,e,r){return t=Et(t),bG(t,e,r)}function yP(t){return t=Et(t),_G(t)}function vP(t,e){return t=Et(t),SG(t,e)}function AG(t=b1(),e){t=Et(t);const n=Ig(t,HM).getImmediate({identifier:e}),i=vD("storage");return i&&PG(n,...i),n}function PG(t,e,r,n={}){TG(t,e,r,n)}function IG(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new px(r,n,i,e,Gs)}function CG(){Ds(new ko(HM,IG,"PUBLIC").setMultipleInstances(!0)),wi(pP,mP,""),wi(pP,mP,"esm2017")}CG();var OG="firebase",NG="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wi(OG,NG,"app");const DG={apiKey:"AIzaSyDa63IAknYHAx_zUbxtCXXaxYnh8ExZ9fY",authDomain:"campus-resources-demo.firebaseapp.com",projectId:"campus-resources-demo",storageBucket:"campus-resources-demo.firebasestorage.app",messagingSenderId:"96808245065",appId:"1:96808245065:web:75462c690a22b3e887ec98"},mx=kD(DG),Eu=w7(mx),Ae=aH(mx),wP=AG(mx);class RG{createQuery(e,r=[],n=[]){let i=e;return r.forEach(({field:a,operator:o,value:s})=>{i=Mi(i,Li(a,o,s))}),n.forEach(({field:a,direction:o})=>{i=Mi(i,sP(a,o))}),i}async register(e){try{console.log("🚀 Starting registration process...",{email:e.email,username:e.username});const n=(await nW(Eu,e.email,e.password)).user;console.log("✅ Firebase Auth user created:",n.uid);const i={id:n.uid,username:e.username,email:e.email,role:e.role,department:e.department,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};console.log("📝 Storing user profile in Firestore...",i),await uP(Rt(Ae,"users",n.uid),i),console.log("✅ User profile stored successfully in Firestore!");const a=await n.getIdToken();return console.log("🎉 Registration completed successfully!"),{user:i,token:a}}catch(r){throw console.error("❌ Registration error:",r),new Error(r.message)}}async getAllUsers(){try{console.log("🔄 Fetching all users...");const e=Er(Ae,"users"),n=(await ui(e)).docs.map(i=>({id:i.id,...i.data()}));return console.log(`✅ Successfully fetched ${n.length} users`),n}catch(e){throw console.error("❌ Error fetching users:",e),new Error("Failed to fetch users")}}async login(e,r){try{const i=(await hA(Eu,e,r)).user,a=await bu(Rt(Ae,"users",i.uid));if(!a.exists())throw new Error("User data not found");const o=a.data(),s=await i.getIdToken();return await ji(Rt(Ae,"users",i.uid),{lastLogin:new Date().toISOString()}),{user:o,token:s}}catch(n){throw console.error("Login error:",n),new Error(n.message)}}async logout(){try{await lW(Eu)}catch(e){throw console.error("Logout error:",e),new Error(e.message)}}async checkUserExists(e){try{return(await bu(Rt(Ae,"users",e))).exists()}catch(r){return console.error("Error checking user existence:",r),!1}}async updateProfile(e,r){try{await ji(Rt(Ae,"users",e),{...r,updatedAt:new Date().toISOString()})}catch(n){throw console.error("Profile update error:",n),new Error(n.message)}}async updateUserProfile(e,r){try{console.log("🔄 Updating user profile for:",e);const n={username:r.username,email:r.email,department:r.department,bio:r.bio,updatedAt:new Date().toISOString()};Object.keys(n).forEach(i=>{(n[i]===void 0||n[i]===null)&&delete n[i]}),console.log("📝 Updating Firestore user document:",n),await ji(Rt(Ae,"users",e),n),console.log("✅ User profile updated successfully")}catch(n){throw console.error("❌ User profile update error:",n),new Error(n.message)}}async updatePassword(e,r,n){try{console.log("🔐 Updating password for user:",e);const i=Eu.currentUser;if(!i||i.uid!==e)throw new Error("User not authenticated");const a=i.email;if(!a)throw new Error("User email not found");const o=await hA(Eu,a,r);await aW(o.user,{displayName:o.user.displayName}),console.log("✅ Password updated successfully")}catch(i){throw console.error("❌ Password update error:",i),new Error(i.message)}}async uploadProfilePicture(e,r){try{const n=vP(wP,`profile-pictures/${e}/${r.name}`);await gP(n,r);const i=await yP(n);return await ji(Rt(Ae,"users",e),{profilePicture:i,updatedAt:new Date().toISOString()}),i}catch(n){throw console.error("Profile picture upload error:",n),new Error(n.message)}}async createResource(e){try{const r={...e,isUnderMaintenance:e.isUnderMaintenance??!1,maintenanceNote:e.maintenanceNote??"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},n=await _u(Er(Ae,"resources"),r);return{...r,id:n.id}}catch(r){throw console.error("Create resource error:",r),new Error(r.message)}}async getResources(){try{const e=Er(Ae,"resources"),r=await ui(e);return r.empty?(await this.initializeSampleData(),[{id:"sample-1",name:"Computer Lab A",type:"lab",description:"Fully equipped computer lab with 25 workstations",category:"Laboratory",location:"Building A, Room 101",capacity:25,status:"available",isUnderMaintenance:!1,maintenanceNote:"",features:["Computers","Projector","Whiteboard"],equipment:["Computers","Projector","Whiteboard"],maintenanceSchedule:"Monthly",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"sample-2",name:"Conference Room B",type:"room",description:"Professional conference room with presentation equipment",category:"Meeting Room",location:"Building B, Room 205",capacity:15,status:"available",isUnderMaintenance:!1,maintenanceNote:"",features:["Projector","Video Conference System","Whiteboard"],equipment:["Projector","Video Conference System","Whiteboard"],maintenanceSchedule:"Quarterly",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"sample-3",name:"Science Lab",type:"lab",description:"Advanced science laboratory with modern equipment",category:"Laboratory",location:"Building C, Room 301",capacity:20,status:"available",isUnderMaintenance:!1,maintenanceNote:"",features:["Microscopes","Lab Equipment","Safety Gear"],equipment:["Microscopes","Lab Equipment","Safety Gear"],maintenanceSchedule:"Weekly",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}]):r.docs.map(n=>({id:n.id,...n.data()}))}catch(e){return console.error("Error getting resources:",e),[]}}async initializeSampleData(){try{console.log("📊 Initializing sample data...");const e=[{name:"Computer Lab A",type:"lab",description:"Fully equipped computer lab with 25 workstations",category:"Laboratory",location:"Building A, Room 101",capacity:25,status:"available",isUnderMaintenance:!1,maintenanceNote:"",features:["Computers","Projector","Whiteboard"],equipment:["Computers","Projector","Whiteboard"],maintenanceSchedule:"Monthly"},{name:"Conference Room B",type:"room",description:"Professional conference room with presentation equipment",category:"Meeting Room",location:"Building B, Room 205",capacity:15,status:"available",isUnderMaintenance:!1,maintenanceNote:"",features:["Projector","Video Conference System","Whiteboard"],equipment:["Projector","Video Conference System","Whiteboard"],maintenanceSchedule:"Quarterly"},{name:"Science Lab",type:"lab",description:"Advanced science laboratory with modern equipment",category:"Laboratory",location:"Building C, Room 301",capacity:20,status:"available",isUnderMaintenance:!1,maintenanceNote:"",features:["Microscopes","Lab Equipment","Safety Gear"],equipment:["Microscopes","Lab Equipment","Safety Gear"],maintenanceSchedule:"Weekly"}];for(const r of e)await this.createResource(r);console.log("✅ Sample data initialized successfully!")}catch(e){console.error("❌ Error initializing sample data:",e)}}async getResource(e){try{const r=await bu(Rt(Ae,"resources",e));if(!r.exists())throw new Error("Resource not found");return{id:r.id,...r.data()}}catch(r){throw console.error("Get resource error:",r),new Error(r.message)}}async updateResource(e,r){try{await ji(Rt(Ae,"resources",e),{...r,updatedAt:new Date().toISOString()})}catch(n){throw console.error("Update resource error:",n),new Error(n.message)}}async deleteResource(e){try{await Qv(Rt(Ae,"resources",e))}catch(r){throw console.error("Delete resource error:",r),new Error(r.message)}}async createBooking(e){try{console.log("🔥 Creating booking in Firebase with data:",e);const r=await _u(Er(Ae,"bookings"),{...e,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),n={...e,id:r.id,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return console.log("✅ Booking created successfully with ID:",r.id),console.log("📋 Created booking data:",n),n}catch(r){throw console.error("Create booking error:",r),new Error(r.message)}}async getBookings(e){try{console.log("🔍 getBookings called with userId:",e);let r=Er(Ae,"bookings");e&&(console.log("🔍 Adding userId filter:",e),r=Mi(Er(Ae,"bookings"),Li("userId","==",e))),console.log("🔍 Executing Firestore query...");const n=await ui(r);console.log("🔍 Query returned",n.docs.length,"documents");const i=n.docs.map(a=>{const o=a.data();return Object.assign({id:a.id},o)});return console.log("🔍 Mapped bookings:",i),i.sort((a,o)=>new Date(o.createdAt).getTime()-new Date(a.createdAt).getTime()),i}catch(r){return console.error("Get bookings error:",r),[]}}async getBookingsByUser(e){console.log("🔍 Fetching bookings for user ID:",e);const r=await this.getBookings(e);return console.log("📋 Found bookings for user",e,":",r.length,"bookings"),console.log("📋 Booking details:",r.map(n=>({id:n.id,resourceName:n.resourceName,status:n.status,userId:n.userId}))),r}async getBooking(e){try{const r=await bu(Rt(Ae,"bookings",e));if(!r.exists())throw new Error("Booking not found");return{id:r.id,...r.data()}}catch(r){throw console.error("Get booking error:",r),new Error(r.message)}}async updateBooking(e,r){try{console.log("🔄 Updating booking:",e,"with data:",r),await ji(Rt(Ae,"bookings",e),{...r,updatedAt:new Date().toISOString()}),console.log("✅ Booking updated successfully")}catch(n){throw console.error("Update booking error:",n),new Error(n.message)}}async approveBooking(e){try{console.log("✅ Approving booking:",e),await ji(Rt(Ae,"bookings",e),{status:"approved",updatedAt:new Date().toISOString()}),console.log("✅ Booking approved successfully")}catch(r){throw console.error("Approve booking error:",r),new Error(r.message)}}async rejectBooking(e){try{console.log("❌ Rejecting booking:",e),await ji(Rt(Ae,"bookings",e),{status:"rejected",updatedAt:new Date().toISOString()}),console.log("✅ Booking rejected successfully")}catch(r){throw console.error("Reject booking error:",r),new Error(r.message)}}async getAllBookings(){try{console.log("🔍 Getting all bookings (admin view)");const e=Er(Ae,"bookings"),n=(await ui(e)).docs.map(i=>({id:i.id,...i.data()}));return n.sort((i,a)=>new Date(a.createdAt).getTime()-new Date(i.createdAt).getTime()),console.log("📋 Found",n.length,"total bookings"),console.log("📋 All booking details:",n.map(i=>({id:i.id,resourceName:i.resourceName,status:i.status,userId:i.userId,userName:i.userName}))),n}catch(e){return console.error("Get all bookings error:",e),[]}}async deleteBooking(e){try{await Qv(Rt(Ae,"bookings",e))}catch(r){throw console.error("Delete booking error:",r),new Error(r.message)}}async checkBookingConflicts(e,r,n,i){try{console.log("🔍 Checking booking conflicts for resource:",e),console.log("🔍 Time range:",r,"to",n);let a=Mi(Er(Ae,"bookings"),Li("resourceId","==",e),Li("status","in",["pending","approved"]));const s=(await ui(a)).docs.map(c=>({id:c.id,...c.data()}));console.log("🔍 Found",s.length,"existing bookings for this resource");const l=s.filter(c=>{if(i&&c.id===i)return!1;const u=new Date(c.startTime),d=new Date(c.endTime),h=new Date(r),p=new Date(n),m=u<p&&d>h;return m&&(console.log("⚠️ Conflict found with booking:",c.id),console.log("⚠️ Existing booking time:",u,"to",d),console.log("⚠️ New booking time:",h,"to",p)),m});return console.log("🔍 Total conflicts found:",l.length),l}catch(a){throw console.error("Check booking conflicts error:",a),new Error(a.message)}}async createNotification(e){try{console.log("📢 Creating notification:",e);const r=await _u(Er(Ae,"notifications"),{...e,createdAt:new Date().toISOString()}),n={...e,id:r.id,createdAt:new Date().toISOString()};return console.log("✅ Notification created successfully with ID:",r.id),n}catch(r){throw console.error("Create notification error:",r),new Error(r.message)}}async getAllNotifications(){try{console.log("🔍 Getting all notifications (admin view)");const e=Er(Ae,"notifications"),n=(await ui(e)).docs.map(i=>({id:i.id,...i.data()}));return n.sort((i,a)=>new Date(a.createdAt).getTime()-new Date(i.createdAt).getTime()),console.log("📋 Found",n.length,"notifications"),n}catch(e){return console.error("Get all notifications error:",e),[]}}async deleteNotification(e){try{console.log("🗑️ Deleting notification:",e),await Qv(Rt(Ae,"notifications",e)),console.log("✅ Notification deleted successfully")}catch(r){throw console.error("Delete notification error:",r),new Error(r.message)}}async uploadNotificationImage(e){try{const r=vP(wP,`notification-images/${Date.now()}-${e.name}`);await gP(r,e);const n=await yP(r);return console.log("✅ Notification image uploaded:",n),n}catch(r){throw console.error("Upload notification image error:",r),new Error(r.message)}}async getNotifications(e){try{console.log("🔍 Getting notifications for user:",e);const r=Mi(Er(Ae,"notifications"),Li("userId","==",e)),n=Mi(Er(Ae,"notifications"),Li("isSystemNotification","==",!0)),[i,a]=await Promise.all([ui(r),ui(n)]),o=i.docs.map(c=>({id:c.id,...c.data()})),s=a.docs.map(c=>({id:c.id,...c.data()})),l=[...o,...s];return l.sort((c,u)=>new Date(u.createdAt).getTime()-new Date(c.createdAt).getTime()),console.log("📋 Found",l.length,"notifications for user"),l}catch(r){return console.error("Get notifications error:",r),[]}}async getNotificationsByUser(e){return this.getNotifications(e)}async markNotificationAsRead(e){try{await ji(Rt(Ae,"notifications",e),{isRead:!0})}catch(r){throw console.error("Mark notification as read error:",r),new Error(r.message)}}async createMaintenanceRecord(e){try{const r=await _u(Er(Ae,"maintenance"),{...e,reportedAt:new Date().toISOString()});return{...e,id:r.id,reportedAt:new Date().toISOString()}}catch(r){throw console.error("Create maintenance record error:",r),new Error(r.message)}}async getMaintenanceRecords(e){try{let r=Er(Ae,"maintenance");return e&&(r=Mi(r,Li("resourceId","==",e))),r=Mi(r,sP("reportedAt","desc")),(await ui(r)).docs.map(i=>{const a=i.data();return Object.assign({id:i.id},a)})}catch(r){throw console.error("Get maintenance records error:",r),new Error(r.message)}}async logAuditEvent(e){try{await _u(Er(Ae,"audit_logs"),{...e,timestamp:new Date().toISOString()})}catch(r){console.error("Log audit event error:",r)}}async getSystemSettings(){try{const e=await bu(Rt(Ae,"system","settings"));return e.exists()?e.data():{maxBookingDuration:4,maxBookingsPerUser:10,approvalRequired:!0,blackoutDates:[],maintenanceMode:!1,emailNotifications:!0,smsNotifications:!1}}catch(e){throw console.error("Get system settings error:",e),new Error(e.message)}}async updateSystemSettings(e){try{await uP(Rt(Ae,"system","settings"),e,{merge:!0})}catch(r){throw console.error("Update system settings error:",r),new Error(r.message)}}async getBookingReport(e,r){try{const n=Mi(Er(Ae,"bookings"),Li("createdAt",">=",e),Li("createdAt","<=",r)),a=(await ui(n)).docs.map(d=>({id:d.id,...d.data()})),o=a.length,s=a.filter(d=>d.status==="approved").length,l=a.filter(d=>d.status==="rejected").length,c=a.filter(d=>d.status==="pending").length,u=a.filter(d=>d.status==="cancelled").length;return{totalBookings:o,approvedBookings:s,rejectedBookings:l,pendingBookings:c,cancelledBookings:u}}catch(n){throw console.error("Get booking report error:",n),new Error(n.message)}}}const Ce=new RG,MG=Object.freeze(Object.defineProperty({__proto__:null,firebaseService:Ce},Symbol.toStringTag,{value:"Module"})),LG=()=>{const t=df(),[e,r]=_.useState({username:"",email:"",role:"student",department:"",password:"",confirmPassword:""}),[n,i]=_.useState({}),[a,o]=_.useState(!1),[s,l]=_.useState(""),[c,u]=_.useState(""),d=[{value:"computer-science",label:"Computer Science"},{value:"engineering",label:"Engineering"},{value:"business",label:"Business Administration"},{value:"arts",label:"Arts & Humanities"},{value:"science",label:"Natural Sciences"},{value:"medicine",label:"Medicine"},{value:"law",label:"Law"},{value:"education",label:"Education"},{value:"social-sciences",label:"Social Sciences"},{value:"mathematics",label:"Mathematics"},{value:"physics",label:"Physics"},{value:"chemistry",label:"Chemistry"},{value:"biology",label:"Biology"},{value:"economics",label:"Economics"},{value:"psychology",label:"Psychology"},{value:"history",label:"History"},{value:"philosophy",label:"Philosophy"},{value:"languages",label:"Languages & Literature"},{value:"architecture",label:"Architecture"},{value:"design",label:"Design & Arts"},{value:"music",label:"Music"},{value:"theater",label:"Theater & Drama"},{value:"journalism",label:"Journalism & Media"},{value:"public-health",label:"Public Health"},{value:"nursing",label:"Nursing"},{value:"pharmacy",label:"Pharmacy"},{value:"dentistry",label:"Dentistry"},{value:"veterinary",label:"Veterinary Medicine"},{value:"agriculture",label:"Agriculture"},{value:"forestry",label:"Forestry"},{value:"marine-sciences",label:"Marine Sciences"},{value:"geology",label:"Geology"},{value:"astronomy",label:"Astronomy"},{value:"other",label:"Other"}],h=(g,b)=>{r(w=>({...w,[g]:b})),n[g]&&i(w=>({...w,[g]:""}))},p=()=>{const g={};return F5(e.username)||(g.username="Username must be at least 3 characters long"),cD(e.email)||(g.email="Please enter a valid email address"),V5(e.password)||(g.password="Password must be at least 6 characters long"),e.password!==e.confirmPassword&&(g.confirmPassword="Passwords do not match"),e.role==="lecturer"&&!e.department&&(g.department="Department is required for lecturers"),i(g),Object.keys(g).length===0};return A("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center p-4 transition-all duration-300",children:[y(Ag,{position:"top-center"}),A("div",{className:"max-w-md w-full bg-white dark:bg-gray-800 rounded-xl sm:rounded-2xl shadow-xl p-6 sm:p-8 border border-gray-200 dark:border-gray-700",children:[A("div",{className:"text-center mb-6 sm:mb-8",children:[y("div",{className:"mx-auto w-14 h-14 sm:w-16 sm:h-16 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-full flex items-center justify-center mb-4",children:y(l5,{className:"w-7 h-7 sm:w-8 sm:h-8 text-white"})}),y("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2 leading-tight",children:"Create Account"}),y("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"Join our campus resources management system"})]}),c&&A("div",{className:"mb-4 sm:mb-6 p-3 sm:p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700 rounded-lg flex items-start",children:[y(rm,{className:"w-5 h-5 text-green-500 mr-2 mt-0.5 flex-shrink-0"}),y("span",{className:"text-sm sm:text-base text-green-700 dark:text-green-400 leading-relaxed",children:c})]}),s&&A("div",{className:"mb-4 sm:mb-6 p-3 sm:p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded-lg flex items-start",children:[y(tD,{className:"w-5 h-5 text-red-500 mr-2 mt-0.5 flex-shrink-0"}),y("span",{className:"text-sm sm:text-base text-red-700 dark:text-red-400 leading-relaxed",children:s})]}),A("form",{onSubmit:async g=>{if(g.preventDefault(),!!p()){o(!0),l(""),u("");try{const b=await Ce.register({username:e.username,email:e.email,password:e.password,role:e.role,department:e.department});u(`Registration successful! Welcome ${e.username}! Your account has been created in Firebase.`),localStorage.setItem("user",JSON.stringify(b.user)),localStorage.setItem("token",b.token),setTimeout(()=>{t("/dashboard")},2e3)}catch(b){console.error("Registration failed:",b);const w=b instanceof Error?b.message:"Registration failed. Please try again.";l(`Registration failed: ${w}`)}finally{o(!1)}}},className:"space-y-4 sm:space-y-6",children:[y($e,{label:"Username",type:"text",value:e.username,onChange:g=>h("username",g.target.value),error:n.username,placeholder:"Enter your username",required:!0}),y($e,{label:"Email Address",type:"email",value:e.email,onChange:g=>h("email",g.target.value),error:n.email,placeholder:"Enter your email",required:!0}),y($e,{label:"Role",type:"select",value:e.role,onChange:g=>h("role",g),error:n.role,options:[{value:"student",label:"Student"},{value:"lecturer",label:"Lecturer"}],required:!0}),e.role==="lecturer"&&y($e,{label:"Department",type:"select",value:e.department,onChange:g=>h("department",g),error:n.department,options:d,required:!0}),y($e,{label:"Password",type:"password",value:e.password,onChange:g=>h("password",g.target.value),error:n.password,placeholder:"Create a strong password",required:!0}),y($e,{label:"Confirm Password",type:"password",value:e.confirmPassword,onChange:g=>h("confirmPassword",g.target.value),error:n.confirmPassword,placeholder:"Confirm your password",required:!0}),y(Ee,{type:"submit",disabled:a,className:"w-full mobile-button",children:a?"Creating Account...":"Create Account"})]}),y("div",{className:"mt-6 text-center",children:A("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400",children:["Already have an account?"," ",y(eD,{to:"/login",className:"text-blue-600 hover:text-blue-700 font-medium py-2 px-1 -mx-1 rounded touch-manipulation",children:"Sign in"})]})})]})]})},ku=t=>{const e=new Date(t);return new Date(e.getTime()-e.getTimezoneOffset()*6e4).toISOString().split("T")[0]},GM=t=>new Date(t).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0}),Nl=t=>new Date(t).toLocaleString([],{year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}),Fh=(t,e)=>{const r=new Date(`${t}T${e}:00`);if(isNaN(r.getTime()))throw new Error("Invalid date or time format");return r},hl=t=>{const e=t.getTimezoneOffset();return new Date(t.getTime()+e*6e4).toISOString()},YM=_.createContext(void 0),QM=()=>{const t=_.useContext(YM);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},jG=({children:t})=>{const[e,r]=_.useState(()=>localStorage.getItem("theme")||"light"),n=e==="dark";_.useEffect(()=>{localStorage.setItem("theme",e);const a=document.documentElement;a.classList.remove("light","dark"),a.classList.add(e),a.style.transition="background-color 0.3s ease, color 0.3s ease"},[e]);const i=()=>{r(a=>a==="light"?"dark":"light")};return y(YM.Provider,{value:{theme:e,toggleTheme:i,isDark:n},children:t})},$G=({isOpen:t,onClose:e,onResourceAdded:r})=>{const[n,i]=_.useState({name:"",description:"",category:"",location:"",capacity:"",status:"available",equipment:"",maintenanceSchedule:""}),[a,o]=_.useState(!1),s=[{value:"Laboratory",label:"Laboratory"},{value:"Meeting Room",label:"Meeting Room"},{value:"Classroom",label:"Classroom"},{value:"Auditorium",label:"Auditorium"},{value:"Computer Lab",label:"Computer Lab"},{value:"Equipment",label:"Equipment"},{value:"Vehicle",label:"Vehicle"},{value:"Sports Facility",label:"Sports Facility"},{value:"Library",label:"Library"},{value:"Other",label:"Other"}],l=[{value:"available",label:"Available"},{value:"booked",label:"Booked"},{value:"maintenance",label:"Under Maintenance"},{value:"unavailable",label:"Unavailable"}],c=[{value:"Weekly",label:"Weekly"},{value:"Monthly",label:"Monthly"},{value:"Quarterly",label:"Quarterly"},{value:"Annually",label:"Annually"},{value:"As Needed",label:"As Needed"}],u=(h,p)=>{i(m=>({...m,[h]:p}))},d=async h=>{if(h.preventDefault(),!n.name||!n.description||!n.category||!n.location){be.error("Please fill in all required fields");return}o(!0);try{const p=n.equipment.split(",").map(m=>m.trim()).filter(m=>m.length>0);await Ce.createResource({name:n.name,description:n.description,category:n.category,location:n.location,capacity:parseInt(n.capacity)||0,status:n.status,equipment:p,maintenanceSchedule:n.maintenanceSchedule}),be.success("Resource added successfully!"),r(),e(),i({name:"",description:"",category:"",location:"",capacity:"",status:"available",equipment:"",maintenanceSchedule:""})}catch(p){console.error("Error adding resource:",p),be.error("Failed to add resource. Please try again.")}finally{o(!1)}};return t?y("div",{className:"fixed inset-0 bg-black bg-opacity-50 dark:bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm",children:A("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto border border-gray-200 dark:border-gray-700",children:[A("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[A("div",{className:"flex items-center space-x-3",children:[y("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg",children:y(id,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),y("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Add New Resource"})]}),y("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-400 transition-colors",children:y(la,{className:"w-6 h-6"})})]}),A("form",{onSubmit:d,className:"p-6 space-y-6",children:[A("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y("div",{className:"md:col-span-2",children:y($e,{label:"Resource Name *",type:"text",value:n.name,onChange:h=>u("name",h),placeholder:"Enter resource name",required:!0,icon:y(Zi,{className:"w-4 h-4"})})}),y("div",{className:"md:col-span-2",children:A("div",{className:"space-y-2",children:[y("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Description *"}),y("textarea",{value:n.description,onChange:h=>u("description",h.target.value),placeholder:"Enter resource description",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",rows:3,required:!0})]})}),y("div",{children:y($e,{label:"Category *",type:"select",value:n.category,onChange:h=>u("category",h),options:s,required:!0,icon:y(Zi,{className:"w-4 h-4"})})}),y("div",{children:y($e,{label:"Location *",type:"text",value:n.location,onChange:h=>u("location",h),placeholder:"Building, Room number",required:!0,icon:y(Sg,{className:"w-4 h-4"})})}),y("div",{children:y($e,{label:"Capacity",type:"text",value:n.capacity,onChange:h=>u("capacity",h),placeholder:"Number of people/items",icon:y(Ic,{className:"w-4 h-4"})})}),y("div",{children:y($e,{label:"Status",type:"select",value:n.status,onChange:h=>u("status",h),options:l,icon:y(Zi,{className:"w-4 h-4"})})}),y("div",{className:"md:col-span-2",children:y($e,{label:"Equipment (comma-separated)",type:"text",value:n.equipment,onChange:h=>u("equipment",h),placeholder:"Computers, Projector, Whiteboard",icon:y(g1,{className:"w-4 h-4"})})}),y("div",{className:"md:col-span-2",children:y($e,{label:"Maintenance Schedule",type:"select",value:n.maintenanceSchedule,onChange:h=>u("maintenanceSchedule",h),options:c,icon:y(ln,{className:"w-4 h-4"})})})]}),A("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[y(Ee,{type:"button",variant:"outline",onClick:e,disabled:a,children:"Cancel"}),y(Ee,{type:"submit",disabled:a,className:"flex items-center space-x-2",children:a?A(Jl,{children:[y("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),y("span",{children:"Adding..."})]}):A(Jl,{children:[y(id,{className:"w-4 h-4"}),y("span",{children:"Add Resource"})]})})]})]})]})}):null},VG=({isOpen:t,onClose:e,onResourceUpdated:r,resource:n})=>{const[i,a]=_.useState({name:"",description:"",category:"",location:"",capacity:"",status:"available",equipment:"",maintenanceSchedule:""}),[o,s]=_.useState(!1),l=[{value:"Laboratory",label:"Laboratory"},{value:"Meeting Room",label:"Meeting Room"},{value:"Classroom",label:"Classroom"},{value:"Auditorium",label:"Auditorium"},{value:"Computer Lab",label:"Computer Lab"},{value:"Equipment",label:"Equipment"},{value:"Vehicle",label:"Vehicle"},{value:"Sports Facility",label:"Sports Facility"},{value:"Library",label:"Library"},{value:"Other",label:"Other"}],c=[{value:"available",label:"Available"},{value:"booked",label:"Booked"},{value:"maintenance",label:"Under Maintenance"},{value:"unavailable",label:"Unavailable"}],u=[{value:"Weekly",label:"Weekly"},{value:"Monthly",label:"Monthly"},{value:"Quarterly",label:"Quarterly"},{value:"Annually",label:"Annually"},{value:"As Needed",label:"As Needed"}];_.useEffect(()=>{var p;n&&a({name:n.name||"",description:n.description||"",category:n.category||"",location:n.location||"",capacity:((p=n.capacity)==null?void 0:p.toString())||"",status:n.status||"available",equipment:Array.isArray(n.equipment)?n.equipment.join(", "):"",maintenanceSchedule:n.maintenanceSchedule||""})},[n]);const d=(p,m)=>{a(g=>({...g,[p]:m}))},h=async p=>{if(p.preventDefault(),!n||!i.name||!i.description||!i.category||!i.location){be.error("Please fill in all required fields");return}s(!0);try{const m=i.equipment.split(",").map(g=>g.trim()).filter(g=>g.length>0);await Ce.updateResource(n.id,{name:i.name,description:i.description,category:i.category,location:i.location,capacity:parseInt(i.capacity)||0,status:i.status,equipment:m,maintenanceSchedule:i.maintenanceSchedule}),be.success("Resource updated successfully!"),r(),e()}catch(m){console.error("Error updating resource:",m),be.error("Failed to update resource. Please try again.")}finally{s(!1)}};return!t||!n?null:y("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:A("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[A("div",{className:"flex items-center justify-between p-6 border-b",children:[A("div",{className:"flex items-center space-x-3",children:[y("div",{className:"p-2 bg-blue-100 rounded-lg",children:y(Ow,{className:"w-5 h-5 text-blue-600"})}),y("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Resource"})]}),y("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:y(la,{className:"w-6 h-6"})})]}),A("form",{onSubmit:h,className:"p-6 space-y-6",children:[A("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y("div",{className:"md:col-span-2",children:y($e,{label:"Resource Name *",type:"text",value:i.name,onChange:p=>d("name",p),placeholder:"Enter resource name",required:!0,icon:y(Zi,{className:"w-4 h-4"})})}),y("div",{className:"md:col-span-2",children:A("div",{className:"space-y-2",children:[y("label",{className:"block text-sm font-medium text-gray-700",children:"Description *"}),y("textarea",{value:i.description,onChange:p=>d("description",p.target.value),placeholder:"Enter resource description",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,required:!0})]})}),y("div",{children:y($e,{label:"Category *",type:"select",value:i.category,onChange:p=>d("category",p),options:l,required:!0,icon:y(Zi,{className:"w-4 h-4"})})}),y("div",{children:y($e,{label:"Location *",type:"text",value:i.location,onChange:p=>d("location",p),placeholder:"Building, Room number",required:!0,icon:y(Sg,{className:"w-4 h-4"})})}),y("div",{children:y($e,{label:"Capacity",type:"text",value:i.capacity,onChange:p=>d("capacity",p),placeholder:"Number of people/items",icon:y(Ic,{className:"w-4 h-4"})})}),y("div",{children:y($e,{label:"Status",type:"select",value:i.status,onChange:p=>d("status",p),options:c,icon:y(Zi,{className:"w-4 h-4"})})}),y("div",{className:"md:col-span-2",children:y($e,{label:"Equipment (comma-separated)",type:"text",value:i.equipment,onChange:p=>d("equipment",p),placeholder:"Computers, Projector, Whiteboard",icon:y(g1,{className:"w-4 h-4"})})}),y("div",{className:"md:col-span-2",children:y($e,{label:"Maintenance Schedule",type:"select",value:i.maintenanceSchedule,onChange:p=>d("maintenanceSchedule",p),options:u,icon:y(ln,{className:"w-4 h-4"})})})]}),A("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[y(Ee,{type:"button",variant:"outline",onClick:e,disabled:o,children:"Cancel"}),y(Ee,{type:"submit",disabled:o,className:"flex items-center space-x-2",children:o?A(Jl,{children:[y("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),y("span",{children:"Updating..."})]}):A(Jl,{children:[y(Ow,{className:"w-4 h-4"}),y("span",{children:"Update Resource"})]})})]})]})]})})},FG=({isOpen:t,onClose:e,resource:r,currentUser:n,onBookingCreated:i})=>{const[a,o]=_.useState({startDate:"",startTime:"",endTime:"",purpose:"",attendees:"",notes:""}),[s,l]=_.useState({}),[c,u]=_.useState(!1),[d,h]=_.useState([]),[p,m]=_.useState(!1);_.useEffect(()=>{t&&(h([]),m(!1))},[t]);const g=(E,C)=>{o(I=>({...I,[E]:C})),s[E]&&l(I=>({...I,[E]:""})),["startDate","startTime","endTime"].includes(E)&&b()},b=async()=>{if(!r||!a.startDate||!a.startTime||!a.endTime){h([]);return}try{m(!0);const E=Fh(a.startDate,a.startTime),C=Fh(a.startDate,a.endTime),I=await Ce.checkBookingConflicts(r.id,hl(E),hl(C));h(I)}catch(E){console.error("Error checking conflicts:",E),h([])}finally{m(!1)}},w=()=>{const E={};if(a.startDate||(E.startDate="Start date is required"),a.startTime||(E.startTime="Start time is required"),a.endTime||(E.endTime="End time is required"),a.purpose||(E.purpose="Purpose is required"),a.startTime&&a.endTime){const C=new Date(`2000-01-01T${a.startTime}`);new Date(`2000-01-01T${a.endTime}`)<=C&&(E.endTime="End time must be after start time")}if(a.startDate){const C=new Date(a.startDate),I=new Date;I.setHours(0,0,0,0),C<I&&(E.startDate="Cannot book in the past")}return l(E),Object.keys(E).length===0},x=async E=>{if(E.preventDefault(),!(!w()||!r)){u(!0);try{const C=Fh(a.startDate,a.startTime),I=Fh(a.startDate,a.endTime);console.log("🔍 Checking for booking conflicts...");const M=await Ce.checkBookingConflicts(r.id,hl(C),hl(I));if(M.length>0){console.log("⚠️ Booking conflicts found:",M);const N=`⚠️ This resource is already booked for the selected time:

${M.map(L=>{const D=new Date(L.startTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),O=new Date(L.endTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),P=L.status==="approved"?"✅ Approved":"⏳ Pending";return`${D} - ${O} (${P})`}).join(`
`)}

Please choose a different time or date.`;be.error(N,{duration:8e3,style:{maxWidth:"500px",whiteSpace:"pre-line",fontSize:"14px"}}),u(!1);return}console.log("✅ No conflicts found, creating booking...");const T={userId:n.id,userName:n.username,userRole:n.role,resourceId:r.id,resourceName:r.name,startTime:hl(C),endTime:hl(I),purpose:a.purpose,attendees:parseInt(a.attendees)||1,status:"pending",isRecurring:!1};console.log("📝 Creating booking with user ID:",n.id),console.log("📝 Booking data:",T),await Ce.createBooking(T),be.success("Booking created successfully!"),i(),e(),o({startDate:"",startTime:"",endTime:"",purpose:"",attendees:"",notes:""})}catch(C){console.error("Booking creation failed:",C),be.error(C.message||"Failed to create booking")}finally{u(!1)}}};return!t||!r?null:y("div",{className:"fixed inset-0 bg-black bg-opacity-50 dark:bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm p-4",children:A("div",{className:"bg-white dark:bg-gray-800 rounded-lg sm:rounded-xl shadow-xl w-full max-w-md sm:max-w-lg max-h-[95vh] sm:max-h-[90vh] overflow-y-auto border border-gray-200 dark:border-gray-700",children:[A("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-200 dark:border-gray-700 sticky top-0 bg-white dark:bg-gray-800 z-10",children:[A("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-gray-100 pr-4 leading-tight",children:["Book Resource: ",r.name]}),y("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-400 p-2 -mr-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",style:{minHeight:"44px",minWidth:"44px"},children:y(la,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),A("form",{onSubmit:x,className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[A("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3 sm:p-4 mb-4",children:[y("h3",{className:"font-medium text-gray-900 dark:text-gray-100 mb-3 text-sm sm:text-base",children:"Resource Details"}),A("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:[A("p",{children:[y("strong",{children:"Name:"})," ",r.name]}),A("p",{children:[y("strong",{children:"Category:"})," ",r.category]}),A("p",{children:[y("strong",{children:"Location:"})," ",r.location]}),A("p",{children:[y("strong",{children:"Capacity:"})," ",r.capacity||"N/A"]})]})]}),A("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[y($e,{label:"Start Date",type:"date",value:a.startDate,onChange:E=>g("startDate",E),error:s.startDate,required:!0}),y($e,{label:"Start Time",type:"time",value:a.startTime,onChange:E=>g("startTime",E),error:s.startTime,required:!0})]}),A("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[y($e,{label:"End Time",type:"time",value:a.endTime,onChange:E=>g("endTime",E),error:s.endTime,required:!0}),y($e,{label:"Number of Attendees",type:"number",value:a.attendees,onChange:E=>g("attendees",E),placeholder:"1",min:"1",max:String(r.capacity||100)})]}),p&&A("div",{className:"flex items-center space-x-2 text-blue-600 dark:text-blue-400 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[y("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 dark:border-blue-400"}),y("span",{className:"text-sm",children:"Checking availability..."})]}),d.length>0&&!p&&A("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded-lg p-3 sm:p-4",children:[A("div",{className:"flex items-center space-x-2 mb-3",children:[y("div",{className:"w-5 h-5 bg-red-100 dark:bg-red-800 rounded-full flex items-center justify-center flex-shrink-0",children:y("span",{className:"text-red-600 dark:text-red-400 text-xs",children:"⚠️"})}),y("h4",{className:"text-sm font-medium text-red-800 dark:text-red-300",children:"Time Conflict Detected"})]}),A("div",{className:"text-xs sm:text-sm text-red-700 dark:text-red-300 space-y-2",children:[y("p",{children:"This resource is already booked for the selected time:"}),y("div",{className:"space-y-1 ml-2",children:d.map((E,C)=>{const I=new Date(E.startTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),M=new Date(E.endTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),T=E.status==="approved"?"✅ Approved":"⏳ Pending";return A("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1",children:[A("span",{children:["• ",I," - ",M]}),A("span",{className:"text-xs opacity-75",children:["(",T,")"]})]},C)})}),y("p",{className:"mt-2 font-medium",children:"Please choose a different time or date."})]})]}),y($e,{label:"Purpose",type:"text",value:a.purpose,onChange:E=>g("purpose",E),error:s.purpose,placeholder:"e.g., Study session, Meeting, Lab work",required:!0}),A("div",{children:[y("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Additional Notes"}),y("textarea",{value:a.notes,onChange:E=>g("notes",E.target.value),className:"w-full px-3 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-base resize-none",rows:3,placeholder:"Any additional information..."})]}),A("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 pt-4 sticky bottom-0 bg-white dark:bg-gray-800 -mx-4 sm:-mx-6 px-4 sm:px-6 pb-4 sm:pb-6 border-t sm:border-t-0 border-gray-200 dark:border-gray-700",children:[y(Ee,{type:"button",variant:"outline",onClick:e,className:"w-full sm:flex-1 mobile-button",children:"Cancel"}),y(Ee,{type:"submit",loading:c,disabled:d.length>0||p,className:"w-full sm:flex-1 mobile-button",children:d.length>0?"Time Conflict - Cannot Book":"Create Booking"})]})]})]})})},UG=({isOpen:t,onClose:e,booking:r,currentUser:n,onBookingUpdated:i})=>{const[a,o]=_.useState(!1);if(!t||!r)return null;const s=h=>{switch(h){case"approved":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"rejected":return"bg-red-100 text-red-800";case"cancelled":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},l=async()=>{if(window.confirm("Are you sure you want to cancel this booking?")){o(!0);try{await Ce.updateBooking(r.id,{...r,status:"cancelled"}),be.success("Booking cancelled successfully"),i(),e()}catch(h){console.error("Failed to cancel booking:",h),be.error("Failed to cancel booking")}finally{o(!1)}}},c=()=>{var g;const h=new Date;return(new Date(r.startTime).getTime()-h.getTime())/(1e3*60*60)>2&&r.status!=="cancelled"&&r.status!=="rejected"&&(n.id===r.userId||((g=n.role)==null?void 0:g.toLowerCase())==="admin")},u=Nl(r.startTime),d=Nl(r.endTime);return y("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:A("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full mx-4 max-h-[90vh] overflow-y-auto",children:[A("div",{className:"flex items-center justify-between p-6 border-b",children:[y("h2",{className:"text-xl font-semibold text-gray-900",children:"Booking Details"}),y("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:y(la,{className:"w-6 h-6"})})]}),A("div",{className:"p-6 space-y-6",children:[A("div",{className:"flex items-center justify-between",children:[y("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${s(r.status)}`,children:r.status.charAt(0).toUpperCase()+r.status.slice(1)}),A("span",{className:"text-sm text-gray-500",children:["ID: ",r.id.slice(-8)]})]}),A("div",{className:"bg-blue-50 rounded-lg p-4",children:[A("h3",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[y(Sg,{className:"w-5 h-5 mr-2 text-blue-600"}),"Resource Information"]}),A("div",{className:"space-y-2 text-sm",children:[A("p",{children:[y("strong",{children:"Name:"})," ",r.resourceName]}),A("p",{children:[y("strong",{children:"Category:"})," ",r.resourceCategory]}),A("p",{children:[y("strong",{children:"Department:"})," ",r.department]})]})]}),A("div",{className:"bg-gray-50 rounded-lg p-4",children:[A("h3",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[y(ln,{className:"w-5 h-5 mr-2 text-gray-600"}),"Booking Details"]}),A("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[A("div",{children:[y("p",{className:"text-gray-500 dark:text-gray-400",children:"Start Date & Time"}),y("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:u})]}),A("div",{children:[y("p",{className:"text-gray-500 dark:text-gray-400",children:"End Date & Time"}),y("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:d})]}),A("div",{children:[y("p",{className:"text-gray-600",children:"Attendees"}),A("p",{className:"font-medium",children:[r.attendees," people"]})]})]})]}),y("div",{className:"space-y-4",children:A("div",{children:[A("h3",{className:"font-medium text-gray-900 mb-2 flex items-center",children:[y(ZB,{className:"w-5 h-5 mr-2 text-gray-600"}),"Purpose"]}),y("p",{className:"text-gray-700 bg-gray-50 rounded p-3",children:r.purpose})]})}),A("div",{className:"bg-green-50 rounded-lg p-4",children:[A("h3",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[y(us,{className:"w-5 h-5 mr-2 text-green-600"}),"Booked By"]}),A("div",{className:"space-y-2 text-sm",children:[A("p",{children:[y("strong",{children:"Name:"})," ",r.userName]}),A("p",{children:[y("strong",{children:"Role:"})," ",r.userRole]})]})]}),A("div",{className:"text-xs text-gray-500 space-y-1",children:[A("p",{children:["Created: ",new Date(r.createdAt).toLocaleString()]}),r.updatedAt&&r.updatedAt!==r.createdAt&&A("p",{children:["Last Updated: ",new Date(r.updatedAt).toLocaleString()]})]}),c()&&A("div",{className:"flex space-x-3 pt-4 border-t",children:[y(Ee,{type:"button",variant:"outline",onClick:e,className:"flex-1",children:"Close"}),y(Ee,{type:"button",variant:"outline",onClick:l,loading:a,className:"flex-1 text-red-600 hover:text-red-700",children:"Cancel Booking"})]}),!c()&&y("div",{className:"flex justify-center pt-4 border-t",children:y(Ee,{type:"button",variant:"outline",onClick:e,className:"px-8",children:"Close"})})]})]})})};var XM={exports:{}},BG="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",zG=BG,WG=zG;function JM(){}function ZM(){}ZM.resetWarningCache=JM;var qG=function(){function t(n,i,a,o,s,l){if(l!==WG){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:ZM,resetWarningCache:JM};return r.PropTypes=r,r};XM.exports=qG();var KG=XM.exports;const B=bn(KG);function eL(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=eL(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Qg(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=eL(t))&&(n&&(n+=" "),n+=e);return n}const HG=(t,e,r,n)=>{if(r==="length"||r==="prototype"||r==="arguments"||r==="caller")return;const i=Object.getOwnPropertyDescriptor(t,r),a=Object.getOwnPropertyDescriptor(e,r);!GG(i,a)&&n||Object.defineProperty(t,r,a)},GG=function(t,e){return t===void 0||t.configurable||t.writable===e.writable&&t.enumerable===e.enumerable&&t.configurable===e.configurable&&(t.writable||t.value===e.value)},YG=(t,e)=>{const r=Object.getPrototypeOf(e);r!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,r)},QG=(t,e)=>`/* Wrapped ${t}*/
${e}`,XG=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),JG=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),ZG=(t,e,r)=>{const n=r===""?"":`with ${r.trim()}() `,i=QG.bind(null,n,e.toString());Object.defineProperty(i,"name",JG),Object.defineProperty(t,"toString",{...XG,value:i})},eY=(t,e,{ignoreNonConfigurable:r=!1}={})=>{const{name:n}=t;for(const i of Reflect.ownKeys(e))HG(t,e,i,r);return YG(t,e),ZG(t,e,n),t};var tY=eY,cb={exports:{}},rY=()=>{const t={};return t.promise=new Promise((e,r)=>{t.resolve=e,t.reject=r}),t};(function(t,e){var r=hh&&hh.__awaiter||function(o,s,l,c){return new(l||(l=Promise))(function(u,d){function h(g){try{m(c.next(g))}catch(b){d(b)}}function p(g){try{m(c.throw(g))}catch(b){d(b)}}function m(g){g.done?u(g.value):new l(function(b){b(g.value)}).then(h,p)}m((c=c.apply(o,s||[])).next())})},n=hh&&hh.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});const i=n(rY);function a(o,s="maxAge"){let l,c,u;const d=()=>r(this,void 0,void 0,function*(){if(l!==void 0)return;const m=g=>r(this,void 0,void 0,function*(){u=i.default();const b=g[1][s]-Date.now();if(b<=0){o.delete(g[0]),u.resolve();return}return l=g[0],c=setTimeout(()=>{o.delete(g[0]),u&&u.resolve()},b),typeof c.unref=="function"&&c.unref(),u.promise});try{for(const g of o)yield m(g)}catch{}l=void 0}),h=()=>{l=void 0,c!==void 0&&(clearTimeout(c),c=void 0),u!==void 0&&(u.reject(void 0),u=void 0)},p=o.set.bind(o);return o.set=(m,g)=>{o.has(m)&&o.delete(m);const b=p(m,g);return l&&l===m&&h(),d(),b},d(),o}e.default=a,t.exports=a,t.exports.default=a})(cb,cb.exports);var nY=cb.exports;const iY=tY,aY=nY,Zv=new WeakMap,tL=new WeakMap,bm=(t,{cacheKey:e,cache:r=new Map,maxAge:n}={})=>{typeof n=="number"&&aY(r);const i=function(...a){const o=e?e(a):a[0],s=r.get(o);if(s)return s.data;const l=t.apply(this,a);return r.set(o,{data:l,maxAge:n?Date.now()+n:Number.POSITIVE_INFINITY}),l};return iY(i,t,{ignoreNonConfigurable:!0}),tL.set(i,r),i};bm.decorator=(t={})=>(e,r,n)=>{const i=e[r];if(typeof i!="function")throw new TypeError("The decorated value must be a function");delete n.value,delete n.writable,n.get=function(){if(!Zv.has(this)){const a=bm(i,t);return Zv.set(this,a),a}return Zv.get(this)}};bm.clear=t=>{const e=tL.get(t);if(!e)throw new TypeError("Can't clear a function that was not memoized!");if(typeof e.clear!="function")throw new TypeError("The cache Map can't be cleared!");e.clear()};var oY=bm;const rL=bn(oY);function sY(t){return typeof t=="string"}function lY(t,e,r){return r.indexOf(t)===e}function cY(t){return t.toLowerCase()===t}function bP(t){return t.indexOf(",")===-1?t:t.split(",")}function ub(t){if(!t)return t;if(t==="C"||t==="posix"||t==="POSIX")return"en-US";if(t.indexOf(".")!==-1){var e=t.split(".")[0],r=e===void 0?"":e;return ub(r)}if(t.indexOf("@")!==-1){var n=t.split("@")[0],r=n===void 0?"":n;return ub(r)}if(t.indexOf("-")===-1||!cY(t))return t;var i=t.split("-"),a=i[0],o=i[1],s=o===void 0?"":o;return"".concat(a,"-").concat(s.toUpperCase())}function uY(t){var e=t===void 0?{}:t,r=e.useFallbackLocale,n=r===void 0?!0:r,i=e.fallbackLocale,a=i===void 0?"en-US":i,o=[];if(typeof navigator<"u"){for(var s=navigator.languages||[],l=[],c=0,u=s;c<u.length;c++){var d=u[c];l=l.concat(bP(d))}var h=navigator.language,p=h&&bP(h);o=o.concat(l,p)}return n&&o.push(a),o.filter(sY).map(ub).filter(lY)}var dY=rL(uY,{cacheKey:JSON.stringify});function fY(t){return dY(t)[0]||null}var nL=rL(fY,{cacheKey:JSON.stringify});function _a(t,e,r){return function(i,a){a===void 0&&(a=r);var o=t(i)+a;return e(o)}}function Tf(t){return function(r){return new Date(t(r).getTime()-1)}}function Af(t,e){return function(n){return[t(n),e(n)]}}function ft(t){if(t instanceof Date)return t.getFullYear();if(typeof t=="number")return t;var e=parseInt(t,10);if(typeof t=="string"&&!isNaN(e))return e;throw new Error("Failed to get year from date: ".concat(t,"."))}function Fo(t){if(t instanceof Date)return t.getMonth();throw new Error("Failed to get month from date: ".concat(t,"."))}function Xg(t){if(t instanceof Date)return t.getDate();throw new Error("Failed to get year from date: ".concat(t,"."))}function Mc(t){var e=ft(t),r=e+(-e+1)%100,n=new Date;return n.setFullYear(r,0,1),n.setHours(0,0,0,0),n}var hY=_a(ft,Mc,-100),iL=_a(ft,Mc,100),gx=Tf(iL),pY=_a(ft,gx,-100),aL=Af(Mc,gx);function Uo(t){var e=ft(t),r=e+(-e+1)%10,n=new Date;return n.setFullYear(r,0,1),n.setHours(0,0,0,0),n}var oL=_a(ft,Uo,-10),yx=_a(ft,Uo,10),Jg=Tf(yx),sL=_a(ft,Jg,-10),lL=Af(Uo,Jg);function Lc(t){var e=ft(t),r=new Date;return r.setFullYear(e,0,1),r.setHours(0,0,0,0),r}var cL=_a(ft,Lc,-1),vx=_a(ft,Lc,1),Zg=Tf(vx),uL=_a(ft,Zg,-1),mY=Af(Lc,Zg);function wx(t,e){return function(n,i){i===void 0&&(i=e);var a=ft(n),o=Fo(n)+i,s=new Date;return s.setFullYear(a,o,1),s.setHours(0,0,0,0),t(s)}}function el(t){var e=ft(t),r=Fo(t),n=new Date;return n.setFullYear(e,r,1),n.setHours(0,0,0,0),n}var dL=wx(el,-1),bx=wx(el,1),Pf=Tf(bx),fL=wx(Pf,-1),gY=Af(el,Pf);function yY(t,e){return function(n,i){i===void 0&&(i=e);var a=ft(n),o=Fo(n),s=Xg(n)+i,l=new Date;return l.setFullYear(a,o,s),l.setHours(0,0,0,0),t(l)}}function If(t){var e=ft(t),r=Fo(t),n=Xg(t),i=new Date;return i.setFullYear(e,r,n),i.setHours(0,0,0,0),i}var vY=yY(If,1),_x=Tf(vY),wY=Af(If,_x);function hL(t){return Xg(Pf(t))}var Su,ot={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},Dl={ARABIC:"Arabic",HEBREW:"Hebrew",ISO_8601:"ISO 8601",US:"US"},bY=(Su={},Su[ot.GREGORY]=["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],Su[ot.HEBREW]=["he","he-IL"],Su[ot.ISLAMIC]=["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"],Su),xx=[0,1,2,3,4,5,6],e0=new Map;function _Y(t){return function(r,n){var i=r||nL();e0.has(i)||e0.set(i,new Map);var a=e0.get(i);return a.has(t)||a.set(t,new Intl.DateTimeFormat(i||void 0,t).format),a.get(t)(n)}}function xY(t){var e=new Date(t);return new Date(e.setHours(12))}function tl(t){return function(e,r){return _Y(t)(e,xY(r))}}var EY={day:"numeric"},kY={day:"numeric",month:"long",year:"numeric"},SY={month:"long"},TY={month:"long",year:"numeric"},AY={weekday:"short"},PY={weekday:"long"},IY={year:"numeric"},CY=tl(EY),OY=tl(kY),NY=tl(SY),pL=tl(TY),DY=tl(AY),RY=tl(PY),ey=tl(IY),MY=xx[0],LY=xx[5],_P=xx[6];function Bd(t,e){e===void 0&&(e=ot.ISO_8601);var r=t.getDay();switch(e){case ot.ISO_8601:return(r+6)%7;case ot.ISLAMIC:return(r+1)%7;case ot.HEBREW:case ot.GREGORY:return r;default:throw new Error("Unsupported calendar type.")}}function jY(t){var e=Mc(t);return ft(e)}function $Y(t){var e=Uo(t);return ft(e)}function db(t,e){e===void 0&&(e=ot.ISO_8601);var r=ft(t),n=Fo(t),i=t.getDate()-Bd(t,e);return new Date(r,n,i)}function VY(t,e){e===void 0&&(e=ot.ISO_8601);var r=e===ot.GREGORY?ot.GREGORY:ot.ISO_8601,n=db(t,e),i=ft(t)+1,a,o;do a=new Date(i,0,r===ot.ISO_8601?4:1),o=db(a,e),i-=1;while(t<o);return Math.round((n.getTime()-o.getTime())/(864e5*7))+1}function Es(t,e){switch(t){case"century":return Mc(e);case"decade":return Uo(e);case"year":return Lc(e);case"month":return el(e);case"day":return If(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function FY(t,e){switch(t){case"century":return hY(e);case"decade":return oL(e);case"year":return cL(e);case"month":return dL(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function mL(t,e){switch(t){case"century":return iL(e);case"decade":return yx(e);case"year":return vx(e);case"month":return bx(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function UY(t,e){switch(t){case"decade":return oL(e,-100);case"year":return cL(e,-10);case"month":return dL(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function BY(t,e){switch(t){case"decade":return yx(e,100);case"year":return vx(e,10);case"month":return bx(e,12);default:throw new Error("Invalid rangeType: ".concat(t))}}function gL(t,e){switch(t){case"century":return gx(e);case"decade":return Jg(e);case"year":return Zg(e);case"month":return Pf(e);case"day":return _x(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function zY(t,e){switch(t){case"century":return pY(e);case"decade":return sL(e);case"year":return uL(e);case"month":return fL(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function WY(t,e){switch(t){case"decade":return sL(e,-100);case"year":return uL(e,-10);case"month":return fL(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function xP(t,e){switch(t){case"century":return aL(e);case"decade":return lL(e);case"year":return mY(e);case"month":return gY(e);case"day":return wY(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function qY(t,e,r){var n=[e,r].sort(function(i,a){return i.getTime()-a.getTime()});return[Es(t,n[0]),gL(t,n[1])]}function yL(t,e,r){return e===void 0&&(e=ey),r.map(function(n){return e(t,n)}).join(" – ")}function KY(t,e,r){return yL(t,e,aL(r))}function vL(t,e,r){return yL(t,e,lL(r))}function HY(t){return t.getDay()===new Date().getDay()}function wL(t,e){e===void 0&&(e=ot.ISO_8601);var r=t.getDay();switch(e){case ot.ISLAMIC:case ot.HEBREW:return r===LY||r===_P;case ot.ISO_8601:case ot.GREGORY:return r===_P||r===MY;default:throw new Error("Unsupported calendar type.")}}var di="react-calendar__navigation";function GY(t){var e=t.activeStartDate,r=t.drillUp,n=t.formatMonthYear,i=n===void 0?pL:n,a=t.formatYear,o=a===void 0?ey:a,s=t.locale,l=t.maxDate,c=t.minDate,u=t.navigationAriaLabel,d=u===void 0?"":u,h=t.navigationAriaLive,p=t.navigationLabel,m=t.next2AriaLabel,g=m===void 0?"":m,b=t.next2Label,w=b===void 0?"»":b,x=t.nextAriaLabel,E=x===void 0?"":x,C=t.nextLabel,I=C===void 0?"›":C,M=t.prev2AriaLabel,T=M===void 0?"":M,S=t.prev2Label,N=S===void 0?"«":S,L=t.prevAriaLabel,D=L===void 0?"":L,O=t.prevLabel,P=O===void 0?"‹":O,U=t.setActiveStartDate,ee=t.showDoubleView,G=t.view,de=t.views,W=de.indexOf(G)>0,X=G!=="century",Q=FY(G,e),ce=X?UY(G,e):void 0,Y=mL(G,e),he=X?BY(G,e):void 0,Nt=function(){if(Q.getFullYear()<0)return!0;var fe=zY(G,e);return c&&c>=fe}(),qe=X&&function(){if(ce.getFullYear()<0)return!0;var fe=WY(G,e);return c&&c>=fe}(),Gt=l&&l<Y,Tt=X&&l&&l<he;function en(){U(Q,"prev")}function Z(){U(ce,"prev2")}function me(){U(Y,"next")}function ye(){U(he,"next2")}function q(fe){var et=function(){switch(G){case"century":return KY(s,o,fe);case"decade":return vL(s,o,fe);case"year":return o(s,fe);case"month":return i(s,fe);default:throw new Error("Invalid view: ".concat(G,"."))}}();return p?p({date:fe,label:et,locale:s||nL()||void 0,view:G}):et}function Qe(){var fe="".concat(di,"__label");return le.createElement("button",{"aria-label":d,"aria-live":h,className:fe,disabled:!W,onClick:r,style:{flexGrow:1},type:"button"},le.createElement("span",{className:"".concat(fe,"__labelText ").concat(fe,"__labelText--from")},q(e)),ee?le.createElement(le.Fragment,null,le.createElement("span",{className:"".concat(fe,"__divider")}," – "),le.createElement("span",{className:"".concat(fe,"__labelText ").concat(fe,"__labelText--to")},q(Y))):null)}return le.createElement("div",{className:di},N!==null&&X?le.createElement("button",{"aria-label":T,className:"".concat(di,"__arrow ").concat(di,"__prev2-button"),disabled:qe,onClick:Z,type:"button"},N):null,P!==null&&le.createElement("button",{"aria-label":D,className:"".concat(di,"__arrow ").concat(di,"__prev-button"),disabled:Nt,onClick:en,type:"button"},P),Qe(),I!==null&&le.createElement("button",{"aria-label":E,className:"".concat(di,"__arrow ").concat(di,"__next-button"),disabled:Gt,onClick:me,type:"button"},I),w!==null&&X?le.createElement("button",{"aria-label":g,className:"".concat(di,"__arrow ").concat(di,"__next2-button"),disabled:Tt,onClick:ye,type:"button"},w):null)}var Rl=globalThis&&globalThis.__assign||function(){return Rl=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Rl.apply(this,arguments)},YY=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function EP(t){return"".concat(t,"%")}function Ex(t){var e=t.children,r=t.className,n=t.count,i=t.direction,a=t.offset,o=t.style,s=t.wrap,l=YY(t,["children","className","count","direction","offset","style","wrap"]);return le.createElement("div",Rl({className:r,style:Rl({display:"flex",flexDirection:i,flexWrap:s?"wrap":"nowrap"},o)},l),le.Children.map(e,function(c,u){var d=a&&u===0?EP(100*a/n):null;return le.cloneElement(c,Rl(Rl({},c.props),{style:{flexBasis:EP(100/n),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:d,marginInlineStart:d,marginInlineEnd:0}}))}))}var QY=function(){},XY=QY;const JY=bn(XY);var pl;function ZY(t,e,r){return e&&e>t?e:r&&r<t?r:t}function zd(t,e){return e[0]<=t&&e[1]>=t}function eQ(t,e){return t[0]<=e[0]&&t[1]>=e[1]}function bL(t,e){return zd(t[0],e)||zd(t[1],e)}function kP(t,e,r){var n=bL(e,t),i=[];if(n){i.push(r);var a=zd(t[0],e),o=zd(t[1],e);a&&i.push("".concat(r,"Start")),o&&i.push("".concat(r,"End")),a&&o&&i.push("".concat(r,"BothEnds"))}return i}function tQ(t){return Array.isArray(t)?t[0]!==null&&t[1]!==null:t!==null}function rQ(t){if(!t)throw new Error("args is required");var e=t.value,r=t.date,n=t.hover,i="react-calendar__tile",a=[i];if(!r)return a;var o=new Date,s=function(){if(Array.isArray(r))return r;var p=t.dateType;if(!p)throw new Error("dateType is required when date is not an array of two dates");return xP(p,r)}();if(zd(o,s)&&a.push("".concat(i,"--now")),!e||!tQ(e))return a;var l=function(){if(Array.isArray(e))return e;var p=t.valueType;if(!p)throw new Error("valueType is required when value is not an array of two dates");return xP(p,e)}();eQ(l,s)?a.push("".concat(i,"--active")):bL(l,s)&&a.push("".concat(i,"--hasActive"));var c=kP(l,s,"".concat(i,"--range"));a.push.apply(a,c);var u=Array.isArray(e)?e:[e];if(n&&u.length===1){var d=n>l[0]?[l[0],n]:[n,l[0]],h=kP(d,s,"".concat(i,"--hover"));a.push.apply(a,h)}return a}var nQ=(pl={},pl[Dl.ARABIC]=ot.ISLAMIC,pl[Dl.HEBREW]=ot.HEBREW,pl[Dl.ISO_8601]=ot.ISO_8601,pl[Dl.US]=ot.GREGORY,pl);function iQ(t){return t!==void 0&&t in Dl}var SP=!1;function ty(t){if(iQ(t)){var e=nQ[t];return JY(SP,'Specifying calendarType="'.concat(t,'" is deprecated. Use calendarType="').concat(e,'" instead.')),SP=!0,e}return t}function ry(t){for(var e=t.className,r=t.count,n=r===void 0?3:r,i=t.dateTransform,a=t.dateType,o=t.end,s=t.hover,l=t.offset,c=t.renderTile,u=t.start,d=t.step,h=d===void 0?1:d,p=t.value,m=t.valueType,g=[],b=u;b<=o;b+=h){var w=i(b);g.push(c({classes:rQ({date:w,dateType:a,hover:s,value:p,valueType:m}),date:w}))}return le.createElement(Ex,{className:e,count:n,offset:l,wrap:!0},g)}function ny(t){var e=t.activeStartDate,r=t.children,n=t.classes,i=t.date,a=t.formatAbbr,o=t.locale,s=t.maxDate,l=t.maxDateTransform,c=t.minDate,u=t.minDateTransform,d=t.onClick,h=t.onMouseOver,p=t.style,m=t.tileClassName,g=t.tileContent,b=t.tileDisabled,w=t.view,x=_.useMemo(function(){var C={activeStartDate:e,date:i,view:w};return typeof m=="function"?m(C):m},[e,i,m,w]),E=_.useMemo(function(){var C={activeStartDate:e,date:i,view:w};return typeof g=="function"?g(C):g},[e,i,g,w]);return le.createElement("button",{className:Qg(n,x),disabled:c&&u(c)>i||s&&l(s)<i||b&&b({activeStartDate:e,date:i,view:w}),onClick:d?function(C){return d(i,C)}:void 0,onFocus:h?function(){return h(i)}:void 0,onMouseOver:h?function(){return h(i)}:void 0,style:p,type:"button"},a?le.createElement("abbr",{"aria-label":a(o,i)},r):r,E)}var fb=globalThis&&globalThis.__assign||function(){return fb=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},fb.apply(this,arguments)},aQ=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},t0="react-calendar__century-view__decades__decade";function oQ(t){var e=t.classes,r=e===void 0?[]:e,n=t.currentCentury,i=t.formatYear,a=i===void 0?ey:i,o=aQ(t,["classes","currentCentury","formatYear"]),s=o.date,l=o.locale,c=[];return r&&c.push.apply(c,r),t0&&c.push(t0),Mc(s).getFullYear()!==n&&c.push("".concat(t0,"--neighboringCentury")),le.createElement(ny,fb({},o,{classes:c,maxDateTransform:Jg,minDateTransform:Uo,view:"century"}),vL(l,a,s))}var hb=globalThis&&globalThis.__assign||function(){return hb=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},hb.apply(this,arguments)},TP=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function sQ(t){var e=t.activeStartDate,r=t.hover,n=t.showNeighboringCentury,i=t.value,a=t.valueType,o=TP(t,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),s=jY(e),l=s+(n?119:99);return le.createElement(ry,{className:"react-calendar__century-view__decades",dateTransform:Uo,dateType:"decade",end:l,hover:r,renderTile:function(c){var u=c.date,d=TP(c,["date"]);return le.createElement(oQ,hb({key:u.getTime()},o,d,{activeStartDate:e,currentCentury:s,date:u}))},start:s,step:10,value:i,valueType:a})}var AP=globalThis&&globalThis.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))},lQ=Object.values(ot),cQ=Object.values(Dl),pb=["century","decade","year","month"],_L=B.oneOf(AP(AP([],lQ,!0),cQ,!0)),_m=B.oneOfType([B.string,B.arrayOf(B.string)]),kx=function(e,r,n){var i=e,a=r,o=i[a];if(!o)return null;if(!(o instanceof Date))return new Error("Invalid prop `".concat(r,"` of type `").concat(typeof o,"` supplied to `").concat(n,"`, expected instance of `Date`."));var s=e.maxDate;return s&&o>s?new Error("Invalid prop `".concat(r,"` of type `").concat(typeof o,"` supplied to `").concat(n,"`, minDate cannot be larger than maxDate.")):null},Sx=function(e,r,n){var i=e,a=r,o=i[a];if(!o)return null;if(!(o instanceof Date))return new Error("Invalid prop `".concat(r,"` of type `").concat(typeof o,"` supplied to `").concat(n,"`, expected instance of `Date`."));var s=e.minDate;return s&&o<s?new Error("Invalid prop `".concat(r,"` of type `").concat(typeof o,"` supplied to `").concat(n,"`, maxDate cannot be smaller than minDate.")):null},uQ=B.oneOfType([B.func,B.exact({current:B.any})]),dQ=B.arrayOf(B.oneOfType([B.instanceOf(Date),B.oneOf([null])]).isRequired),fQ=B.oneOfType([B.instanceOf(Date),B.oneOf([null]),dQ]);B.arrayOf(B.oneOf(pb));var xm=function(e,r,n){var i=e,a=r,o=i[a];return o!==void 0&&(typeof o!="string"||pb.indexOf(o)===-1)?new Error("Invalid prop `".concat(r,"` of value `").concat(o,"` supplied to `").concat(n,"`, expected one of [").concat(pb.map(function(s){return'"'.concat(s,'"')}).join(", "),"].")):null};xm.isRequired=function(e,r,n,i,a){var o=e,s=r,l=o[s];return l?xm(e,r,n):new Error("The prop `".concat(r,"` is marked as required in `").concat(n,"`, but its value is `").concat(l,"`."))};var hQ=function(t){return B.arrayOf(t)},iy={activeStartDate:B.instanceOf(Date).isRequired,hover:B.instanceOf(Date),locale:B.string,maxDate:Sx,minDate:kx,onClick:B.func,onMouseOver:B.func,tileClassName:B.oneOfType([B.func,_m]),tileContent:B.oneOfType([B.func,B.node]),value:fQ,valueType:B.oneOf(["century","decade","year","month","day"]).isRequired};B.instanceOf(Date).isRequired,B.arrayOf(B.string.isRequired).isRequired,B.instanceOf(Date).isRequired,B.string,B.func,B.func,B.objectOf(B.oneOfType([B.string,B.number])),B.oneOfType([B.func,_m]),B.oneOfType([B.func,B.node]),B.func;var Wd=globalThis&&globalThis.__assign||function(){return Wd=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Wd.apply(this,arguments)},xL=function(e){function r(){return le.createElement(sQ,Wd({},e))}return le.createElement("div",{className:"react-calendar__century-view"},r())};xL.propTypes=Wd(Wd({},iy),{showNeighboringCentury:B.bool});const pQ=xL;var mb=globalThis&&globalThis.__assign||function(){return mb=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},mb.apply(this,arguments)},mQ=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},r0="react-calendar__decade-view__years__year";function gQ(t){var e=t.classes,r=e===void 0?[]:e,n=t.currentDecade,i=t.formatYear,a=i===void 0?ey:i,o=mQ(t,["classes","currentDecade","formatYear"]),s=o.date,l=o.locale,c=[];return r&&c.push.apply(c,r),r0&&c.push(r0),Uo(s).getFullYear()!==n&&c.push("".concat(r0,"--neighboringDecade")),le.createElement(ny,mb({},o,{classes:c,maxDateTransform:Zg,minDateTransform:Lc,view:"decade"}),a(l,s))}var gb=globalThis&&globalThis.__assign||function(){return gb=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},gb.apply(this,arguments)},PP=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function yQ(t){var e=t.activeStartDate,r=t.hover,n=t.showNeighboringDecade,i=t.value,a=t.valueType,o=PP(t,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),s=$Y(e),l=s+(n?11:9);return le.createElement(ry,{className:"react-calendar__decade-view__years",dateTransform:Lc,dateType:"year",end:l,hover:r,renderTile:function(c){var u=c.date,d=PP(c,["date"]);return le.createElement(gQ,gb({key:u.getTime()},o,d,{activeStartDate:e,currentDecade:s,date:u}))},start:s,value:i,valueType:a})}var qd=globalThis&&globalThis.__assign||function(){return qd=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},qd.apply(this,arguments)},EL=function(e){function r(){return le.createElement(yQ,qd({},e))}return le.createElement("div",{className:"react-calendar__decade-view"},r())};EL.propTypes=qd(qd({},iy),{showNeighboringDecade:B.bool});const vQ=EL;var yb=globalThis&&globalThis.__assign||function(){return yb=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},yb.apply(this,arguments)},wQ=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},IP=globalThis&&globalThis.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))},bQ="react-calendar__year-view__months__month";function _Q(t){var e=t.classes,r=e===void 0?[]:e,n=t.formatMonth,i=n===void 0?NY:n,a=t.formatMonthYear,o=a===void 0?pL:a,s=wQ(t,["classes","formatMonth","formatMonthYear"]),l=s.date,c=s.locale;return le.createElement(ny,yb({},s,{classes:IP(IP([],r,!0),[bQ],!1),formatAbbr:o,maxDateTransform:Pf,minDateTransform:el,view:"year"}),i(c,l))}var vb=globalThis&&globalThis.__assign||function(){return vb=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},vb.apply(this,arguments)},CP=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function xQ(t){var e=t.activeStartDate,r=t.hover,n=t.value,i=t.valueType,a=CP(t,["activeStartDate","hover","value","valueType"]),o=0,s=11,l=ft(e);return le.createElement(ry,{className:"react-calendar__year-view__months",dateTransform:function(c){var u=new Date;return u.setFullYear(l,c,1),el(u)},dateType:"month",end:s,hover:r,renderTile:function(c){var u=c.date,d=CP(c,["date"]);return le.createElement(_Q,vb({key:u.getTime()},a,d,{activeStartDate:e,date:u}))},start:o,value:n,valueType:i})}var Em=globalThis&&globalThis.__assign||function(){return Em=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Em.apply(this,arguments)},kL=function(e){function r(){return le.createElement(xQ,Em({},e))}return le.createElement("div",{className:"react-calendar__year-view"},r())};kL.propTypes=Em({},iy);const EQ=kL;var wb=globalThis&&globalThis.__assign||function(){return wb=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},wb.apply(this,arguments)},kQ=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},Uh="react-calendar__month-view__days__day";function SQ(t){var e=t.calendarType,r=t.classes,n=r===void 0?[]:r,i=t.currentMonthIndex,a=t.formatDay,o=a===void 0?CY:a,s=t.formatLongDate,l=s===void 0?OY:s,c=kQ(t,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),u=ty(e),d=c.date,h=c.locale,p=[];return n&&p.push.apply(p,n),Uh&&p.push(Uh),wL(d,u)&&p.push("".concat(Uh,"--weekend")),d.getMonth()!==i&&p.push("".concat(Uh,"--neighboringMonth")),le.createElement(ny,wb({},c,{classes:p,formatAbbr:l,maxDateTransform:_x,minDateTransform:If,view:"month"}),o(h,d))}var bb=globalThis&&globalThis.__assign||function(){return bb=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},bb.apply(this,arguments)},OP=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function TQ(t){var e=t.activeStartDate,r=t.calendarType,n=t.hover,i=t.showFixedNumberOfWeeks,a=t.showNeighboringMonth,o=t.value,s=t.valueType,l=OP(t,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),c=ty(r),u=ft(e),d=Fo(e),h=i||a,p=Bd(e,c),m=h?0:p,g=(h?-p:0)+1,b=function(){if(i)return g+6*7-1;var w=hL(e);if(a){var x=new Date;x.setFullYear(u,d,w),x.setHours(0,0,0,0);var E=7-Bd(x,c)-1;return w+E}return w}();return le.createElement(ry,{className:"react-calendar__month-view__days",count:7,dateTransform:function(w){var x=new Date;return x.setFullYear(u,d,w),If(x)},dateType:"day",hover:n,end:b,renderTile:function(w){var x=w.date,E=OP(w,["date"]);return le.createElement(SQ,bb({key:x.getTime()},l,E,{activeStartDate:e,calendarType:r,currentMonthIndex:d,date:x}))},offset:m,start:g,value:o,valueType:s})}var SL="react-calendar__month-view__weekdays",n0="".concat(SL,"__weekday");function AQ(t){for(var e=t.calendarType,r=t.formatShortWeekday,n=r===void 0?DY:r,i=t.formatWeekday,a=i===void 0?RY:i,o=t.locale,s=t.onMouseLeave,l=ty(e),c=new Date,u=el(c),d=ft(u),h=Fo(u),p=[],m=1;m<=7;m+=1){var g=new Date(d,h,m-Bd(u,l)),b=a(o,g);p.push(le.createElement("div",{key:m,className:Qg(n0,HY(g)&&"".concat(n0,"--current"),wL(g,l)&&"".concat(n0,"--weekend"))},le.createElement("abbr",{"aria-label":b,title:b},n(o,g).replace(".",""))))}return le.createElement(Ex,{className:SL,count:7,onFocus:s,onMouseOver:s},p)}var km=globalThis&&globalThis.__assign||function(){return km=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},km.apply(this,arguments)},NP=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},DP="react-calendar__tile";function PQ(t){var e=t.onClickWeekNumber,r=t.weekNumber,n=le.createElement("span",null,r);if(e){var i=t.date,a=t.onClickWeekNumber,o=t.weekNumber,s=NP(t,["date","onClickWeekNumber","weekNumber"]);return le.createElement("button",km({},s,{className:DP,onClick:function(l){return a(o,i,l)},type:"button"}),n)}else{t.date,t.onClickWeekNumber,t.weekNumber;var s=NP(t,["date","onClickWeekNumber","weekNumber"]);return le.createElement("div",km({},s,{className:DP}),n)}}function IQ(t){var e=t.activeStartDate,r=t.calendarType,n=t.onClickWeekNumber,i=t.onMouseLeave,a=t.showFixedNumberOfWeeks,o=ty(r),s=function(){if(a)return 6;var u=hL(e),d=Bd(e,o),h=u-(7-d);return 1+Math.ceil(h/7)}(),l=function(){for(var u=ft(e),d=Fo(e),h=Xg(e),p=[],m=0;m<s;m+=1)p.push(db(new Date(u,d,h+m*7),o));return p}(),c=l.map(function(u){return VY(u,o)});return le.createElement(Ex,{className:"react-calendar__month-view__weekNumbers",count:s,direction:"column",onFocus:i,onMouseOver:i,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0}},c.map(function(u,d){var h=l[d];if(!h)throw new Error("date is not defined");return le.createElement(PQ,{key:u,date:h,onClickWeekNumber:n,weekNumber:u})}))}var Kd=globalThis&&globalThis.__assign||function(){return Kd=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Kd.apply(this,arguments)},CQ=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function OQ(t){if(t)for(var e=0,r=Object.entries(bY);e<r.length;e++){var n=r[e],i=n[0],a=n[1];if(a.includes(t))return i}return ot.ISO_8601}var TL=function(e){var r=e.activeStartDate,n=e.locale,i=e.onMouseLeave,a=e.showFixedNumberOfWeeks,o=e.calendarType,s=o===void 0?OQ(n):o,l=e.formatShortWeekday,c=e.formatWeekday,u=e.onClickWeekNumber,d=e.showWeekNumbers,h=CQ(e,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function p(){return le.createElement(AQ,{calendarType:s,formatShortWeekday:l,formatWeekday:c,locale:n,onMouseLeave:i})}function m(){return d?le.createElement(IQ,{activeStartDate:r,calendarType:s,onClickWeekNumber:u,onMouseLeave:i,showFixedNumberOfWeeks:a}):null}function g(){return le.createElement(TQ,Kd({calendarType:s},h))}var b="react-calendar__month-view";return le.createElement("div",{className:Qg(b,d?"".concat(b,"--weekNumbers"):"")},le.createElement("div",{style:{display:"flex",alignItems:"flex-end"}},m(),le.createElement("div",{style:{flexGrow:1,width:"100%"}},p(),g())))};TL.propTypes=Kd(Kd({},iy),{calendarType:_L,formatDay:B.func,formatLongDate:B.func,formatShortWeekday:B.func,formatWeekday:B.func,onClickWeekNumber:B.func,onMouseLeave:B.func,showFixedNumberOfWeeks:B.bool,showNeighboringMonth:B.bool,showWeekNumbers:B.bool});const NQ=TL;var Ml=globalThis&&globalThis.__assign||function(){return Ml=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ml.apply(this,arguments)},Bh="react-calendar",Yl=["century","decade","year","month"],DQ=["decade","year","month","day"],Tx=new Date;Tx.setFullYear(1,0,1);Tx.setHours(0,0,0,0);var RQ=new Date(864e13);function qu(t){return t instanceof Date?t:new Date(t)}function AL(t,e){return Yl.slice(Yl.indexOf(t),Yl.indexOf(e)+1)}function MQ(t,e,r){var n=AL(e,r);return n.indexOf(t)!==-1}function Ax(t,e,r){return t&&MQ(t,e,r)?t:r}function PL(t){var e=Yl.indexOf(t);return DQ[e]}function LQ(t,e){var r=Array.isArray(t)?t[e]:t;if(!r)return null;var n=qu(r);if(isNaN(n.getTime()))throw new Error("Invalid date: ".concat(t));return n}function IL(t,e){var r=t.value,n=t.minDate,i=t.maxDate,a=t.maxDetail,o=LQ(r,e);if(!o)return null;var s=PL(a),l=function(){switch(e){case 0:return Es(s,o);case 1:return gL(s,o);default:throw new Error("Invalid index value: ".concat(e))}}();return ZY(l,n,i)}var Px=function(t){return IL(t,0)},CL=function(t){return IL(t,1)},jQ=function(t){return[Px,CL].map(function(e){return e(t)})};function OL(t){var e=t.maxDate,r=t.maxDetail,n=t.minDate,i=t.minDetail,a=t.value,o=t.view,s=Ax(o,i,r),l=Px({value:a,minDate:n,maxDate:e,maxDetail:r})||new Date;return Es(s,l)}function $Q(t){var e=t.activeStartDate,r=t.defaultActiveStartDate,n=t.defaultValue,i=t.defaultView,a=t.maxDate,o=t.maxDetail,s=t.minDate,l=t.minDetail,c=t.value,u=t.view,d=Ax(u,l,o),h=e||r;return h?Es(d,h):OL({maxDate:a,maxDetail:o,minDate:s,minDetail:l,value:c||n,view:u||i})}function i0(t){return t&&(!Array.isArray(t)||t.length===1)}function zh(t,e){return t instanceof Date&&e instanceof Date&&t.getTime()===e.getTime()}var NL=_.forwardRef(function(e,r){var n=e.activeStartDate,i=e.allowPartialRange,a=e.calendarType,o=e.className,s=e.defaultActiveStartDate,l=e.defaultValue,c=e.defaultView,u=e.formatDay,d=e.formatLongDate,h=e.formatMonth,p=e.formatMonthYear,m=e.formatShortWeekday,g=e.formatWeekday,b=e.formatYear,w=e.goToRangeStartOnSelect,x=w===void 0?!0:w,E=e.inputRef,C=e.locale,I=e.maxDate,M=I===void 0?RQ:I,T=e.maxDetail,S=T===void 0?"month":T,N=e.minDate,L=N===void 0?Tx:N,D=e.minDetail,O=D===void 0?"century":D,P=e.navigationAriaLabel,U=e.navigationAriaLive,ee=e.navigationLabel,G=e.next2AriaLabel,de=e.next2Label,W=e.nextAriaLabel,X=e.nextLabel,Q=e.onActiveStartDateChange,ce=e.onChange,Y=e.onClickDay,he=e.onClickDecade,Nt=e.onClickMonth,qe=e.onClickWeekNumber,Gt=e.onClickYear,Tt=e.onDrillDown,en=e.onDrillUp,Z=e.onViewChange,me=e.prev2AriaLabel,ye=e.prev2Label,q=e.prevAriaLabel,Qe=e.prevLabel,fe=e.returnValue,et=fe===void 0?"start":fe,je=e.selectRange,or=e.showDoubleView,Ii=e.showFixedNumberOfWeeks,Pa=e.showNavigation,Go=Pa===void 0?!0:Pa,Ia=e.showNeighboringCentury,Yo=e.showNeighboringDecade,Qo=e.showNeighboringMonth,Ca=Qo===void 0?!0:Qo,Oa=e.showWeekNumbers,Na=e.tileClassName,At=e.tileContent,Dt=e.tileDisabled,V=e.value,se=e.view,Ve=_.useState(s),Tn=Ve[0],sr=Ve[1],Wn=_.useState(null),Gf=Wn[0],ol=Wn[1],Yf=_.useState(Array.isArray(l)?l.map(function(xe){return xe!==null?qu(xe):null}):l!=null?qu(l):null),Hc=Yf[0],Gc=Yf[1],Yc=_.useState(c),Qf=Yc[0],Da=Yc[1],Yt=n||Tn||$Q({activeStartDate:n,defaultActiveStartDate:s,defaultValue:l,defaultView:c,maxDate:M,maxDetail:S,minDate:L,minDetail:O,value:V,view:se}),Qt=function(){var xe=function(){return je&&i0(Hc)?Hc:V!==void 0?V:Hc}();return xe?Array.isArray(xe)?xe.map(function(Ke){return Ke!==null?qu(Ke):null}):xe!==null?qu(xe):null:null}(),An=PL(S),Xe=Ax(se||Qf,O,S),Dr=AL(O,S),Xf=je?Gf:null,Ci=Dr.indexOf(Xe)<Dr.length-1,Qc=Dr.indexOf(Xe)>0,Xt=_.useCallback(function(xe){var Ke=function(){switch(et){case"start":return Px;case"end":return CL;case"range":return jQ;default:throw new Error("Invalid returnValue.")}}();return Ke({maxDate:M,maxDetail:S,minDate:L,value:xe})},[M,S,L,et]),sl=_.useCallback(function(xe,Ke){sr(xe);var Fe={action:Ke,activeStartDate:xe,value:Qt,view:Xe};Q&&!zh(Yt,xe)&&Q(Fe)},[Yt,Q,Qt,Xe]),li=_.useCallback(function(xe,Ke){var Fe=function(){switch(Xe){case"century":return he;case"decade":return Gt;case"year":return Nt;case"month":return Y;default:throw new Error("Invalid view: ".concat(Xe,"."))}}();Fe&&Fe(xe,Ke)},[Y,he,Nt,Gt,Xe]),Oi=_.useCallback(function(xe,Ke){if(Ci){li(xe,Ke);var Fe=Dr[Dr.indexOf(Xe)+1];if(!Fe)throw new Error("Attempted to drill down from the lowest view.");sr(xe),Da(Fe);var zr={action:"drillDown",activeStartDate:xe,value:Qt,view:Fe};Q&&!zh(Yt,xe)&&Q(zr),Z&&Xe!==Fe&&Z(zr),Tt&&Tt(zr)}},[Yt,Ci,Q,li,Tt,Z,Qt,Xe,Dr]),Xc=_.useCallback(function(){if(Qc){var xe=Dr[Dr.indexOf(Xe)-1];if(!xe)throw new Error("Attempted to drill up from the highest view.");var Ke=Es(xe,Yt);sr(Ke),Da(xe);var Fe={action:"drillUp",activeStartDate:Ke,value:Qt,view:xe};Q&&!zh(Yt,Ke)&&Q(Fe),Z&&Xe!==xe&&Z(Fe),en&&en(Fe)}},[Yt,Qc,Q,en,Z,Qt,Xe,Dr]),Jc=_.useCallback(function(xe,Ke){var Fe=Qt;li(xe,Ke);var zr=je&&!i0(Fe),Wr;if(je)if(zr)Wr=Es(An,xe);else{if(!Fe)throw new Error("previousValue is required");if(Array.isArray(Fe))throw new Error("previousValue must not be an array");Wr=qY(An,Fe,xe)}else Wr=Xt(xe);var Xo=!je||zr||x?OL({maxDate:M,maxDetail:S,minDate:L,minDetail:O,value:Wr,view:Xe}):null;Ke.persist(),sr(Xo),Gc(Wr);var eu={action:"onChange",activeStartDate:Xo,value:Wr,view:Xe};if(Q&&!zh(Yt,Xo)&&Q(eu),ce)if(je){var eh=i0(Wr);if(!eh)ce(Wr||null,Ke);else if(i){if(Array.isArray(Wr))throw new Error("value must not be an array");ce([Wr||null,null],Ke)}}else ce(Wr||null,Ke)},[Yt,i,Xt,x,M,S,L,O,Q,ce,li,je,Qt,An,Xe]);function Ra(xe){ol(xe)}function Zc(){ol(null)}_.useImperativeHandle(r,function(){return{activeStartDate:Yt,drillDown:Oi,drillUp:Xc,onChange:Jc,setActiveStartDate:sl,value:Qt,view:Xe}},[Yt,Oi,Xc,Jc,sl,Qt,Xe]);function Jf(xe){var Ke=xe?mL(Xe,Yt):Es(Xe,Yt),Fe=Ci?Oi:Jc,zr={activeStartDate:Ke,hover:Xf,locale:C,maxDate:M,minDate:L,onClick:Fe,onMouseOver:je?Ra:void 0,tileClassName:Na,tileContent:At,tileDisabled:Dt,value:Qt,valueType:An};switch(Xe){case"century":return le.createElement(pQ,Ml({formatYear:b,showNeighboringCentury:Ia},zr));case"decade":return le.createElement(vQ,Ml({formatYear:b,showNeighboringDecade:Yo},zr));case"year":return le.createElement(EQ,Ml({formatMonth:h,formatMonthYear:p},zr));case"month":return le.createElement(NQ,Ml({calendarType:a,formatDay:u,formatLongDate:d,formatShortWeekday:m,formatWeekday:g,onClickWeekNumber:qe,onMouseLeave:je?Zc:void 0,showFixedNumberOfWeeks:typeof Ii<"u"?Ii:or,showNeighboringMonth:Ca,showWeekNumbers:Oa},zr));default:throw new Error("Invalid view: ".concat(Xe,"."))}}function ll(){return Go?le.createElement(GY,{activeStartDate:Yt,drillUp:Xc,formatMonthYear:p,formatYear:b,locale:C,maxDate:M,minDate:L,navigationAriaLabel:P,navigationAriaLive:U,navigationLabel:ee,next2AriaLabel:G,next2Label:de,nextAriaLabel:W,nextLabel:X,prev2AriaLabel:me,prev2Label:ye,prevAriaLabel:q,prevLabel:Qe,setActiveStartDate:sl,showDoubleView:or,view:Xe,views:Dr}):null}var Zf=Array.isArray(Qt)?Qt:[Qt];return le.createElement("div",{className:Qg(Bh,je&&Zf.length===1&&"".concat(Bh,"--selectRange"),or&&"".concat(Bh,"--doubleView"),o),ref:E},ll(),le.createElement("div",{className:"".concat(Bh,"__viewContainer"),onBlur:je?Zc:void 0,onMouseLeave:je?Zc:void 0},Jf(),or?Jf(!0):null))}),RP=B.instanceOf(Date),MP=B.oneOfType([B.string,B.instanceOf(Date)]),LP=B.oneOfType([MP,hQ(MP)]);NL.propTypes={activeStartDate:RP,allowPartialRange:B.bool,calendarType:_L,className:_m,defaultActiveStartDate:RP,defaultValue:LP,defaultView:xm,formatDay:B.func,formatLongDate:B.func,formatMonth:B.func,formatMonthYear:B.func,formatShortWeekday:B.func,formatWeekday:B.func,formatYear:B.func,goToRangeStartOnSelect:B.bool,inputRef:uQ,locale:B.string,maxDate:Sx,maxDetail:B.oneOf(Yl),minDate:kx,minDetail:B.oneOf(Yl),navigationAriaLabel:B.string,navigationAriaLive:B.oneOf(["off","polite","assertive"]),navigationLabel:B.func,next2AriaLabel:B.string,next2Label:B.node,nextAriaLabel:B.string,nextLabel:B.node,onActiveStartDateChange:B.func,onChange:B.func,onClickDay:B.func,onClickDecade:B.func,onClickMonth:B.func,onClickWeekNumber:B.func,onClickYear:B.func,onDrillDown:B.func,onDrillUp:B.func,onViewChange:B.func,prev2AriaLabel:B.string,prev2Label:B.node,prevAriaLabel:B.string,prevLabel:B.node,returnValue:B.oneOf(["start","end","range"]),selectRange:B.bool,showDoubleView:B.bool,showFixedNumberOfWeeks:B.bool,showNavigation:B.bool,showNeighboringCentury:B.bool,showNeighboringDecade:B.bool,showNeighboringMonth:B.bool,showWeekNumbers:B.bool,tileClassName:B.oneOfType([B.func,_m]),tileContent:B.oneOfType([B.func,B.node]),tileDisabled:B.func,value:LP,view:xm};const VQ=NL;const FQ=({isOpen:t,onClose:e,currentUser:r})=>{const[n,i]=_.useState(null),[a,o]=_.useState([]),[s,l]=_.useState({}),[c,u]=_.useState(!1),[d,h]=_.useState("calendar");_.useEffect(()=>{t&&p()},[t]);const p=async()=>{u(!0);try{console.log("🔄 Loading all bookings for calendar..."),console.log("👤 Current user role:",r==null?void 0:r.role);const I=await Ce.getAllBookings();console.log("📋 Total bookings loaded:",I.length),console.log("📋 Sample booking:",I[0]),o(I);const M={};I.forEach(T=>{const S=ku(T.startTime);M[S]||(M[S]=[]),M[S].push(T)}),console.log("📅 Grouped bookings by date:",Object.keys(M)),console.log("📅 Sample date bookings:",Object.values(M)[0]),l(M)}catch(I){console.error("❌ Error loading bookings for calendar:",I)}finally{u(!1)}},m=I=>{const M=Array.isArray(I)?I[0]:I;if(M){const T=ku(M.toISOString());console.log("📅 Date clicked:",M),console.log("📅 Date key:",T),console.log("📅 Available dates with bookings:",Object.keys(s)),console.log("📅 Bookings for selected date:",s[T]||[]),i(M),h("details")}},g=()=>{h("calendar"),i(null)},b=({date:I})=>{const M=ku(I.toISOString()),T=s[M]||[];return T.length===0?null:y("div",{className:"text-xs",children:y("div",{className:"bg-blue-500 text-white rounded-full w-5 h-5 flex items-center justify-center mx-auto mb-1",children:T.length})})},w=({date:I})=>{const M=ku(I.toISOString()),T=s[M]||[];if(T.length===0)return"";const S=T.some(D=>D.status==="approved"),N=T.some(D=>D.status==="pending"),L=T.some(D=>D.status==="rejected");return S?"react-calendar__tile--has-approved":N?"react-calendar__tile--has-pending":L?"react-calendar__tile--has-rejected":"react-calendar__tile--has-bookings"},x=I=>GM(I),E=I=>{switch(I){case"approved":return"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-300";case"pending":return"bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-300";case"rejected":return"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-300";default:return"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-300"}},C=()=>{if(!n)return[];const I=ku(n.toISOString()),M=s[I]||[];return console.log("🔍 Getting bookings for date:",I),console.log("🔍 Available dates:",Object.keys(s)),console.log("🔍 Found bookings:",M.length),console.log("🔍 Bookings:",M),M};return t?y("div",{className:"fixed inset-0 bg-black bg-opacity-50 dark:bg-opacity-70 flex items-center justify-center z-50",children:A("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto border border-gray-200 dark:border-gray-700",children:[A("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[y("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Booking Calendar"}),y("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-400",children:y(la,{className:"w-6 h-6"})})]}),y("div",{className:"p-6",children:c?A("div",{className:"flex items-center justify-center py-8",children:[y("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 dark:border-blue-400"}),y("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:"Loading bookings..."})]}):d==="calendar"?A("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[A("div",{children:[y("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Calendar View"}),y("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:y(VQ,{onChange:m,value:n,tileContent:b,tileClassName:w,className:"w-full"})}),A("div",{className:"mt-4 space-y-2 text-sm",children:[A("div",{className:"flex items-center space-x-2",children:[y("div",{className:"w-4 h-4 bg-green-100 dark:bg-green-900 rounded"}),y("span",{className:"text-gray-900 dark:text-gray-100",children:"Approved Bookings"})]}),A("div",{className:"flex items-center space-x-2",children:[y("div",{className:"w-4 h-4 bg-yellow-100 dark:bg-yellow-900 rounded"}),y("span",{className:"text-gray-900 dark:text-gray-100",children:"Pending Bookings"})]}),A("div",{className:"flex items-center space-x-2",children:[y("div",{className:"w-4 h-4 bg-red-100 dark:bg-red-900 rounded"}),y("span",{className:"text-gray-900 dark:text-gray-100",children:"Rejected Bookings"})]})]})]}),A("div",{children:[y("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"How to Use"}),A("div",{className:"space-y-4 text-gray-600 dark:text-gray-400",children:[A("div",{className:"flex items-start space-x-3",children:[y("div",{className:"w-6 h-6 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:y("span",{className:"text-xs font-semibold text-blue-600 dark:text-blue-400",children:"1"})}),y("p",{children:"Click on any date in the calendar that shows a number (indicating bookings)"})]}),A("div",{className:"flex items-start space-x-3",children:[y("div",{className:"w-6 h-6 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:y("span",{className:"text-xs font-semibold text-blue-600 dark:text-blue-400",children:"2"})}),y("p",{children:"View all booking details for that specific date"})]}),A("div",{className:"flex items-start space-x-3",children:[y("div",{className:"w-6 h-6 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:y("span",{className:"text-xs font-semibold text-blue-600 dark:text-blue-400",children:"3"})}),y("p",{children:"Use the back button to return to calendar view"})]})]})]})]}):A("div",{children:[A("div",{className:"flex items-center justify-between mb-6",children:[A("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:["Bookings for ",n==null?void 0:n.toLocaleDateString()]}),A("button",{onClick:g,className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg transition-colors duration-200",children:[y(ln,{className:"w-4 h-4"}),y("span",{children:"Back to Calendar"})]})]}),y("div",{className:"space-y-4",children:C().length>0?C().sort((I,M)=>new Date(I.startTime).getTime()-new Date(M.startTime).getTime()).map(I=>A("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-6 bg-white dark:bg-gray-800",children:[A("div",{className:"flex items-center justify-between mb-4",children:[y("h4",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:I.resourceName}),y("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${E(I.status)}`,children:I.status})]}),A("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[A("div",{className:"space-y-3",children:[A("div",{className:"flex items-center space-x-3",children:[y(Wl,{className:"w-5 h-5 text-gray-500 dark:text-gray-400 flex-shrink-0"}),A("div",{children:[A("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:[x(I.startTime)," - ",x(I.endTime)]}),y("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Time"})]})]}),A("div",{className:"flex items-center space-x-3",children:[y(Ic,{className:"w-5 h-5 text-gray-500 dark:text-gray-400 flex-shrink-0"}),A("div",{children:[A("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:[I.attendees," people"]}),y("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Attendees"})]})]})]}),A("div",{className:"space-y-3",children:[A("div",{className:"flex items-center space-x-3",children:[y(Sg,{className:"w-5 h-5 text-gray-500 dark:text-gray-400 flex-shrink-0"}),A("div",{children:[y("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:I.purpose}),y("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Purpose"})]})]}),A("div",{className:"flex items-center space-x-3",children:[y(ln,{className:"w-5 h-5 text-gray-500 dark:text-gray-400 flex-shrink-0"}),A("div",{children:[y("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:I.userName}),A("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Booked by (",I.userRole,")"]})]})]})]})]}),y("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:A("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[y("span",{className:"font-medium",children:"Booking ID:"})," ",I.id]})})]},I.id)):A("div",{className:"text-center py-12",children:[y(ln,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),y("h4",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"No Bookings Found"}),y("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"There are no bookings for this date."}),y("button",{onClick:g,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-200",children:"Back to Calendar"})]})})]})})]})}):null},UQ=({isOpen:t,onClose:e,currentUser:r,onNotificationCreated:n})=>{const[i,a]=_.useState({title:"",message:"",type:"admin_announcement"}),[o,s]=_.useState({}),[l,c]=_.useState(!1),u=(p,m)=>{a(g=>({...g,[p]:m})),o[p]&&s(g=>({...g,[p]:""}))},d=()=>{const p={};return i.title.trim()||(p.title="Title is required"),i.message.trim()||(p.message="Message is required"),i.title.length>100&&(p.title="Title must be less than 100 characters"),i.message.length>1e3&&(p.message="Message must be less than 1000 characters"),s(p),Object.keys(p).length===0},h=async p=>{if(p.preventDefault(),!!d()){c(!0);try{const m={title:i.title.trim(),message:i.message.trim(),type:i.type,isRead:!1,createdBy:r.username,isSystemNotification:!0};console.log("📢 Creating system notification:",m),await Ce.createNotification(m),be.success("Notification sent successfully to all users!"),n(),e(),a({title:"",message:"",type:"admin_announcement"})}catch(m){console.error("Notification creation failed:",m),be.error(m.message||"Failed to create notification")}finally{c(!1)}}};return t?y("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:A("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[A("div",{className:"flex items-center justify-between p-6 border-b",children:[y("h2",{className:"text-xl font-semibold text-gray-900",children:"Create System Notification"}),y("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:y(la,{className:"w-6 h-6"})})]}),A("form",{onSubmit:h,className:"p-6 space-y-6",children:[A("div",{children:[y("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notification Type"}),A("select",{value:i.type,onChange:p=>u("type",p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[y("option",{value:"admin_announcement",children:"Announcement"}),y("option",{value:"maintenance_alert",children:"Maintenance Alert"}),y("option",{value:"system_announcement",children:"System Update"})]})]}),y($e,{label:"Notification Title",type:"text",value:i.title,onChange:p=>u("title",p),error:o.title,placeholder:"Enter notification title...",required:!0}),A("div",{children:[y("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),y("textarea",{value:i.message,onChange:p=>u("message",p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:4,placeholder:"Enter notification message...",required:!0}),o.message&&y("p",{className:"text-red-500 text-sm mt-1",children:o.message})]}),(i.title||i.message)&&A("div",{className:"bg-gray-50 rounded-lg p-4",children:[y("h4",{className:"font-medium text-gray-900 mb-2",children:"Preview"}),A("div",{className:"border border-gray-200 rounded-lg p-4 bg-white",children:[i.title&&y("h5",{className:"font-semibold text-gray-900 mb-2",children:i.title}),i.message&&y("p",{className:"text-gray-700 text-sm",children:i.message})]})]}),A("div",{className:"flex space-x-3 pt-4",children:[y(Ee,{type:"button",variant:"outline",onClick:e,className:"flex-1",children:"Cancel"}),A(Ee,{type:"submit",loading:l,className:"flex-1",children:[y(Nw,{className:"w-4 h-4 mr-2"}),"Send Notification"]})]})]})]})}):null},jP={cloudName:"dpb1x1r9b",uploadPreset:"ICBTUploads",apiKey:"249537147872617"};class BQ{constructor(){this.cloudName=jP.cloudName,this.uploadPreset=jP.uploadPreset,this.isConfigured=!1,this.checkConfiguration(),console.log("Cloudinary service initialized with config:",this.getConfigurationStatus())}configure(e,r){this.cloudName=e,this.uploadPreset=r,this.checkConfiguration()}checkConfiguration(){this.isConfigured=!!(this.cloudName&&this.uploadPreset&&this.cloudName!=="demo"&&this.uploadPreset!=="unsigned_preset")}getConfigurationStatus(){return{isConfigured:this.isConfigured,cloudName:this.cloudName,uploadPreset:this.uploadPreset}}async uploadImage(e,r){if(console.log("Upload attempt - Configuration status:",this.getConfigurationStatus()),!this.isConfigured)throw console.error("Cloudinary service not configured properly"),new Error("Cloudinary service is not properly configured. Please contact your administrator to set up the credentials.");return new Promise((n,i)=>{console.log("Creating FormData for upload...");const a=new FormData;a.append("file",e),console.log("File added to FormData:",e.name,e.size,e.type),a.append("upload_preset",this.uploadPreset),console.log("Upload preset added:",this.uploadPreset);const o=`profile_${r}_${Date.now()}`;a.append("public_id",o),console.log("Public ID added:",o);const s=JSON.stringify([{width:300,height:300,crop:"fill",gravity:"face"},{quality:"auto"}]);a.append("transformation",s),console.log("Transformation added:",s);const l=new XMLHttpRequest,c=`https://api.cloudinary.com/v1_1/${this.cloudName}/image/upload`;console.log("XHR request URL:",c),l.open("POST",c,!0),console.log("XHR request opened"),l.onload=()=>{var u;if(console.log("XHR onload triggered, status:",l.status),console.log("Cloudinary upload response status:",l.status),console.log("Cloudinary upload response:",l.responseText),l.status===200)try{const d=JSON.parse(l.responseText);console.log("Upload successful:",d),n(d)}catch(d){console.error("Failed to parse Cloudinary response:",d),i(new Error("Invalid response from Cloudinary"))}else try{const d=JSON.parse(l.responseText);console.error("Cloudinary upload error:",d),i(new Error(((u=d.error)==null?void 0:u.message)||`Upload failed: ${l.status}`))}catch{console.error("Cloudinary upload failed with status:",l.status),i(new Error(`Upload failed with status ${l.status}. Please check your Cloudinary configuration.`))}},l.onerror=()=>{console.error("Network error during Cloudinary upload"),i(new Error("Network error during upload. Please check your internet connection."))},l.ontimeout=()=>{console.error("Cloudinary upload timeout"),i(new Error("Upload timeout. Please try again."))},l.timeout=3e4,console.log("Starting Cloudinary upload to:",c),console.log("Sending FormData..."),l.send(a),console.log("FormData sent, waiting for response...")})}async deleteImage(e){return console.log("Delete image request for:",e),Promise.resolve({result:"ok"})}validateImageFile(e){if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(e.type))return{isValid:!1,error:"Please select a valid image file (JPEG, PNG, GIF, or WebP)"};const n=5*1024*1024;return e.size>n?{isValid:!1,error:"Image file size must be less than 5MB"}:{isValid:!0}}getOptimizedImageUrl(e,r="medium"){const n={thumbnail:"w_50,h_50,c_fill,g_face,f_auto,q_auto",small:"w_100,h_100,c_fill,g_face,f_auto,q_auto",medium:"w_200,h_200,c_fill,g_face,f_auto,q_auto",large:"w_400,h_400,c_fill,g_face,f_auto,q_auto"},i=e.split("/upload/");return i.length===2?`${i[0]}/upload/${n[r]}/${i[1]}`:e}}const $P=new BQ,zQ=({isOpen:t,onClose:e,currentUser:r,onProfileUpdated:n})=>{const[i,a]=_.useState({username:(r==null?void 0:r.username)||"",email:(r==null?void 0:r.email)||"",department:(r==null?void 0:r.department)||"",bio:(r==null?void 0:r.bio)||"",profilePicture:(r==null?void 0:r.profilePicture)||""}),[o,s]=_.useState({}),[l,c]=_.useState(!1),[u,d]=_.useState(!1),[h,p]=_.useState(null),[m,g]=_.useState((r==null?void 0:r.profilePicture)||null),[b,w]=_.useState(0),[x,E]=_.useState(""),C=_.useRef(null),I=(D,O)=>{a(P=>({...P,[D]:O})),o[D]&&s(P=>({...P,[D]:""}))},M=D=>{var P;const O=(P=D.target.files)==null?void 0:P[0];if(O){const U=$P.validateImageFile(O);if(!U.isValid){be.error(U.error);return}p(O);const ee=new FileReader;ee.onload=G=>{var de;g((de=G.target)==null?void 0:de.result)},ee.readAsDataURL(O)}},T=async()=>{if(!(!h||!r)){d(!0),w(0),E("Preparing upload...");try{console.log("Starting image upload for user:",r.id);const D=setInterval(()=>{w(U=>{const ee=U+Math.random()*15;return ee>=90?(clearInterval(D),E("Processing image..."),90):(E(`Uploading... ${Math.round(ee)}%`),ee)})},200),P=(await $P.uploadImage(h,r.id)).secure_url;clearInterval(D),w(100),E("Upload complete!"),console.log("Upload successful, image URL:",P),a(U=>({...U,profilePicture:P})),g(P),setTimeout(()=>{p(null),w(0),E("")},1500),be.success("Profile picture uploaded successfully! 🎉")}catch(D){console.error("Image upload failed:",D),w(0),E("");let O="Failed to upload image";D.message.includes("Network error")?O="Network error. Please check your internet connection and try again.":D.message.includes("timeout")?O="Upload timeout. Please try again.":D.message.includes("configuration")?O="Cloudinary is not properly configured. Please contact your administrator.":D.message&&(O=D.message),be.error(O)}finally{d(!1)}}},S=()=>{p(null),g((r==null?void 0:r.profilePicture)||null),a(D=>({...D,profilePicture:(r==null?void 0:r.profilePicture)||""}))},N=()=>{const D={};return i.username.trim()?i.username.length<3?D.username="Username must be at least 3 characters":i.username.length>30&&(D.username="Username must be less than 30 characters"):D.username="Username is required",i.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email)||(D.email="Please enter a valid email address"):D.email="Email is required",i.department&&i.department.trim()&&i.department.trim().length>50&&(D.department="Department must be less than 50 characters"),i.bio.length>500&&(D.bio="Bio must be less than 500 characters"),s(D),Object.keys(D).length===0},L=async D=>{if(D.preventDefault(),!!N()){c(!0);try{const O={username:i.username.trim(),email:i.email.trim(),department:i.department.trim(),bio:i.bio.trim(),updatedAt:new Date().toISOString()};console.log("🔄 Updating user profile:",O),await Ce.updateUserProfile(r.id,O);const P={...r,...O};localStorage.setItem("user",JSON.stringify(P)),be.success("Profile updated successfully!"),n(),e()}catch(O){console.error("Profile update failed:",O),be.error(O.message||"Failed to update profile")}finally{c(!1)}}};return t?y("div",{className:"fixed inset-0 bg-black bg-opacity-50 dark:bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm",children:A("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto border border-gray-200 dark:border-gray-700",children:[A("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[y("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Profile Settings"}),y("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-400",children:y(la,{className:"w-6 h-6"})})]}),A("form",{onSubmit:L,className:"p-6 space-y-6",children:[A("div",{className:"space-y-4",children:[A("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 flex items-center",children:[y(us,{className:"w-5 h-5 mr-2"}),"Basic Information"]}),y($e,{label:"Username",type:"text",value:i.username,onChange:D=>I("username",D.target.value),error:o.username,placeholder:"Enter your username",required:!0}),y($e,{label:"Email Address",type:"email",value:i.email,onChange:D=>I("email",D.target.value),error:o.email,placeholder:"Enter your email address",required:!0}),A("div",{children:[y("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Department (Optional)"}),A("select",{value:i.department,onChange:D=>I("department",D.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[y("option",{value:"",children:"Select Department (Optional)"}),y("option",{value:"Computer Science",children:"Computer Science"}),y("option",{value:"Engineering",children:"Engineering"}),y("option",{value:"Business",children:"Business"}),y("option",{value:"Arts",children:"Arts"}),y("option",{value:"Science",children:"Science"}),y("option",{value:"Medicine",children:"Medicine"}),y("option",{value:"Law",children:"Law"}),y("option",{value:"Education",children:"Education"}),y("option",{value:"Other",children:"Other"})]}),o.department&&y("p",{className:"text-red-500 text-sm mt-1",children:o.department})]}),A("div",{children:[y("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Bio"}),y("textarea",{value:i.bio,onChange:D=>I("bio",D.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",rows:3,placeholder:"Tell us about yourself..."}),A("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[i.bio.length,"/500 characters"]}),o.bio&&y("p",{className:"text-red-500 text-sm mt-1",children:o.bio})]})]}),A("div",{className:"space-y-4 pt-6 border-t",children:[A("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 flex items-center",children:[y(QB,{className:"w-5 h-5 mr-2"}),"Profile Picture"]}),A("div",{className:"flex items-center space-x-6",children:[A("div",{className:"relative",children:[y("div",{className:"w-24 h-24 rounded-full overflow-hidden border-4 border-gray-200 dark:border-gray-600",children:m?y("img",{src:m,alt:"Profile preview",className:"w-full h-full object-cover"}):y("div",{className:"w-full h-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center",children:y(us,{className:"w-8 h-8 text-gray-400"})})}),m&&y("button",{type:"button",onClick:S,className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors",title:"Remove image",children:y(la,{className:"w-3 h-3"})})]}),A("div",{className:"flex-1 space-y-3",children:[A("div",{className:"flex items-center space-x-3",children:[y("input",{ref:C,type:"file",accept:"image/*",onChange:M,className:"hidden"}),A(Ee,{type:"button",variant:"outline",size:"sm",onClick:()=>{var D;return(D=C.current)==null?void 0:D.click()},disabled:u,children:[y(s5,{className:"w-4 h-4 mr-2"}),"Choose Image"]}),h&&y(Ee,{type:"button",size:"sm",onClick:T,loading:u,children:"Upload"})]}),A("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[y("p",{children:"Supported formats: JPEG, PNG, GIF, WebP"}),y("p",{children:"Maximum file size: 5MB"}),y("p",{children:"Recommended: Square images for best results"})]}),h&&A("div",{className:"text-sm text-blue-600 dark:text-blue-400",children:["Selected: ",h.name," (",(h.size/1024/1024).toFixed(2)," MB)"]}),u&&A("div",{className:"mt-4 p-4 rounded-lg bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700",children:[A("div",{className:"flex items-center justify-between mb-2",children:[y("div",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:x}),A("div",{className:"text-sm text-blue-600 dark:text-blue-400",children:[Math.round(b),"%"]})]}),y("div",{className:"w-full bg-blue-200 dark:bg-blue-700 rounded-full h-2",children:y("div",{className:"bg-blue-600 dark:bg-blue-400 h-2 rounded-full transition-all duration-300",style:{width:`${b}%`}})})]})]})]})]}),A("div",{className:"space-y-4 pt-6 border-t",children:[A("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 flex items-center",children:[y(t5,{className:"w-5 h-5 mr-2"}),"Password Management"]}),y("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg p-4",children:A("p",{className:"text-sm text-blue-800 dark:text-blue-400",children:[y("strong",{children:"Note:"}),' Password changes are not available in profile settings for security reasons. If you need to change your password, please use the "Forgot Password" feature on the login page.']})})]}),A("div",{className:"flex space-x-3 pt-6 border-t",children:[y(Ee,{type:"button",variant:"outline",onClick:e,className:"flex-1",children:"Cancel"}),y(Ee,{type:"submit",loading:l,className:"flex-1",children:"Save Changes"})]})]})]})}):null},VP=()=>{const{theme:t,toggleTheme:e,isDark:r}=QM();return A("button",{onClick:e,className:"relative inline-flex items-center justify-center w-12 h-12 rounded-lg bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-all duration-300 transform hover:scale-105 active:scale-95 group","aria-label":`Switch to ${r?"light":"dark"} mode`,children:[A("div",{className:"relative w-6 h-6",children:[y(o5,{className:`absolute inset-0 w-6 h-6 text-yellow-500 transition-all duration-300 ${r?"opacity-0 rotate-90 scale-0":"opacity-100 rotate-0 scale-100"}`}),y(i5,{className:`absolute inset-0 w-6 h-6 text-blue-400 transition-all duration-300 ${r?"opacity-100 rotate-0 scale-100":"opacity-0 -rotate-90 scale-0"}`})]}),y("div",{className:"absolute inset-0 rounded-lg bg-blue-500 opacity-0 group-hover:opacity-10 transition-opacity duration-300"})]})},WQ=({className:t=""})=>{const[e,r]=_.useState(0),[n,i]=_.useState(!0),[a,o]=_.useState(!0);return _.useEffect(()=>{const s=async()=>{try{i(!0);const c=await Ce.getAllUsers();r(c.length)}catch(c){console.error("Error fetching user count:",c),r(0)}finally{i(!1)}};s();const l=setInterval(s,3e4);return()=>clearInterval(l)},[]),A("div",{className:`card p-6 animate-fade-in ${t}`,children:[A("div",{className:"flex items-center justify-between mb-4",children:[A("div",{className:"flex items-center space-x-3",children:[y("div",{className:"p-3 bg-blue-100 dark:bg-blue-900 rounded-lg",children:y(Ic,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),A("div",{children:[y("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Active Users"}),y("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Real-time count"})]})]}),A("div",{className:"flex items-center space-x-2",children:[y("div",{className:`w-2 h-2 rounded-full ${a?"bg-green-500":"bg-red-500"} animate-pulse`}),y("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:a?"Online":"Offline"})]})]}),A("div",{className:"flex items-end justify-between",children:[y("div",{children:n?y("div",{className:"h-8 w-16 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"}):A("div",{className:"flex items-baseline space-x-2",children:[y("span",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:e}),y("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"users"})]})}),A("div",{className:"flex items-center space-x-1 text-green-500",children:[y(m1,{className:"w-4 h-4"}),y("span",{className:"text-sm font-medium",children:"+12%"})]})]}),A("div",{className:"mt-4 flex items-center space-x-2",children:[y(HB,{className:"w-4 h-4 text-blue-500"}),A("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Last updated: ",new Date().toLocaleTimeString()]})]})]})},qQ=({resourceId:t,resourceName:e,isUnderMaintenance:r,onToggle:n,className:i=""})=>{const[a,o]=_.useState(!1),[s,l]=_.useState(!1),[c,u]=_.useState(""),d=async()=>{if(r){o(!0);try{await Ce.updateResource(t,{isUnderMaintenance:!1,maintenanceNote:"",status:"available"}),n(!1),be.success(`${e} is now available for booking`)}catch(m){console.error("Error updating resource:",m),be.error("Failed to update resource status")}finally{o(!1)}}else l(!0)},h=async()=>{if(!c.trim()){be.error("Please enter a maintenance note");return}o(!0);try{await Ce.updateResource(t,{isUnderMaintenance:!0,maintenanceNote:c.trim(),status:"maintenance"}),n(!0),l(!1),u(""),be.success(`${e} is now under maintenance`)}catch(m){console.error("Error updating resource:",m),be.error("Failed to update resource status")}finally{o(!1)}},p=()=>{l(!1),u("")};return A("div",{className:`relative ${i}`,children:[A("button",{onClick:d,disabled:a,className:`relative inline-flex items-center justify-center px-4 py-2 rounded-lg font-medium transition-all duration-300 transform hover:scale-105 active:scale-95 ${r?"bg-orange-100 hover:bg-orange-200 text-orange-700 dark:bg-orange-900 dark:hover:bg-orange-800 dark:text-orange-300":"bg-green-100 hover:bg-green-200 text-green-700 dark:bg-green-900 dark:hover:bg-green-800 dark:text-green-300"} ${a?"opacity-50 cursor-not-allowed":""}`,children:[y("div",{className:"flex items-center space-x-2",children:r?A(Jl,{children:[y(g1,{className:"w-4 h-4"}),y("span",{children:"Under Maintenance"})]}):A(Jl,{children:[y(rm,{className:"w-4 h-4"}),y("span",{children:"Available"})]})}),a&&y("div",{className:"absolute inset-0 flex items-center justify-center",children:y("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"})})]}),s&&A("div",{className:"absolute top-full left-0 mt-2 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 p-4 z-10 animate-slide-up",children:[A("div",{className:"flex items-center space-x-2 mb-3",children:[y(GB,{className:"w-5 h-5 text-orange-500"}),y("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Set Maintenance Note"})]}),y("textarea",{value:c,onChange:m=>u(m.target.value),placeholder:"Enter maintenance reason...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 resize-none",rows:3}),A("div",{className:"flex space-x-2 mt-3",children:[y("button",{onClick:h,disabled:a||!c.trim(),className:"flex-1 bg-orange-500 hover:bg-orange-600 disabled:bg-gray-300 text-white font-medium py-2 px-3 rounded-md transition-colors duration-200",children:"Set Maintenance"}),y("button",{onClick:p,className:"flex-1 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 font-medium py-2 px-3 rounded-md transition-colors duration-200",children:"Cancel"})]})]})]})},Wh=({title:t,value:e,icon:r,description:n})=>A("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:[A("div",{className:"flex items-center justify-between mb-4",children:[y("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:t}),y("div",{className:"text-blue-500",children:r})]}),y("div",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:e}),n&&y("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:n})]}),KQ=({bookings:t,resources:e,totalUsers:r})=>{console.log("Analytics Props:",{bookingsCount:(t==null?void 0:t.length)||0,resourcesCount:(e==null?void 0:e.length)||0,totalUsers:r});const n=()=>{var d,h;if(!Array.isArray(t)||!Array.isArray(e)||t.length===0||e.length===0)return{name:"No bookings yet",count:0};const s=t.reduce((p,m)=>(m.resourceId&&(p[m.resourceId]=(p[m.resourceId]||0)+1),p),{}),l=(d=Object.entries(s).sort(([,p],[,m])=>m-p)[0])==null?void 0:d[0],c=((h=e.find(p=>p.id===l))==null?void 0:h.name)||"N/A",u=s[l]||0;return{name:c,count:u}},i=()=>{var c;if(!(t!=null&&t.length))return"No bookings yet";const s={};t.forEach(u=>{const d=new Date(u.startTime).getHours();s[d]=(s[d]||0)+1});const l=(c=Object.entries(s).sort(([,u],[,d])=>d-u)[0])==null?void 0:c[0];return`${l}:00 - ${Number(l)+1}:00`},a=()=>{const s=new Date;return s.setDate(s.getDate()-30),`${t.filter(c=>new Date(c.startTime)>=s).length} in last 30 days`},o=n();return A("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[y(Wh,{title:"Total Users",value:r,icon:y(Ic,{size:24}),description:"Registered users in the system"}),y(Wh,{title:"Most Booked Resource",value:o.name,icon:y(Pw,{size:24}),description:`${o.count} bookings`}),y(Wh,{title:"Peak Booking Time",value:i(),icon:y(Wl,{size:24}),description:"Most active booking hour"}),y(Wh,{title:"Booking Trend",value:a(),icon:y(m1,{size:24}),description:"Recent booking activity"})]})};function DL(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=DL(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Me(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=DL(t))&&(n&&(n+=" "),n+=e);return n}var ay={},RL={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==="__proto__"}t.isUnsafeProperty=e})(RL);var Ix={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}t.isDeepKey=e})(Ix);var Cx={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}t.toKey=e})(Cx);var oy={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){const n=[],i=r.length;if(i===0)return n;let a=0,o="",s="",l=!1;for(r.charCodeAt(0)===46&&(n.push(""),a++);a<i;){const c=r[a];s?c==="\\"&&a+1<i?(a++,o+=r[a]):c===s?s="":o+=c:l?c==='"'||c==="'"?s=c:c==="]"?(l=!1,n.push(o),o=""):o+=c:c==="["?(l=!0,o&&(n.push(o),o="")):c==="."?o&&(n.push(o),o=""):o+=c,a++}return o&&n.push(o),n}t.toPath=e})(oy);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RL,r=Ix,n=Cx,i=oy;function a(s,l,c){if(s==null)return c;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return c;const u=s[l];return u===void 0?r.isDeepKey(l)?a(s,i.toPath(l),c):c:u}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const u=s[l];return u===void 0?c:u}default:{if(Array.isArray(l))return o(s,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return c;const u=s[l];return u===void 0?c:u}}}function o(s,l,c){if(l.length===0)return c;let u=s;for(let d=0;d<l.length;d++){if(u==null||e.isUnsafeProperty(l[d]))return c;u=u[l[d]]}return u===void 0?c:u}t.get=a})(ay);var HQ=ay.get;const Po=bn(HQ);var ML={exports:{}},We={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ir=typeof Symbol=="function"&&Symbol.for,Ox=ir?Symbol.for("react.element"):60103,Nx=ir?Symbol.for("react.portal"):60106,sy=ir?Symbol.for("react.fragment"):60107,ly=ir?Symbol.for("react.strict_mode"):60108,cy=ir?Symbol.for("react.profiler"):60114,uy=ir?Symbol.for("react.provider"):60109,dy=ir?Symbol.for("react.context"):60110,Dx=ir?Symbol.for("react.async_mode"):60111,fy=ir?Symbol.for("react.concurrent_mode"):60111,hy=ir?Symbol.for("react.forward_ref"):60112,py=ir?Symbol.for("react.suspense"):60113,GQ=ir?Symbol.for("react.suspense_list"):60120,my=ir?Symbol.for("react.memo"):60115,gy=ir?Symbol.for("react.lazy"):60116,YQ=ir?Symbol.for("react.block"):60121,QQ=ir?Symbol.for("react.fundamental"):60117,XQ=ir?Symbol.for("react.responder"):60118,JQ=ir?Symbol.for("react.scope"):60119;function En(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Ox:switch(t=t.type,t){case Dx:case fy:case sy:case cy:case ly:case py:return t;default:switch(t=t&&t.$$typeof,t){case dy:case hy:case gy:case my:case uy:return t;default:return e}}case Nx:return e}}}function LL(t){return En(t)===fy}We.AsyncMode=Dx;We.ConcurrentMode=fy;We.ContextConsumer=dy;We.ContextProvider=uy;We.Element=Ox;We.ForwardRef=hy;We.Fragment=sy;We.Lazy=gy;We.Memo=my;We.Portal=Nx;We.Profiler=cy;We.StrictMode=ly;We.Suspense=py;We.isAsyncMode=function(t){return LL(t)||En(t)===Dx};We.isConcurrentMode=LL;We.isContextConsumer=function(t){return En(t)===dy};We.isContextProvider=function(t){return En(t)===uy};We.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ox};We.isForwardRef=function(t){return En(t)===hy};We.isFragment=function(t){return En(t)===sy};We.isLazy=function(t){return En(t)===gy};We.isMemo=function(t){return En(t)===my};We.isPortal=function(t){return En(t)===Nx};We.isProfiler=function(t){return En(t)===cy};We.isStrictMode=function(t){return En(t)===ly};We.isSuspense=function(t){return En(t)===py};We.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===sy||t===fy||t===cy||t===ly||t===py||t===GQ||typeof t=="object"&&t!==null&&(t.$$typeof===gy||t.$$typeof===my||t.$$typeof===uy||t.$$typeof===dy||t.$$typeof===hy||t.$$typeof===QQ||t.$$typeof===XQ||t.$$typeof===JQ||t.$$typeof===YQ)};We.typeOf=En;ML.exports=We;var ZQ=ML.exports,rr=t=>t===0?0:t>0?1:-1,gn=t=>typeof t=="number"&&t!=+t,ps=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,te=t=>(typeof t=="number"||t instanceof Number)&&!gn(t),Ti=t=>te(t)||typeof t=="string",eX=0,Hd=t=>{var e=++eX;return"".concat(t||"").concat(e)},Fr=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!te(e)&&typeof e!="string")return n;var a;if(ps(e)){if(r==null)return n;var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return gn(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},jL=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,r={},n=0;n<e;n++)if(!r[t[n]])r[t[n]]=!0;else return!0;return!1},FP=(t,e)=>te(t)&&te(e)?r=>t+r*(e-t):()=>e;function Xn(t,e,r){return te(t)&&te(e)?t+r*(e-t):e}function $L(t,e,r){if(!(!t||!t.length))return t.find(n=>n&&(typeof e=="function"?e(n):Po(n,e))===r)}var lt=t=>t===null||typeof t>"u",Cf=t=>lt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),tX=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Rx(t){if(typeof t!="string")return!1;var e=tX;return e.includes(t)}var rX=["viewBox","children"],UP=["points","pathLength"],a0={svg:rX,polygon:UP,polyline:UP},Mx=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(_.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{Rx(i)&&(n[i]=e||(a=>r[i](r,a)))}),n},nX=(t,e,r)=>n=>(t(e,r,n),null),Of=(t,e,r)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var n=null;return Object.keys(t).forEach(i=>{var a=t[i];Rx(i)&&typeof a=="function"&&(n||(n={}),n[i]=nX(a,e,r))}),n},iX=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function VL(t){if(typeof t!="string")return!1;var e=iX;return e.includes(t)}function xa(t){var e=Object.entries(t).filter(r=>{var[n]=r;return VL(n)});return Object.fromEntries(e)}var BP=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",zP=null,o0=null,FL=t=>{if(t===zP&&Array.isArray(o0))return o0;var e=[];return _.Children.forEach(t,r=>{lt(r)||(ZQ.isFragment(r)?e=e.concat(FL(r.props.children)):e.push(r))}),o0=e,zP=t,e};function Nf(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(i=>BP(i)):n=[BP(e)],FL(t).forEach(i=>{var a=Po(i,"type.displayName")||Po(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}var UL=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,aX=(t,e,r,n)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var a=(i=n&&(a0==null?void 0:a0[n]))!==null&&i!==void 0?i:[],o=e.startsWith("data-"),s=typeof t!="function"&&(!!n&&a.includes(e)||VL(e)),l=!!r&&Rx(e);return o||s||l},ut=(t,e,r)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(_.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(a=>{var o;aX((o=n)===null||o===void 0?void 0:o[a],a,e,r)&&(i[a]=n[a])}),i},oX=["children","width","height","viewBox","className","style","title","desc"];function _b(){return _b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_b.apply(null,arguments)}function sX(t,e){if(t==null)return{};var r,n,i=lX(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function lX(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Lx=_.forwardRef((t,e)=>{var{children:r,width:n,height:i,viewBox:a,className:o,style:s,title:l,desc:c}=t,u=sX(t,oX),d=a||{width:n,height:i,x:0,y:0},h=Me("recharts-surface",o);return _.createElement("svg",_b({},ut(u,!0,"svg"),{className:h,width:n,height:i,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:e}),_.createElement("title",null,l),_.createElement("desc",null,c),r)}),cX=["children","className"];function xb(){return xb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xb.apply(null,arguments)}function uX(t,e){if(t==null)return{};var r,n,i=dX(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function dX(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Nr=_.forwardRef((t,e)=>{var{children:r,className:n}=t,i=uX(t,cX),a=Me("recharts-layer",n);return _.createElement("g",xb({className:a},ut(i,!0),{ref:e}),r)}),BL=_.createContext(null),fX=()=>_.useContext(BL);function Je(t){return function(){return t}}const zL=Math.cos,Sm=Math.sin,si=Math.sqrt,Tm=Math.PI,yy=2*Tm,Eb=Math.PI,kb=2*Eb,is=1e-6,hX=kb-is;function WL(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function pX(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return WL;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class mX{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?WL:pX(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=n-e,c=i-r,u=o-e,d=s-r,h=u*u+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>is)if(!(Math.abs(d*l-c*u)>is)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-o,m=i-s,g=l*l+c*c,b=p*p+m*m,w=Math.sqrt(g),x=Math.sqrt(h),E=a*Math.tan((Eb-Math.acos((g+h-b)/(2*w*x)))/2),C=E/x,I=E/w;Math.abs(C-1)>is&&this._append`L${e+C*u},${r+C*d}`,this._append`A${a},${a},0,0,${+(d*p>u*m)},${this._x1=e+I*l},${this._y1=r+I*c}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),c=e+s,u=r+l,d=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>is||Math.abs(this._y1-u)>is)&&this._append`L${c},${u}`,n&&(h<0&&(h=h%kb+kb),h>hX?this._append`A${n},${n},0,1,${d},${e-s},${r-l}A${n},${n},0,1,${d},${this._x1=c},${this._y1=u}`:h>is&&this._append`A${n},${n},0,${+(h>=Eb)},${d},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function jx(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new mX(e)}function $x(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function qL(t){this._context=t}qL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function vy(t){return new qL(t)}function KL(t){return t[0]}function HL(t){return t[1]}function GL(t,e){var r=Je(!0),n=null,i=vy,a=null,o=jx(s);t=typeof t=="function"?t:t===void 0?KL:Je(t),e=typeof e=="function"?e:e===void 0?HL:Je(e);function s(l){var c,u=(l=$x(l)).length,d,h=!1,p;for(n==null&&(a=i(p=o())),c=0;c<=u;++c)!(c<u&&r(d=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(d,c,l),+e(d,c,l));if(p)return a=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Je(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Je(+l),s):e},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Je(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),s):n},s}function qh(t,e,r){var n=null,i=Je(!0),a=null,o=vy,s=null,l=jx(c);t=typeof t=="function"?t:t===void 0?KL:Je(+t),e=typeof e=="function"?e:Je(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?HL:Je(+r);function c(d){var h,p,m,g=(d=$x(d)).length,b,w=!1,x,E=new Array(g),C=new Array(g);for(a==null&&(s=o(x=l())),h=0;h<=g;++h){if(!(h<g&&i(b=d[h],h,d))===w)if(w=!w)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=h-1;m>=p;--m)s.point(E[m],C[m]);s.lineEnd(),s.areaEnd()}w&&(E[h]=+t(b,h,d),C[h]=+e(b,h,d),s.point(n?+n(b,h,d):E[h],r?+r(b,h,d):C[h]))}if(x)return s=null,x+""||null}function u(){return GL().defined(i).curve(o).context(a)}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:Je(+d),n=null,c):t},c.x0=function(d){return arguments.length?(t=typeof d=="function"?d:Je(+d),c):t},c.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Je(+d),c):n},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:Je(+d),r=null,c):e},c.y0=function(d){return arguments.length?(e=typeof d=="function"?d:Je(+d),c):e},c.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Je(+d),c):r},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(r)},c.lineX1=function(){return u().x(n).y(e)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Je(!!d),c):i},c.curve=function(d){return arguments.length?(o=d,a!=null&&(s=o(a)),c):o},c.context=function(d){return arguments.length?(d==null?a=s=null:s=o(a=d),c):a},c}class YL{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function gX(t){return new YL(t,!0)}function yX(t){return new YL(t,!1)}const Vx={draw(t,e){const r=si(e/Tm);t.moveTo(r,0),t.arc(0,0,r,0,yy)}},vX={draw(t,e){const r=si(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},QL=si(1/3),wX=QL*2,bX={draw(t,e){const r=si(e/wX),n=r*QL;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},_X={draw(t,e){const r=si(e),n=-r/2;t.rect(n,n,r,r)}},xX=.8908130915292852,XL=Sm(Tm/10)/Sm(7*Tm/10),EX=Sm(yy/10)*XL,kX=-zL(yy/10)*XL,SX={draw(t,e){const r=si(e*xX),n=EX*r,i=kX*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const o=yy*a/5,s=zL(o),l=Sm(o);t.lineTo(l*r,-s*r),t.lineTo(s*n-l*i,l*n+s*i)}t.closePath()}},s0=si(3),TX={draw(t,e){const r=-si(e/(s0*3));t.moveTo(0,r*2),t.lineTo(-s0*r,-r),t.lineTo(s0*r,-r),t.closePath()}},Pn=-.5,In=si(3)/2,Sb=1/si(12),AX=(Sb/2+1)*3,PX={draw(t,e){const r=si(e/AX),n=r/2,i=r*Sb,a=n,o=r*Sb+r,s=-a,l=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(Pn*n-In*i,In*n+Pn*i),t.lineTo(Pn*a-In*o,In*a+Pn*o),t.lineTo(Pn*s-In*l,In*s+Pn*l),t.lineTo(Pn*n+In*i,Pn*i-In*n),t.lineTo(Pn*a+In*o,Pn*o-In*a),t.lineTo(Pn*s+In*l,Pn*l-In*s),t.closePath()}};function IX(t,e){let r=null,n=jx(i);t=typeof t=="function"?t:Je(t||Vx),e=typeof e=="function"?e:Je(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Je(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Je(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Am(){}function Pm(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function JL(t){this._context=t}JL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Pm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Pm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function CX(t){return new JL(t)}function ZL(t){this._context=t}ZL.prototype={areaStart:Am,areaEnd:Am,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Pm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function OX(t){return new ZL(t)}function e4(t){this._context=t}e4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Pm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function NX(t){return new e4(t)}function t4(t){this._context=t}t4.prototype={areaStart:Am,areaEnd:Am,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function DX(t){return new t4(t)}function WP(t){return t<0?-1:1}function qP(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(WP(a)+WP(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function KP(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function l0(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-n)/3;t._context.bezierCurveTo(n+s,i+s*e,a-s,o-s*r,a,o)}function Im(t){this._context=t}Im.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:l0(this,this._t0,KP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,l0(this,KP(this,r=qP(this,t,e)),r);break;default:l0(this,this._t0,r=qP(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function r4(t){this._context=new n4(t)}(r4.prototype=Object.create(Im.prototype)).point=function(t,e){Im.prototype.point.call(this,e,t)};function n4(t){this._context=t}n4.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function RX(t){return new Im(t)}function MX(t){return new r4(t)}function i4(t){this._context=t}i4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=HP(t),i=HP(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function HP(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function LX(t){return new i4(t)}function wy(t,e){this._context=t,this._t=e}wy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function jX(t){return new wy(t,.5)}function $X(t){return new wy(t,0)}function VX(t){return new wy(t,1)}function pc(t,e){if((o=t.length)>1)for(var r=1,n,i,a=t[e[0]],o,s=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Tb(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function FX(t,e){return t[e]}function UX(t){const e=[];return e.key=t,e}function BX(){var t=Je([]),e=Tb,r=pc,n=FX;function i(a){var o=Array.from(t.apply(this,arguments),UX),s,l=o.length,c=-1,u;for(const d of a)for(s=0,++c;s<l;++s)(o[s][c]=[0,+n(d,o[s].key,c,a)]).data=d;for(s=0,u=$x(e(o));s<l;++s)o[u[s]].index=s;return r(o,u),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Je(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Je(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?Tb:typeof a=="function"?a:Je(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??pc,i):r},i}function zX(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}pc(t,e)}}function WX(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=t[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}pc(t,e)}}function qX(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,l=0,c=0;s<o;++s){for(var u=t[e[s]],d=u[n][1]||0,h=u[n-1][1]||0,p=(d-h)/2,m=0;m<s;++m){var g=t[e[m]],b=g[n][1]||0,w=g[n-1][1]||0;p+=b-w}l+=d,c+=p*d}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,pc(t,e)}}var KX=["type","size","sizeType"];function Ab(){return Ab=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ab.apply(null,arguments)}function GP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function YP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GP(Object(r),!0).forEach(function(n){HX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HX(t,e,r){return(e=GX(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GX(t){var e=YX(t,"string");return typeof e=="symbol"?e:e+""}function YX(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QX(t,e){if(t==null)return{};var r,n,i=XX(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function XX(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var a4={symbolCircle:Vx,symbolCross:vX,symbolDiamond:bX,symbolSquare:_X,symbolStar:SX,symbolTriangle:TX,symbolWye:PX},JX=Math.PI/180,ZX=t=>{var e="symbol".concat(Cf(t));return a4[e]||Vx},eJ=(t,e,r)=>{if(e==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var n=18*JX;return 1.25*t*t*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},tJ=(t,e)=>{a4["symbol".concat(Cf(t))]=e},Fx=t=>{var{type:e="circle",size:r=64,sizeType:n="area"}=t,i=QX(t,KX),a=YP(YP({},i),{},{type:e,size:r,sizeType:n}),o=()=>{var d=ZX(e),h=IX().type(d).size(eJ(r,n,e));return h()},{className:s,cx:l,cy:c}=a,u=ut(a,!0);return l===+l&&c===+c&&r===+r?_.createElement("path",Ab({},u,{className:Me("recharts-symbols",s),transform:"translate(".concat(l,", ").concat(c,")"),d:o()})):null};Fx.registerSymbol=tJ;function Pb(){return Pb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pb.apply(null,arguments)}function QP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rJ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QP(Object(r),!0).forEach(function(n){Ux(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ux(t,e,r){return(e=nJ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nJ(t){var e=iJ(t,"string");return typeof e=="symbol"?e:e+""}function iJ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cn=32;class Bx extends _.PureComponent{renderIcon(e,r){var{inactiveColor:n}=this.props,i=Cn/2,a=Cn/6,o=Cn/3,s=e.inactive?n:e.color,l=r??e.type;if(l==="none")return null;if(l==="plainline")return _.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:Cn,y2:i,className:"recharts-legend-icon"});if(l==="line")return _.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(Cn,"M").concat(2*o,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return _.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(Cn/8,"h").concat(Cn,"v").concat(Cn*3/4,"h").concat(-Cn,"z"),className:"recharts-legend-icon"});if(_.isValidElement(e.legendIcon)){var c=rJ({},e);return delete c.legendIcon,_.cloneElement(e.legendIcon,c)}return _.createElement(Fx,{fill:s,cx:i,cy:i,size:Cn,sizeType:"diameter",type:l})}renderItems(){var{payload:e,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:o}=this.props,s={x:0,y:0,width:Cn,height:Cn},l={display:n==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((u,d)=>{var h=u.formatter||i,p=Me({"recharts-legend-item":!0,["legend-item-".concat(d)]:!0,inactive:u.inactive});if(u.type==="none")return null;var m=u.inactive?a:u.color,g=h?h(u.value,u,d):u.value;return _.createElement("li",Pb({className:p,style:l,key:"legend-item-".concat(d)},Of(this.props,u,d)),_.createElement(Lx,{width:r,height:r,viewBox:s,style:c,"aria-label":"".concat(g," legend icon")},this.renderIcon(u,o)),_.createElement("span",{className:"recharts-legend-item-text",style:{color:m}},g))})}render(){var{payload:e,layout:r,align:n}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return _.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}Ux(Bx,"displayName","Legend");Ux(Bx,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var o4={},s4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){const i=new Map;for(let a=0;a<r.length;a++){const o=r[a],s=n(o);i.has(s)||i.set(s,o)}return Array.from(i.values())}t.uniqBy=e})(s4);var zx={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r}t.identity=e})(zx);var l4={},by={},c4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Number.isSafeInteger(r)&&r>=0}t.isLength=e})(c4);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=c4;function r(n){return n!=null&&typeof n!="function"&&e.isLength(n.length)}t.isArrayLike=r})(by);var u4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="object"&&r!==null}t.isObjectLike=e})(u4);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=by,r=u4;function n(i){return r.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=n})(l4);var d4={},f4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ay;function r(n){return function(i){return e.get(i,n)}}t.property=r})(f4);var h4={},c0={},u0={},Wx={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r!==null&&(typeof r=="object"||typeof r=="function")}t.isObject=e})(Wx);var qx={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null||typeof r!="object"&&typeof r!="function"}t.isPrimitive=e})(qx);var _y={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}t.eq=e})(_y);var XP;function aJ(){return XP||(XP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Kx(),r=Wx,n=qx,i=_y;function a(d,h,p){return typeof p!="function"?e.isMatch(d,h):o(d,h,function m(g,b,w,x,E,C){const I=p(g,b,w,x,E,C);return I!==void 0?!!I:o(g,b,m,C)},new Map)}function o(d,h,p,m){if(h===d)return!0;switch(typeof h){case"object":return s(d,h,p,m);case"function":return Object.keys(h).length>0?o(d,{...h},p,m):i.eq(d,h);default:return r.isObject(d)?typeof h=="string"?h==="":!0:i.eq(d,h)}}function s(d,h,p,m){if(h==null)return!0;if(Array.isArray(h))return c(d,h,p,m);if(h instanceof Map)return l(d,h,p,m);if(h instanceof Set)return u(d,h,p,m);const g=Object.keys(h);if(d==null)return g.length===0;if(g.length===0)return!0;if(m&&m.has(h))return m.get(h)===d;m&&m.set(h,d);try{for(let b=0;b<g.length;b++){const w=g[b];if(!n.isPrimitive(d)&&!(w in d)||h[w]===void 0&&d[w]!==void 0||h[w]===null&&d[w]!==null||!p(d[w],h[w],w,d,h,m))return!1}return!0}finally{m&&m.delete(h)}}function l(d,h,p,m){if(h.size===0)return!0;if(!(d instanceof Map))return!1;for(const[g,b]of h.entries()){const w=d.get(g);if(p(w,b,g,d,h,m)===!1)return!1}return!0}function c(d,h,p,m){if(h.length===0)return!0;if(!Array.isArray(d))return!1;const g=new Set;for(let b=0;b<h.length;b++){const w=h[b];let x=!1;for(let E=0;E<d.length;E++){if(g.has(E))continue;const C=d[E];let I=!1;if(p(C,w,b,d,h,m)&&(I=!0),I){g.add(E),x=!0;break}}if(!x)return!1}return!0}function u(d,h,p,m){return h.size===0?!0:d instanceof Set?c([...d],[...h],p,m):!1}t.isMatchWith=a,t.isSetMatch=u}(u0)),u0}var JP;function Kx(){return JP||(JP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aJ();function r(n,i){return e.isMatchWith(n,i,()=>{})}t.isMatch=r}(c0)),c0}var p4={},Hx={},Gx={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}t.getSymbols=e})(Gx);var xy={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}t.getTag=e})(xy);var Ey={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",s="[object Date]",l="[object Map]",c="[object Set]",u="[object Array]",d="[object Function]",h="[object ArrayBuffer]",p="[object Object]",m="[object Error]",g="[object DataView]",b="[object Uint8Array]",w="[object Uint8ClampedArray]",x="[object Uint16Array]",E="[object Uint32Array]",C="[object BigUint64Array]",I="[object Int8Array]",M="[object Int16Array]",T="[object Int32Array]",S="[object BigInt64Array]",N="[object Float32Array]",L="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=h,t.arrayTag=u,t.bigInt64ArrayTag=S,t.bigUint64ArrayTag=C,t.booleanTag=i,t.dataViewTag=g,t.dateTag=s,t.errorTag=m,t.float32ArrayTag=N,t.float64ArrayTag=L,t.functionTag=d,t.int16ArrayTag=M,t.int32ArrayTag=T,t.int8ArrayTag=I,t.mapTag=l,t.numberTag=n,t.objectTag=p,t.regexpTag=e,t.setTag=c,t.stringTag=r,t.symbolTag=o,t.uint16ArrayTag=x,t.uint32ArrayTag=E,t.uint8ArrayTag=b,t.uint8ClampedArrayTag=w})(Ey);var m4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}t.isTypedArray=e})(m4);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Gx,r=xy,n=Ey,i=qx,a=m4;function o(u,d){return s(u,void 0,u,new Map,d)}function s(u,d,h,p=new Map,m=void 0){const g=m==null?void 0:m(u,d,h,p);if(g!==void 0)return g;if(i.isPrimitive(u))return u;if(p.has(u))return p.get(u);if(Array.isArray(u)){const b=new Array(u.length);p.set(u,b);for(let w=0;w<u.length;w++)b[w]=s(u[w],w,h,p,m);return Object.hasOwn(u,"index")&&(b.index=u.index),Object.hasOwn(u,"input")&&(b.input=u.input),b}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const b=new RegExp(u.source,u.flags);return b.lastIndex=u.lastIndex,b}if(u instanceof Map){const b=new Map;p.set(u,b);for(const[w,x]of u)b.set(w,s(x,w,h,p,m));return b}if(u instanceof Set){const b=new Set;p.set(u,b);for(const w of u)b.add(s(w,void 0,h,p,m));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(a.isTypedArray(u)){const b=new(Object.getPrototypeOf(u)).constructor(u.length);p.set(u,b);for(let w=0;w<u.length;w++)b[w]=s(u[w],w,h,p,m);return b}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const b=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return p.set(u,b),l(b,u,h,p,m),b}if(typeof File<"u"&&u instanceof File){const b=new File([u],u.name,{type:u.type});return p.set(u,b),l(b,u,h,p,m),b}if(u instanceof Blob){const b=new Blob([u],{type:u.type});return p.set(u,b),l(b,u,h,p,m),b}if(u instanceof Error){const b=new u.constructor;return p.set(u,b),b.message=u.message,b.name=u.name,b.stack=u.stack,b.cause=u.cause,l(b,u,h,p,m),b}if(typeof u=="object"&&c(u)){const b=Object.create(Object.getPrototypeOf(u));return p.set(u,b),l(b,u,h,p,m),b}return u}function l(u,d,h=u,p,m){const g=[...Object.keys(d),...e.getSymbols(d)];for(let b=0;b<g.length;b++){const w=g[b],x=Object.getOwnPropertyDescriptor(u,w);(x==null||x.writable)&&(u[w]=s(d[w],w,h,p,m))}}function c(u){switch(r.getTag(u)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=o,t.cloneDeepWithImpl=s,t.copyProperties=l})(Hx);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Hx;function r(n){return e.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}t.cloneDeep=r})(p4);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Kx(),r=p4;function n(i){return i=r.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=n})(h4);var g4={},y4={},v4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Hx,r=Ey;function n(i,a){return e.cloneDeepWith(i,(o,s,l,c)=>{const u=a==null?void 0:a(o,s,l,c);if(u!==void 0)return u;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const d=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(d,i),d}case r.argumentsTag:{const d={};return e.copyProperties(d,i),d.length=i.length,d[Symbol.iterator]=i[Symbol.iterator],d}default:return}})}t.cloneDeepWith=n})(v4);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=v4;function r(n){return e.cloneDeepWith(n)}t.cloneDeep=r})(y4);var w4={},Yx={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return e.test(n)}}t.isIndex=r})(Yx);var b4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xy;function r(n){return n!==null&&typeof n=="object"&&e.getTag(n)==="[object Arguments]"}t.isArguments=r})(b4);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ix,r=Yx,n=b4,i=oy;function a(o,s){let l;if(Array.isArray(s)?l=s:typeof s=="string"&&e.isDeepKey(s)&&(o==null?void 0:o[s])==null?l=i.toPath(s):l=[s],l.length===0)return!1;let c=o;for(let u=0;u<l.length;u++){const d=l[u];if((c==null||!Object.hasOwn(c,d))&&!((Array.isArray(c)||n.isArguments(c))&&r.isIndex(d)&&d<c.length))return!1;c=c[d]}return!0}t.has=a})(w4);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Kx(),r=Cx,n=y4,i=ay,a=w4;function o(s,l){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=r.toKey(s);break}}return l=n.cloneDeep(l),function(c){const u=i.get(c,s);return u===void 0?a.has(c,s):l===void 0?u===void 0:e.isMatch(u,l)}}t.matchesProperty=o})(g4);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zx,r=f4,n=h4,i=g4;function a(o){if(o==null)return e.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}t.iteratee=a})(d4);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=s4,r=zx,n=l4,i=d4;function a(o,s=r.identity){return n.isArrayLikeObject(o)?e.uniqBy(Array.from(o),i.iteratee(s)):[]}t.uniqBy=a})(o4);var oJ=o4.uniqBy;const ZP=bn(oJ);function _4(t,e,r){return e===!0?ZP(t,r):typeof e=="function"?ZP(t,e):t}var x4={exports:{}},E4={},k4={exports:{}},S4={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mc=_;function sJ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var lJ=typeof Object.is=="function"?Object.is:sJ,cJ=mc.useState,uJ=mc.useEffect,dJ=mc.useLayoutEffect,fJ=mc.useDebugValue;function hJ(t,e){var r=e(),n=cJ({inst:{value:r,getSnapshot:e}}),i=n[0].inst,a=n[1];return dJ(function(){i.value=r,i.getSnapshot=e,d0(i)&&a({inst:i})},[t,r,e]),uJ(function(){return d0(i)&&a({inst:i}),t(function(){d0(i)&&a({inst:i})})},[t]),fJ(r),r}function d0(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!lJ(t,r)}catch{return!0}}function pJ(t,e){return e()}var mJ=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?pJ:hJ;S4.useSyncExternalStore=mc.useSyncExternalStore!==void 0?mc.useSyncExternalStore:mJ;k4.exports=S4;var gJ=k4.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ky=_,yJ=gJ;function vJ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wJ=typeof Object.is=="function"?Object.is:vJ,bJ=yJ.useSyncExternalStore,_J=ky.useRef,xJ=ky.useEffect,EJ=ky.useMemo,kJ=ky.useDebugValue;E4.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var a=_J(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=EJ(function(){function l(p){if(!c){if(c=!0,u=p,p=n(p),i!==void 0&&o.hasValue){var m=o.value;if(i(m,p))return d=m}return d=p}if(m=d,wJ(u,p))return m;var g=n(p);return i!==void 0&&i(m,g)?(u=p,m):(u=p,d=g)}var c=!1,u,d,h=r===void 0?null:r;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,r,n,i]);var s=bJ(t,a[0],a[1]);return xJ(function(){o.hasValue=!0,o.value=s},[s]),kJ(s),s};x4.exports=E4;var SJ=x4.exports,Qx=_.createContext(null),TJ=t=>t,vt=()=>{var t=_.useContext(Qx);return t?t.store.dispatch:TJ},Pp=()=>{},AJ=()=>Pp,PJ=(t,e)=>t===e;function oe(t){var e=_.useContext(Qx);return SJ.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:AJ,e?e.store.getState:Pp,e?e.store.getState:Pp,e?t:Pp,PJ)}function IJ(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function CJ(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function OJ(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var eI=t=>Array.isArray(t)?t:[t];function NJ(t){const e=Array.isArray(t[0])?t[0]:t;return OJ(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function DJ(t,e){const r=[],{length:n}=t;for(let i=0;i<n;i++)r.push(t[i].apply(null,e));return r}var RJ=class{constructor(t){this.value=t}deref(){return this.value}},MJ=typeof WeakRef<"u"?WeakRef:RJ,LJ=0,tI=1;function Kh(){return{s:LJ,v:void 0,o:null,p:null}}function T4(t,e={}){let r=Kh();const{resultEqualityCheck:n}=e;let i,a=0;function o(){var d;let s=r;const{length:l}=arguments;for(let h=0,p=l;h<p;h++){const m=arguments[h];if(typeof m=="function"||typeof m=="object"&&m!==null){let g=s.o;g===null&&(s.o=g=new WeakMap);const b=g.get(m);b===void 0?(s=Kh(),g.set(m,s)):s=b}else{let g=s.p;g===null&&(s.p=g=new Map);const b=g.get(m);b===void 0?(s=Kh(),g.set(m,s)):s=b}}const c=s;let u;if(s.s===tI)u=s.v;else if(u=t.apply(null,arguments),a++,n){const h=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;h!=null&&n(h,u)&&(u=h,a!==0&&a--),i=typeof u=="object"&&u!==null||typeof u=="function"?new MJ(u):u}return c.s=tI,c.v=u,u}return o.clearCache=()=>{r=Kh(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function jJ(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...i)=>{let a=0,o=0,s,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),IJ(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...r,...l},{memoize:d,memoizeOptions:h=[],argsMemoize:p=T4,argsMemoizeOptions:m=[],devModeChecks:g={}}=u,b=eI(h),w=eI(m),x=NJ(i),E=d(function(){return a++,c.apply(null,arguments)},...b),C=p(function(){o++;const M=DJ(x,arguments);return s=E.apply(null,M),s},...w);return Object.assign(C,{resultFunc:c,memoizedResultFunc:E,dependencies:x,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:d,argsMemoize:p})};return Object.assign(n,{withTypes:()=>n}),n}var $=jJ(T4),$J=Object.assign((t,e=$)=>{CJ(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(a=>t[a]);return e(n,(...a)=>a.reduce((o,s,l)=>(o[r[l]]=s,o),{}))},{withTypes:()=>$J}),A4={},P4={},I4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const o=e(n),s=e(i);if(o===s&&o===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?s-o:o-s}return 0};t.compareValues=r})(I4);var C4={},Xx={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"||r instanceof Symbol}t.isSymbol=e})(Xx);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Xx,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||o!=null&&Object.hasOwn(o,a)}t.isKey=i})(C4);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=I4,r=C4,n=oy;function i(a,o,s,l){if(a==null)return[];s=l?void 0:s,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(p=>String(p));const c=(p,m)=>{let g=p;for(let b=0;b<m.length&&g!=null;++b)g=g[m[b]];return g},u=(p,m)=>m==null||p==null?m:typeof p=="object"&&"key"in p?Object.hasOwn(m,p.key)?m[p.key]:c(m,p.path):typeof p=="function"?p(m):Array.isArray(p)?c(m,p):typeof m=="object"?m[p]:m,d=o.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||r.isKey(p)?p:{key:p,path:n.toPath(p)}));return a.map(p=>({original:p,criteria:d.map(m=>u(m,p))})).slice().sort((p,m)=>{for(let g=0;g<d.length;g++){const b=e.compareValues(p.criteria[g],m.criteria[g],s[g]);if(b!==0)return b}return 0}).map(p=>p.original)}t.orderBy=i})(P4);var O4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n=1){const i=[],a=Math.floor(n),o=(s,l)=>{for(let c=0;c<s.length;c++){const u=s[c];Array.isArray(u)&&l<a?o(u,l+1):i.push(u)}};return o(r,0),i}t.flatten=e})(O4);var Jx={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Yx,r=by,n=Wx,i=_y;function a(o,s,l){return n.isObject(l)&&(typeof s=="number"&&r.isArrayLike(l)&&e.isIndex(s)&&s<l.length||typeof s=="string"&&s in l)?i.eq(l[s],o):!1}t.isIterateeCall=a})(Jx);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=P4,r=O4,n=Jx;function i(a,...o){const s=o.length;return s>1&&n.isIterateeCall(a,o[0],o[1])?o=[]:s>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),e.orderBy(a,r.flatten(o),["asc"])}t.sortBy=i})(A4);var VJ=A4.sortBy;const Sy=bn(VJ);var N4=t=>t.legend.settings,FJ=t=>t.legend.size,UJ=t=>t.legend.payload,BJ=$([UJ,N4],(t,e)=>{var{itemSorter:r}=e,n=t.flat(1);return r?Sy(n,r):n});function zJ(){return oe(BJ)}var Hh=1;function D4(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,r]=_.useState({height:0,left:0,top:0,width:0}),n=_.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-e.height)>Hh||Math.abs(o.left-e.left)>Hh||Math.abs(o.top-e.top)>Hh||Math.abs(o.width-e.width)>Hh)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,n]}function cr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var WJ=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")(),rI=WJ,f0=()=>Math.random().toString(36).substring(7).split("").join("."),qJ={INIT:`@@redux/INIT${f0()}`,REPLACE:`@@redux/REPLACE${f0()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${f0()}`},Cm=qJ;function Zx(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function R4(t,e,r){if(typeof t!="function")throw new Error(cr(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(cr(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(cr(1));return r(R4)(t,e)}let n=t,i=e,a=new Map,o=a,s=0,l=!1;function c(){o===a&&(o=new Map,a.forEach((b,w)=>{o.set(w,b)}))}function u(){if(l)throw new Error(cr(3));return i}function d(b){if(typeof b!="function")throw new Error(cr(4));if(l)throw new Error(cr(5));let w=!0;c();const x=s++;return o.set(x,b),function(){if(w){if(l)throw new Error(cr(6));w=!1,c(),o.delete(x),a=null}}}function h(b){if(!Zx(b))throw new Error(cr(7));if(typeof b.type>"u")throw new Error(cr(8));if(typeof b.type!="string")throw new Error(cr(17));if(l)throw new Error(cr(9));try{l=!0,i=n(i,b)}finally{l=!1}return(a=o).forEach(x=>{x()}),b}function p(b){if(typeof b!="function")throw new Error(cr(10));n=b,h({type:Cm.REPLACE})}function m(){const b=d;return{subscribe(w){if(typeof w!="object"||w===null)throw new Error(cr(11));function x(){const C=w;C.next&&C.next(u())}return x(),{unsubscribe:b(x)}},[rI](){return this}}}return h({type:Cm.INIT}),{dispatch:h,subscribe:d,getState:u,replaceReducer:p,[rI]:m}}function KJ(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:Cm.INIT})>"u")throw new Error(cr(12));if(typeof r(void 0,{type:Cm.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(cr(13))})}function M4(t){const e=Object.keys(t),r={};for(let a=0;a<e.length;a++){const o=e[a];typeof t[o]=="function"&&(r[o]=t[o])}const n=Object.keys(r);let i;try{KJ(r)}catch(a){i=a}return function(o={},s){if(i)throw i;let l=!1;const c={};for(let u=0;u<n.length;u++){const d=n[u],h=r[d],p=o[d],m=h(p,s);if(typeof m>"u")throw s&&s.type,new Error(cr(14));c[d]=m,l=l||m!==p}return l=l||n.length!==Object.keys(o).length,l?c:o}}function Om(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function HJ(...t){return e=>(r,n)=>{const i=e(r,n);let a=()=>{throw new Error(cr(15))};const o={getState:i.getState,dispatch:(l,...c)=>a(l,...c)},s=t.map(l=>l(o));return a=Om(...s)(i.dispatch),{...i,dispatch:a}}}function L4(t){return Zx(t)&&"type"in t&&typeof t.type=="string"}var j4=Symbol.for("immer-nothing"),nI=Symbol.for("immer-draftable"),yn=Symbol.for("immer-state");function Zn(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var gc=Object.getPrototypeOf;function Fs(t){return!!t&&!!t[yn]}function pa(t){var e;return t?$4(t)||Array.isArray(t)||!!t[nI]||!!((e=t.constructor)!=null&&e[nI])||Ay(t)||Py(t):!1}var GJ=Object.prototype.constructor.toString();function $4(t){if(!t||typeof t!="object")return!1;const e=gc(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===GJ}function Nm(t,e){Ty(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function Ty(t){const e=t[yn];return e?e.type_:Array.isArray(t)?1:Ay(t)?2:Py(t)?3:0}function Ib(t,e){return Ty(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function V4(t,e,r){const n=Ty(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function YJ(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Ay(t){return t instanceof Map}function Py(t){return t instanceof Set}function as(t){return t.copy_||t.base_}function Cb(t,e){if(Ay(t))return new Map(t);if(Py(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=$4(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[yn];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const o=i[a],s=n[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(n[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[o]})}return Object.create(gc(t),n)}else{const n=gc(t);if(n!==null&&r)return{...t};const i=Object.create(n);return Object.assign(i,t)}}function eE(t,e=!1){return Iy(t)||Fs(t)||!pa(t)||(Ty(t)>1&&(t.set=t.add=t.clear=t.delete=QJ),Object.freeze(t),e&&Object.entries(t).forEach(([r,n])=>eE(n,!0))),t}function QJ(){Zn(2)}function Iy(t){return Object.isFrozen(t)}var XJ={};function Us(t){const e=XJ[t];return e||Zn(0,t),e}var Gd;function F4(){return Gd}function JJ(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function iI(t,e){e&&(Us("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Ob(t){Nb(t),t.drafts_.forEach(ZJ),t.drafts_=null}function Nb(t){t===Gd&&(Gd=t.parent_)}function aI(t){return Gd=JJ(Gd,t)}function ZJ(t){const e=t[yn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function oI(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[yn].modified_&&(Ob(e),Zn(4)),pa(t)&&(t=Dm(e,t),e.parent_||Rm(e,t)),e.patches_&&Us("Patches").generateReplacementPatches_(r[yn].base_,t,e.patches_,e.inversePatches_)):t=Dm(e,r,[]),Ob(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==j4?t:void 0}function Dm(t,e,r){if(Iy(e))return e;const n=e[yn];if(!n)return Nm(e,(i,a)=>sI(t,n,e,i,a,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return Rm(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let a=i,o=!1;n.type_===3&&(a=new Set(i),i.clear(),o=!0),Nm(a,(s,l)=>sI(t,n,i,s,l,r,o)),Rm(t,i,!1),r&&t.patches_&&Us("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function sI(t,e,r,n,i,a,o){if(Fs(i)){const s=a&&e&&e.type_!==3&&!Ib(e.assigned_,n)?a.concat(n):void 0,l=Dm(t,i,s);if(V4(r,n,l),Fs(l))t.canAutoFreeze_=!1;else return}else o&&r.add(i);if(pa(i)&&!Iy(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Dm(t,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&Rm(t,i)}}function Rm(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&eE(e,r)}function eZ(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:F4(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=tE;r&&(i=[n],a=Yd);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return n.draft_=s,n.revoke_=o,s}var tE={get(t,e){if(e===yn)return t;const r=as(t);if(!Ib(r,e))return tZ(t,r,e);const n=r[e];return t.finalized_||!pa(n)?n:n===h0(t.base_,e)?(p0(t),t.copy_[e]=Rb(n,t)):n},has(t,e){return e in as(t)},ownKeys(t){return Reflect.ownKeys(as(t))},set(t,e,r){const n=U4(as(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=h0(as(t),e),a=i==null?void 0:i[yn];if(a&&a.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(YJ(r,i)&&(r!==void 0||Ib(t.base_,e)))return!0;p0(t),Db(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return h0(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,p0(t),Db(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=as(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){Zn(11)},getPrototypeOf(t){return gc(t.base_)},setPrototypeOf(){Zn(12)}},Yd={};Nm(tE,(t,e)=>{Yd[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Yd.deleteProperty=function(t,e){return Yd.set.call(this,t,e,void 0)};Yd.set=function(t,e,r){return tE.set.call(this,t[0],e,r,t[0])};function h0(t,e){const r=t[yn];return(r?as(r):t)[e]}function tZ(t,e,r){var i;const n=U4(e,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(t.draft_):void 0}function U4(t,e){if(!(e in t))return;let r=gc(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=gc(r)}}function Db(t){t.modified_||(t.modified_=!0,t.parent_&&Db(t.parent_))}function p0(t){t.copy_||(t.copy_=Cb(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var rZ=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const a=r;r=e;const o=this;return function(l=a,...c){return o.produce(l,u=>r.call(this,u,...c))}}typeof r!="function"&&Zn(6),n!==void 0&&typeof n!="function"&&Zn(7);let i;if(pa(e)){const a=aI(this),o=Rb(e,void 0);let s=!0;try{i=r(o),s=!1}finally{s?Ob(a):Nb(a)}return iI(a,n),oI(i,a)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===j4&&(i=void 0),this.autoFreeze_&&eE(i,!0),n){const a=[],o=[];Us("Patches").generateReplacementPatches_(e,i,a,o),n(a,o)}return i}else Zn(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(o,...s)=>this.produceWithPatches(o,l=>e(l,...s));let n,i;return[this.produce(e,r,(o,s)=>{n=o,i=s}),n,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){pa(t)||Zn(8),Fs(t)&&(t=ra(t));const e=aI(this),r=Rb(t,void 0);return r[yn].isManual_=!0,Nb(e),r}finishDraft(t,e){const r=t&&t[yn];(!r||!r.isManual_)&&Zn(9);const{scope_:n}=r;return iI(n,e),oI(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=Us("Patches").applyPatches_;return Fs(t)?n(t,e):this.produce(t,i=>n(i,e))}};function Rb(t,e){const r=Ay(t)?Us("MapSet").proxyMap_(t,e):Py(t)?Us("MapSet").proxySet_(t,e):eZ(t,e);return(e?e.scope_:F4()).drafts_.push(r),r}function ra(t){return Fs(t)||Zn(10,t),B4(t)}function B4(t){if(!pa(t)||Iy(t))return t;const e=t[yn];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=Cb(t,e.scope_.immer_.useStrictShallowCopy_)}else r=Cb(t,!0);return Nm(r,(n,i)=>{V4(r,n,B4(i))}),e&&(e.finalized_=!1),r}var vn=new rZ,z4=vn.produce;vn.produceWithPatches.bind(vn);vn.setAutoFreeze.bind(vn);vn.setUseStrictShallowCopy.bind(vn);vn.applyPatches.bind(vn);vn.createDraft.bind(vn);vn.finishDraft.bind(vn);function W4(t){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,t):i(a)}var nZ=W4(),iZ=W4,aZ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Om:Om.apply(null,arguments)};function Un(t,e){function r(...n){if(e){let i=e(...n);if(!i)throw new Error(pn(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>L4(n)&&n.type===t,r}var q4=class Ku extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Ku.prototype)}static get[Symbol.species](){return Ku}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Ku(...e[0].concat(this)):new Ku(...e.concat(this))}};function lI(t){return pa(t)?z4(t,()=>{}):t}function Gh(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function oZ(t){return typeof t=="boolean"}var sZ=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let o=new q4;return r&&(oZ(r)?o.push(nZ):o.push(iZ(r.extraArgument))),o},lZ="RTK_autoBatch",cI=t=>e=>{setTimeout(e,t)},cZ=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let i=!0,a=!1,o=!1;const s=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:cI(10):t.type==="callback"?t.queueNotification:cI(t.timeout),c=()=>{o=!1,a&&(a=!1,s.forEach(u=>u()))};return Object.assign({},n,{subscribe(u){const d=()=>i&&u(),h=n.subscribe(d);return s.add(u),()=>{h(),s.delete(u)}},dispatch(u){var d;try{return i=!((d=u==null?void 0:u.meta)!=null&&d[lZ]),a=!i,a&&(o||(o=!0,l(c))),n.dispatch(u)}finally{i=!0}}})},uZ=t=>function(r){const{autoBatch:n=!0}=r??{};let i=new q4(t);return n&&i.push(cZ(typeof n=="object"?n:void 0)),i};function dZ(t){const e=sZ(),{reducer:r=void 0,middleware:n,devTools:i=!0,duplicateMiddlewareCheck:a=!0,preloadedState:o=void 0,enhancers:s=void 0}=t||{};let l;if(typeof r=="function")l=r;else if(Zx(r))l=M4(r);else throw new Error(pn(1));let c;typeof n=="function"?c=n(e):c=e();let u=Om;i&&(u=aZ({trace:!1,...typeof i=="object"&&i}));const d=HJ(...c),h=uZ(d);let p=typeof s=="function"?s(h):h();const m=u(...p);return R4(l,o,m)}function K4(t){const e={},r=[];let n;const i={addCase(a,o){const s=typeof a=="string"?a:a.type;if(!s)throw new Error(pn(28));if(s in e)throw new Error(pn(29));return e[s]=o,i},addMatcher(a,o){return r.push({matcher:a,reducer:o}),i},addDefaultCase(a){return n=a,i}};return t(i),[e,r,n]}function fZ(t){return typeof t=="function"}function hZ(t,e){let[r,n,i]=K4(e),a;if(fZ(t))a=()=>lI(t());else{const s=lI(t);a=()=>s}function o(s=a(),l){let c=[r[l.type],...n.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[i]),c.reduce((u,d)=>{if(d)if(Fs(u)){const p=d(u,l);return p===void 0?u:p}else{if(pa(u))return z4(u,h=>d(h,l));{const h=d(u,l);if(h===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return u},s)}return o.getInitialState=a,o}var pZ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",mZ=(t=21)=>{let e="",r=t;for(;r--;)e+=pZ[Math.random()*64|0];return e},gZ=Symbol.for("rtk-slice-createasyncthunk");function yZ(t,e){return`${t}/${e}`}function vZ({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[gZ];return function(i){const{name:a,reducerPath:o=a}=i;if(!a)throw new Error(pn(11));typeof process<"u";const s=(typeof i.reducers=="function"?i.reducers(bZ()):i.reducers)||{},l=Object.keys(s),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(C,I){const M=typeof C=="string"?C:C.type;if(!M)throw new Error(pn(12));if(M in c.sliceCaseReducersByType)throw new Error(pn(13));return c.sliceCaseReducersByType[M]=I,u},addMatcher(C,I){return c.sliceMatchers.push({matcher:C,reducer:I}),u},exposeAction(C,I){return c.actionCreators[C]=I,u},exposeCaseReducer(C,I){return c.sliceCaseReducersByName[C]=I,u}};l.forEach(C=>{const I=s[C],M={reducerName:C,type:yZ(a,C),createNotation:typeof i.reducers=="function"};xZ(I)?kZ(M,I,u,e):_Z(M,I,u)});function d(){const[C={},I=[],M=void 0]=typeof i.extraReducers=="function"?K4(i.extraReducers):[i.extraReducers],T={...C,...c.sliceCaseReducersByType};return hZ(i.initialState,S=>{for(let N in T)S.addCase(N,T[N]);for(let N of c.sliceMatchers)S.addMatcher(N.matcher,N.reducer);for(let N of I)S.addMatcher(N.matcher,N.reducer);M&&S.addDefaultCase(M)})}const h=C=>C,p=new Map,m=new WeakMap;let g;function b(C,I){return g||(g=d()),g(C,I)}function w(){return g||(g=d()),g.getInitialState()}function x(C,I=!1){function M(S){let N=S[C];return typeof N>"u"&&I&&(N=Gh(m,M,w)),N}function T(S=h){const N=Gh(p,I,()=>new WeakMap);return Gh(N,S,()=>{const L={};for(const[D,O]of Object.entries(i.selectors??{}))L[D]=wZ(O,S,()=>Gh(m,S,w),I);return L})}return{reducerPath:C,getSelectors:T,get selectors(){return T(M)},selectSlice:M}}const E={name:a,reducer:b,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:w,...x(o),injectInto(C,{reducerPath:I,...M}={}){const T=I??o;return C.inject({reducerPath:T,reducer:b},M),{...E,...x(T,!0)}}};return E}}function wZ(t,e,r,n){function i(a,...o){let s=e(a);return typeof s>"u"&&n&&(s=r()),t(s,...o)}return i.unwrapped=t,i}var kn=vZ();function bZ(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function _Z({type:t,reducerName:e,createNotation:r},n,i){let a,o;if("reducer"in n){if(r&&!EZ(n))throw new Error(pn(17));a=n.reducer,o=n.prepare}else a=n;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,o?Un(t,o):Un(t))}function xZ(t){return t._reducerDefinitionType==="asyncThunk"}function EZ(t){return t._reducerDefinitionType==="reducerWithPrepare"}function kZ({type:t,reducerName:e},r,n,i){if(!i)throw new Error(pn(18));const{payloadCreator:a,fulfilled:o,pending:s,rejected:l,settled:c,options:u}=r,d=i(t,a,u);n.exposeAction(e,d),o&&n.addCase(d.fulfilled,o),s&&n.addCase(d.pending,s),l&&n.addCase(d.rejected,l),c&&n.addMatcher(d.settled,c),n.exposeCaseReducer(e,{fulfilled:o||Yh,pending:s||Yh,rejected:l||Yh,settled:c||Yh})}function Yh(){}var SZ="task",H4="listener",G4="completed",rE="cancelled",TZ=`task-${rE}`,AZ=`task-${G4}`,Mb=`${H4}-${rE}`,PZ=`${H4}-${G4}`,Cy=class{constructor(t){cv(this,"name","TaskAbortError");cv(this,"message");this.code=t,this.message=`${SZ} ${rE} (reason: ${t})`}},nE=(t,e)=>{if(typeof t!="function")throw new TypeError(pn(32))},Mm=()=>{},Y4=(t,e=Mm)=>(t.catch(e),t),Q4=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),ks=(t,e)=>{const r=t.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Ss=t=>{if(t.aborted){const{reason:e}=t;throw new Cy(e)}};function X4(t,e){let r=Mm;return new Promise((n,i)=>{const a=()=>i(new Cy(t.reason));if(t.aborted){a();return}r=Q4(t,a),e.finally(()=>r()).then(n,i)}).finally(()=>{r=Mm})}var IZ=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(r){return{status:r instanceof Cy?"cancelled":"rejected",error:r}}finally{e==null||e()}},Lm=t=>e=>Y4(X4(t,e).then(r=>(Ss(t),r))),J4=t=>{const e=Lm(t);return r=>e(new Promise(n=>setTimeout(n,r)))},{assign:Ql}=Object,uI={},Oy="listenerMiddleware",CZ=(t,e)=>{const r=n=>Q4(t,()=>ks(n,t.reason));return(n,i)=>{nE(n);const a=new AbortController;r(a);const o=IZ(async()=>{Ss(t),Ss(a.signal);const s=await n({pause:Lm(a.signal),delay:J4(a.signal),signal:a.signal});return Ss(a.signal),s},()=>ks(a,AZ));return i!=null&&i.autoJoin&&e.push(o.catch(Mm)),{result:Lm(t)(o),cancel(){ks(a,TZ)}}}},OZ=(t,e)=>{const r=async(n,i)=>{Ss(e);let a=()=>{};const s=[new Promise((l,c)=>{let u=t({predicate:n,effect:(d,h)=>{h.unsubscribe(),l([d,h.getState(),h.getOriginalState()])}});a=()=>{u(),c()}})];i!=null&&s.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await X4(e,Promise.race(s));return Ss(e),l}finally{a()}};return(n,i)=>Y4(r(n,i))},Z4=t=>{let{type:e,actionCreator:r,matcher:n,predicate:i,effect:a}=t;if(e)i=Un(e).match;else if(r)e=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(pn(21));return nE(a),{predicate:i,type:e,effect:a}},ej=Ql(t=>{const{type:e,predicate:r,effect:n}=Z4(t);return{id:mZ(),effect:n,type:e,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(pn(22))}}},{withTypes:()=>ej}),dI=(t,e)=>{const{type:r,effect:n,predicate:i}=Z4(e);return Array.from(t.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},Lb=t=>{t.pending.forEach(e=>{ks(e,Mb)})},NZ=t=>()=>{t.forEach(Lb),t.clear()},fI=(t,e,r)=>{try{t(e,r)}catch(n){setTimeout(()=>{throw n},0)}},tj=Ql(Un(`${Oy}/add`),{withTypes:()=>tj}),DZ=Un(`${Oy}/removeAll`),rj=Ql(Un(`${Oy}/remove`),{withTypes:()=>rj}),RZ=(...t)=>{console.error(`${Oy}/error`,...t)},Df=(t={})=>{const e=new Map,{extra:r,onError:n=RZ}=t;nE(n);const i=u=>(u.unsubscribe=()=>e.delete(u.id),e.set(u.id,u),d=>{u.unsubscribe(),d!=null&&d.cancelActive&&Lb(u)}),a=u=>{const d=dI(e,u)??ej(u);return i(d)};Ql(a,{withTypes:()=>a});const o=u=>{const d=dI(e,u);return d&&(d.unsubscribe(),u.cancelActive&&Lb(d)),!!d};Ql(o,{withTypes:()=>o});const s=async(u,d,h,p)=>{const m=new AbortController,g=OZ(a,m.signal),b=[];try{u.pending.add(m),await Promise.resolve(u.effect(d,Ql({},h,{getOriginalState:p,condition:(w,x)=>g(w,x).then(Boolean),take:g,delay:J4(m.signal),pause:Lm(m.signal),extra:r,signal:m.signal,fork:CZ(m.signal,b),unsubscribe:u.unsubscribe,subscribe:()=>{e.set(u.id,u)},cancelActiveListeners:()=>{u.pending.forEach((w,x,E)=>{w!==m&&(ks(w,Mb),E.delete(w))})},cancel:()=>{ks(m,Mb),u.pending.delete(m)},throwIfCancelled:()=>{Ss(m.signal)}})))}catch(w){w instanceof Cy||fI(n,w,{raisedBy:"effect"})}finally{await Promise.all(b),ks(m,PZ),u.pending.delete(m)}},l=NZ(e);return{middleware:u=>d=>h=>{if(!L4(h))return d(h);if(tj.match(h))return a(h.payload);if(DZ.match(h)){l();return}if(rj.match(h))return o(h.payload);let p=u.getState();const m=()=>{if(p===uI)throw new Error(pn(23));return p};let g;try{if(g=d(h),e.size>0){const b=u.getState(),w=Array.from(e.values());for(const x of w){let E=!1;try{E=x.predicate(h,b,p)}catch(C){E=!1,fI(n,C,{raisedBy:"predicate"})}E&&s(x,h,u,m)}}}finally{p=uI}return g},startListening:a,stopListening:o,clearListeners:l}};function pn(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var MZ={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},nj=kn({name:"chartLayout",initialState:MZ,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){t.margin.top=e.payload.top,t.margin.right=e.payload.right,t.margin.bottom=e.payload.bottom,t.margin.left=e.payload.left},setScale(t,e){t.scale=e.payload}}}),{setMargin:LZ,setLayout:jZ,setChartSize:$Z,setScale:VZ}=nj.actions,FZ=nj.reducer;function hI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hI(Object(r),!0).forEach(function(n){UZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UZ(t,e,r){return(e=BZ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BZ(t){var e=zZ(t,"string");return typeof e=="symbol"?e:e+""}function zZ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jm=Math.PI/180,WZ=t=>t*180/Math.PI,$t=(t,e,r,n)=>({x:t+Math.cos(-jm*n)*r,y:e+Math.sin(-jm*n)*r}),ij=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},qZ=(t,e)=>{var{x:r,y:n}=t,{x:i,y:a}=e;return Math.sqrt((r-i)**2+(n-a)**2)},KZ=(t,e)=>{var{x:r,y:n}=t,{cx:i,cy:a}=e,o=qZ({x:r,y:n},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var s=(r-i)/o,l=Math.acos(s);return n>a&&(l=2*Math.PI-l),{radius:o,angle:WZ(l),angleInRadian:l}},HZ=t=>{var{startAngle:e,endAngle:r}=t,n=Math.floor(e/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:e-a*360,endAngle:r-a*360}},GZ=(t,e)=>{var{startAngle:r,endAngle:n}=e,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return t+o*360},YZ=(t,e)=>{var{x:r,y:n}=t,{radius:i,angle:a}=KZ({x:r,y:n},e),{innerRadius:o,outerRadius:s}=e;if(i<o||i>s||i===0)return null;var{startAngle:l,endAngle:c}=HZ(e),u=a,d;if(l<=c){for(;u>c;)u-=360;for(;u<l;)u+=360;d=u>=l&&u<=c}else{for(;u>l;)u-=360;for(;u<c;)u+=360;d=u>=c&&u<=l}return d?pI(pI({},e),{},{radius:i,angle:GZ(u,e)}):null};function aj(t,e,r){return Array.isArray(t)&&t&&e+r!==0?t.slice(e,r+1):t}function mI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Rn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mI(Object(r),!0).forEach(function(n){QZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QZ(t,e,r){return(e=XZ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XZ(t){var e=JZ(t,"string");return typeof e=="symbol"?e:e+""}function JZ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ge(t,e,r){return lt(t)||lt(e)?r:Ti(e)?Po(t,e,r):typeof e=="function"?e(t):r}var ZZ=(t,e,r,n,i)=>{var a,o=-1,s=(a=e==null?void 0:e.length)!==null&&a!==void 0?a:0;if(s<=1||t==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<s;l++){var c=l>0?r[l-1].coordinate:r[s-1].coordinate,u=r[l].coordinate,d=l>=s-1?r[0].coordinate:r[l+1].coordinate,h=void 0;if(rr(u-c)!==rr(d-u)){var p=[];if(rr(d-u)===rr(i[1]-i[0])){h=d;var m=u+i[1]-i[0];p[0]=Math.min(m,(m+c)/2),p[1]=Math.max(m,(m+c)/2)}else{h=c;var g=d+i[1]-i[0];p[0]=Math.min(u,(g+u)/2),p[1]=Math.max(u,(g+u)/2)}var b=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(t>b[0]&&t<=b[1]||t>=p[0]&&t<=p[1]){({index:o}=r[l]);break}}else{var w=Math.min(c,d),x=Math.max(c,d);if(t>(w+u)/2&&t<=(x+u)/2){({index:o}=r[l]);break}}}else if(e){for(var E=0;E<s;E++)if(E===0&&t<=(e[E].coordinate+e[E+1].coordinate)/2||E>0&&E<s-1&&t>(e[E].coordinate+e[E-1].coordinate)/2&&t<=(e[E].coordinate+e[E+1].coordinate)/2||E===s-1&&t>(e[E].coordinate+e[E-1].coordinate)/2){({index:o}=e[E]);break}}return o},eee=(t,e,r)=>{if(e&&r){var{width:n,height:i}=r,{align:a,verticalAlign:o,layout:s}=e;if((s==="vertical"||s==="horizontal"&&o==="middle")&&a!=="center"&&te(t[a]))return Rn(Rn({},t),{},{[a]:t[a]+(n||0)});if((s==="horizontal"||s==="vertical"&&a==="center")&&o!=="middle"&&te(t[o]))return Rn(Rn({},t),{},{[o]:t[o]+(i||0)})}return t},Bo=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",oj=(t,e,r,n)=>{if(n)return t.map(s=>s.coordinate);var i,a,o=t.map(s=>(s.coordinate===e&&(i=!0),s.coordinate===r&&(a=!0),s.coordinate));return i||o.push(e),a||o.push(r),o},sj=(t,e,r)=>{if(!t)return null;var{duplicateDomain:n,type:i,range:a,scale:o,realScaleType:s,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:d,niceTicks:h,axisType:p}=t;if(!o)return null;var m=s==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,g=(e||r)&&i==="category"&&o.bandwidth?o.bandwidth()/m:0;if(g=p==="angleAxis"&&a&&a.length>=2?rr(a[0]-a[1])*2*g:g,e&&(d||h)){var b=(d||h||[]).map((w,x)=>{var E=n?n.indexOf(w):w;return{coordinate:o(E)+g,value:w,offset:g,index:x}});return b.filter(w=>!gn(w.coordinate))}return l&&c?c.map((w,x)=>({coordinate:o(w)+g,value:w,index:x,offset:g})):o.ticks&&!r&&u!=null?o.ticks(u).map((w,x)=>({coordinate:o(w)+g,value:w,offset:g,index:x})):o.domain().map((w,x)=>({coordinate:o(w)+g,value:n?n[w]:w,index:x,offset:g}))},gI=1e-4,tee=t=>{var e=t.domain();if(!(!e||e.length<=2)){var r=e.length,n=t.range(),i=Math.min(n[0],n[1])-gI,a=Math.max(n[0],n[1])+gI,o=t(e[0]),s=t(e[r-1]);(o<i||o>a||s<i||s>a)&&t.domain([e[0],e[r-1]])}},ree=(t,e)=>{if(!e||e.length!==2||!te(e[0])||!te(e[1]))return t;var r=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!te(t[0])||t[0]<r)&&(i[0]=r),(!te(t[1])||t[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},nee=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var i=0,a=0,o=0;o<e;++o){var s=gn(t[o][r][1])?t[o][r][0]:t[o][r][1];s>=0?(t[o][r][0]=i,t[o][r][1]=i+s,i=t[o][r][1]):(t[o][r][0]=a,t[o][r][1]=a+s,a=t[o][r][1])}},iee=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var i=0,a=0;a<e;++a){var o=gn(t[a][r][1])?t[a][r][0]:t[a][r][1];o>=0?(t[a][r][0]=i,t[a][r][1]=i+o,i=t[a][r][1]):(t[a][r][0]=0,t[a][r][1]=0)}},aee={sign:nee,expand:zX,none:pc,silhouette:WX,wiggle:qX,positive:iee},oee=(t,e,r)=>{var n=aee[r],i=BX().keys(e).value((a,o)=>+Ge(a,o,0)).order(Tb).offset(n);return i(t)};function see(t){return t==null?void 0:String(t)}function yI(t){var{axis:e,ticks:r,bandSize:n,entry:i,index:a,dataKey:o}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!lt(i[e.dataKey])){var s=$L(r,"value",i[e.dataKey]);if(s)return s.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=Ge(i,lt(o)?e.dataKey:o);return lt(l)?null:e.scale(l)}var vI=t=>{var{axis:e,ticks:r,offset:n,bandSize:i,entry:a,index:o}=t;if(e.type==="category")return r[o]?r[o].coordinate+n:null;var s=Ge(a,e.dataKey,e.scale.domain()[o]);return lt(s)?null:e.scale(s)-i/2+n},lee=t=>{var{numericAxis:e}=t,r=e.scale.domain();if(e.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},cee=t=>{var e=t.flat(2).filter(te);return[Math.min(...e),Math.max(...e)]},uee=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],dee=(t,e,r)=>{if(t!=null)return uee(Object.keys(t).reduce((n,i)=>{var a=t[i],{stackedData:o}=a,s=o.reduce((l,c)=>{var u=aj(c,e,r),d=cee(u);return[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]);return[Math.min(s[0],n[0]),Math.max(s[1],n[1])]},[1/0,-1/0]))},wI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Qd=(t,e,r)=>{if(t&&t.scale&&t.scale.bandwidth){var n=t.scale.bandwidth();if(!r||n>0)return n}if(t&&e&&e.length>=2){for(var i=Sy(e,u=>u.coordinate),a=1/0,o=1,s=i.length;o<s;o++){var l=i[o],c=i[o-1];a=Math.min((l.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function _I(t){var{tooltipEntrySettings:e,dataKey:r,payload:n,value:i,name:a}=t;return Rn(Rn({},e),{},{dataKey:r,payload:n,value:i,name:a})}function jc(t,e){if(t)return String(t);if(typeof e=="string")return e}function fee(t,e,r,n,i){if(r==="horizontal"||r==="vertical"){var a=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return a?{x:t,y:e}:null}return n?YZ({x:t,y:e},n):null}var hee=(t,e,r,n)=>{var i=e.find(c=>c&&c.index===r);if(i){if(t==="horizontal")return{x:i.coordinate,y:n.y};if(t==="vertical")return{x:n.x,y:i.coordinate};if(t==="centric"){var a=i.coordinate,{radius:o}=n;return Rn(Rn(Rn({},n),$t(n.cx,n.cy,o,a)),{},{angle:a,radius:o})}var s=i.coordinate,{angle:l}=n;return Rn(Rn(Rn({},n),$t(n.cx,n.cy,s,l)),{},{angle:l,radius:s})}return{x:0,y:0}},pee=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,Ea=t=>t.layout.width,ka=t=>t.layout.height,mee=t=>t.layout.scale,lj=t=>t.layout.margin,iE=$(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),aE=$(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),cj="data-recharts-item-index",uj="data-recharts-item-data-key",Ny=60;function xI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xI(Object(r),!0).forEach(function(n){gee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gee(t,e,r){return(e=yee(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yee(t){var e=vee(t,"string");return typeof e=="symbol"?e:e+""}function vee(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wee=t=>t.brush.height,Wt=$([Ea,ka,lj,wee,iE,aE,N4,FJ],(t,e,r,n,i,a,o,s)=>{var l=a.reduce((m,g)=>{var{orientation:b}=g;if(!g.mirror&&!g.hide){var w=typeof g.width=="number"?g.width:Ny;return Fa(Fa({},m),{},{[b]:m[b]+w})}return m},{left:r.left||0,right:r.right||0}),c=i.reduce((m,g)=>{var{orientation:b}=g;return!g.mirror&&!g.hide?Fa(Fa({},m),{},{[b]:Po(m,"".concat(b))+g.height}):m},{top:r.top||0,bottom:r.bottom||0}),u=Fa(Fa({},c),l),d=u.bottom;u.bottom+=n,u=eee(u,o,s);var h=t-u.left-u.right,p=e-u.top-u.bottom;return Fa(Fa({brushBottom:d},u),{},{width:Math.max(h,0),height:Math.max(p,0)})}),bee=$(Wt,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),dj=$(Ea,ka,(t,e)=>({x:0,y:0,width:t,height:e})),_ee=_.createContext(null),Zr=()=>_.useContext(_ee)!=null,Dy=t=>t.brush,Ry=$([Dy,Wt,lj],(t,e,r)=>({height:t.height,x:te(t.x)?t.x:e.left,y:te(t.y)?t.y:e.top+e.height+e.brushBottom-((r==null?void 0:r.bottom)||0),width:te(t.width)?t.width:e.width})),oE=()=>{var t,e=Zr(),r=oe(bee),n=oe(Ry),i=(t=oe(Dy))===null||t===void 0?void 0:t.padding;return!e||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},xee={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},fj=()=>{var t;return(t=oe(Wt))!==null&&t!==void 0?t:xee},sE=()=>oe(Ea),lE=()=>oe(ka),Eee={top:0,right:0,bottom:0,left:0},kee=()=>{var t;return(t=oe(e=>e.layout.margin))!==null&&t!==void 0?t:Eee},Oe=t=>t.layout.layoutType,My=()=>oe(Oe),See={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},hj=kn({name:"legend",initialState:See,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var r=ra(t).payload.indexOf(e.payload);r>-1&&t.payload.splice(r,1)}}}),{setLegendSize:EI,setLegendSettings:Tee,addLegendPayload:pj,removeLegendPayload:mj}=hj.actions,Aee=hj.reducer,Pee=["contextPayload"];function jb(){return jb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jb.apply(null,arguments)}function kI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kI(Object(r),!0).forEach(function(n){cE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cE(t,e,r){return(e=Iee(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Iee(t){var e=Cee(t,"string");return typeof e=="symbol"?e:e+""}function Cee(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oee(t,e){if(t==null)return{};var r,n,i=Nee(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Nee(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Dee(t){return t.value}function Ree(t){var{contextPayload:e}=t,r=Oee(t,Pee),n=_4(e,t.payloadUniqBy,Dee),i=yc(yc({},r),{},{payload:n});return _.isValidElement(t.content)?_.cloneElement(t.content,i):typeof t.content=="function"?_.createElement(t.content,i):_.createElement(Bx,i)}function Mee(t,e,r,n,i,a){var{layout:o,align:s,verticalAlign:l}=e,c,u;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(s==="center"&&o==="vertical"?c={left:((n||0)-a.width)/2}:c=s==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(l==="middle"?u={top:((i||0)-a.height)/2}:u=l==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),yc(yc({},c),u)}function Lee(t){var e=vt();return _.useEffect(()=>{e(Tee(t))},[e,t]),null}function jee(t){var e=vt();return _.useEffect(()=>(e(EI(t)),()=>{e(EI({width:0,height:0}))}),[e,t]),null}function $ee(t){var e=zJ(),r=fX(),n=kee(),{width:i,height:a,wrapperStyle:o,portal:s}=t,[l,c]=D4([e]),u=sE(),d=lE(),h=u-(n.left||0)-(n.right||0),p=Bi.getWidthOrHeight(t.layout,a,i,h),m=s?o:yc(yc({position:"absolute",width:(p==null?void 0:p.width)||i||"auto",height:(p==null?void 0:p.height)||a||"auto"},Mee(o,t,n,u,d,l)),o),g=s??r;if(g==null)return null;var b=_.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:c},_.createElement(Lee,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),_.createElement(jee,{width:l.width,height:l.height}),_.createElement(Ree,jb({},t,p,{margin:n,chartWidth:u,chartHeight:d,contextPayload:e})));return u1.createPortal(b,g)}class Bi extends _.PureComponent{static getWidthOrHeight(e,r,n,i){return e==="vertical"&&te(r)?{height:r}:e==="horizontal"?{width:n||i}:null}render(){return _.createElement($ee,this.props)}}cE(Bi,"displayName","Legend");cE(Bi,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function $b(){return $b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$b.apply(null,arguments)}function SI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function m0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SI(Object(r),!0).forEach(function(n){Vee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vee(t,e,r){return(e=Fee(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fee(t){var e=Uee(t,"string");return typeof e=="symbol"?e:e+""}function Uee(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bee(t){return Array.isArray(t)&&Ti(t[0])&&Ti(t[1])?t.join(" ~ "):t}var zee=t=>{var{separator:e=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:o,itemSorter:s,wrapperClassName:l,labelClassName:c,label:u,labelFormatter:d,accessibilityLayer:h=!1}=t,p=()=>{if(a&&a.length){var I={padding:0,margin:0},M=(s?Sy(a,s):a).map((T,S)=>{if(T.type==="none")return null;var N=T.formatter||o||Bee,{value:L,name:D}=T,O=L,P=D;if(N){var U=N(L,D,T,S,a);if(Array.isArray(U))[O,P]=U;else if(U!=null)O=U;else return null}var ee=m0({display:"block",paddingTop:4,paddingBottom:4,color:T.color||"#000"},n);return _.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(S),style:ee},Ti(P)?_.createElement("span",{className:"recharts-tooltip-item-name"},P):null,Ti(P)?_.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,_.createElement("span",{className:"recharts-tooltip-item-value"},O),_.createElement("span",{className:"recharts-tooltip-item-unit"},T.unit||""))});return _.createElement("ul",{className:"recharts-tooltip-item-list",style:I},M)}return null},m=m0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),g=m0({margin:0},i),b=!lt(u),w=b?u:"",x=Me("recharts-default-tooltip",l),E=Me("recharts-tooltip-label",c);b&&d&&a!==void 0&&a!==null&&(w=d(u,a));var C=h?{role:"status","aria-live":"assertive"}:{};return _.createElement("div",$b({className:x,style:m},C),_.createElement("p",{className:E,style:g},_.isValidElement(w)?w:"".concat(w)),p())},Tu="recharts-tooltip-wrapper",Wee={visibility:"hidden"};function qee(t){var{coordinate:e,translateX:r,translateY:n}=t;return Me(Tu,{["".concat(Tu,"-right")]:te(r)&&e&&te(e.x)&&r>=e.x,["".concat(Tu,"-left")]:te(r)&&e&&te(e.x)&&r<e.x,["".concat(Tu,"-bottom")]:te(n)&&e&&te(e.y)&&n>=e.y,["".concat(Tu,"-top")]:te(n)&&e&&te(e.y)&&n<e.y})}function TI(t){var{allowEscapeViewBox:e,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:s,viewBox:l,viewBoxDimension:c}=t;if(a&&te(a[n]))return a[n];var u=r[n]-s-(i>0?i:0),d=r[n]+i;if(e[n])return o[n]?u:d;var h=l[n];if(h==null)return 0;if(o[n]){var p=u,m=h;return p<m?Math.max(d,h):Math.max(u,h)}if(c==null)return 0;var g=d+s,b=h+c;return g>b?Math.max(u,h):Math.max(d,h)}function Kee(t){var{translateX:e,translateY:r,useTranslate3d:n}=t;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Hee(t){var{allowEscapeViewBox:e,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:s,viewBox:l}=t,c,u,d;return o.height>0&&o.width>0&&r?(u=TI({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),d=TI({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=Kee({translateX:u,translateY:d,useTranslate3d:s})):c=Wee,{cssProperties:c,cssClasses:qee({translateX:u,translateY:d,coordinate:r})}}function AI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AI(Object(r),!0).forEach(function(n){Vb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vb(t,e,r){return(e=Gee(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gee(t){var e=Yee(t,"string");return typeof e=="symbol"?e:e+""}function Yee(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Qee extends _.PureComponent{constructor(){super(...arguments),Vb(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Vb(this,"handleKeyDown",e=>{if(e.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,r;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:o,hasPayload:s,isAnimationActive:l,offset:c,position:u,reverseDirection:d,useTranslate3d:h,viewBox:p,wrapperStyle:m,lastBoundingBox:g,innerRef:b,hasPortalFromProps:w}=this.props,{cssClasses:x,cssProperties:E}=Hee({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:c,position:u,reverseDirection:d,tooltipBox:{height:g.height,width:g.width},useTranslate3d:h,viewBox:p}),C=w?{}:Qh(Qh({transition:l&&e?"transform ".concat(n,"ms ").concat(i):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&s?"visible":"hidden",position:"absolute",top:0,left:0}),I=Qh(Qh({},C),{},{visibility:!this.state.dismissed&&e&&s?"visible":"hidden"},m);return _.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:x,style:I,ref:b},a)}}var Xee=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),rl={isSsr:Xee()},gj=()=>oe(t=>t.rootProps.accessibilityLayer);function wn(t){return Number.isFinite(t)}function vc(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function Fb(){return Fb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fb.apply(null,arguments)}function PI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function II(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PI(Object(r),!0).forEach(function(n){Jee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jee(t,e,r){return(e=Zee(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zee(t){var e=ete(t,"string");return typeof e=="symbol"?e:e+""}function ete(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CI={curveBasisClosed:OX,curveBasisOpen:NX,curveBasis:CX,curveBumpX:gX,curveBumpY:yX,curveLinearClosed:DX,curveLinear:vy,curveMonotoneX:RX,curveMonotoneY:MX,curveNatural:LX,curveStep:jX,curveStepAfter:VX,curveStepBefore:$X},Xh=t=>wn(t.x)&&wn(t.y),Au=t=>t.x,Pu=t=>t.y,tte=(t,e)=>{if(typeof t=="function")return t;var r="curve".concat(Cf(t));return(r==="curveMonotone"||r==="curveBump")&&e?CI["".concat(r).concat(e==="vertical"?"Y":"X")]:CI[r]||vy},rte=t=>{var{type:e="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=t,o=tte(e,i),s=a?r.filter(Xh):r,l;if(Array.isArray(n)){var c=a?n.filter(d=>Xh(d)):n,u=s.map((d,h)=>II(II({},d),{},{base:c[h]}));return i==="vertical"?l=qh().y(Pu).x1(Au).x0(d=>d.base.x):l=qh().x(Au).y1(Pu).y0(d=>d.base.y),l.defined(Xh).curve(o),l(u)}return i==="vertical"&&te(n)?l=qh().y(Pu).x1(Au).x0(n):te(n)?l=qh().x(Au).y1(Pu).y0(n):l=GL().x(Au).y(Pu),l.defined(Xh).curve(o),l(s)},uE=t=>{var{className:e,points:r,path:n,pathRef:i}=t;if((!r||!r.length)&&!n)return null;var a=r&&r.length?rte(t):n;return _.createElement("path",Fb({},xa(t),Mx(t),{className:Me("recharts-curve",e),d:a===null?void 0:a,ref:i}))},nte=["x","y","top","left","width","height","className"];function Ub(){return Ub=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ub.apply(null,arguments)}function OI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ite(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OI(Object(r),!0).forEach(function(n){ate(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ate(t,e,r){return(e=ote(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ote(t){var e=ste(t,"string");return typeof e=="symbol"?e:e+""}function ste(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lte(t,e){if(t==null)return{};var r,n,i=cte(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function cte(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var ute=(t,e,r,n,i,a)=>"M".concat(t,",").concat(i,"v").concat(n,"M").concat(a,",").concat(e,"h").concat(r),dte=t=>{var{x:e=0,y:r=0,top:n=0,left:i=0,width:a=0,height:o=0,className:s}=t,l=lte(t,nte),c=ite({x:e,y:r,top:n,left:i,width:a,height:o},l);return!te(e)||!te(r)||!te(a)||!te(o)||!te(n)||!te(i)?null:_.createElement("path",Ub({},ut(c,!0),{className:Me("recharts-cross",s),d:ute(e,r,a,o,n,i)}))};function fte(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function NI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hte(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NI(Object(r),!0).forEach(function(n){pte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pte(t,e,r){return(e=mte(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mte(t){var e=gte(t,"string");return typeof e=="symbol"?e:e+""}function gte(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sn(t,e){var r=hte({},t),n=e,i=Object.keys(e),a=i.reduce((o,s)=>(o[s]===void 0&&n[s]!==void 0&&(o[s]=n[s]),o),r);return a}var yj={},vj={},wj={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}t.isPlainObject=e})(wj);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wj,r=Gx,n=xy,i=Ey,a=_y;function o(c,u,d){return s(c,u,void 0,void 0,void 0,void 0,d)}function s(c,u,d,h,p,m,g){const b=g(c,u,d,h,p,m);if(b!==void 0)return b;if(typeof c==typeof u)switch(typeof c){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return c===u;case"number":return c===u||Object.is(c,u);case"function":return c===u;case"object":return l(c,u,m,g)}return l(c,u,m,g)}function l(c,u,d,h){if(Object.is(c,u))return!0;let p=n.getTag(c),m=n.getTag(u);if(p===i.argumentsTag&&(p=i.objectTag),m===i.argumentsTag&&(m=i.objectTag),p!==m)return!1;switch(p){case i.stringTag:return c.toString()===u.toString();case i.numberTag:{const w=c.valueOf(),x=u.valueOf();return a.eq(w,x)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(c.valueOf(),u.valueOf());case i.regexpTag:return c.source===u.source&&c.flags===u.flags;case i.functionTag:return c===u}d=d??new Map;const g=d.get(c),b=d.get(u);if(g!=null&&b!=null)return g===u;d.set(c,u),d.set(u,c);try{switch(p){case i.mapTag:{if(c.size!==u.size)return!1;for(const[w,x]of c.entries())if(!u.has(w)||!s(x,u.get(w),w,c,u,d,h))return!1;return!0}case i.setTag:{if(c.size!==u.size)return!1;const w=Array.from(c.values()),x=Array.from(u.values());for(let E=0;E<w.length;E++){const C=w[E],I=x.findIndex(M=>s(C,M,void 0,c,u,d,h));if(I===-1)return!1;x.splice(I,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(c)!==Buffer.isBuffer(u)||c.length!==u.length)return!1;for(let w=0;w<c.length;w++)if(!s(c[w],u[w],w,c,u,d,h))return!1;return!0}case i.arrayBufferTag:return c.byteLength!==u.byteLength?!1:l(new Uint8Array(c),new Uint8Array(u),d,h);case i.dataViewTag:return c.byteLength!==u.byteLength||c.byteOffset!==u.byteOffset?!1:l(new Uint8Array(c),new Uint8Array(u),d,h);case i.errorTag:return c.name===u.name&&c.message===u.message;case i.objectTag:{if(!(l(c.constructor,u.constructor,d,h)||e.isPlainObject(c)&&e.isPlainObject(u)))return!1;const x=[...Object.keys(c),...r.getSymbols(c)],E=[...Object.keys(u),...r.getSymbols(u)];if(x.length!==E.length)return!1;for(let C=0;C<x.length;C++){const I=x[C],M=c[I];if(!Object.hasOwn(u,I))return!1;const T=u[I];if(!s(M,T,I,c,u,d,h))return!1}return!0}default:return!1}}finally{d.delete(c),d.delete(u)}}t.isEqualWith=o})(vj);var bj={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(){}t.noop=e})(bj);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vj,r=bj;function n(i,a){return e.isEqualWith(i,a,r.noop)}t.isEqual=n})(yj);var yte=yj.isEqual;const vte=bn(yte);var $m=1e-4,_j=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],xj=(t,e)=>t.map((r,n)=>r*e**n).reduce((r,n)=>r+n),DI=(t,e)=>r=>{var n=_j(t,e);return xj(n,r)},wte=(t,e)=>r=>{var n=_j(t,e),i=[...n.map((a,o)=>a*o).slice(1),0];return xj(i,r)},RI=function(){for(var e,r,n,i,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];if(o.length===1)switch(o[0]){case"linear":[e,n,r,i]=[0,0,1,1];break;case"ease":[e,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[e,n,r,i]=[.42,0,1,1];break;case"ease-out":[e,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[e,n,r,i]=[0,0,.58,1];break;default:{var l=o[0].split("(");l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4&&([e,n,r,i]=l[1].split(")")[0].split(",").map(m=>parseFloat(m)))}}else o.length===4&&([e,n,r,i]=o);var c=DI(e,r),u=DI(n,i),d=wte(e,r),h=m=>m>1?1:m<0?0:m,p=m=>{for(var g=m>1?1:m,b=g,w=0;w<8;++w){var x=c(b)-g,E=d(b);if(Math.abs(x-g)<$m||E<$m)return u(b);b=h(b-x/E)}return u(b)};return p.isStepper=!1,p},bte=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=e,a=(o,s,l)=>{var c=-(o-s)*r,u=l*n,d=l+(c-u)*i/1e3,h=l*i/1e3+o;return Math.abs(h-s)<$m&&Math.abs(d)<$m?[s,0]:[h,d]};return a.isStepper=!0,a.dt=i,a},Ej=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return RI(t);case"spring":return bte();default:if(t.split("(")[0]==="cubic-bezier")return RI(t)}return typeof t=="function"?t:null};function MI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function LI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MI(Object(r),!0).forEach(function(n){_te(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _te(t,e,r){return(e=xte(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xte(t){var e=Ete(t,"string");return typeof e=="symbol"?e:e+""}function Ete(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kte=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),Ste=(t,e,r)=>t.map(n=>"".concat(kte(n)," ").concat(e,"ms ").concat(r)).join(","),Tte=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((r,n)=>r.filter(i=>n.includes(i))),Xd=(t,e)=>Object.keys(e).reduce((r,n)=>LI(LI({},r),{},{[n]:t(n,e[n])}),{});function jI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jI(Object(r),!0).forEach(function(n){Ate(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ate(t,e,r){return(e=Pte(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pte(t){var e=Ite(t,"string");return typeof e=="symbol"?e:e+""}function Ite(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vm=(t,e,r)=>t+(e-t)*r,Bb=t=>{var{from:e,to:r}=t;return e!==r},kj=(t,e,r)=>{var n=Xd((i,a)=>{if(Bb(a)){var[o,s]=t(a.from,a.to,a.velocity);return fr(fr({},a),{},{from:o,velocity:s})}return a},e);return r<1?Xd((i,a)=>Bb(a)?fr(fr({},a),{},{velocity:Vm(a.velocity,n[i].velocity,r),from:Vm(a.from,n[i].from,r)}):a,e):kj(t,n,r-1)};function Cte(t,e,r,n,i,a){var o,s=n.reduce((h,p)=>fr(fr({},h),{},{[p]:{from:t[p],velocity:0,to:e[p]}}),{}),l=()=>Xd((h,p)=>p.from,s),c=()=>!Object.values(s).filter(Bb).length,u=null,d=h=>{o||(o=h);var p=h-o,m=p/r.dt;s=kj(r,s,m),i(fr(fr(fr({},t),e),l())),o=h,c()||(u=a.setTimeout(d))};return()=>(u=a.setTimeout(d),()=>{u()})}function Ote(t,e,r,n,i,a,o){var s=null,l=i.reduce((d,h)=>fr(fr({},d),{},{[h]:[t[h],e[h]]}),{}),c,u=d=>{c||(c=d);var h=(d-c)/n,p=Xd((g,b)=>Vm(...b,r(h)),l);if(a(fr(fr(fr({},t),e),p)),h<1)s=o.setTimeout(u);else{var m=Xd((g,b)=>Vm(...b,r(1)),l);a(fr(fr(fr({},t),e),m))}};return()=>(s=o.setTimeout(u),()=>{s()})}const Sj=(t,e,r,n,i,a)=>{var o=Tte(t,e);return r.isStepper===!0?Cte(t,e,r,o,i,a):Ote(t,e,r,n,o,i,a)};function Nte(t){var e,r=()=>null,n=!1,i=null,a=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,[l,...c]=s;if(typeof l=="number"){i=t.setTimeout(a.bind(null,c),l);return}a(l),i=t.setTimeout(a.bind(null,c));return}typeof o=="string"&&(e=o,r(e)),typeof o=="object"&&(e=o,r(e)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,i&&(i(),i=null),a(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>t}}class Dte{setTimeout(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=o=>{o-n>=r?e(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function Rte(){return Nte(new Dte)}var Mte=_.createContext(Rte);function Tj(t,e){var r=_.useContext(Mte);return _.useMemo(()=>e??r(t),[t,e,r])}var Lte=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function zb(){return zb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zb.apply(null,arguments)}function jte(t,e){if(t==null)return{};var r,n,i=$te(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function $te(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function $I(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ua(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$I(Object(r),!0).forEach(function(n){ms(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$I(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ms(t,e,r){return(e=Vte(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vte(t){var e=Fte(t,"string");return typeof e=="symbol"?e:e+""}function Fte(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class dE extends _.PureComponent{constructor(e,r){super(e,r),ms(this,"mounted",!1),ms(this,"manager",void 0),ms(this,"stopJSAnimation",null),ms(this,"unSubscribe",null);var{isActive:n,attributeName:i,from:a,to:o,children:s,duration:l,animationManager:c}=this.props;if(this.manager=c,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||l<=0){this.state={style:{}},typeof s=="function"&&(this.state={style:o});return}if(a){if(typeof s=="function"){this.state={style:a};return}this.state={style:i?{[i]:a}:a}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:r}=this.props;this.mounted=!0,!(!e||!r)&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:r,canBegin:n,attributeName:i,shouldReAnimate:a,to:o,from:s}=this.props,{style:l}=this.state;if(n){if(!r){var c={style:i?{[i]:o}:o};this.state&&l&&(i&&l[i]!==o||!i&&l!==o)&&this.setState(c);return}if(!(vte(e.to,o)&&e.canBegin&&e.isActive)){var u=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var d=u||a?s:e.to;if(this.state&&l){var h={style:i?{[i]:d}:d};(i&&l[i]!==d||!i&&l!==d)&&this.setState(h)}this.runAnimation(Ua(Ua({},this.props),{},{from:d,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:r,to:n,duration:i,easing:a,begin:o,onAnimationEnd:s,onAnimationStart:l}=e,c=Sj(r,n,Ej(a),i,this.changeStyle,this.manager.getTimeoutController()),u=()=>{this.stopJSAnimation=c()};this.manager.start([l,o,u,i,s])}runAnimation(e){var{begin:r,duration:n,attributeName:i,to:a,easing:o,onAnimationStart:s,onAnimationEnd:l,children:c}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof o=="function"||typeof c=="function"||o==="spring"){this.runJSAnimation(e);return}var u=i?{[i]:a}:a,d=Ste(Object.keys(u),n,o);this.manager.start([s,r,Ua(Ua({},u),{},{transition:d}),n,l])}render(){var e=this.props,{children:r,begin:n,duration:i,attributeName:a,easing:o,isActive:s,from:l,to:c,canBegin:u,onAnimationEnd:d,shouldReAnimate:h,onAnimationReStart:p,animationManager:m}=e,g=jte(e,Lte),b=_.Children.count(r),w=this.state.style;if(typeof r=="function")return r(w);if(!s||b===0||i<=0)return r;var x=E=>{var{style:C={},className:I}=E.props,M=_.cloneElement(E,Ua(Ua({},g),{},{style:Ua(Ua({},C),w),className:I}));return M};return b===1?x(_.Children.only(r)):_.createElement("div",null,_.Children.map(r,E=>x(E)))}}ms(dE,"displayName","Animate");ms(dE,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function Fm(t){var e,r=Tj((e=t.attributeName)!==null&&e!==void 0?e:Object.keys(t.to).join(","),t.animationManager);return _.createElement(dE,zb({},t,{animationManager:r}))}function Um(){return Um=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Um.apply(null,arguments)}var VI=(t,e,r,n,i)=>{var a=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,s=r>=0?1:-1,l=n>=0&&r>=0||n<0&&r<0?1:0,c;if(a>0&&i instanceof Array){for(var u=[0,0,0,0],d=0,h=4;d<h;d++)u[d]=i[d]>a?a:i[d];c="M".concat(t,",").concat(e+o*u[0]),u[0]>0&&(c+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(l,",").concat(t+s*u[0],",").concat(e)),c+="L ".concat(t+r-s*u[1],",").concat(e),u[1]>0&&(c+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(l,`,
        `).concat(t+r,",").concat(e+o*u[1])),c+="L ".concat(t+r,",").concat(e+n-o*u[2]),u[2]>0&&(c+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(l,`,
        `).concat(t+r-s*u[2],",").concat(e+n)),c+="L ".concat(t+s*u[3],",").concat(e+n),u[3]>0&&(c+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(l,`,
        `).concat(t,",").concat(e+n-o*u[3])),c+="Z"}else if(a>0&&i===+i&&i>0){var p=Math.min(a,i);c="M ".concat(t,",").concat(e+o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(t+s*p,",").concat(e,`
            L `).concat(t+r-s*p,",").concat(e,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(t+r,",").concat(e+o*p,`
            L `).concat(t+r,",").concat(e+n-o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(t+r-s*p,",").concat(e+n,`
            L `).concat(t+s*p,",").concat(e+n,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(t,",").concat(e+n-o*p," Z")}else c="M ".concat(t,",").concat(e," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return c},Ute={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Aj=t=>{var e=Sn(t,Ute),r=_.useRef(null),[n,i]=_.useState(-1);_.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&i(w)}catch{}},[]);var{x:a,y:o,width:s,height:l,radius:c,className:u}=e,{animationEasing:d,animationDuration:h,animationBegin:p,isAnimationActive:m,isUpdateAnimationActive:g}=e;if(a!==+a||o!==+o||s!==+s||l!==+l||s===0||l===0)return null;var b=Me("recharts-rectangle",u);return g?_.createElement(Fm,{canBegin:n>0,from:{width:s,height:l,x:a,y:o},to:{width:s,height:l,x:a,y:o},duration:h,animationEasing:d,isActive:g},w=>{var{width:x,height:E,x:C,y:I}=w;return _.createElement(Fm,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:h,isActive:m,easing:d},_.createElement("path",Um({},ut(e,!0),{className:b,d:VI(C,I,x,E,c),ref:r})))}):_.createElement("path",Um({},ut(e,!0),{className:b,d:VI(a,o,s,l,c)}))};function Pj(t){var{cx:e,cy:r,radius:n,startAngle:i,endAngle:a}=t,o=$t(e,r,n,i),s=$t(e,r,n,a);return{points:[o,s],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function Wb(){return Wb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wb.apply(null,arguments)}var Bte=(t,e)=>{var r=rr(e-t),n=Math.min(Math.abs(e-t),359.999);return r*n},Jh=t=>{var{cx:e,cy:r,radius:n,angle:i,sign:a,isExternal:o,cornerRadius:s,cornerIsExternal:l}=t,c=s*(o?1:-1)+n,u=Math.asin(s/c)/jm,d=l?i:i+a*u,h=$t(e,r,c,d),p=$t(e,r,n,d),m=l?i-a*u:i,g=$t(e,r,c*Math.cos(u*jm),m);return{center:h,circleTangency:p,lineTangency:g,theta:u}},Ij=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:o}=t,s=Bte(a,o),l=a+s,c=$t(e,r,i,a),u=$t(e,r,i,l),d="M ".concat(c.x,",").concat(c.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(s)>180),",").concat(+(a>l),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(n>0){var h=$t(e,r,n,a),p=$t(e,r,n,l);d+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(s)>180),",").concat(+(a<=l),`,
            `).concat(h.x,",").concat(h.y," Z")}else d+="L ".concat(e,",").concat(r," Z");return d},zte=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:s,startAngle:l,endAngle:c}=t,u=rr(c-l),{circleTangency:d,lineTangency:h,theta:p}=Jh({cx:e,cy:r,radius:i,angle:l,sign:u,cornerRadius:a,cornerIsExternal:s}),{circleTangency:m,lineTangency:g,theta:b}=Jh({cx:e,cy:r,radius:i,angle:c,sign:-u,cornerRadius:a,cornerIsExternal:s}),w=s?Math.abs(l-c):Math.abs(l-c)-p-b;if(w<0)return o?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):Ij({cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:l,endAngle:c});var x="M ".concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(d.x,",").concat(d.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(w>180),",").concat(+(u<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(g.x,",").concat(g.y,`
  `);if(n>0){var{circleTangency:E,lineTangency:C,theta:I}=Jh({cx:e,cy:r,radius:n,angle:l,sign:u,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),{circleTangency:M,lineTangency:T,theta:S}=Jh({cx:e,cy:r,radius:n,angle:c,sign:-u,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),N=s?Math.abs(l-c):Math.abs(l-c)-I-S;if(N<0&&a===0)return"".concat(x,"L").concat(e,",").concat(r,"Z");x+="L".concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(N>180),",").concat(+(u>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(C.x,",").concat(C.y,"Z")}else x+="L".concat(e,",").concat(r,"Z");return x},Wte={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Cj=t=>{var e=Sn(t,Wte),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:u,className:d}=e;if(a<i||c===u)return null;var h=Me("recharts-sector",d),p=a-i,m=Fr(o,p,0,!0),g;return m>0&&Math.abs(c-u)<360?g=zte({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(m,p/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:u}):g=Ij({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u}),_.createElement("path",Wb({},ut(e,!0),{className:h,d:g}))};function qte(t,e,r){var n,i,a,o;if(t==="horizontal")n=e.x,a=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:s,cy:l,innerRadius:c,outerRadius:u,angle:d}=e,h=$t(s,l,c,d),p=$t(s,l,u,d);n=h.x,i=h.y,a=p.x,o=p.y}else return Pj(e);return[{x:n,y:i},{x:a,y:o}]}var Oj={},Nj={},Dj={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Xx;function r(n){return e.isSymbol(n)?NaN:Number(n)}t.toNumber=r})(Dj);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Dj;function r(n){return n?(n=e.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}t.toFinite=r})(Nj);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Jx,r=Nj;function n(i,a,o){o&&typeof o!="number"&&e.isIterateeCall(i,a,o)&&(a=o=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),o=o===void 0?i<a?1:-1:r.toFinite(o);const s=Math.max(Math.ceil((a-i)/(o||1)),0),l=new Array(s);for(let c=0;c<s;c++)l[c]=i,i+=o;return l}t.range=n})(Oj);var Kte=Oj.range;const Rj=bn(Kte);function bo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Hte(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function fE(t){let e,r,n;t.length!==2?(e=bo,r=(s,l)=>bo(t(s),l),n=(s,l)=>t(s)-l):(e=t===bo||t===Hte?t:Gte,r=t,n=t);function i(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;r(s[d],l)<0?c=d+1:u=d}while(c<u)}return c}function a(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;r(s[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function o(s,l,c=0,u=s.length){const d=i(s,l,c,u-1);return d>c&&n(s[d-1],l)>-n(s[d],l)?d-1:d}return{left:i,center:o,right:a}}function Gte(){return 0}function Mj(t){return t===null?NaN:+t}function*Yte(t,e){if(e===void 0)for(let r of t)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of t)(n=e(n,++r,t))!=null&&(n=+n)>=n&&(yield n)}}const Qte=fE(bo),Xte=Qte.right;fE(Mj).center;const Rf=Xte;class FI extends Map{constructor(e,r=ere){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(UI(this,e))}has(e){return super.has(UI(this,e))}set(e,r){return super.set(Jte(this,e),r)}delete(e){return super.delete(Zte(this,e))}}function UI({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Jte({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function Zte({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function ere(t){return t!==null&&typeof t=="object"?t.valueOf():t}function tre(t=bo){if(t===bo)return Lj;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function Lj(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const rre=Math.sqrt(50),nre=Math.sqrt(10),ire=Math.sqrt(2);function Bm(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=rre?10:a>=nre?5:a>=ire?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=r&&r<2?Bm(t,e,r*2):[s,l,c]}function qb(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?Bm(e,t,r):Bm(t,e,r);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(n)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}function Kb(t,e,r){return e=+e,t=+t,r=+r,Bm(t,e,r)[2]}function Hb(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?Kb(e,t,r):Kb(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function BI(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function zI(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function jj(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?Lj:tre(i);n>r;){if(n-r>600){const l=n-r+1,c=e-r+1,u=Math.log(l),d=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(e-c*d/l+h)),m=Math.min(n,Math.floor(e+(l-c)*d/l+h));jj(t,e,p,m,i)}const a=t[e];let o=r,s=n;for(Iu(t,r,e),i(t[n],a)>0&&Iu(t,r,n);o<s;){for(Iu(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[r],a)===0?Iu(t,r,s):(++s,Iu(t,s,n)),s<=e&&(r=s+1),e<=s&&(n=s-1)}return t}function Iu(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function are(t,e,r){if(t=Float64Array.from(Yte(t,r)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return zI(t);if(e>=1)return BI(t);var n,i=(n-1)*e,a=Math.floor(i),o=BI(jj(t,a).subarray(0,a+1)),s=zI(t.subarray(a+1));return o+(s-o)*(i-a)}}function ore(t,e,r=Mj){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),s=+r(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function sre(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function zn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Sa(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Gb=Symbol("implicit");function hE(){var t=new FI,e=[],r=[],n=Gb;function i(a){let o=t.get(a);if(o===void 0){if(n!==Gb)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new FI;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return hE(e,r).unknown(n)},zn.apply(i,arguments),i}function pE(){var t=hE().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,o,s=!1,l=0,c=0,u=.5;delete t.unknown;function d(){var h=e().length,p=i<n,m=p?i:n,g=p?n:i;a=(g-m)/Math.max(1,h-l+c*2),s&&(a=Math.floor(a)),m+=(g-m-a*(h-l))*u,o=a*(1-l),s&&(m=Math.round(m),o=Math.round(o));var b=sre(h).map(function(w){return m+a*w});return r(p?b.reverse():b)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,d()):[n,i]},t.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,s=!0,d()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(h){return arguments.length?(s=!!h,d()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),d()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},t.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),d()):u},t.copy=function(){return pE(e(),[n,i]).round(s).paddingInner(l).paddingOuter(c).align(u)},zn.apply(d(),arguments)}function $j(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return $j(e())},t}function lre(){return $j(pE.apply(null,arguments).paddingInner(1))}function mE(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function Vj(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Mf(){}var Jd=.7,zm=1/Jd,Xl="\\s*([+-]?\\d+)\\s*",Zd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ki="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cre=/^#([0-9a-f]{3,8})$/,ure=new RegExp(`^rgb\\(${Xl},${Xl},${Xl}\\)$`),dre=new RegExp(`^rgb\\(${ki},${ki},${ki}\\)$`),fre=new RegExp(`^rgba\\(${Xl},${Xl},${Xl},${Zd}\\)$`),hre=new RegExp(`^rgba\\(${ki},${ki},${ki},${Zd}\\)$`),pre=new RegExp(`^hsl\\(${Zd},${ki},${ki}\\)$`),mre=new RegExp(`^hsla\\(${Zd},${ki},${ki},${Zd}\\)$`),WI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};mE(Mf,ef,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:qI,formatHex:qI,formatHex8:gre,formatHsl:yre,formatRgb:KI,toString:KI});function qI(){return this.rgb().formatHex()}function gre(){return this.rgb().formatHex8()}function yre(){return Fj(this).formatHsl()}function KI(){return this.rgb().formatRgb()}function ef(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=cre.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?HI(e):r===3?new Yr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Zh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Zh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=ure.exec(t))?new Yr(e[1],e[2],e[3],1):(e=dre.exec(t))?new Yr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=fre.exec(t))?Zh(e[1],e[2],e[3],e[4]):(e=hre.exec(t))?Zh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=pre.exec(t))?QI(e[1],e[2]/100,e[3]/100,1):(e=mre.exec(t))?QI(e[1],e[2]/100,e[3]/100,e[4]):WI.hasOwnProperty(t)?HI(WI[t]):t==="transparent"?new Yr(NaN,NaN,NaN,0):null}function HI(t){return new Yr(t>>16&255,t>>8&255,t&255,1)}function Zh(t,e,r,n){return n<=0&&(t=e=r=NaN),new Yr(t,e,r,n)}function vre(t){return t instanceof Mf||(t=ef(t)),t?(t=t.rgb(),new Yr(t.r,t.g,t.b,t.opacity)):new Yr}function Yb(t,e,r,n){return arguments.length===1?vre(t):new Yr(t,e,r,n??1)}function Yr(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}mE(Yr,Yb,Vj(Mf,{brighter(t){return t=t==null?zm:Math.pow(zm,t),new Yr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Jd:Math.pow(Jd,t),new Yr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Yr(Ts(this.r),Ts(this.g),Ts(this.b),Wm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:GI,formatHex:GI,formatHex8:wre,formatRgb:YI,toString:YI}));function GI(){return`#${gs(this.r)}${gs(this.g)}${gs(this.b)}`}function wre(){return`#${gs(this.r)}${gs(this.g)}${gs(this.b)}${gs((isNaN(this.opacity)?1:this.opacity)*255)}`}function YI(){const t=Wm(this.opacity);return`${t===1?"rgb(":"rgba("}${Ts(this.r)}, ${Ts(this.g)}, ${Ts(this.b)}${t===1?")":`, ${t})`}`}function Wm(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ts(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function gs(t){return t=Ts(t),(t<16?"0":"")+t.toString(16)}function QI(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new ei(t,e,r,n)}function Fj(t){if(t instanceof ei)return new ei(t.h,t.s,t.l,t.opacity);if(t instanceof Mf||(t=ef(t)),!t)return new ei;if(t instanceof ei)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-e)/s+2:o=(e-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new ei(o,s,l,t.opacity)}function bre(t,e,r,n){return arguments.length===1?Fj(t):new ei(t,e,r,n??1)}function ei(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}mE(ei,bre,Vj(Mf,{brighter(t){return t=t==null?zm:Math.pow(zm,t),new ei(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Jd:Math.pow(Jd,t),new ei(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Yr(g0(t>=240?t-240:t+120,i,n),g0(t,i,n),g0(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new ei(XI(this.h),ep(this.s),ep(this.l),Wm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Wm(this.opacity);return`${t===1?"hsl(":"hsla("}${XI(this.h)}, ${ep(this.s)*100}%, ${ep(this.l)*100}%${t===1?")":`, ${t})`}`}}));function XI(t){return t=(t||0)%360,t<0?t+360:t}function ep(t){return Math.max(0,Math.min(1,t||0))}function g0(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const gE=t=>()=>t;function _re(t,e){return function(r){return t+r*e}}function xre(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Ere(t){return(t=+t)==1?Uj:function(e,r){return r-e?xre(e,r,t):gE(isNaN(e)?r:e)}}function Uj(t,e){var r=e-t;return r?_re(t,r):gE(isNaN(t)?e:t)}const JI=function t(e){var r=Ere(e);function n(i,a){var o=r((i=Yb(i)).r,(a=Yb(a)).r),s=r(i.g,a.g),l=r(i.b,a.b),c=Uj(i.opacity,a.opacity);return function(u){return i.r=o(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=t,n}(1);function kre(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function Sre(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Tre(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=$c(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function Are(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function qm(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Pre(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=$c(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Qb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,y0=new RegExp(Qb.source,"g");function Ire(t){return function(){return t}}function Cre(t){return function(e){return t(e)+""}}function Ore(t,e){var r=Qb.lastIndex=y0.lastIndex=0,n,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(n=Qb.exec(t))&&(i=y0.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:qm(n,i)})),r=y0.lastIndex;return r<e.length&&(a=e.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?Cre(l[0].x):Ire(e):(e=l.length,function(c){for(var u=0,d;u<e;++u)s[(d=l[u]).i]=d.x(c);return s.join("")})}function $c(t,e){var r=typeof e,n;return e==null||r==="boolean"?gE(e):(r==="number"?qm:r==="string"?(n=ef(e))?(e=n,JI):Ore:e instanceof ef?JI:e instanceof Date?Are:Sre(e)?kre:Array.isArray(e)?Tre:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Pre:qm)(t,e)}function yE(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Nre(t,e){e===void 0&&(e=t,t=$c);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function Dre(t){return function(){return t}}function Km(t){return+t}var ZI=[0,1];function jr(t){return t}function Xb(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Dre(isNaN(e)?NaN:.5)}function Rre(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Mre(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return i<n?(n=Xb(i,n),a=r(o,a)):(n=Xb(n,i),a=r(a,o)),function(s){return a(n(s))}}function Lre(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=Xb(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(s){var l=Rf(t,s,1,n)-1;return a[l](i[l](s))}}function Lf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ly(){var t=ZI,e=ZI,r=$c,n,i,a,o=jr,s,l,c;function u(){var h=Math.min(t.length,e.length);return o!==jr&&(o=Rre(t[0],t[h-1])),s=h>2?Lre:Mre,l=c=null,d}function d(h){return h==null||isNaN(h=+h)?a:(l||(l=s(t.map(n),e,r)))(n(o(h)))}return d.invert=function(h){return o(i((c||(c=s(e,t.map(n),qm)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,Km),u()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),u()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),r=yE,u()},d.clamp=function(h){return arguments.length?(o=h?!0:jr,u()):o!==jr},d.interpolate=function(h){return arguments.length?(r=h,u()):r},d.unknown=function(h){return arguments.length?(a=h,d):a},function(h,p){return n=h,i=p,u()}}function vE(){return Ly()(jr,jr)}function jre(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Hm(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function wc(t){return t=Hm(Math.abs(t)),t?t[1]:NaN}function $re(t,e){return function(r,n){for(var i=r.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Vre(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Fre=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function tf(t){if(!(e=Fre.exec(t)))throw new Error("invalid format: "+t);var e;return new wE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}tf.prototype=wE.prototype;function wE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}wE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ure(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var Bj;function Bre(t,e){var r=Hm(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(Bj=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Hm(t,Math.max(0,e+a-1))[0]}function eC(t,e){var r=Hm(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const tC={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:jre,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>eC(t*100,e),r:eC,s:Bre,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function rC(t){return t}var nC=Array.prototype.map,iC=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function zre(t){var e=t.grouping===void 0||t.thousands===void 0?rC:$re(nC.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?rC:Vre(nC.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(d){d=tf(d);var h=d.fill,p=d.align,m=d.sign,g=d.symbol,b=d.zero,w=d.width,x=d.comma,E=d.precision,C=d.trim,I=d.type;I==="n"?(x=!0,I="g"):tC[I]||(E===void 0&&(E=12),C=!0,I="g"),(b||h==="0"&&p==="=")&&(b=!0,h="0",p="=");var M=g==="$"?r:g==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",T=g==="$"?n:/[%p]/.test(I)?o:"",S=tC[I],N=/[defgprs%]/.test(I);E=E===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function L(D){var O=M,P=T,U,ee,G;if(I==="c")P=S(D)+P,D="";else{D=+D;var de=D<0||1/D<0;if(D=isNaN(D)?l:S(Math.abs(D),E),C&&(D=Ure(D)),de&&+D==0&&m!=="+"&&(de=!1),O=(de?m==="("?m:s:m==="-"||m==="("?"":m)+O,P=(I==="s"?iC[8+Bj/3]:"")+P+(de&&m==="("?")":""),N){for(U=-1,ee=D.length;++U<ee;)if(G=D.charCodeAt(U),48>G||G>57){P=(G===46?i+D.slice(U+1):D.slice(U))+P,D=D.slice(0,U);break}}}x&&!b&&(D=e(D,1/0));var W=O.length+D.length+P.length,X=W<w?new Array(w-W+1).join(h):"";switch(x&&b&&(D=e(X+D,X.length?w-P.length:1/0),X=""),p){case"<":D=O+D+P+X;break;case"=":D=O+X+D+P;break;case"^":D=X.slice(0,W=X.length>>1)+O+D+P+X.slice(W);break;default:D=X+O+D+P;break}return a(D)}return L.toString=function(){return d+""},L}function u(d,h){var p=c((d=tf(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(wc(h)/3)))*3,g=Math.pow(10,-m),b=iC[8+m/3];return function(w){return p(g*w)+b}}return{format:c,formatPrefix:u}}var tp,bE,zj;Wre({thousands:",",grouping:[3],currency:["$",""]});function Wre(t){return tp=zre(t),bE=tp.format,zj=tp.formatPrefix,tp}function qre(t){return Math.max(0,-wc(Math.abs(t)))}function Kre(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(wc(e)/3)))*3-wc(Math.abs(t)))}function Hre(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,wc(e)-wc(t))+1}function Wj(t,e,r,n){var i=Hb(t,e,r),a;switch(n=tf(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=Kre(i,o))&&(n.precision=a),zj(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=Hre(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=qre(i))&&(n.precision=a-(n.type==="%")*2);break}}return bE(n)}function zo(t){var e=t.domain;return t.ticks=function(r){var n=e();return qb(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return Wj(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,o=n[i],s=n[a],l,c,u=10;for(s<o&&(c=o,o=s,s=c,c=i,i=a,a=c);u-- >0;){if(c=Kb(o,s,r),c===l)return n[i]=o,n[a]=s,e(n);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return t},t}function qj(){var t=vE();return t.copy=function(){return Lf(t,qj())},zn.apply(t,arguments),zo(t)}function Kj(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Km),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return Kj(t).unknown(e)},t=arguments.length?Array.from(t,Km):[0,1],zo(r)}function Hj(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),t[r]=e.floor(i),t[n]=e.ceil(a),t}function aC(t){return Math.log(t)}function oC(t){return Math.exp(t)}function Gre(t){return-Math.log(-t)}function Yre(t){return-Math.exp(-t)}function Qre(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Xre(t){return t===10?Qre:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Jre(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function sC(t){return(e,r)=>-t(-e,r)}function _E(t){const e=t(aC,oC),r=e.domain;let n=10,i,a;function o(){return i=Jre(n),a=Xre(n),r()[0]<0?(i=sC(i),a=sC(a),t(Gre,Yre)):t(aC,oC),e}return e.base=function(s){return arguments.length?(n=+s,o()):n},e.domain=function(s){return arguments.length?(r(s),o()):r()},e.ticks=s=>{const l=r();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let h=i(c),p=i(u),m,g;const b=s==null?10:+s;let w=[];if(!(n%1)&&p-h<b){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(m=1;m<n;++m)if(g=h<0?m/a(-h):m*a(h),!(g<c)){if(g>u)break;w.push(g)}}else for(;h<=p;++h)for(m=n-1;m>=1;--m)if(g=h>0?m/a(-h):m*a(h),!(g<c)){if(g>u)break;w.push(g)}w.length*2<b&&(w=qb(c,u,b))}else w=qb(h,p,Math.min(p-h,b)).map(a);return d?w.reverse():w},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=tf(l)).precision==null&&(l.trim=!0),l=bE(l)),s===1/0)return l;const c=Math.max(1,n*s/e.ticks().length);return u=>{let d=u/a(Math.round(i(u)));return d*n<n-.5&&(d*=n),d<=c?l(u):""}},e.nice=()=>r(Hj(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function Gj(){const t=_E(Ly()).domain([1,10]);return t.copy=()=>Lf(t,Gj()).base(t.base()),zn.apply(t,arguments),t}function lC(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function cC(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function xE(t){var e=1,r=t(lC(e),cC(e));return r.constant=function(n){return arguments.length?t(lC(e=+n),cC(e)):e},zo(r)}function Yj(){var t=xE(Ly());return t.copy=function(){return Lf(t,Yj()).constant(t.constant())},zn.apply(t,arguments)}function uC(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Zre(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function ene(t){return t<0?-t*t:t*t}function EE(t){var e=t(jr,jr),r=1;function n(){return r===1?t(jr,jr):r===.5?t(Zre,ene):t(uC(r),uC(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},zo(e)}function kE(){var t=EE(Ly());return t.copy=function(){return Lf(t,kE()).exponent(t.exponent())},zn.apply(t,arguments),t}function tne(){return kE.apply(null,arguments).exponent(.5)}function dC(t){return Math.sign(t)*t*t}function rne(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Qj(){var t=vE(),e=[0,1],r=!1,n;function i(a){var o=rne(t(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return t.invert(dC(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Km)).map(dC)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Qj(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},zn.apply(i,arguments),zo(i)}function Xj(){var t=[],e=[],r=[],n;function i(){var o=0,s=Math.max(1,e.length);for(r=new Array(s-1);++o<s;)r[o-1]=ore(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:e[Rf(r,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:t[0],s<r.length?r[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(bo),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return Xj().domain(t).range(e).unknown(n)},zn.apply(a,arguments)}function Jj(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[Rf(n,l,0,r)]:a}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,n[0]]:c>=r?[n[r-1],e]:[n[c-1],n[c]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return Jj().domain([t,e]).range(i).unknown(a)},zn.apply(zo(o),arguments)}function Zj(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[Rf(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Zj().domain(t).range(e).unknown(r)},zn.apply(i,arguments)}const v0=new Date,w0=new Date;function qt(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let c;do l.push(c=new Date(+a)),e(a,s),t(a);while(c<a&&a<o);return l},i.filter=a=>qt(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),r&&(i.count=(a,o)=>(v0.setTime(+a),w0.setTime(+o),t(v0),t(w0),Math.floor(r(v0,w0))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Gm=qt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Gm.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?qt(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Gm);Gm.range;const Qi=1e3,Ln=Qi*60,Xi=Ln*60,ma=Xi*24,SE=ma*7,fC=ma*30,b0=ma*365,ys=qt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Qi)},(t,e)=>(e-t)/Qi,t=>t.getUTCSeconds());ys.range;const TE=qt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Qi)},(t,e)=>{t.setTime(+t+e*Ln)},(t,e)=>(e-t)/Ln,t=>t.getMinutes());TE.range;const AE=qt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ln)},(t,e)=>(e-t)/Ln,t=>t.getUTCMinutes());AE.range;const PE=qt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Qi-t.getMinutes()*Ln)},(t,e)=>{t.setTime(+t+e*Xi)},(t,e)=>(e-t)/Xi,t=>t.getHours());PE.range;const IE=qt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Xi)},(t,e)=>(e-t)/Xi,t=>t.getUTCHours());IE.range;const jf=qt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ln)/ma,t=>t.getDate()-1);jf.range;const jy=qt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ma,t=>t.getUTCDate()-1);jy.range;const e$=qt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ma,t=>Math.floor(t/ma));e$.range;function nl(t){return qt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Ln)/SE)}const $y=nl(0),Ym=nl(1),nne=nl(2),ine=nl(3),bc=nl(4),ane=nl(5),one=nl(6);$y.range;Ym.range;nne.range;ine.range;bc.range;ane.range;one.range;function il(t){return qt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/SE)}const Vy=il(0),Qm=il(1),sne=il(2),lne=il(3),_c=il(4),cne=il(5),une=il(6);Vy.range;Qm.range;sne.range;lne.range;_c.range;cne.range;une.range;const CE=qt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());CE.range;const OE=qt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());OE.range;const ga=qt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ga.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:qt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});ga.range;const ya=qt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ya.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:qt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});ya.range;function t$(t,e,r,n,i,a){const o=[[ys,1,Qi],[ys,5,5*Qi],[ys,15,15*Qi],[ys,30,30*Qi],[a,1,Ln],[a,5,5*Ln],[a,15,15*Ln],[a,30,30*Ln],[i,1,Xi],[i,3,3*Xi],[i,6,6*Xi],[i,12,12*Xi],[n,1,ma],[n,2,2*ma],[r,1,SE],[e,1,fC],[e,3,3*fC],[t,1,b0]];function s(c,u,d){const h=u<c;h&&([c,u]=[u,c]);const p=d&&typeof d.range=="function"?d:l(c,u,d),m=p?p.range(c,+u+1):[];return h?m.reverse():m}function l(c,u,d){const h=Math.abs(u-c)/d,p=fE(([,,b])=>b).right(o,h);if(p===o.length)return t.every(Hb(c/b0,u/b0,d));if(p===0)return Gm.every(Math.max(Hb(c,u,d),1));const[m,g]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return m.every(g)}return[s,l]}const[dne,fne]=t$(ya,OE,Vy,e$,IE,AE),[hne,pne]=t$(ga,CE,$y,jf,PE,TE);function _0(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function x0(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Cu(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function mne(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,c=Ou(i),u=Nu(i),d=Ou(a),h=Nu(a),p=Ou(o),m=Nu(o),g=Ou(s),b=Nu(s),w=Ou(l),x=Nu(l),E={a:de,A:W,b:X,B:Q,c:null,d:vC,e:vC,f:$ne,g:Gne,G:Qne,H:Mne,I:Lne,j:jne,L:r$,m:Vne,M:Fne,p:ce,q:Y,Q:_C,s:xC,S:Une,u:Bne,U:zne,V:Wne,w:qne,W:Kne,x:null,X:null,y:Hne,Y:Yne,Z:Xne,"%":bC},C={a:he,A:Nt,b:qe,B:Gt,c:null,d:wC,e:wC,f:tie,g:die,G:hie,H:Jne,I:Zne,j:eie,L:i$,m:rie,M:nie,p:Tt,q:en,Q:_C,s:xC,S:iie,u:aie,U:oie,V:sie,w:lie,W:cie,x:null,X:null,y:uie,Y:fie,Z:pie,"%":bC},I={a:L,A:D,b:O,B:P,c:U,d:gC,e:gC,f:One,g:mC,G:pC,H:yC,I:yC,j:Ane,L:Cne,m:Tne,M:Pne,p:N,q:Sne,Q:Dne,s:Rne,S:Ine,u:bne,U:_ne,V:xne,w:wne,W:Ene,x:ee,X:G,y:mC,Y:pC,Z:kne,"%":Nne};E.x=M(r,E),E.X=M(n,E),E.c=M(e,E),C.x=M(r,C),C.X=M(n,C),C.c=M(e,C);function M(Z,me){return function(ye){var q=[],Qe=-1,fe=0,et=Z.length,je,or,Ii;for(ye instanceof Date||(ye=new Date(+ye));++Qe<et;)Z.charCodeAt(Qe)===37&&(q.push(Z.slice(fe,Qe)),(or=hC[je=Z.charAt(++Qe)])!=null?je=Z.charAt(++Qe):or=je==="e"?" ":"0",(Ii=me[je])&&(je=Ii(ye,or)),q.push(je),fe=Qe+1);return q.push(Z.slice(fe,Qe)),q.join("")}}function T(Z,me){return function(ye){var q=Cu(1900,void 0,1),Qe=S(q,Z,ye+="",0),fe,et;if(Qe!=ye.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(me&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(fe=x0(Cu(q.y,0,1)),et=fe.getUTCDay(),fe=et>4||et===0?Qm.ceil(fe):Qm(fe),fe=jy.offset(fe,(q.V-1)*7),q.y=fe.getUTCFullYear(),q.m=fe.getUTCMonth(),q.d=fe.getUTCDate()+(q.w+6)%7):(fe=_0(Cu(q.y,0,1)),et=fe.getDay(),fe=et>4||et===0?Ym.ceil(fe):Ym(fe),fe=jf.offset(fe,(q.V-1)*7),q.y=fe.getFullYear(),q.m=fe.getMonth(),q.d=fe.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),et="Z"in q?x0(Cu(q.y,0,1)).getUTCDay():_0(Cu(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(et+5)%7:q.w+q.U*7-(et+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,x0(q)):_0(q)}}function S(Z,me,ye,q){for(var Qe=0,fe=me.length,et=ye.length,je,or;Qe<fe;){if(q>=et)return-1;if(je=me.charCodeAt(Qe++),je===37){if(je=me.charAt(Qe++),or=I[je in hC?me.charAt(Qe++):je],!or||(q=or(Z,ye,q))<0)return-1}else if(je!=ye.charCodeAt(q++))return-1}return q}function N(Z,me,ye){var q=c.exec(me.slice(ye));return q?(Z.p=u.get(q[0].toLowerCase()),ye+q[0].length):-1}function L(Z,me,ye){var q=p.exec(me.slice(ye));return q?(Z.w=m.get(q[0].toLowerCase()),ye+q[0].length):-1}function D(Z,me,ye){var q=d.exec(me.slice(ye));return q?(Z.w=h.get(q[0].toLowerCase()),ye+q[0].length):-1}function O(Z,me,ye){var q=w.exec(me.slice(ye));return q?(Z.m=x.get(q[0].toLowerCase()),ye+q[0].length):-1}function P(Z,me,ye){var q=g.exec(me.slice(ye));return q?(Z.m=b.get(q[0].toLowerCase()),ye+q[0].length):-1}function U(Z,me,ye){return S(Z,e,me,ye)}function ee(Z,me,ye){return S(Z,r,me,ye)}function G(Z,me,ye){return S(Z,n,me,ye)}function de(Z){return o[Z.getDay()]}function W(Z){return a[Z.getDay()]}function X(Z){return l[Z.getMonth()]}function Q(Z){return s[Z.getMonth()]}function ce(Z){return i[+(Z.getHours()>=12)]}function Y(Z){return 1+~~(Z.getMonth()/3)}function he(Z){return o[Z.getUTCDay()]}function Nt(Z){return a[Z.getUTCDay()]}function qe(Z){return l[Z.getUTCMonth()]}function Gt(Z){return s[Z.getUTCMonth()]}function Tt(Z){return i[+(Z.getUTCHours()>=12)]}function en(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var me=M(Z+="",E);return me.toString=function(){return Z},me},parse:function(Z){var me=T(Z+="",!1);return me.toString=function(){return Z},me},utcFormat:function(Z){var me=M(Z+="",C);return me.toString=function(){return Z},me},utcParse:function(Z){var me=T(Z+="",!0);return me.toString=function(){return Z},me}}}var hC={"-":"",_:" ",0:"0"},ar=/^\s*\d+/,gne=/^%/,yne=/[\\^$*+?|[\]().{}]/g;function Le(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function vne(t){return t.replace(yne,"\\$&")}function Ou(t){return new RegExp("^(?:"+t.map(vne).join("|")+")","i")}function Nu(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function wne(t,e,r){var n=ar.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function bne(t,e,r){var n=ar.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function _ne(t,e,r){var n=ar.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function xne(t,e,r){var n=ar.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function Ene(t,e,r){var n=ar.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function pC(t,e,r){var n=ar.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function mC(t,e,r){var n=ar.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function kne(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Sne(t,e,r){var n=ar.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function Tne(t,e,r){var n=ar.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function gC(t,e,r){var n=ar.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function Ane(t,e,r){var n=ar.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function yC(t,e,r){var n=ar.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Pne(t,e,r){var n=ar.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function Ine(t,e,r){var n=ar.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function Cne(t,e,r){var n=ar.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function One(t,e,r){var n=ar.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Nne(t,e,r){var n=gne.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function Dne(t,e,r){var n=ar.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function Rne(t,e,r){var n=ar.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function vC(t,e){return Le(t.getDate(),e,2)}function Mne(t,e){return Le(t.getHours(),e,2)}function Lne(t,e){return Le(t.getHours()%12||12,e,2)}function jne(t,e){return Le(1+jf.count(ga(t),t),e,3)}function r$(t,e){return Le(t.getMilliseconds(),e,3)}function $ne(t,e){return r$(t,e)+"000"}function Vne(t,e){return Le(t.getMonth()+1,e,2)}function Fne(t,e){return Le(t.getMinutes(),e,2)}function Une(t,e){return Le(t.getSeconds(),e,2)}function Bne(t){var e=t.getDay();return e===0?7:e}function zne(t,e){return Le($y.count(ga(t)-1,t),e,2)}function n$(t){var e=t.getDay();return e>=4||e===0?bc(t):bc.ceil(t)}function Wne(t,e){return t=n$(t),Le(bc.count(ga(t),t)+(ga(t).getDay()===4),e,2)}function qne(t){return t.getDay()}function Kne(t,e){return Le(Ym.count(ga(t)-1,t),e,2)}function Hne(t,e){return Le(t.getFullYear()%100,e,2)}function Gne(t,e){return t=n$(t),Le(t.getFullYear()%100,e,2)}function Yne(t,e){return Le(t.getFullYear()%1e4,e,4)}function Qne(t,e){var r=t.getDay();return t=r>=4||r===0?bc(t):bc.ceil(t),Le(t.getFullYear()%1e4,e,4)}function Xne(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Le(e/60|0,"0",2)+Le(e%60,"0",2)}function wC(t,e){return Le(t.getUTCDate(),e,2)}function Jne(t,e){return Le(t.getUTCHours(),e,2)}function Zne(t,e){return Le(t.getUTCHours()%12||12,e,2)}function eie(t,e){return Le(1+jy.count(ya(t),t),e,3)}function i$(t,e){return Le(t.getUTCMilliseconds(),e,3)}function tie(t,e){return i$(t,e)+"000"}function rie(t,e){return Le(t.getUTCMonth()+1,e,2)}function nie(t,e){return Le(t.getUTCMinutes(),e,2)}function iie(t,e){return Le(t.getUTCSeconds(),e,2)}function aie(t){var e=t.getUTCDay();return e===0?7:e}function oie(t,e){return Le(Vy.count(ya(t)-1,t),e,2)}function a$(t){var e=t.getUTCDay();return e>=4||e===0?_c(t):_c.ceil(t)}function sie(t,e){return t=a$(t),Le(_c.count(ya(t),t)+(ya(t).getUTCDay()===4),e,2)}function lie(t){return t.getUTCDay()}function cie(t,e){return Le(Qm.count(ya(t)-1,t),e,2)}function uie(t,e){return Le(t.getUTCFullYear()%100,e,2)}function die(t,e){return t=a$(t),Le(t.getUTCFullYear()%100,e,2)}function fie(t,e){return Le(t.getUTCFullYear()%1e4,e,4)}function hie(t,e){var r=t.getUTCDay();return t=r>=4||r===0?_c(t):_c.ceil(t),Le(t.getUTCFullYear()%1e4,e,4)}function pie(){return"+0000"}function bC(){return"%"}function _C(t){return+t}function xC(t){return Math.floor(+t/1e3)}var ml,o$,s$;mie({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function mie(t){return ml=mne(t),o$=ml.format,ml.parse,s$=ml.utcFormat,ml.utcParse,ml}function gie(t){return new Date(t)}function yie(t){return t instanceof Date?+t:+new Date(+t)}function NE(t,e,r,n,i,a,o,s,l,c){var u=vE(),d=u.invert,h=u.domain,p=c(".%L"),m=c(":%S"),g=c("%I:%M"),b=c("%I %p"),w=c("%a %d"),x=c("%b %d"),E=c("%B"),C=c("%Y");function I(M){return(l(M)<M?p:s(M)<M?m:o(M)<M?g:a(M)<M?b:n(M)<M?i(M)<M?w:x:r(M)<M?E:C)(M)}return u.invert=function(M){return new Date(d(M))},u.domain=function(M){return arguments.length?h(Array.from(M,yie)):h().map(gie)},u.ticks=function(M){var T=h();return t(T[0],T[T.length-1],M??10)},u.tickFormat=function(M,T){return T==null?I:c(T)},u.nice=function(M){var T=h();return(!M||typeof M.range!="function")&&(M=e(T[0],T[T.length-1],M??10)),M?h(Hj(T,M)):u},u.copy=function(){return Lf(u,NE(t,e,r,n,i,a,o,s,l,c))},u}function vie(){return zn.apply(NE(hne,pne,ga,CE,$y,jf,PE,TE,ys,o$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function wie(){return zn.apply(NE(dne,fne,ya,OE,Vy,jy,IE,AE,ys,s$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Fy(){var t=0,e=1,r,n,i,a,o=jr,s=!1,l;function c(d){return d==null||isNaN(d=+d)?l:o(i===0?.5:(d=(a(d)-r)*i,s?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([t,e]=d,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),c):[t,e]},c.clamp=function(d){return arguments.length?(s=!!d,c):s},c.interpolator=function(d){return arguments.length?(o=d,c):o};function u(d){return function(h){var p,m;return arguments.length?([p,m]=h,o=d(p,m),c):[o(0),o(1)]}}return c.range=u($c),c.rangeRound=u(yE),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return a=d,r=d(t),n=d(e),i=r===n?0:1/(n-r),c}}function Wo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function l$(){var t=zo(Fy()(jr));return t.copy=function(){return Wo(t,l$())},Sa.apply(t,arguments)}function c$(){var t=_E(Fy()).domain([1,10]);return t.copy=function(){return Wo(t,c$()).base(t.base())},Sa.apply(t,arguments)}function u$(){var t=xE(Fy());return t.copy=function(){return Wo(t,u$()).constant(t.constant())},Sa.apply(t,arguments)}function DE(){var t=EE(Fy());return t.copy=function(){return Wo(t,DE()).exponent(t.exponent())},Sa.apply(t,arguments)}function bie(){return DE.apply(null,arguments).exponent(.5)}function d$(){var t=[],e=jr;function r(n){if(n!=null&&!isNaN(n=+n))return e((Rf(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(bo),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>are(t,a/n))},r.copy=function(){return d$(e).domain(t)},Sa.apply(r,arguments)}function Uy(){var t=0,e=.5,r=1,n=1,i,a,o,s,l,c=jr,u,d=!1,h;function p(g){return isNaN(g=+g)?h:(g=.5+((g=+u(g))-a)*(n*g<n*a?s:l),c(d?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,r]=g,i=u(t=+t),a=u(e=+e),o=u(r=+r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,p):[t,e,r]},p.clamp=function(g){return arguments.length?(d=!!g,p):d},p.interpolator=function(g){return arguments.length?(c=g,p):c};function m(g){return function(b){var w,x,E;return arguments.length?([w,x,E]=b,c=Nre(g,[w,x,E]),p):[c(0),c(.5),c(1)]}}return p.range=m($c),p.rangeRound=m(yE),p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return u=g,i=g(t),a=g(e),o=g(r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,p}}function f$(){var t=zo(Uy()(jr));return t.copy=function(){return Wo(t,f$())},Sa.apply(t,arguments)}function h$(){var t=_E(Uy()).domain([.1,1,10]);return t.copy=function(){return Wo(t,h$()).base(t.base())},Sa.apply(t,arguments)}function p$(){var t=xE(Uy());return t.copy=function(){return Wo(t,p$()).constant(t.constant())},Sa.apply(t,arguments)}function RE(){var t=EE(Uy());return t.copy=function(){return Wo(t,RE()).exponent(t.exponent())},Sa.apply(t,arguments)}function _ie(){return RE.apply(null,arguments).exponent(.5)}const Hu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:pE,scaleDiverging:f$,scaleDivergingLog:h$,scaleDivergingPow:RE,scaleDivergingSqrt:_ie,scaleDivergingSymlog:p$,scaleIdentity:Kj,scaleImplicit:Gb,scaleLinear:qj,scaleLog:Gj,scaleOrdinal:hE,scalePoint:lre,scalePow:kE,scaleQuantile:Xj,scaleQuantize:Jj,scaleRadial:Qj,scaleSequential:l$,scaleSequentialLog:c$,scaleSequentialPow:DE,scaleSequentialQuantile:d$,scaleSequentialSqrt:bie,scaleSequentialSymlog:u$,scaleSqrt:tne,scaleSymlog:Yj,scaleThreshold:Zj,scaleTime:vie,scaleUtc:wie,tickFormat:Wj},Symbol.toStringTag,{value:"Module"}));var qo=t=>t.chartData,ME=$([qo],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),By=(t,e,r,n)=>n?ME(t):qo(t);function xc(t){if(Array.isArray(t)&&t.length===2){var[e,r]=t;if(wn(e)&&wn(r))return!0}return!1}function EC(t,e,r){return r?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function xie(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[r,n]=t,i,a;if(wn(r))i=r;else if(typeof r=="function")return;if(wn(n))a=n;else if(typeof n=="function")return;var o=[i,a];if(xc(o))return o}}function Eie(t,e,r){if(!(!r&&e==null)){if(typeof t=="function"&&e!=null)try{var n=t(e,r);if(xc(n))return EC(n,e,r)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,o,s;if(i==="auto")e!=null&&(o=Math.min(...e));else if(te(i))o=i;else if(typeof i=="function")try{e!=null&&(o=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&wI.test(i)){var l=wI.exec(i);if(l==null||e==null)o=void 0;else{var c=+l[1];o=e[0]-c}}else o=e==null?void 0:e[0];if(a==="auto")e!=null&&(s=Math.max(...e));else if(te(a))s=a;else if(typeof a=="function")try{e!=null&&(s=a(e==null?void 0:e[1]))}catch{}else if(typeof a=="string"&&bI.test(a)){var u=bI.exec(a);if(u==null||e==null)s=void 0;else{var d=+u[1];s=e[1]+d}}else s=e==null?void 0:e[1];var h=[o,s];if(xc(h))return e==null?h:EC(h,e,r)}}}var Vc=1e9,kie={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},jE,dt=!0,Bn="[DecimalError] ",As=Bn+"Invalid argument: ",LE=Bn+"Exponent out of range: ",Fc=Math.floor,os=Math.pow,Sie=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,cn,er=1e7,it=7,m$=9007199254740991,Xm=Fc(m$/it),ie={};ie.absoluteValue=ie.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ie.comparedTo=ie.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};ie.decimalPlaces=ie.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*it;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};ie.dividedBy=ie.div=function(t){return na(this,new this.constructor(t))};ie.dividedToIntegerBy=ie.idiv=function(t){var e=this,r=e.constructor;return Ye(na(e,new r(t),0,1),r.precision)};ie.equals=ie.eq=function(t){return!this.cmp(t)};ie.exponent=function(){return Vt(this)};ie.greaterThan=ie.gt=function(t){return this.cmp(t)>0};ie.greaterThanOrEqualTo=ie.gte=function(t){return this.cmp(t)>=0};ie.isInteger=ie.isint=function(){return this.e>this.d.length-2};ie.isNegative=ie.isneg=function(){return this.s<0};ie.isPositive=ie.ispos=function(){return this.s>0};ie.isZero=function(){return this.s===0};ie.lessThan=ie.lt=function(t){return this.cmp(t)<0};ie.lessThanOrEqualTo=ie.lte=function(t){return this.cmp(t)<1};ie.logarithm=ie.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(cn))throw Error(Bn+"NaN");if(r.s<1)throw Error(Bn+(r.s?"NaN":"-Infinity"));return r.eq(cn)?new n(0):(dt=!1,e=na(rf(r,a),rf(t,a),a),dt=!0,Ye(e,i))};ie.minus=ie.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?v$(e,t):g$(e,(t.s=-t.s,t))};ie.modulo=ie.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Bn+"NaN");return r.s?(dt=!1,e=na(r,t,0,1).times(t),dt=!0,r.minus(e)):Ye(new n(r),i)};ie.naturalExponential=ie.exp=function(){return y$(this)};ie.naturalLogarithm=ie.ln=function(){return rf(this)};ie.negated=ie.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ie.plus=ie.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?g$(e,t):v$(e,(t.s=-t.s,t))};ie.precision=ie.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(As+t);if(e=Vt(i)+1,n=i.d.length-1,r=n*it+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};ie.squareRoot=ie.sqrt=function(){var t,e,r,n,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Bn+"NaN")}for(t=Vt(s),dt=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=gi(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Fc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=o=r+3;;)if(a=n,n=a.plus(na(s,a,o+2)).times(.5),gi(a.d).slice(0,o)===(e=gi(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Ye(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(e!="9999")break;o+=4}return dt=!0,Ye(n,r)};ie.times=ie.mul=function(t){var e,r,n,i,a,o,s,l,c,u=this,d=u.constructor,h=u.d,p=(t=new d(t)).d;if(!u.s||!t.s)return new d(0);for(t.s*=u.s,r=u.e+t.e,l=h.length,c=p.length,l<c&&(a=h,h=p,p=a,o=l,l=c,c=o),a=[],o=l+c,n=o;n--;)a.push(0);for(n=c;--n>=0;){for(e=0,i=l+n;i>n;)s=a[i]+p[n]*h[i-n-1]+e,a[i--]=s%er|0,e=s/er|0;a[i]=(a[i]+e)%er|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,dt?Ye(t,d.precision):t};ie.toDecimalPlaces=ie.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Ai(t,0,Vc),e===void 0?e=n.rounding:Ai(e,0,8),Ye(r,t+Vt(r)+1,e))};ie.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Bs(n,!0):(Ai(t,0,Vc),e===void 0?e=i.rounding:Ai(e,0,8),n=Ye(new i(n),t+1,e),r=Bs(n,!0,t+1)),r};ie.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?Bs(i):(Ai(t,0,Vc),e===void 0?e=a.rounding:Ai(e,0,8),n=Ye(new a(i),t+Vt(i)+1,e),r=Bs(n.abs(),!1,t+Vt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ie.toInteger=ie.toint=function(){var t=this,e=t.constructor;return Ye(new e(t),Vt(t)+1,e.rounding)};ie.toNumber=function(){return+this};ie.toPower=ie.pow=function(t){var e,r,n,i,a,o,s=this,l=s.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(cn);if(s=new l(s),!s.s){if(t.s<1)throw Error(Bn+"Infinity");return s}if(s.eq(cn))return s;if(n=l.precision,t.eq(cn))return Ye(s,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=s.s,o){if((r=u<0?-u:u)<=m$){for(i=new l(cn),e=Math.ceil(n/it+4),dt=!1;r%2&&(i=i.times(s),SC(i.d,e)),r=Fc(r/2),r!==0;)s=s.times(s),SC(s.d,e);return dt=!0,t.s<0?new l(cn).div(i):Ye(i,n)}}else if(a<0)throw Error(Bn+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,s.s=1,dt=!1,i=t.times(rf(s,n+c)),dt=!0,i=y$(i),i.s=a,i};ie.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=Vt(i),n=Bs(i,r<=a.toExpNeg||r>=a.toExpPos)):(Ai(t,1,Vc),e===void 0?e=a.rounding:Ai(e,0,8),i=Ye(new a(i),t,e),r=Vt(i),n=Bs(i,t<=r||r<=a.toExpNeg,t)),n};ie.toSignificantDigits=ie.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Ai(t,1,Vc),e===void 0?e=n.rounding:Ai(e,0,8)),Ye(new n(r),t,e)};ie.toString=ie.valueOf=ie.val=ie.toJSON=ie[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Vt(t),r=t.constructor;return Bs(t,e<=r.toExpNeg||e>=r.toExpPos)};function g$(t,e){var r,n,i,a,o,s,l,c,u=t.constructor,d=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),dt?Ye(e,d):e;if(l=t.d,c=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(n=l,a=-a,s=c.length):(n=c,i=o,s=l.length),o=Math.ceil(d/it),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=l.length,a=c.length,s-a<0&&(a=s,n=c,c=l,l=n),r=0;a;)r=(l[--a]=l[a]+c[a]+r)/er|0,l[a]%=er;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,dt?Ye(e,d):e}function Ai(t,e,r){if(t!==~~t||t<e||t>r)throw Error(As+t)}function gi(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=it-n.length,r&&(a+=Ha(r)),a+=n;o=t[e],n=o+"",r=it-n.length,r&&(a+=Ha(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var na=function(){function t(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%er|0,o=a/er|0;return o&&n.unshift(o),n}function e(n,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*er+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,l,c,u,d,h,p,m,g,b,w,x,E,C,I,M,T,S,N=n.constructor,L=n.s==i.s?1:-1,D=n.d,O=i.d;if(!n.s)return new N(n);if(!i.s)throw Error(Bn+"Division by zero");for(l=n.e-i.e,T=O.length,I=D.length,p=new N(L),m=p.d=[],c=0;O[c]==(D[c]||0);)++c;if(O[c]>(D[c]||0)&&--l,a==null?x=a=N.precision:o?x=a+(Vt(n)-Vt(i))+1:x=a,x<0)return new N(0);if(x=x/it+2|0,c=0,T==1)for(u=0,O=O[0],x++;(c<I||u)&&x--;c++)E=u*er+(D[c]||0),m[c]=E/O|0,u=E%O|0;else{for(u=er/(O[0]+1)|0,u>1&&(O=t(O,u),D=t(D,u),T=O.length,I=D.length),C=T,g=D.slice(0,T),b=g.length;b<T;)g[b++]=0;S=O.slice(),S.unshift(0),M=O[0],O[1]>=er/2&&++M;do u=0,s=e(O,g,T,b),s<0?(w=g[0],T!=b&&(w=w*er+(g[1]||0)),u=w/M|0,u>1?(u>=er&&(u=er-1),d=t(O,u),h=d.length,b=g.length,s=e(d,g,h,b),s==1&&(u--,r(d,T<h?S:O,h))):(u==0&&(s=u=1),d=O.slice()),h=d.length,h<b&&d.unshift(0),r(g,d,b),s==-1&&(b=g.length,s=e(O,g,T,b),s<1&&(u++,r(g,T<b?S:O,b))),b=g.length):s===0&&(u++,g=[0]),m[c++]=u,s&&g[0]?g[b++]=D[C]||0:(g=[D[C]],b=1);while((C++<I||g[0]!==void 0)&&x--)}return m[0]||m.shift(),p.e=l,Ye(p,o?a+Vt(p)+1:a)}}();function y$(t,e){var r,n,i,a,o,s,l=0,c=0,u=t.constructor,d=u.precision;if(Vt(t)>16)throw Error(LE+Vt(t));if(!t.s)return new u(cn);for(e==null?(dt=!1,s=d):s=e,o=new u(.03125);t.abs().gte(.1);)t=t.times(o),c+=5;for(n=Math.log(os(2,c))/Math.LN10*2+5|0,s+=n,r=i=a=new u(cn),u.precision=s;;){if(i=Ye(i.times(t),s),r=r.times(++l),o=a.plus(na(i,r,s)),gi(o.d).slice(0,s)===gi(a.d).slice(0,s)){for(;c--;)a=Ye(a.times(a),s);return u.precision=d,e==null?(dt=!0,Ye(a,d)):a}a=o}}function Vt(t){for(var e=t.e*it,r=t.d[0];r>=10;r/=10)e++;return e}function E0(t,e,r){if(e>t.LN10.sd())throw dt=!0,r&&(t.precision=r),Error(Bn+"LN10 precision limit exceeded");return Ye(new t(t.LN10),e)}function Ha(t){for(var e="";t--;)e+="0";return e}function rf(t,e){var r,n,i,a,o,s,l,c,u,d=1,h=10,p=t,m=p.d,g=p.constructor,b=g.precision;if(p.s<1)throw Error(Bn+(p.s?"NaN":"-Infinity"));if(p.eq(cn))return new g(0);if(e==null?(dt=!1,c=b):c=e,p.eq(10))return e==null&&(dt=!0),E0(g,c);if(c+=h,g.precision=c,r=gi(m),n=r.charAt(0),a=Vt(p),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=gi(p.d),n=r.charAt(0),d++;a=Vt(p),n>1?(p=new g("0."+r),a++):p=new g(n+"."+r.slice(1))}else return l=E0(g,c+2,b).times(a+""),p=rf(new g(n+"."+r.slice(1)),c-h).plus(l),g.precision=b,e==null?(dt=!0,Ye(p,b)):p;for(s=o=p=na(p.minus(cn),p.plus(cn),c),u=Ye(p.times(p),c),i=3;;){if(o=Ye(o.times(u),c),l=s.plus(na(o,new g(i),c)),gi(l.d).slice(0,c)===gi(s.d).slice(0,c))return s=s.times(2),a!==0&&(s=s.plus(E0(g,c+2,b).times(a+""))),s=na(s,new g(d),c),g.precision=b,e==null?(dt=!0,Ye(s,b)):s;s=l,i+=2}}function kC(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Fc(r/it),t.d=[],n=(r+1)%it,r<0&&(n+=it),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=it;n<i;)t.d.push(+e.slice(n,n+=it));e=e.slice(n),n=it-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),dt&&(t.e>Xm||t.e<-Xm))throw Error(LE+r)}else t.s=0,t.e=0,t.d=[0];return t}function Ye(t,e,r){var n,i,a,o,s,l,c,u,d=t.d;for(o=1,a=d[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=it,i=e,c=d[u=0];else{if(u=Math.ceil((n+1)/it),a=d.length,u>=a)return t;for(c=a=d[u],o=1;a>=10;a/=10)o++;n%=it,i=n-it+o}if(r!==void 0&&(a=os(10,o-i-1),s=c/a%10|0,l=e<0||d[u+1]!==void 0||c%a,l=r<4?(s||l)&&(r==0||r==(t.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?c/os(10,o-i):0:d[u-1])%10&1||r==(t.s<0?8:7))),e<1||!d[0])return l?(a=Vt(t),d.length=1,e=e-a-1,d[0]=os(10,(it-e%it)%it),t.e=Fc(-e/it)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(n==0?(d.length=u,a=1,u--):(d.length=u+1,a=os(10,it-n),d[u]=i>0?(c/os(10,o-i)%os(10,i)|0)*a:0),l)for(;;)if(u==0){(d[0]+=a)==er&&(d[0]=1,++t.e);break}else{if(d[u]+=a,d[u]!=er)break;d[u--]=0,a=1}for(n=d.length;d[--n]===0;)d.pop();if(dt&&(t.e>Xm||t.e<-Xm))throw Error(LE+Vt(t));return t}function v$(t,e){var r,n,i,a,o,s,l,c,u,d,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),dt?Ye(e,p):e;if(l=t.d,d=e.d,n=e.e,c=t.e,l=l.slice(),o=c-n,o){for(u=o<0,u?(r=l,o=-o,s=d.length):(r=d,n=c,s=l.length),i=Math.max(Math.ceil(p/it),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=d.length,u=i<s,u&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){u=l[i]<d[i];break}o=0}for(u&&(r=l,l=d,d=r,e.s=-e.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>o;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=er-1;--l[a],l[i]+=er}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,dt?Ye(e,p):e):new h(0)}function Bs(t,e,r){var n,i=Vt(t),a=gi(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+Ha(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ha(-i-1)+a,r&&(n=r-o)>0&&(a+=Ha(n))):i>=o?(a+=Ha(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+Ha(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=Ha(n))),t.s<0?"-"+a:a}function SC(t,e){if(t.length>e)return t.length=e,!0}function w$(t){var e,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(As+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return kC(o,a.toString())}else if(typeof a!="string")throw Error(As+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Sie.test(a))kC(o,a);else throw Error(As+a)}if(i.prototype=ie,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=w$,i.config=i.set=Tie,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function Tie(t){if(!t||typeof t!="object")throw Error(Bn+"Object expected");var e,r,n,i=["precision",1,Vc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Fc(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(As+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(As+r+": "+n);return this}var jE=w$(kie);cn=new jE(1);const Ue=jE;var Aie=t=>t,b$={"@@functional/placeholder":!0},_$=t=>t===b$,TC=t=>function e(){return arguments.length===0||arguments.length===1&&_$(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},x$=(t,e)=>t===1?e:TC(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(o=>o!==b$).length;return a>=t?e(...n):x$(t-a,TC(function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];var c=n.map(u=>_$(u)?s.shift():u);return e(...c,...s)}))}),zy=t=>x$(t.length,t),Jb=(t,e)=>{for(var r=[],n=t;n<e;++n)r[n-t]=n;return r},Pie=zy((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(r=>e[r]).map(t)),Iie=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return Aie;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((s,l)=>l(s),a(...arguments))}},Zb=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),E$=t=>{var e=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e&&i.every((o,s)=>{var l;return o===((l=e)===null||l===void 0?void 0:l[s])})||(e=i,r=t(...i)),r}};function k$(t){var e;return t===0?e=1:e=Math.floor(new Ue(t).abs().log(10).toNumber())+1,e}function S$(t,e,r){for(var n=new Ue(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}zy((t,e,r)=>{var n=+t,i=+e;return n+r*(i-n)});zy((t,e,r)=>{var n=e-+t;return n=n||1/0,(r-t)/n});zy((t,e,r)=>{var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});var T$=t=>{var[e,r]=t,[n,i]=[e,r];return e>r&&([n,i]=[r,e]),[n,i]},A$=(t,e,r)=>{if(t.lte(0))return new Ue(0);var n=k$(t.toNumber()),i=new Ue(10).pow(n),a=t.div(i),o=n!==1?.05:.1,s=new Ue(Math.ceil(a.div(o).toNumber())).add(r).mul(o),l=s.mul(i);return e?new Ue(l.toNumber()):new Ue(Math.ceil(l.toNumber()))},Cie=(t,e,r)=>{var n=new Ue(1),i=new Ue(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new Ue(10).pow(k$(t)-1),i=new Ue(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Ue(Math.floor(t)))}else t===0?i=new Ue(Math.floor((e-1)/2)):r||(i=new Ue(Math.floor(t)));var o=Math.floor((e-1)/2),s=Iie(Pie(l=>i.add(new Ue(l-o).mul(n)).toNumber()),Jb);return s(0,e)},P$=function(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-e)/(n-1)))return{step:new Ue(0),tickMin:new Ue(0),tickMax:new Ue(0)};var o=A$(new Ue(r).sub(e).div(n-1),i,a),s;e<=0&&r>=0?s=new Ue(0):(s=new Ue(e).add(r).div(2),s=s.sub(new Ue(s).mod(o)));var l=Math.ceil(s.sub(e).div(o).toNumber()),c=Math.ceil(new Ue(r).sub(s).div(o).toNumber()),u=l+c+1;return u>n?P$(e,r,n,i,a+1):(u<n&&(c=r>0?c+(n-u):c,l=r>0?l:l+(n-u)),{step:o,tickMin:s.sub(new Ue(l).mul(o)),tickMax:s.add(new Ue(c).mul(o))})};function Oie(t){var[e,r]=t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(n,2),[o,s]=T$([e,r]);if(o===-1/0||s===1/0){var l=s===1/0?[o,...Jb(0,n-1).map(()=>1/0)]:[...Jb(0,n-1).map(()=>-1/0),s];return e>r?Zb(l):l}if(o===s)return Cie(o,n,i);var{step:c,tickMin:u,tickMax:d}=P$(o,s,a,i,0),h=S$(u,d.add(new Ue(.1).mul(c)),c);return e>r?Zb(h):h}function Nie(t,e){var[r,n]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=T$([r,n]);if(a===-1/0||o===1/0)return[r,n];if(a===o)return[a];var s=Math.max(e,2),l=A$(new Ue(o).sub(a).div(s-1),i,0),c=[...S$(new Ue(a),new Ue(o),l),o];return i===!1&&(c=c.map(u=>Math.round(u))),r>n?Zb(c):c}var Die=E$(Oie),Rie=E$(Nie),I$=t=>t.rootProps.maxBarSize,Mie=t=>t.rootProps.barGap,C$=t=>t.rootProps.barCategoryGap,Lie=t=>t.rootProps.barSize,$f=t=>t.rootProps.stackOffset,$E=t=>t.options.chartName,VE=t=>t.rootProps.syncId,O$=t=>t.rootProps.syncMethod,FE=t=>t.options.eventEmitter,zi={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},on={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},Wy=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},jie={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:zi.angleAxisId,includeHidden:!1,name:void 0,reversed:zi.reversed,scale:zi.scale,tick:zi.tick,tickCount:void 0,ticks:void 0,type:zi.type,unit:void 0},$ie={allowDataOverflow:on.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:on.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:on.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:on.scale,tick:on.tick,tickCount:on.tickCount,ticks:void 0,type:on.type,unit:void 0},Vie={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:zi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:zi.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:zi.scale,tick:zi.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Fie={allowDataOverflow:on.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:on.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:on.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:on.scale,tick:on.tick,tickCount:on.tickCount,ticks:void 0,type:"category",unit:void 0},UE=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?Vie:jie,BE=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?Fie:$ie,qy=t=>t.polarOptions,zE=$([Ea,ka,Wt],ij),N$=$([qy,zE],(t,e)=>{if(t!=null)return Fr(t.innerRadius,e,0)}),D$=$([qy,zE],(t,e)=>{if(t!=null)return Fr(t.outerRadius,e,e*.8)}),Uie=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:r}=t;return[e,r]},R$=$([qy],Uie);$([UE,R$],Wy);var M$=$([zE,N$,D$],(t,e,r)=>{if(!(t==null||e==null||r==null))return[e,r]});$([BE,M$],Wy);var L$=$([Oe,qy,N$,D$,Ea,ka],(t,e,r,n,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||r==null||n==null)){var{cx:o,cy:s,startAngle:l,endAngle:c}=e;return{cx:Fr(o,i,i/2),cy:Fr(s,a,a/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:c,clockWise:!1}}}),ht=(t,e)=>e,Vf=(t,e,r)=>r;function WE(t){return t==null?void 0:t.id}var Kt=t=>{var e=Oe(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Uc=t=>t.tooltip.settings.axisId,Ht=t=>{var e=Kt(t),r=Uc(t);return Ff(t,e,r)};function j$(t,e,r){var{chartData:n=[]}=e,i=r==null?void 0:r.dataKey,a=new Map;return t.forEach(o=>{var s,l=(s=o.data)!==null&&s!==void 0?s:n;if(!(l==null||l.length===0)){var c=WE(o);l.forEach((u,d)=>{var h=i==null?d:String(Ge(u,i,null)),p=Ge(u,o.dataKey,0),m;a.has(h)?m=a.get(h):m={},Object.assign(m,{[c]:p}),a.set(h,m)})}}),Array.from(a.values())}function Ky(t){return t.stackId!=null&&t.dataKey!=null}function AC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AC(Object(r),!0).forEach(function(n){Bie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bie(t,e,r){return(e=zie(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zie(t){var e=Wie(t,"string");return typeof e=="symbol"?e:e+""}function Wie(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var e_=[0,"auto"],rn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Ta=(t,e)=>{var r=t.cartesianAxis.xAxis[e];return r??rn},nn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:e_,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Ny},Ko=(t,e)=>{var r=t.cartesianAxis.yAxis[e];return r??nn},qie={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},qE=(t,e)=>{var r=t.cartesianAxis.zAxis[e];return r??qie},Ot=(t,e,r)=>{switch(e){case"xAxis":return Ta(t,r);case"yAxis":return Ko(t,r);case"zAxis":return qE(t,r);case"angleAxis":return UE(t,r);case"radiusAxis":return BE(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},Kie=(t,e,r)=>{switch(e){case"xAxis":return Ta(t,r);case"yAxis":return Ko(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},Ff=(t,e,r)=>{switch(e){case"xAxis":return Ta(t,r);case"yAxis":return Ko(t,r);case"angleAxis":return UE(t,r);case"radiusAxis":return BE(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},$$=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function KE(t,e){return r=>{switch(t){case"xAxis":return"xAxisId"in r&&r.xAxisId===e;case"yAxis":return"yAxisId"in r&&r.yAxisId===e;case"zAxis":return"zAxisId"in r&&r.zAxisId===e;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===e;default:return!1}}}var Hy=t=>t.graphicalItems.cartesianItems,Hie=$([ht,Vf],KE),HE=(t,e,r)=>t.filter(r).filter(n=>(e==null?void 0:e.includeHidden)===!0?!0:!n.hide),Uf=$([Hy,Ot,Hie],HE),V$=$([Uf],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Ky)),F$=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),U$=$([Uf],F$),GE=t=>t.map(e=>e.data).filter(Boolean).flat(1),Gie=$([Uf],GE),YE=(t,e)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=e;return t.length>0?t:r.slice(n,i+1)},QE=$([Gie,By],YE),XE=(t,e,r)=>(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:Ge(n,e.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>t.map(i=>({value:Ge(i,n)}))):t.map(n=>({value:n})),Gy=$([QE,Ot,Uf],XE);function B$(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function al(t){return t.filter(e=>Ti(e)||e instanceof Date).map(Number).filter(e=>gn(e)===!1)}function Yie(t,e,r){return!r||typeof e!="number"||gn(e)?[]:r.length?al(r.flatMap(n=>{var i=Ge(t,n.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!wn(a)||!wn(o)))return[e-a,e+o]})):[]}var Qie=$([V$,By,Ht],j$),z$=(t,e,r)=>{var n={},i=e.reduce((a,o)=>(o.stackId==null||(a[o.stackId]==null&&(a[o.stackId]=[]),a[o.stackId].push(o)),a),n);return Object.fromEntries(Object.entries(i).map(a=>{var[o,s]=a,l=s.map(WE);return[o,{stackedData:oee(t,l,r),graphicalItems:s}]}))},t_=$([Qie,V$,$f],z$),W$=(t,e,r)=>{var{dataStartIndex:n,dataEndIndex:i}=e;if(r!=="zAxis"){var a=dee(t,n,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},Xie=$([t_,qo,ht],W$),q$=(t,e,r,n,i)=>r.length>0?t.flatMap(a=>r.flatMap(o=>{var s,l,c=(s=n[o.id])===null||s===void 0?void 0:s.filter(d=>B$(i,d)),u=Ge(a,(l=e.dataKey)!==null&&l!==void 0?l:o.dataKey);return{value:u,errorDomain:Yie(a,u,c)}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(a=>({value:Ge(a,e.dataKey),errorDomain:[]})):t.map(a=>({value:a,errorDomain:[]})),Yy=t=>t.errorBars,K$=(t,e,r)=>t.flatMap(n=>e[n.id]).filter(Boolean).filter(n=>B$(r,n));$([U$,Yy,ht],K$);var Jie=$([QE,Ot,U$,Yy,ht],q$);function Zie(t){var{value:e}=t;if(Ti(e)||e instanceof Date)return e}var PC=t=>{var e=t.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=al(e);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},eae=(t,e,r)=>{var n=t.map(Zie).filter(i=>i!=null);return r&&(e.dataKey==null||e.allowDuplicatedCategory&&jL(n))?Rj(0,t.length):e.allowDuplicatedCategory?n:Array.from(new Set(n))},JE=t=>{var e;if(t==null||!("domain"in t))return e_;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var r=al(t.ticks);return[Math.min(...r),Math.max(...r)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:e_},Zm=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),s=Math.max(...a);return[o,s]}},H$=t=>t.referenceElements.dots,Bc=(t,e,r)=>t.filter(n=>n.ifOverflow==="extendDomain").filter(n=>e==="xAxis"?n.xAxisId===r:n.yAxisId===r),tae=$([H$,ht,Vf],Bc),G$=t=>t.referenceElements.areas,rae=$([G$,ht,Vf],Bc),Y$=t=>t.referenceElements.lines,nae=$([Y$,ht,Vf],Bc),Q$=(t,e)=>{var r=al(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},iae=$(tae,ht,Q$),X$=(t,e)=>{var r=al(t.flatMap(n=>[e==="xAxis"?n.x1:n.y1,e==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},aae=$([rae,ht],X$),J$=(t,e)=>{var r=al(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},oae=$(nae,ht,J$),sae=$(iae,oae,aae,(t,e,r)=>Zm(t,r,e)),Z$=$([Ot],JE),ZE=(t,e,r,n,i,a,o)=>{var s=xie(e,t.allowDataOverflow);if(s!=null)return s;var l=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",c=l?Zm(r,i,PC(n)):Zm(i,PC(n));return Eie(e,c,t.allowDataOverflow)},lae=$([Ot,Z$,Xie,Jie,sae,Oe,ht],ZE),cae=[0,1],ek=(t,e,r,n,i,a,o)=>{if(!((t==null||r==null||r.length===0)&&o===void 0)){var{dataKey:s,type:l}=t,c=Bo(e,a);return c&&s==null?Rj(0,r.length):l==="category"?eae(n,t,c):i==="expand"?cae:o}},tk=$([Ot,Oe,QE,Gy,$f,ht,lae],ek),e3=(t,e,r,n,i)=>{if(t!=null){var{scale:a,type:o}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var s="scale".concat(Cf(a));return s in Hu?s:"point"}}},zc=$([Ot,Oe,$$,$E,ht],e3);function uae(t){if(t!=null){if(t in Hu)return Hu[t]();var e="scale".concat(Cf(t));if(e in Hu)return Hu[e]()}}function rk(t,e,r,n){if(!(r==null||n==null)){if(typeof t.scale=="function")return t.scale.copy().domain(r).range(n);var i=uae(e);if(i!=null){var a=i.domain(r).range(n);return tee(a),a}}}var nk=(t,e,r)=>{var n=JE(e);if(!(r!=="auto"&&r!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&xc(t))return Die(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&xc(t))return Rie(t,e.tickCount,e.allowDecimals)}},ik=$([tk,Ff,zc],nk),ak=(t,e,r,n)=>{if(n!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&xc(e)&&Array.isArray(r)&&r.length>0){var i=e[0],a=r[0],o=e[1],s=r[r.length-1];return[Math.min(i,a),Math.max(o,s)]}return e},dae=$([Ot,tk,ik,ht],ak),fae=$(Gy,Ot,(t,e)=>{if(!(!e||e.type!=="number")){var r=1/0,n=Array.from(al(t.map(s=>s.value))).sort((s,l)=>s-l);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var a=0;a<n.length-1;a++){var o=n[a+1]-n[a];r=Math.min(r,o)}return r/i}}),t3=$(fae,Oe,C$,Wt,(t,e,r,n)=>n,(t,e,r,n,i)=>{if(!wn(t))return 0;var a=e==="vertical"?n.height:n.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var o=Fr(r,t*a),s=t*a/2;return s-o-(s-o)/a*o}return 0}),hae=(t,e)=>{var r=Ta(t,e);return r==null||typeof r.padding!="string"?0:t3(t,"xAxis",e,r.padding)},pae=(t,e)=>{var r=Ko(t,e);return r==null||typeof r.padding!="string"?0:t3(t,"yAxis",e,r.padding)},mae=$(Ta,hae,(t,e)=>{var r,n;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((r=i.left)!==null&&r!==void 0?r:0)+e,right:((n=i.right)!==null&&n!==void 0?n:0)+e}}),gae=$(Ko,pae,(t,e)=>{var r,n;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((r=i.top)!==null&&r!==void 0?r:0)+e,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+e}}),yae=$([Wt,mae,Ry,Dy,(t,e,r)=>r],(t,e,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),vae=$([Wt,Oe,gae,Ry,Dy,(t,e,r)=>r],(t,e,r,n,i,a)=>{var{padding:o}=i;return a?[n.height-o.bottom,o.top]:e==="horizontal"?[t.top+t.height-r.bottom,t.top+r.top]:[t.top+r.top,t.top+t.height-r.bottom]}),Bf=(t,e,r,n)=>{var i;switch(e){case"xAxis":return yae(t,r,n);case"yAxis":return vae(t,r,n);case"zAxis":return(i=qE(t,r))===null||i===void 0?void 0:i.range;case"angleAxis":return R$(t);case"radiusAxis":return M$(t,r);default:return}},r3=$([Ot,Bf],Wy),Wc=$([Ot,zc,dae,r3],rk);$([Uf,Yy,ht],K$);function n3(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Qy=(t,e)=>e,Xy=(t,e,r)=>r,wae=$(iE,Qy,Xy,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(n3)),bae=$(aE,Qy,Xy,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(n3)),i3=(t,e)=>({width:t.width,height:e.height}),_ae=(t,e)=>{var r=typeof e.width=="number"?e.width:Ny;return{width:r,height:t.height}},a3=$(Wt,Ta,i3),xae=(t,e,r)=>{switch(e){case"top":return t.top;case"bottom":return r-t.bottom;default:return 0}},Eae=(t,e,r)=>{switch(e){case"left":return t.left;case"right":return r-t.right;default:return 0}},kae=$(ka,Wt,wae,Qy,Xy,(t,e,r,n,i)=>{var a={},o;return r.forEach(s=>{var l=i3(e,s);o==null&&(o=xae(e,n,t));var c=n==="top"&&!i||n==="bottom"&&i;a[s.id]=o-Number(c)*l.height,o+=(c?-1:1)*l.height}),a}),Sae=$(Ea,Wt,bae,Qy,Xy,(t,e,r,n,i)=>{var a={},o;return r.forEach(s=>{var l=_ae(e,s);o==null&&(o=Eae(e,n,t));var c=n==="left"&&!i||n==="right"&&i;a[s.id]=o-Number(c)*l.width,o+=(c?-1:1)*l.width}),a}),Tae=(t,e)=>{var r=Wt(t),n=Ta(t,e);if(n!=null){var i=kae(t,n.orientation,n.mirror),a=i[e];return a==null?{x:r.left,y:0}:{x:r.left,y:a}}},Aae=(t,e)=>{var r=Wt(t),n=Ko(t,e);if(n!=null){var i=Sae(t,n.orientation,n.mirror),a=i[e];return a==null?{x:0,y:r.top}:{x:a,y:r.top}}},o3=$(Wt,Ko,(t,e)=>{var r=typeof e.width=="number"?e.width:Ny;return{width:r,height:t.height}}),IC=(t,e,r)=>{switch(e){case"xAxis":return a3(t,r).width;case"yAxis":return o3(t,r).height;default:return}},s3=(t,e,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=r,s=Bo(t,n),l=e.map(c=>c.value);if(o&&s&&a==="category"&&i&&jL(l))return l}},ok=$([Oe,Gy,Ot,ht],s3),l3=(t,e,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,o=Bo(t,n);if(o&&(i==="number"||a!=="auto"))return e.map(s=>s.value)}},sk=$([Oe,Gy,Ff,ht],l3),CC=$([Oe,Kie,zc,Wc,ok,sk,Bf,ik,ht],(t,e,r,n,i,a,o,s,l)=>{if(e==null)return null;var c=Bo(t,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:s,range:o,realScaleType:r,scale:n}}),Pae=(t,e,r,n,i,a,o,s,l)=>{if(!(e==null||n==null)){var c=Bo(t,l),{type:u,ticks:d,tickCount:h}=e,p=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,m=u==="category"&&n.bandwidth?n.bandwidth()/p:0;m=l==="angleAxis"&&a!=null&&a.length>=2?rr(a[0]-a[1])*2*m:m;var g=d||i;if(g){var b=g.map((w,x)=>{var E=o?o.indexOf(w):w;return{index:x,coordinate:n(E)+m,value:w,offset:m}});return b.filter(w=>!gn(w.coordinate))}return c&&s?s.map((w,x)=>({coordinate:n(w)+m,value:w,index:x,offset:m})):n.ticks?n.ticks(h).map(w=>({coordinate:n(w)+m,value:w,offset:m})):n.domain().map((w,x)=>({coordinate:n(w)+m,value:o?o[w]:w,index:x,offset:m}))}},c3=$([Oe,Ff,zc,Wc,ik,Bf,ok,sk,ht],Pae),Iae=(t,e,r,n,i,a,o)=>{if(!(e==null||r==null||n==null||n[0]===n[1])){var s=Bo(t,o),{tickCount:l}=e,c=0;return c=o==="angleAxis"&&(n==null?void 0:n.length)>=2?rr(n[0]-n[1])*2*c:c,s&&a?a.map((u,d)=>({coordinate:r(u)+c,value:u,index:d,offset:c})):r.ticks?r.ticks(l).map(u=>({coordinate:r(u)+c,value:u,offset:c})):r.domain().map((u,d)=>({coordinate:r(u)+c,value:i?i[u]:u,index:d,offset:c}))}},Io=$([Oe,Ff,Wc,Bf,ok,sk,ht],Iae),Co=$(Ot,Wc,(t,e)=>{if(!(t==null||e==null))return Jm(Jm({},t),{},{scale:e})}),Cae=$([Ot,zc,tk,r3],rk);$((t,e,r)=>qE(t,r),Cae,(t,e)=>{if(!(t==null||e==null))return Jm(Jm({},t),{},{scale:e})});var Oae=$([Oe,iE,aE],(t,e,r)=>{switch(t){case"horizontal":return e.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),u3=t=>t.options.defaultTooltipEventType,d3=t=>t.options.validateTooltipEventTypes;function f3(t,e,r){if(t==null)return e;var n=t?"axis":"item";return r==null?e:r.includes(n)?n:e}function lk(t,e){var r=u3(t),n=d3(t);return f3(e,r,n)}function Nae(t){return oe(e=>lk(e,t))}var h3=(t,e)=>{var r,n=Number(e);if(!(gn(n)||e==null))return n>=0?t==null||(r=t[n])===null||r===void 0?void 0:r.value:void 0},Dae=t=>t.tooltip.settings,ro={active:!1,index:null,dataKey:void 0,coordinate:void 0},Rae={itemInteraction:{click:ro,hover:ro},axisInteraction:{click:ro,hover:ro},keyboardInteraction:ro,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},p3=kn({name:"tooltip",initialState:Rae,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var r=ra(t).tooltipItemPayloads.indexOf(e.payload);r>-1&&t.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:Mae,removeTooltipEntrySettings:Lae,setTooltipSettingsState:jae,setActiveMouseOverItemIndex:m3,mouseLeaveItem:$ae,mouseLeaveChart:g3,setActiveClickItemIndex:Vae,setMouseOverAxisIndex:y3,setMouseClickAxisIndex:Fae,setSyncInteraction:r_,setKeyboardInteraction:n_}=p3.actions,Uae=p3.reducer;function OC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OC(Object(r),!0).forEach(function(n){Bae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bae(t,e,r){return(e=zae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zae(t){var e=Wae(t,"string");return typeof e=="symbol"?e:e+""}function Wae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qae(t,e,r){return e==="axis"?r==="click"?t.axisInteraction.click:t.axisInteraction.hover:r==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Kae(t){return t.index!=null}var v3=(t,e,r,n)=>{if(e==null)return ro;var i=qae(t,e,r);if(i==null)return ro;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(Kae(i)){if(a)return rp(rp({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return rp(rp({},ro),{},{coordinate:i.coordinate})},ck=(t,e)=>{var r=t==null?void 0:t.index;if(r==null)return null;var n=Number(r);if(!wn(n))return r;var i=0,a=1/0;return e.length>0&&(a=e.length-1),String(Math.max(i,Math.min(n,a)))},w3=(t,e,r,n,i,a,o,s)=>{if(!(a==null||s==null)){var l=o[0],c=l==null?void 0:s(l.positions,a);if(c!=null)return c;var u=i==null?void 0:i[Number(a)];if(u)switch(r){case"horizontal":return{x:u.coordinate,y:(n.top+e)/2};default:return{x:(n.left+t)/2,y:u.coordinate}}}},b3=(t,e,r,n)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&n!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},zf=t=>t.options.tooltipPayloadSearcher,qc=t=>t.tooltip;function NC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function DC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NC(Object(r),!0).forEach(function(n){Hae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hae(t,e,r){return(e=Gae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gae(t){var e=Yae(t,"string");return typeof e=="symbol"?e:e+""}function Yae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qae(t,e){return t??e}var _3=(t,e,r,n,i,a,o)=>{if(!(e==null||a==null)){var{chartData:s,computedData:l,dataStartIndex:c,dataEndIndex:u}=r,d=[];return t.reduce((h,p)=>{var m,{dataDefinedOnItem:g,settings:b}=p,w=Qae(g,s),x=Array.isArray(w)?aj(w,c,u):w,E=(m=b==null?void 0:b.dataKey)!==null&&m!==void 0?m:n==null?void 0:n.dataKey,C=b==null?void 0:b.nameKey,I;if(n!=null&&n.dataKey&&Array.isArray(x)&&!Array.isArray(x[0])&&o==="axis"?I=$L(x,n.dataKey,i):I=a(x,e,l,C),Array.isArray(I))I.forEach(T=>{var S=DC(DC({},b),{},{name:T.name,unit:T.unit,color:void 0,fill:void 0});h.push(_I({tooltipEntrySettings:S,dataKey:T.dataKey,payload:T.payload,value:Ge(T.payload,T.dataKey),name:T.name}))});else{var M;h.push(_I({tooltipEntrySettings:b,dataKey:E,payload:I,value:Ge(I,E),name:(M=Ge(I,C))!==null&&M!==void 0?M:b==null?void 0:b.name}))}return h},d)}},uk=$([Ht,Oe,$$,$E,Kt],e3),Xae=$([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Jae=$([Kt,Uc],KE),Wf=$([Xae,Ht,Jae],HE),Zae=$([Wf],t=>t.filter(Ky)),eoe=$([Wf],GE),Kc=$([eoe,qo],YE),toe=$([Zae,qo,Ht],j$),dk=$([Kc,Ht,Wf],XE),roe=$([Ht],JE),noe=$([Wf],t=>t.filter(Ky)),ioe=$([toe,noe,$f],z$),aoe=$([ioe,qo,Kt],W$),ooe=$([Wf],F$),soe=$([Kc,Ht,ooe,Yy,Kt],q$),loe=$([H$,Kt,Uc],Bc),coe=$([loe,Kt],Q$),uoe=$([G$,Kt,Uc],Bc),doe=$([uoe,Kt],X$),foe=$([Y$,Kt,Uc],Bc),hoe=$([foe,Kt],J$),poe=$([coe,hoe,doe],Zm),moe=$([Ht,roe,aoe,soe,poe,Oe,Kt],ZE),x3=$([Ht,Oe,Kc,dk,$f,Kt,moe],ek),goe=$([x3,Ht,uk],nk),yoe=$([Ht,x3,goe,Kt],ak),E3=t=>{var e=Kt(t),r=Uc(t),n=!1;return Bf(t,e,r,n)},k3=$([Ht,E3],Wy),S3=$([Ht,uk,yoe,k3],rk),voe=$([Oe,dk,Ht,Kt],s3),woe=$([Oe,dk,Ht,Kt],l3),boe=(t,e,r,n,i,a,o,s)=>{if(e){var{type:l}=e,c=Bo(t,s);if(n){var u=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,d=l==="category"&&n.bandwidth?n.bandwidth()/u:0;return d=s==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?rr(i[0]-i[1])*2*d:d,c&&o?o.map((h,p)=>({coordinate:n(h)+d,value:h,index:p,offset:d})):n.domain().map((h,p)=>({coordinate:n(h)+d,value:a?a[h]:h,index:p,offset:d}))}}},Aa=$([Oe,Ht,uk,S3,E3,voe,woe,Kt],boe),fk=$([u3,d3,Dae],(t,e,r)=>f3(r.shared,t,e)),T3=t=>t.tooltip.settings.trigger,hk=t=>t.tooltip.settings.defaultIndex,Jy=$([qc,fk,T3,hk],v3),Oo=$([Jy,Kc],ck),A3=$([Aa,Oo],h3),P3=$([Jy],t=>{if(t)return t.dataKey}),I3=$([qc,fk,T3,hk],b3),_oe=$([Ea,ka,Oe,Wt,Aa,hk,I3,zf],w3),xoe=$([Jy,_oe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Eoe=$([Jy],t=>t.active),koe=$([I3,Oo,qo,Ht,A3,zf,fk],_3),Soe=$([koe],t=>{if(t!=null){var e=t.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(e))}});function RC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function MC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RC(Object(r),!0).forEach(function(n){Toe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Toe(t,e,r){return(e=Aoe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Aoe(t){var e=Poe(t,"string");return typeof e=="symbol"?e:e+""}function Poe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ioe=()=>oe(Ht),Coe=()=>{var t=Ioe(),e=oe(Aa),r=oe(S3);return Qd(MC(MC({},t),{},{scale:r}),e)},Ooe=()=>oe($E),pk=(t,e)=>e,C3=(t,e,r)=>r,mk=(t,e,r,n)=>n,Noe=$(Aa,t=>Sy(t,e=>e.coordinate)),gk=$([qc,pk,C3,mk],v3),O3=$([gk,Kc],ck),Doe=(t,e,r)=>{if(e!=null){var n=qc(t);return e==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},N3=$([qc,pk,C3,mk],b3),eg=$([Ea,ka,Oe,Wt,Aa,mk,N3,zf],w3),Roe=$([gk,eg],(t,e)=>{var r;return(r=t.coordinate)!==null&&r!==void 0?r:e}),D3=$(Aa,O3,h3),Moe=$([N3,O3,qo,Ht,D3,zf,pk],_3),Loe=$([gk],t=>({isActive:t.active,activeIndex:t.index})),joe=(t,e,r,n,i,a,o,s)=>{if(!(!t||!e||!n||!i||!a)){var l=fee(t.chartX,t.chartY,e,r,s);if(l){var c=pee(l,e),u=ZZ(c,o,a,n,i),d=hee(e,a,u,l);return{activeIndex:String(u),activeCoordinate:d}}}};function i_(){return i_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i_.apply(null,arguments)}function LC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function np(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LC(Object(r),!0).forEach(function(n){$oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $oe(t,e,r){return(e=Voe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Voe(t){var e=Foe(t,"string");return typeof e=="symbol"?e:e+""}function Foe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uoe(t){var{coordinate:e,payload:r,index:n,offset:i,tooltipAxisBandSize:a,layout:o,cursor:s,tooltipEventType:l,chartName:c}=t,u=e,d=r,h=n;if(!s||!u||c!=="ScatterChart"&&l!=="axis")return null;var p,m;if(c==="ScatterChart")p=u,m=dte;else if(c==="BarChart")p=fte(o,u,i,a),m=Aj;else if(o==="radial"){var{cx:g,cy:b,radius:w,startAngle:x,endAngle:E}=Pj(u);p={cx:g,cy:b,startAngle:x,endAngle:E,innerRadius:w,outerRadius:w},m=Cj}else p={points:qte(o,u,i)},m=uE;var C=typeof s=="object"&&"className"in s?s.className:void 0,I=np(np(np(np({stroke:"#ccc",pointerEvents:"none"},i),p),ut(s,!1)),{},{payload:d,payloadIndex:h,className:Me("recharts-tooltip-cursor",C)});return _.isValidElement(s)?_.cloneElement(s,I):_.createElement(m,I)}function Boe(t){var e=Coe(),r=fj(),n=My(),i=Ooe();return _.createElement(Uoe,i_({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:r,layout:n,tooltipAxisBandSize:e,chartName:i}))}var R3=_.createContext(null),zoe=()=>_.useContext(R3),M3={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,d||l,h),m=r?r+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=r?r+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,m=new Array(p);h<p;h++)m[h]=d[h].fn;return m},s.prototype.listenerCount=function(c){var u=r?r+c:c,d=this._events[u];return d?d.fn?1:d.length:0},s.prototype.emit=function(c,u,d,h,p,m){var g=r?r+c:c;if(!this._events[g])return!1;var b=this._events[g],w=arguments.length,x,E;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),w){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,u),!0;case 3:return b.fn.call(b.context,u,d),!0;case 4:return b.fn.call(b.context,u,d,h),!0;case 5:return b.fn.call(b.context,u,d,h,p),!0;case 6:return b.fn.call(b.context,u,d,h,p,m),!0}for(E=1,x=new Array(w-1);E<w;E++)x[E-1]=arguments[E];b.fn.apply(b.context,x)}else{var C=b.length,I;for(E=0;E<C;E++)switch(b[E].once&&this.removeListener(c,b[E].fn,void 0,!0),w){case 1:b[E].fn.call(b[E].context);break;case 2:b[E].fn.call(b[E].context,u);break;case 3:b[E].fn.call(b[E].context,u,d);break;case 4:b[E].fn.call(b[E].context,u,d,h);break;default:if(!x)for(I=1,x=new Array(w-1);I<w;I++)x[I-1]=arguments[I];b[E].fn.apply(b[E].context,x)}}return!0},s.prototype.on=function(c,u,d){return a(this,c,u,d,!1)},s.prototype.once=function(c,u,d){return a(this,c,u,d,!0)},s.prototype.removeListener=function(c,u,d,h){var p=r?r+c:c;if(!this._events[p])return this;if(!u)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===u&&(!h||m.once)&&(!d||m.context===d)&&o(this,p);else{for(var g=0,b=[],w=m.length;g<w;g++)(m[g].fn!==u||h&&!m[g].once||d&&m[g].context!==d)&&b.push(m[g]);b.length?this._events[p]=b.length===1?b[0]:b:o(this,p)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s})(M3);var Woe=M3.exports;const qoe=bn(Woe);var nf=new qoe,a_="recharts.syncEvent.tooltip",jC="recharts.syncEvent.brush";function yk(t,e){if(e){var r=Number.parseInt(e,10);if(!gn(r))return t==null?void 0:t[r]}}var Koe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},L3=kn({name:"options",initialState:Koe,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Hoe=L3.reducer,{createEventEmitter:Goe}=L3.actions;function Yoe(t){return t.tooltip.syncInteraction}var Qoe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},j3=kn({name:"chartData",initialState:Qoe,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:r,endIndex:n}=e.payload;r!=null&&(t.dataStartIndex=r),n!=null&&(t.dataEndIndex=n)}}}),{setChartData:$C,setDataStartEndIndexes:Xoe,setComputedData:jhe}=j3.actions,Joe=j3.reducer,$3=()=>{};function Zoe(){var t=oe(VE),e=oe(FE),r=vt(),n=oe(O$),i=oe(Aa),a=My(),o=oE(),s=oe(l=>l.rootProps.className);_.useEffect(()=>{if(t==null)return $3;var l=(c,u,d)=>{if(e!==d&&t===c){if(n==="index"){r(u);return}if(i!=null){var h;if(typeof n=="function"){var p={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},m=n(i,p);h=i[m]}else n==="value"&&(h=i.find(M=>String(M.value)===u.payload.label));var{coordinate:g}=u.payload;if(h==null||u.payload.active===!1||g==null||o==null){r(r_({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:b,y:w}=g,x=Math.min(b,o.x+o.width),E=Math.min(w,o.y+o.height),C={x:a==="horizontal"?h.coordinate:x,y:a==="horizontal"?E:h.coordinate},I=r_({active:u.payload.active,coordinate:C,dataKey:u.payload.dataKey,index:String(h.index),label:u.payload.label});r(I)}}};return nf.on(a_,l),()=>{nf.off(a_,l)}},[s,r,e,t,n,i,a,o])}function ese(){var t=oe(VE),e=oe(FE),r=vt();_.useEffect(()=>{if(t==null)return $3;var n=(i,a,o)=>{e!==o&&t===i&&r(Xoe(a))};return nf.on(jC,n),()=>{nf.off(jC,n)}},[r,e,t])}function tse(){var t=vt();_.useEffect(()=>{t(Goe())},[t]),Zoe(),ese()}function rse(t,e,r,n,i,a){var o=oe(h=>Doe(h,t,e)),s=oe(FE),l=oe(VE),c=oe(O$),u=oe(Yoe),d=u==null?void 0:u.active;_.useEffect(()=>{if(!d&&l!=null&&s!=null){var h=r_({active:a,coordinate:r,dataKey:o,index:i,label:typeof n=="number"?String(n):n});nf.emit(a_,l,h,s)}},[d,r,o,i,n,s,l,c,a])}function VC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function FC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VC(Object(r),!0).forEach(function(n){nse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nse(t,e,r){return(e=ise(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ise(t){var e=ase(t,"string");return typeof e=="symbol"?e:e+""}function ase(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ose(t){return t.dataKey}function sse(t,e){return _.isValidElement(t)?_.cloneElement(t,e):typeof t=="function"?_.createElement(t,e):_.createElement(zee,e)}var UC=[],lse={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!rl.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Ba(t){var e=Sn(t,lse),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:a,content:o,filterNull:s,isAnimationActive:l,offset:c,payloadUniqBy:u,position:d,reverseDirection:h,useTranslate3d:p,wrapperStyle:m,cursor:g,shared:b,trigger:w,defaultIndex:x,portal:E,axisId:C}=e,I=vt(),M=typeof x=="number"?String(x):x;_.useEffect(()=>{I(jae({shared:b,trigger:w,axisId:C,active:r,defaultIndex:M}))},[I,b,w,C,r,M]);var T=oE(),S=gj(),N=Nae(b),{activeIndex:L,isActive:D}=oe(qe=>Loe(qe,N,w,M)),O=oe(qe=>Moe(qe,N,w,M)),P=oe(qe=>D3(qe,N,w,M)),U=oe(qe=>Roe(qe,N,w,M)),ee=O,G=zoe(),de=r??D,[W,X]=D4([ee,de]),Q=N==="axis"?P:void 0;rse(N,w,U,Q,L,de);var ce=E??G;if(ce==null)return null;var Y=ee??UC;de||(Y=UC),s&&Y.length&&(Y=_4(ee.filter(qe=>qe.value!=null&&(qe.hide!==!0||e.includeHidden)),u,ose));var he=Y.length>0,Nt=_.createElement(Qee,{allowEscapeViewBox:n,animationDuration:i,animationEasing:a,isAnimationActive:l,active:de,coordinate:U,hasPayload:he,offset:c,position:d,reverseDirection:h,useTranslate3d:p,viewBox:T,wrapperStyle:m,lastBoundingBox:W,innerRef:X,hasPortalFromProps:!!E},sse(o,FC(FC({},e),{},{payload:Y,label:Q,active:de,coordinate:U,accessibilityLayer:S})));return _.createElement(_.Fragment,null,u1.createPortal(Nt,ce),de&&_.createElement(Boe,{cursor:g,tooltipEventType:N,coordinate:U,payload:ee,index:L}))}var V3={},F3={},U3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n,{signal:i,edges:a}={}){let o,s=null;const l=a!=null&&a.includes("leading"),c=a==null||a.includes("trailing"),u=()=>{s!==null&&(r.apply(o,s),o=void 0,s=null)},d=()=>{c&&u(),g()};let h=null;const p=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,d()},n)},m=()=>{h!==null&&(clearTimeout(h),h=null)},g=()=>{m(),o=void 0,s=null},b=()=>{u()},w=function(...x){if(i!=null&&i.aborted)return;o=this,s=x;const E=h==null;p(),l&&E&&u()};return w.schedule=p,w.cancel=g,w.flush=b,i==null||i.addEventListener("abort",g,{once:!0}),w}t.debounce=e})(U3);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=U3;function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:s=!0,maxWait:l}=a,c=Array(2);o&&(c[0]="leading"),s&&(c[1]="trailing");let u,d=null;const h=e.debounce(function(...g){u=n.apply(this,g),d=null},i,{edges:c}),p=function(...g){return l!=null&&(d===null&&(d=Date.now()),Date.now()-d>=l)?(u=n.apply(this,g),d=Date.now(),h.cancel(),h.schedule(),u):(h.apply(this,g),u)},m=()=>(h.flush(),u);return p.cancel=h.cancel,p.flush=m,p}t.debounce=r})(F3);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=F3;function r(n,i=0,a={}){const{leading:o=!0,trailing:s=!0}=a;return e.debounce(n,i,{leading:o,maxWait:i,trailing:s})}t.throttle=r})(V3);var cse=V3.throttle;const use=bn(cse);var fd=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function BC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function k0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BC(Object(r),!0).forEach(function(n){dse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dse(t,e,r){return(e=fse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fse(t){var e=hse(t,"string");return typeof e=="symbol"?e:e+""}function hse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var za=_.forwardRef((t,e)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:o=0,minHeight:s,maxHeight:l,children:c,debounce:u=0,id:d,className:h,onResize:p,style:m={}}=t,g=_.useRef(null),b=_.useRef();b.current=p,_.useImperativeHandle(e,()=>g.current);var[w,x]=_.useState({containerWidth:n.width,containerHeight:n.height}),E=_.useCallback((I,M)=>{x(T=>{var S=Math.round(I),N=Math.round(M);return T.containerWidth===S&&T.containerHeight===N?T:{containerWidth:S,containerHeight:N}})},[]);_.useEffect(()=>{var I=N=>{var L,{width:D,height:O}=N[0].contentRect;E(D,O),(L=b.current)===null||L===void 0||L.call(b,D,O)};u>0&&(I=use(I,u,{trailing:!0,leading:!1}));var M=new ResizeObserver(I),{width:T,height:S}=g.current.getBoundingClientRect();return E(T,S),M.observe(g.current),()=>{M.disconnect()}},[E,u]);var C=_.useMemo(()=>{var{containerWidth:I,containerHeight:M}=w;if(I<0||M<0)return null;fd(ps(i)||ps(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),fd(!r||r>0,"The aspect(%s) must be greater than zero.",r);var T=ps(i)?I:i,S=ps(a)?M:a;return r&&r>0&&(T?S=T/r:S&&(T=S*r),l&&S>l&&(S=l)),fd(T>0||S>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,S,i,a,o,s,r),_.Children.map(c,N=>_.cloneElement(N,{width:T,height:S,style:k0({width:T,height:S},N.props.style)}))},[r,c,a,l,s,o,w,i]);return _.createElement("div",{id:d?"".concat(d):void 0,className:Me("recharts-responsive-container",h),style:k0(k0({},m),{},{width:i,height:a,minWidth:o,minHeight:s,maxHeight:l}),ref:g},_.createElement("div",{style:{width:0,height:0,overflow:"visible"}},C))}),qf=t=>null;qf.displayName="Cell";function pse(t,e,r){return(e=mse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mse(t){var e=gse(t,"string");return typeof e=="symbol"?e:e+""}function gse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class yse{constructor(e){pse(this,"cache",new Map),this.maxSize=e}get(e){var r=this.cache.get(e);return r!==void 0&&(this.cache.delete(e),this.cache.set(e,r)),r}set(e,r){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(e,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function zC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vse(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zC(Object(r),!0).forEach(function(n){wse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wse(t,e,r){return(e=bse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bse(t){var e=_se(t,"string");return typeof e=="symbol"?e:e+""}function _se(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xse={cacheSize:2e3,enableCache:!0},B3=vse({},xse),WC=new yse(B3.cacheSize),Ese={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},qC="recharts_measurement_span";function kse(t,e){var r=e.fontSize||"",n=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",o=e.letterSpacing||"",s=e.textTransform||"";return"".concat(t,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(s)}var KC=(t,e)=>{try{var r=document.getElementById(qC);r||(r=document.createElement("span"),r.setAttribute("id",qC),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Ese,e),r.textContent="".concat(t);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},hd=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||rl.isSsr)return{width:0,height:0};if(!B3.enableCache)return KC(e,r);var n=kse(e,r),i=WC.get(n);if(i)return i;var a=KC(e,r);return WC.set(n,a),a},HC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,GC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Sse=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Tse=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,z3={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Ase=Object.keys(z3),Ll="NaN";function Pse(t,e){return t*z3[e]}class qr{static parse(e){var r,[,n,i]=(r=Tse.exec(e))!==null&&r!==void 0?r:[];return new qr(parseFloat(n),i??"")}constructor(e,r){this.num=e,this.unit=r,this.num=e,this.unit=r,gn(e)&&(this.unit=""),r!==""&&!Sse.test(r)&&(this.num=NaN,this.unit=""),Ase.includes(r)&&(this.num=Pse(e,r),this.unit="px")}add(e){return this.unit!==e.unit?new qr(NaN,""):new qr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new qr(NaN,""):new qr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new qr(NaN,""):new qr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new qr(NaN,""):new qr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return gn(this.num)}}function W3(t){if(t.includes(Ll))return Ll;for(var e=t;e.includes("*")||e.includes("/");){var r,[,n,i,a]=(r=HC.exec(e))!==null&&r!==void 0?r:[],o=qr.parse(n??""),s=qr.parse(a??""),l=i==="*"?o.multiply(s):o.divide(s);if(l.isNaN())return Ll;e=e.replace(HC,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var c,[,u,d,h]=(c=GC.exec(e))!==null&&c!==void 0?c:[],p=qr.parse(u??""),m=qr.parse(h??""),g=d==="+"?p.add(m):p.subtract(m);if(g.isNaN())return Ll;e=e.replace(GC,g.toString())}return e}var YC=/\(([^()]*)\)/;function Ise(t){for(var e=t,r;(r=YC.exec(e))!=null;){var[,n]=r;e=e.replace(YC,W3(n))}return e}function Cse(t){var e=t.replace(/\s+/g,"");return e=Ise(e),e=W3(e),e}function Ose(t){try{return Cse(t)}catch{return Ll}}function S0(t){var e=Ose(t.slice(5,-1));return e===Ll?"":e}var Nse=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Dse=["dx","dy","angle","className","breakAll"];function o_(){return o_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o_.apply(null,arguments)}function QC(t,e){if(t==null)return{};var r,n,i=Rse(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Rse(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var q3=/[ \f\n\r\t\v\u2028\u2029]+/,K3=t=>{var{children:e,breakAll:r,style:n}=t;try{var i=[];lt(e)||(r?i=e.toString().split(""):i=e.toString().split(q3));var a=i.map(s=>({word:s,width:hd(s,n).width})),o=r?0:hd(" ",n).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},Mse=(t,e,r,n,i)=>{var{maxLines:a,children:o,style:s,breakAll:l}=t,c=te(a),u=o,d=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce((O,P)=>{var{word:U,width:ee}=P,G=O[O.length-1];if(G&&(n==null||i||G.width+ee+r<Number(n)))G.words.push(U),G.width+=ee+r;else{var de={words:[U],width:ee};O.push(de)}return O},[])},h=d(e),p=L=>L.reduce((D,O)=>D.width>O.width?D:O);if(!c||i)return h;var m=h.length>a||p(h).width>Number(n);if(!m)return h;for(var g="…",b=L=>{var D=u.slice(0,L),O=K3({breakAll:l,style:s,children:D+g}).wordsWithComputedWidth,P=d(O),U=P.length>a||p(P).width>Number(n);return[U,P]},w=0,x=u.length-1,E=0,C;w<=x&&E<=u.length-1;){var I=Math.floor((w+x)/2),M=I-1,[T,S]=b(M),[N]=b(I);if(!T&&!N&&(w=I+1),T&&N&&(x=I-1),!T&&N){C=S;break}E++}return C||h},XC=t=>{var e=lt(t)?[]:t.toString().split(q3);return[{words:e}]},Lse=t=>{var{width:e,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:o}=t;if((e||r)&&!rl.isSsr){var s,l,c=K3({breakAll:a,children:n,style:i});if(c){var{wordsWithComputedWidth:u,spaceWidth:d}=c;s=u,l=d}else return XC(n);return Mse({breakAll:a,children:n,maxLines:o,style:i},s,l,e,r)}return XC(n)},JC="#808080",Zy=_.forwardRef((t,e)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:o=!1,textAnchor:s="start",verticalAnchor:l="end",fill:c=JC}=t,u=QC(t,Nse),d=_.useMemo(()=>Lse({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:o,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,o,u.style,u.width]),{dx:h,dy:p,angle:m,className:g,breakAll:b}=u,w=QC(u,Dse);if(!Ti(r)||!Ti(n))return null;var x=r+(te(h)?h:0),E=n+(te(p)?p:0),C;switch(l){case"start":C=S0("calc(".concat(a,")"));break;case"middle":C=S0("calc(".concat((d.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:C=S0("calc(".concat(d.length-1," * -").concat(i,")"));break}var I=[];if(o){var M=d[0].width,{width:T}=u;I.push("scale(".concat(te(T)?T/M:1,")"))}return m&&I.push("rotate(".concat(m,", ").concat(x,", ").concat(E,")")),I.length&&(w.transform=I.join(" ")),_.createElement("text",o_({},ut(w,!0),{ref:e,x,y:E,className:Me("recharts-text",g),textAnchor:s,fill:c.includes("url")?JC:c}),d.map((S,N)=>{var L=S.words.join(b?"":" ");return _.createElement("tspan",{x,dy:N===0?C:i,key:"".concat(L,"-").concat(N)},L)}))});Zy.displayName="Text";var jse=["offset"],$se=["labelRef"];function ZC(t,e){if(t==null)return{};var r,n,i=Vse(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Vse(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function eO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eO(Object(r),!0).forEach(function(n){Fse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fse(t,e,r){return(e=Use(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Use(t){var e=Bse(t,"string");return typeof e=="symbol"?e:e+""}function Bse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wi(){return Wi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wi.apply(null,arguments)}var zse=t=>{var{value:e,formatter:r}=t,n=lt(t.children)?e:t.children;return typeof r=="function"?r(n):n},vk=t=>t!=null&&typeof t=="function",Wse=(t,e)=>{var r=rr(e-t),n=Math.min(Math.abs(e-t),360);return r*n},qse=(t,e,r,n)=>{var{position:i,offset:a,className:o}=t,{cx:s,cy:l,innerRadius:c,outerRadius:u,startAngle:d,endAngle:h,clockWise:p}=n,m=(c+u)/2,g=Wse(d,h),b=g>=0?1:-1,w,x;i==="insideStart"?(w=d+b*a,x=p):i==="insideEnd"?(w=h-b*a,x=!p):i==="end"&&(w=h+b*a,x=p),x=g<=0?x:!x;var E=$t(s,l,m,w),C=$t(s,l,m,w+(x?1:-1)*359),I="M".concat(E.x,",").concat(E.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(x?0:1,`,
    `).concat(C.x,",").concat(C.y),M=lt(t.id)?Hd("recharts-radial-line-"):t.id;return _.createElement("text",Wi({},r,{dominantBaseline:"central",className:Me("recharts-radial-bar-label",o)}),_.createElement("defs",null,_.createElement("path",{id:M,d:I})),_.createElement("textPath",{xlinkHref:"#".concat(M)},e))},Kse=(t,e,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:s,endAngle:l}=t,c=(s+l)/2;if(r==="outside"){var{x:u,y:d}=$t(n,i,o+e,c);return{x:u,y:d,textAnchor:u>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+o)/2,{x:p,y:m}=$t(n,i,h,c);return{x:p,y:m,textAnchor:"middle",verticalAnchor:"middle"}},Hse=(t,e)=>{var{parentViewBox:r,offset:n,position:i}=t,{x:a,y:o,width:s,height:l}=e,c=l>=0?1:-1,u=c*n,d=c>0?"end":"start",h=c>0?"start":"end",p=s>=0?1:-1,m=p*n,g=p>0?"end":"start",b=p>0?"start":"end";if(i==="top"){var w={x:a+s/2,y:o-c*n,textAnchor:"middle",verticalAnchor:d};return bt(bt({},w),r?{height:Math.max(o-r.y,0),width:s}:{})}if(i==="bottom"){var x={x:a+s/2,y:o+l+u,textAnchor:"middle",verticalAnchor:h};return bt(bt({},x),r?{height:Math.max(r.y+r.height-(o+l),0),width:s}:{})}if(i==="left"){var E={x:a-m,y:o+l/2,textAnchor:g,verticalAnchor:"middle"};return bt(bt({},E),r?{width:Math.max(E.x-r.x,0),height:l}:{})}if(i==="right"){var C={x:a+s+m,y:o+l/2,textAnchor:b,verticalAnchor:"middle"};return bt(bt({},C),r?{width:Math.max(r.x+r.width-C.x,0),height:l}:{})}var I=r?{width:s,height:l}:{};return i==="insideLeft"?bt({x:a+m,y:o+l/2,textAnchor:b,verticalAnchor:"middle"},I):i==="insideRight"?bt({x:a+s-m,y:o+l/2,textAnchor:g,verticalAnchor:"middle"},I):i==="insideTop"?bt({x:a+s/2,y:o+u,textAnchor:"middle",verticalAnchor:h},I):i==="insideBottom"?bt({x:a+s/2,y:o+l-u,textAnchor:"middle",verticalAnchor:d},I):i==="insideTopLeft"?bt({x:a+m,y:o+u,textAnchor:b,verticalAnchor:h},I):i==="insideTopRight"?bt({x:a+s-m,y:o+u,textAnchor:g,verticalAnchor:h},I):i==="insideBottomLeft"?bt({x:a+m,y:o+l-u,textAnchor:b,verticalAnchor:d},I):i==="insideBottomRight"?bt({x:a+s-m,y:o+l-u,textAnchor:g,verticalAnchor:d},I):i&&typeof i=="object"&&(te(i.x)||ps(i.x))&&(te(i.y)||ps(i.y))?bt({x:a+Fr(i.x,s),y:o+Fr(i.y,l),textAnchor:"end",verticalAnchor:"end"},I):bt({x:a+s/2,y:o+l/2,textAnchor:"middle",verticalAnchor:"middle"},I)},Gse=t=>"cx"in t&&te(t.cx);function sn(t){var{offset:e=5}=t,r=ZC(t,jse),n=bt({offset:e},r),{viewBox:i,position:a,value:o,children:s,content:l,className:c="",textBreakAll:u,labelRef:d}=n,h=oe(L$),p=oE(),m=a==="center"?p:h??p,g=i||m;if(!g||lt(o)&&lt(s)&&!_.isValidElement(l)&&typeof l!="function")return null;var b=bt(bt({},n),{},{viewBox:g});if(_.isValidElement(l)){var w=ZC(b,$se);return _.cloneElement(l,w)}var x;if(typeof l=="function"){if(x=_.createElement(l,b),_.isValidElement(x))return x}else x=zse(n);var E=Gse(g),C=ut(n,!0);if(E&&(a==="insideStart"||a==="insideEnd"||a==="end"))return qse(n,x,C,g);var I=E?Kse(g,n.offset,n.position):Hse(n,g);return _.createElement(Zy,Wi({ref:d,className:Me("recharts-label",c)},C,I,{breakAll:u}),x)}sn.displayName="Label";var H3=t=>{var{cx:e,cy:r,angle:n,startAngle:i,endAngle:a,r:o,radius:s,innerRadius:l,outerRadius:c,x:u,y:d,top:h,left:p,width:m,height:g,clockWise:b,labelViewBox:w}=t;if(w)return w;if(te(m)&&te(g)){if(te(u)&&te(d))return{x:u,y:d,width:m,height:g};if(te(h)&&te(p))return{x:h,y:p,width:m,height:g}}if(te(u)&&te(d))return{x:u,y:d,width:0,height:0};if(te(e)&&te(r))return{cx:e,cy:r,startAngle:i||n||0,endAngle:a||n||0,innerRadius:l||0,outerRadius:c||s||o||0,clockWise:b};if(t.viewBox)return t.viewBox},Yse=(t,e,r)=>{if(!t)return null;var n={viewBox:e,labelRef:r};return t===!0?_.createElement(sn,Wi({key:"label-implicit"},n)):Ti(t)?_.createElement(sn,Wi({key:"label-implicit",value:t},n)):_.isValidElement(t)?t.type===sn?_.cloneElement(t,bt({key:"label-implicit"},n)):_.createElement(sn,Wi({key:"label-implicit",content:t},n)):vk(t)?_.createElement(sn,Wi({key:"label-implicit",content:t},n)):t&&typeof t=="object"?_.createElement(sn,Wi({},t,{key:"label-implicit"},n)):null},Qse=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var{children:i,labelRef:a}=e,o=H3(e),s=Nf(i,sn).map((c,u)=>_.cloneElement(c,{viewBox:r||o,key:"label-".concat(u)}));if(!n)return s;var l=Yse(e.label,r||o,a);return[l,...s]};sn.parseViewBox=H3;sn.renderCallByParent=Qse;var G3={},Y3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r[r.length-1]}t.last=e})(Y3);var Q3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Array.isArray(r)?r:Array.from(r)}t.toArray=e})(Q3);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Y3,r=Q3,n=by;function i(a){if(n.isArrayLike(a))return e.last(r.toArray(a))}t.last=i})(G3);var Xse=G3.last;const Jse=bn(Xse);var Zse=["valueAccessor"],ele=["data","dataKey","clockWise","id","textBreakAll"];function tg(){return tg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tg.apply(null,arguments)}function tO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tO(Object(r),!0).forEach(function(n){tle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tle(t,e,r){return(e=rle(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rle(t){var e=nle(t,"string");return typeof e=="symbol"?e:e+""}function nle(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nO(t,e){if(t==null)return{};var r,n,i=ile(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function ile(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var ale=t=>Array.isArray(t.value)?Jse(t.value):t.value;function _o(t){var{valueAccessor:e=ale}=t,r=nO(t,Zse),{data:n,dataKey:i,clockWise:a,id:o,textBreakAll:s}=r,l=nO(r,ele);return!n||!n.length?null:_.createElement(Nr,{className:"recharts-label-list"},n.map((c,u)=>{var d=lt(i)?e(c,u):Ge(c&&c.payload,i),h=lt(o)?{}:{id:"".concat(o,"-").concat(u)};return _.createElement(sn,tg({},ut(c,!0),l,h,{parentViewBox:c.parentViewBox,value:d,textBreakAll:s,viewBox:sn.parseViewBox(lt(a)?c:rO(rO({},c),{},{clockWise:a})),key:"label-".concat(u),index:u}))}))}_o.displayName="LabelList";function ole(t,e){return t?t===!0?_.createElement(_o,{key:"labelList-implicit",data:e}):_.isValidElement(t)||vk(t)?_.createElement(_o,{key:"labelList-implicit",data:e,content:t}):typeof t=="object"?_.createElement(_o,tg({data:e},t,{key:"labelList-implicit"})):null:null}function sle(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var{children:n}=t,i=Nf(n,_o).map((o,s)=>_.cloneElement(o,{data:e,key:"labelList-".concat(s)}));if(!r)return i;var a=ole(t.label,e);return[a,...i]}_o.renderCallByParent=sle;function s_(){return s_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},s_.apply(null,arguments)}var X3=t=>{var{cx:e,cy:r,r:n,className:i}=t,a=Me("recharts-dot",i);return e===+e&&r===+r&&n===+n?_.createElement("circle",s_({},xa(t),Mx(t),{className:a,cx:e,cy:r,r:n})):null},J3=t=>t.graphicalItems.polarItems,lle=$([ht,Vf],KE),wk=$([J3,Ot,lle],HE),cle=$([wk],GE),bk=$([cle,ME],YE),ule=$([bk,Ot,wk],XE),dle=$([bk,Ot,wk],(t,e,r)=>r.length>0?t.flatMap(n=>r.flatMap(i=>{var a,o=Ge(n,(a=e.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:Ge(n,e.dataKey),errorDomain:[]})):t.map(n=>({value:n,errorDomain:[]}))),iO=()=>{},fle=$([Ot,Z$,iO,dle,iO,Oe,ht],ZE),Z3=$([Ot,Oe,bk,ule,$f,ht,fle],ek),hle=$([Z3,Ot,zc],nk);$([Ot,Z3,hle,ht],ak);var ple={radiusAxis:{},angleAxis:{}},eV=kn({name:"polarAxis",initialState:ple,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}});eV.actions;var mle=eV.reducer;function aO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aO(Object(r),!0).forEach(function(n){gle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gle(t,e,r){return(e=yle(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yle(t){var e=vle(t,"string");return typeof e=="symbol"?e:e+""}function vle(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wle=(t,e)=>e,_k=$([J3,wle],(t,e)=>t.filter(r=>r.type==="pie").find(r=>r.id===e)),ble=[],xk=(t,e,r)=>(r==null?void 0:r.length)===0?ble:r,tV=$([ME,_k,xk],(t,e,r)=>{var{chartData:n}=t;if(e!=null){var i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(a=>oO(oO({},e.presentationProps),a.props))),i!=null)return i}}),_le=$([tV,_k,xk],(t,e,r)=>{if(!(t==null||e==null))return t.map((n,i)=>{var a,o=Ge(n,e.nameKey,e.name),s;return r!=null&&(a=r[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?s=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?s=n.fill:s=e.fill,{value:jc(o,e.dataKey),color:s,payload:n,type:e.legendType}})}),xle=$([tV,_k,xk,Wt],(t,e,r,n)=>{if(!(e==null||t==null))return hce({offset:n,pieSettings:e,displayedData:t,cells:r})}),rV={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}t.isPlainObject=e})(rV);var Ele=rV.isPlainObject;const kle=bn(Ele);function rg(){return rg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rg.apply(null,arguments)}var sO=(t,e,r,n,i)=>{var a=r-n,o;return o="M ".concat(t,",").concat(e),o+="L ".concat(t+r,",").concat(e),o+="L ".concat(t+r-a/2,",").concat(e+i),o+="L ".concat(t+r-a/2-n,",").concat(e+i),o+="L ".concat(t,",").concat(e," Z"),o},Sle={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Tle=t=>{var e=Sn(t,Sle),r=_.useRef(),[n,i]=_.useState(-1);_.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var b=r.current.getTotalLength();b&&i(b)}catch{}},[]);var{x:a,y:o,upperWidth:s,lowerWidth:l,height:c,className:u}=e,{animationEasing:d,animationDuration:h,animationBegin:p,isUpdateAnimationActive:m}=e;if(a!==+a||o!==+o||s!==+s||l!==+l||c!==+c||s===0&&l===0||c===0)return null;var g=Me("recharts-trapezoid",u);return m?_.createElement(Fm,{canBegin:n>0,from:{upperWidth:0,lowerWidth:0,height:c,x:a,y:o},to:{upperWidth:s,lowerWidth:l,height:c,x:a,y:o},duration:h,animationEasing:d,isActive:m},b=>{var{upperWidth:w,lowerWidth:x,height:E,x:C,y:I}=b;return _.createElement(Fm,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:h,easing:d},_.createElement("path",rg({},ut(e,!0),{className:g,d:sO(C,I,w,x,E),ref:r})))}):_.createElement("g",null,_.createElement("path",rg({},ut(e,!0),{className:g,d:sO(a,o,s,l,c)})))},Ale=["option","shapeType","propTransformer","activeClassName","isActive"];function Ple(t,e){if(t==null)return{};var r,n,i=Ile(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Ile(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function lO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ng(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lO(Object(r),!0).forEach(function(n){Cle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cle(t,e,r){return(e=Ole(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ole(t){var e=Nle(t,"string");return typeof e=="symbol"?e:e+""}function Nle(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dle(t,e){return ng(ng({},e),t)}function Rle(t,e){return t==="symbols"}function cO(t){var{shapeType:e,elementProps:r}=t;switch(e){case"rectangle":return _.createElement(Aj,r);case"trapezoid":return _.createElement(Tle,r);case"sector":return _.createElement(Cj,r);case"symbols":if(Rle(e))return _.createElement(Fx,r);break;default:return null}}function Mle(t){return _.isValidElement(t)?t.props:t}function nV(t){var{option:e,shapeType:r,propTransformer:n=Dle,activeClassName:i="recharts-active-shape",isActive:a}=t,o=Ple(t,Ale),s;if(_.isValidElement(e))s=_.cloneElement(e,ng(ng({},o),Mle(e)));else if(typeof e=="function")s=e(o);else if(kle(e)&&typeof e!="boolean"){var l=n(e,o);s=_.createElement(cO,{shapeType:r,elementProps:l})}else{var c=o;s=_.createElement(cO,{shapeType:r,elementProps:c})}return a?_.createElement(Nr,{className:i},s):s}var Ek=(t,e)=>{var r=vt();return(n,i)=>a=>{t==null||t(n,i,a),r(m3({activeIndex:String(i),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}},kk=t=>{var e=vt();return(r,n)=>i=>{t==null||t(r,n,i),e($ae())}},Sk=(t,e)=>{var r=vt();return(n,i)=>a=>{t==null||t(n,i,a),r(Vae({activeIndex:String(i),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}};function Tk(t){var{fn:e,args:r}=t,n=vt(),i=Zr();return _.useEffect(()=>{if(!i){var a=e(r);return n(Mae(a)),()=>{n(Lae(a))}}},[e,r,n,i]),null}var iV=()=>{};function aV(t){var{legendPayload:e}=t,r=vt(),n=Zr();return _.useEffect(()=>n?iV:(r(pj(e)),()=>{r(mj(e))}),[r,n,e]),null}function Lle(t){var{legendPayload:e}=t,r=vt(),n=oe(Oe);return _.useEffect(()=>n!=="centric"&&n!=="radial"?iV:(r(pj(e)),()=>{r(mj(e))}),[r,n,e]),null}function Ak(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=_.useRef(Hd(e)),n=_.useRef(t);return n.current!==t&&(r.current=Hd(e),n.current=t),r.current}var T0,jle=()=>{var[t]=_.useState(()=>Hd("uid-"));return t},$le=(T0=UO["useId".toString()])!==null&&T0!==void 0?T0:jle;function Vle(t,e){var r=$le();return e||(t?"".concat(t,"-").concat(r):r)}var Fle=_.createContext(void 0),Pk=t=>{var{id:e,type:r,children:n}=t,i=Vle("recharts-".concat(r),e);return _.createElement(Fle.Provider,{value:i},n(i))},Ule={cartesianItems:[],polarItems:[]},oV=kn({name:"graphicalItems",initialState:Ule,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:r,next:n}=e.payload,i=ra(t).cartesianItems.indexOf(r);i>-1&&(t.cartesianItems[i]=n)},removeCartesianGraphicalItem(t,e){var r=ra(t).cartesianItems.indexOf(e.payload);r>-1&&t.cartesianItems.splice(r,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var r=ra(t).polarItems.indexOf(e.payload);r>-1&&t.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:Ble,replaceCartesianGraphicalItem:zle,removeCartesianGraphicalItem:Wle,addPolarGraphicalItem:qle,removePolarGraphicalItem:Kle}=oV.actions,Hle=oV.reducer;function sV(t){var e=vt(),r=_.useRef(null);return _.useEffect(()=>{r.current===null?e(Ble(t)):r.current!==t&&e(zle({prev:r.current,next:t})),r.current=t},[e,t]),_.useEffect(()=>()=>{r.current&&(e(Wle(r.current)),r.current=null)},[e]),null}function Gle(t){var e=vt();return _.useEffect(()=>(e(qle(t)),()=>{e(Kle(t))}),[e,t]),null}function Yle(){}var Qle={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},uO={t:0},A0={t:1};function Ik(t){var e=Sn(t,Qle),{isActive:r,canBegin:n,duration:i,easing:a,begin:o,onAnimationEnd:s,onAnimationStart:l,children:c}=e,u=Tj("JavascriptAnimate",e.animationManager),[d,h]=_.useState(r?uO:A0),p=_.useRef(null);return _.useEffect(()=>{r||h(A0)},[r]),_.useEffect(()=>{if(!r||!n)return Yle;var m=Sj(uO,A0,Ej(a),i,h,u.getTimeoutController()),g=()=>{p.current=m()};return u.start([l,o,g,i,s]),()=>{u.stop(),p.current&&p.current(),s()}},[r,n,i,a,o,l,s,u]),c(d.t)}var Xle=["onMouseEnter","onClick","onMouseLeave"],Jle=["id"],Zle=["id"];function Ck(t,e){if(t==null)return{};var r,n,i=ece(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function ece(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function dO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dO(Object(r),!0).forEach(function(n){tce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tce(t,e,r){return(e=rce(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rce(t){var e=nce(t,"string");return typeof e=="symbol"?e:e+""}function nce(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function va(){return va=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},va.apply(null,arguments)}function ice(t){var e=_.useMemo(()=>Nf(t.children,qf),[t.children]),r=oe(n=>_le(n,t.id,e));return r==null?null:_.createElement(Lle,{legendPayload:r})}function ace(t){var{dataKey:e,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:o,name:s,hide:l,tooltipType:c}=t;return{dataDefinedOnItem:n==null?void 0:n.map(u=>u.tooltipPayload),positions:n==null?void 0:n.map(u=>u.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:o,dataKey:e,nameKey:r,name:jc(s,e),hide:l,type:c,color:o,unit:""}}}var oce=(t,e)=>t>e?"start":t<e?"end":"middle",sce=(t,e,r)=>typeof e=="function"?e(t):Fr(e,r,r*.8),lce=(t,e,r)=>{var{top:n,left:i,width:a,height:o}=e,s=ij(a,o),l=i+Fr(t.cx,a,a/2),c=n+Fr(t.cy,o,o/2),u=Fr(t.innerRadius,s,0),d=sce(r,t.outerRadius,s),h=t.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:h}},cce=(t,e)=>{var r=rr(e-t),n=Math.min(Math.abs(e-t),360);return r*n},uce=(t,e)=>{if(_.isValidElement(t))return _.cloneElement(t,e);if(typeof t=="function")return t(e);var r=Me("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return _.createElement(uE,va({},e,{type:"linear",className:r}))},dce=(t,e,r)=>{if(_.isValidElement(t))return _.cloneElement(t,e);var n=r;if(typeof t=="function"&&(n=t(e),_.isValidElement(n)))return n;var i=Me("recharts-pie-label-text",typeof t!="boolean"&&typeof t!="function"?t.className:"");return _.createElement(Zy,va({},e,{alignmentBaseline:"middle",className:i}),n)};function fce(t){var{sectors:e,props:r,showLabels:n}=t,{label:i,labelLine:a,dataKey:o}=r;if(!n||!i||!e)return null;var s=xa(r),l=ut(i,!1),c=ut(a,!1),u=typeof i=="object"&&"offsetRadius"in i&&i.offsetRadius||20,d=e.map((h,p)=>{var m=(h.startAngle+h.endAngle)/2,g=$t(h.cx,h.cy,h.outerRadius+u,m),b=xt(xt(xt(xt({},s),h),{},{stroke:"none"},l),{},{index:p,textAnchor:oce(g.x,h.cx)},g),w=xt(xt(xt(xt({},s),h),{},{fill:"none",stroke:h.fill},c),{},{index:p,points:[$t(h.cx,h.cy,h.outerRadius,m),g],key:"line"});return _.createElement(Nr,{key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(p)},a&&uce(a,w),dce(i,b,Ge(h,o)))});return _.createElement(Nr,{className:"recharts-pie-labels"},d)}function lV(t){var{sectors:e,activeShape:r,inactiveShape:n,allOtherPieProps:i,showLabels:a}=t,o=oe(Oo),{onMouseEnter:s,onClick:l,onMouseLeave:c}=i,u=Ck(i,Xle),d=Ek(s,i.dataKey),h=kk(c),p=Sk(l,i.dataKey);return e==null?null:_.createElement(_.Fragment,null,e.map((m,g)=>{if((m==null?void 0:m.startAngle)===0&&(m==null?void 0:m.endAngle)===0&&e.length!==1)return null;var b=r&&String(g)===o,w=o?n:null,x=b?r:w,E=xt(xt({},m),{},{stroke:m.stroke,tabIndex:-1,[cj]:g,[uj]:i.dataKey});return _.createElement(Nr,va({tabIndex:-1,className:"recharts-pie-sector"},Of(u,m,g),{onMouseEnter:d(m,g),onMouseLeave:h(m,g),onClick:p(m,g),key:"sector-".concat(m==null?void 0:m.startAngle,"-").concat(m==null?void 0:m.endAngle,"-").concat(m.midAngle,"-").concat(g)}),_.createElement(nV,va({option:x,isActive:b,shapeType:"sector"},E)))}),_.createElement(fce,{sectors:e,props:i,showLabels:a}))}function hce(t){var e,{pieSettings:r,displayedData:n,cells:i,offset:a}=t,{cornerRadius:o,startAngle:s,endAngle:l,dataKey:c,nameKey:u,tooltipType:d}=r,h=Math.abs(r.minAngle),p=cce(s,l),m=Math.abs(p),g=n.length<=1?0:(e=r.paddingAngle)!==null&&e!==void 0?e:0,b=n.filter(M=>Ge(M,c,0)!==0).length,w=(m>=360?b:b-1)*g,x=m-b*h-w,E=n.reduce((M,T)=>{var S=Ge(T,c,0);return M+(te(S)?S:0)},0),C;if(E>0){var I;C=n.map((M,T)=>{var S=Ge(M,c,0),N=Ge(M,u,T),L=lce(r,a,M),D=(te(S)?S:0)/E,O,P=xt(xt({},M),i&&i[T]&&i[T].props);T?O=I.endAngle+rr(p)*g*(S!==0?1:0):O=s;var U=O+rr(p)*((S!==0?h:0)+D*x),ee=(O+U)/2,G=(L.innerRadius+L.outerRadius)/2,de=[{name:N,value:S,payload:P,dataKey:c,type:d}],W=$t(L.cx,L.cy,G,ee);return I=xt(xt(xt(xt({},r.presentationProps),{},{percent:D,cornerRadius:o,name:N,tooltipPayload:de,midAngle:ee,middleRadius:G,tooltipPosition:W},P),L),{},{value:Ge(M,c),startAngle:O,endAngle:U,payload:P,paddingAngle:rr(p)*g}),I})}return C}function pce(t){var{props:e,previousSectorsRef:r}=t,{sectors:n,isAnimationActive:i,animationBegin:a,animationDuration:o,animationEasing:s,activeShape:l,inactiveShape:c,onAnimationStart:u,onAnimationEnd:d}=e,h=Ak(e,"recharts-pie-"),p=r.current,[m,g]=_.useState(!0),b=_.useCallback(()=>{typeof d=="function"&&d(),g(!1)},[d]),w=_.useCallback(()=>{typeof u=="function"&&u(),g(!0)},[u]);return _.createElement(Ik,{begin:a,duration:o,isActive:i,easing:s,onAnimationStart:w,onAnimationEnd:b,key:h},x=>{var E=[],C=n&&n[0],I=C.startAngle;return n.forEach((M,T)=>{var S=p&&p[T],N=T>0?Po(M,"paddingAngle",0):0;if(S){var L=FP(S.endAngle-S.startAngle,M.endAngle-M.startAngle),D=xt(xt({},M),{},{startAngle:I+N,endAngle:I+L(x)+N});E.push(D),I=D.endAngle}else{var{endAngle:O,startAngle:P}=M,U=FP(0,O-P),ee=U(x),G=xt(xt({},M),{},{startAngle:I+N,endAngle:I+ee+N});E.push(G),I=G.endAngle}}),r.current=E,_.createElement(Nr,null,_.createElement(lV,{sectors:E,activeShape:l,inactiveShape:c,allOtherPieProps:e,showLabels:!m}))})}function mce(t){var{sectors:e,isAnimationActive:r,activeShape:n,inactiveShape:i}=t,a=_.useRef(null),o=a.current;return r&&e&&e.length&&(!o||o!==e)?_.createElement(pce,{props:t,previousSectorsRef:a}):_.createElement(lV,{sectors:e,activeShape:n,inactiveShape:i,allOtherPieProps:t,showLabels:!0})}function gce(t){var{hide:e,className:r,rootTabIndex:n}=t,i=Me("recharts-pie",r);return e?null:_.createElement(Nr,{tabIndex:n,className:i},_.createElement(mce,t))}var yce={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!rl.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function vce(t){var{id:e}=t,r=Ck(t,Jle),n=_.useMemo(()=>Nf(t.children,qf),[t.children]),i=oe(a=>xle(a,e,n));return _.createElement(_.Fragment,null,_.createElement(Tk,{fn:ace,args:xt(xt({},t),{},{sectors:i})}),_.createElement(gce,va({},r,{sectors:i})))}function cV(t){var e=Sn(t,yce),{id:r}=e,n=Ck(e,Zle),i=xa(n);return _.createElement(Pk,{id:r,type:"pie"},a=>_.createElement(_.Fragment,null,_.createElement(Gle,{type:"pie",id:a,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i}),_.createElement(ice,va({},n,{id:a})),_.createElement(vce,va({},n,{id:a})),n.children))}cV.displayName="Pie";var wce=$([Wt],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),bce=$([wce,Ea,ka],(t,e,r)=>{if(!(!t||e==null||r==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,r-t.top-t.bottom)}}),Ok=()=>oe(bce),_ce=()=>oe(Soe);function fO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fO(Object(r),!0).forEach(function(n){xce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xce(t,e,r){return(e=Ece(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ece(t){var e=kce(t,"string");return typeof e=="symbol"?e:e+""}function kce(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sce=t=>{var{point:e,childIndex:r,mainColor:n,activeDot:i,dataKey:a}=t;if(i===!1||e.x==null||e.y==null)return null;var o=hO(hO({index:r,dataKey:a,cx:e.x,cy:e.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},ut(i,!1)),Mx(i)),s;return _.isValidElement(i)?s=_.cloneElement(i,o):typeof i=="function"?s=i(o):s=_.createElement(X3,o),_.createElement(Nr,{className:"recharts-active-dot"},s)};function Tce(t){var{points:e,mainColor:r,activeDot:n,itemDataKey:i}=t,a=oe(Oo),o=_ce();if(e==null||o==null)return null;var s=e.find(l=>o.includes(l.payload));return lt(s)?null:Sce({point:s,childIndex:Number(a),mainColor:r,dataKey:i,activeDot:n})}var Ace=!0,P0="Invariant failed";function Pce(t,e){if(!t){if(Ace)throw new Error(P0);var r=typeof e=="function"?e():e,n=r?"".concat(P0,": ").concat(r):P0;throw new Error(n)}}var Ice=["x","y"];function l_(){return l_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},l_.apply(null,arguments)}function pO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Du(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pO(Object(r),!0).forEach(function(n){Cce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cce(t,e,r){return(e=Oce(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Oce(t){var e=Nce(t,"string");return typeof e=="symbol"?e:e+""}function Nce(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dce(t,e){if(t==null)return{};var r,n,i=Rce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Rce(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Mce(t,e){var{x:r,y:n}=t,i=Dce(t,Ice),a="".concat(r),o=parseInt(a,10),s="".concat(n),l=parseInt(s,10),c="".concat(e.height||i.height),u=parseInt(c,10),d="".concat(e.width||i.width),h=parseInt(d,10);return Du(Du(Du(Du(Du({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:h,name:e.name,radius:e.radius})}function uV(t){return _.createElement(nV,l_({shapeType:"rectangle",propTransformer:Mce,activeClassName:"recharts-active-bar"},t))}var Lce=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(te(e))return e;var a=te(n)||lt(n);return a?e(n,i):(a||Pce(!1),r)}},jce={},dV=kn({name:"errorBars",initialState:jce,reducers:{addErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]||(t[r]=[]),t[r].push(n)},removeErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]&&(t[r]=t[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}});dV.actions;var $ce=dV.reducer,Vce=["children"];function Fce(t,e){if(t==null)return{};var r,n,i=Uce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Uce(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Bce={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},zce=_.createContext(Bce);function fV(t){var{children:e}=t,r=Fce(t,Vce);return _.createElement(zce.Provider,{value:r},e)}function Nk(t,e){var r,n,i=oe(c=>Ta(c,t)),a=oe(c=>Ko(c,e)),o=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:rn.allowDataOverflow,s=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:nn.allowDataOverflow,l=o||s;return{needClip:l,needClipX:o,needClipY:s}}function hV(t){var{xAxisId:e,yAxisId:r,clipPathId:n}=t,i=Ok(),{needClipX:a,needClipY:o,needClip:s}=Nk(e,r);if(!s)return null;var{x:l,y:c,width:u,height:d}=i;return _.createElement("clipPath",{id:"clipPath-".concat(n)},_.createElement("rect",{x:a?l:l-u/2,y:o?c:c-d/2,width:a?u:u*2,height:o?d:d*2}))}var Wce=["onMouseEnter","onMouseLeave","onClick"],qce=["value","background","tooltipPosition"],Kce=["id"],Hce=["onMouseEnter","onClick","onMouseLeave"];function Ec(){return Ec=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ec.apply(null,arguments)}function mO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mO(Object(r),!0).forEach(function(n){Gce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gce(t,e,r){return(e=Yce(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yce(t){var e=Qce(t,"string");return typeof e=="symbol"?e:e+""}function Qce(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ig(t,e){if(t==null)return{};var r,n,i=Xce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Xce(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Jce=t=>{var{dataKey:e,name:r,fill:n,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:n,value:jc(r,e),payload:t}]};function Zce(t){var{dataKey:e,stroke:r,strokeWidth:n,fill:i,name:a,hide:o,unit:s}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:e,nameKey:void 0,name:jc(a,e),hide:o,type:t.tooltipType,color:t.fill,unit:s}}}function eue(t){var e=oe(Oo),{data:r,dataKey:n,background:i,allOtherBarProps:a}=t,{onMouseEnter:o,onMouseLeave:s,onClick:l}=a,c=ig(a,Wce),u=Ek(o,n),d=kk(s),h=Sk(l,n);if(!i||r==null)return null;var p=ut(i,!1);return _.createElement(_.Fragment,null,r.map((m,g)=>{var{value:b,background:w,tooltipPosition:x}=m,E=ig(m,qce);if(!w)return null;var C=u(m,g),I=d(m,g),M=h(m,g),T=Pr(Pr(Pr(Pr(Pr({option:i,isActive:String(g)===e},E),{},{fill:"#eee"},w),p),Of(c,m,g)),{},{onMouseEnter:C,onMouseLeave:I,onClick:M,dataKey:n,index:g,className:"recharts-bar-background-rectangle"});return _.createElement(uV,Ec({key:"background-bar-".concat(g)},T))}))}function pV(t){var{data:e,props:r,showLabels:n}=t,i=xa(r),a=ig(i,Kce),{shape:o,dataKey:s,activeBar:l}=r,c=oe(Oo),u=oe(P3),{onMouseEnter:d,onClick:h,onMouseLeave:p}=r,m=ig(r,Hce),g=Ek(d,s),b=kk(p),w=Sk(h,s);return e?_.createElement(_.Fragment,null,e.map((x,E)=>{var C=l&&String(E)===c&&(u==null||s===u),I=C?l:o,M=Pr(Pr(Pr({},a),x),{},{isActive:C,option:I,index:E,dataKey:s});return _.createElement(Nr,Ec({className:"recharts-bar-rectangle"},Of(m,x,E),{onMouseEnter:g(x,E),onMouseLeave:b(x,E),onClick:w(x,E),key:"rectangle-".concat(x==null?void 0:x.x,"-").concat(x==null?void 0:x.y,"-").concat(x==null?void 0:x.value,"-").concat(E)}),_.createElement(uV,M))}),n&&_o.renderCallByParent(r,e)):null}function tue(t){var{props:e,previousRectanglesRef:r}=t,{data:n,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:s,animationEasing:l,onAnimationEnd:c,onAnimationStart:u}=e,d=r.current,h=Ak(e,"recharts-bar-"),[p,m]=_.useState(!1),g=_.useCallback(()=>{typeof c=="function"&&c(),m(!1)},[c]),b=_.useCallback(()=>{typeof u=="function"&&u(),m(!0)},[u]);return _.createElement(Ik,{begin:o,duration:s,isActive:a,easing:l,onAnimationEnd:g,onAnimationStart:b,key:h},w=>{var x=w===1?n:n==null?void 0:n.map((E,C)=>{var I=d&&d[C];if(I)return Pr(Pr({},E),{},{x:Xn(I.x,E.x,w),y:Xn(I.y,E.y,w),width:Xn(I.width,E.width,w),height:Xn(I.height,E.height,w)});if(i==="horizontal"){var M=Xn(0,E.height,w);return Pr(Pr({},E),{},{y:E.y+E.height-M,height:M})}var T=Xn(0,E.width,w);return Pr(Pr({},E),{},{width:T})});return w>0&&(r.current=x??null),x==null?null:_.createElement(Nr,null,_.createElement(pV,{props:e,data:x,showLabels:!p}))})}function rue(t){var{data:e,isAnimationActive:r}=t,n=_.useRef(null);return r&&e&&e.length&&(n.current==null||n.current!==e)?_.createElement(tue,{previousRectanglesRef:n,props:t}):_.createElement(pV,{props:t,data:e,showLabels:!0})}var mV=0,nue=(t,e)=>{var r=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:r,errorVal:Ge(t,e)}};class iue extends _.PureComponent{render(){var{hide:e,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:o,needClip:s,background:l,id:c}=this.props;if(e)return null;var u=Me("recharts-bar",i),d=c;return _.createElement(Nr,{className:u,id:c},s&&_.createElement("defs",null,_.createElement(hV,{clipPathId:d,xAxisId:a,yAxisId:o})),_.createElement(Nr,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(d,")"):void 0},_.createElement(eue,{data:r,dataKey:n,background:l,allOtherBarProps:this.props}),_.createElement(rue,this.props)),this.props.children)}}var aue={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!rl.isSsr,legendType:"rect",minPointSize:mV,xAxisId:0,yAxisId:0};function oue(t){var{xAxisId:e,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:l,animationEasing:c,isAnimationActive:u}=t,{needClip:d}=Nk(e,r),h=My(),p=Zr(),m=Nf(t.children,qf),g=oe(x=>Due(x,e,r,p,t.id,m));if(h!=="vertical"&&h!=="horizontal")return null;var b,w=g==null?void 0:g[0];return w==null||w.height==null||w.width==null?b=0:b=h==="vertical"?w.height/2:w.width/2,_.createElement(fV,{xAxisId:e,yAxisId:r,data:g,dataPointFormatter:nue,errorBarOffset:b},_.createElement(iue,Ec({},t,{layout:h,needClip:d,data:g,xAxisId:e,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:l,animationEasing:c,isAnimationActive:u})))}function sue(t){var{layout:e,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:o,yAxis:s,xAxisTicks:l,yAxisTicks:c,stackedData:u,displayedData:d,offset:h,cells:p}=t,m=e==="horizontal"?s:o,g=u?m.scale.domain():null,b=lee({numericAxis:m});return d.map((w,x)=>{var E,C,I,M,T,S;u?E=ree(u[x],g):(E=Ge(w,r),Array.isArray(E)||(E=[b,E]));var N=Lce(n,mV)(E[1],x);if(e==="horizontal"){var L,[D,O]=[s.scale(E[0]),s.scale(E[1])];C=vI({axis:o,ticks:l,bandSize:a,offset:i.offset,entry:w,index:x}),I=(L=O??D)!==null&&L!==void 0?L:void 0,M=i.size;var P=D-O;if(T=gn(P)?0:P,S={x:C,y:h.top,width:M,height:h.height},Math.abs(N)>0&&Math.abs(T)<Math.abs(N)){var U=rr(T||N)*(Math.abs(N)-Math.abs(T));I-=U,T+=U}}else{var[ee,G]=[o.scale(E[0]),o.scale(E[1])];if(C=ee,I=vI({axis:s,ticks:c,bandSize:a,offset:i.offset,entry:w,index:x}),M=G-ee,T=i.size,S={x:h.left,y:I,width:h.width,height:T},Math.abs(N)>0&&Math.abs(M)<Math.abs(N)){var de=rr(M||N)*(Math.abs(N)-Math.abs(M));M+=de}}if(C==null||I==null||M==null||T==null)return null;var W=Pr(Pr({},w),{},{x:C,y:I,width:M,height:T,value:u?E:E[1],payload:w,background:S,tooltipPosition:{x:C+M/2,y:I+T/2}},p&&p[x]&&p[x].props);return W}).filter(Boolean)}function Gu(t){var e=Sn(t,aue),r=Zr();return _.createElement(Pk,{id:e.id,type:"bar"},n=>_.createElement(_.Fragment,null,_.createElement(aV,{legendPayload:Jce(e)}),_.createElement(Tk,{fn:Zce,args:e}),_.createElement(sV,{type:"bar",id:n,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:see(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),_.createElement(oue,Ec({},e,{id:n}))))}Gu.displayName="Bar";function gO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ip(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gO(Object(r),!0).forEach(function(n){lue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lue(t,e,r){return(e=cue(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cue(t){var e=uue(t,"string");return typeof e=="symbol"?e:e+""}function uue(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var due=(t,e)=>e,fue=(t,e,r)=>r,hue=(t,e,r,n)=>n,pue=(t,e,r,n,i)=>i,Kf=$([Hy,pue],(t,e)=>t.filter(r=>r.type==="bar").find(r=>r.id===e)),mue=$([Kf],t=>t==null?void 0:t.maxBarSize),gue=(t,e,r,n,i,a)=>a,yO=(t,e,r)=>{var n=r??t;if(!lt(n))return Fr(n,e,0)},yue=$([Oe,Hy,due,fue,hue],(t,e,r,n,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),vue=(t,e,r,n)=>{var i=Oe(t);return i==="horizontal"?t_(t,"yAxis",r,n):t_(t,"xAxis",e,n)},wue=(t,e,r)=>{var n=Oe(t);return n==="horizontal"?IC(t,"xAxis",e):IC(t,"yAxis",r)},bue=(t,e,r)=>{var n={},i=t.filter(Ky),a=t.filter(c=>c.stackId==null),o=i.reduce((c,u)=>(c[u.stackId]||(c[u.stackId]=[]),c[u.stackId].push(u),c),n),s=Object.entries(o).map(c=>{var[u,d]=c,h=d.map(m=>m.dataKey),p=yO(e,r,d[0].barSize);return{stackId:u,dataKeys:h,barSize:p}}),l=a.map(c=>{var u=[c.dataKey].filter(h=>h!=null),d=yO(e,r,c.barSize);return{stackId:void 0,dataKeys:u,barSize:d}});return[...s,...l]},_ue=$([yue,Lie,wue],bue),xue=(t,e,r,n,i)=>{var a,o,s=Kf(t,e,r,n,i);if(s!=null){var l=Oe(t),c=I$(t),{maxBarSize:u}=s,d=lt(u)?c:u,h,p;return l==="horizontal"?(h=Co(t,"xAxis",e,n),p=Io(t,"xAxis",e,n)):(h=Co(t,"yAxis",r,n),p=Io(t,"yAxis",r,n)),(a=(o=Qd(h,p,!0))!==null&&o!==void 0?o:d)!==null&&a!==void 0?a:0}},gV=(t,e,r,n)=>{var i=Oe(t),a,o;return i==="horizontal"?(a=Co(t,"xAxis",e,n),o=Io(t,"xAxis",e,n)):(a=Co(t,"yAxis",r,n),o=Io(t,"yAxis",r,n)),Qd(a,o)};function Eue(t,e,r,n,i){var a=n.length;if(!(a<1)){var o=Fr(t,r,0,!0),s,l=[];if(wn(n[0].barSize)){var c=!1,u=r/a,d=n.reduce((w,x)=>w+(x.barSize||0),0);d+=(a-1)*o,d>=r&&(d-=(a-1)*o,o=0),d>=r&&u>0&&(c=!0,u*=.9,d=a*u);var h=(r-d)/2>>0,p={offset:h-o,size:0};s=n.reduce((w,x)=>{var E,C={stackId:x.stackId,dataKeys:x.dataKeys,position:{offset:p.offset+p.size+o,size:c?u:(E=x.barSize)!==null&&E!==void 0?E:0}},I=[...w,C];return p=I[I.length-1].position,I},l)}else{var m=Fr(e,r,0,!0);r-2*m-(a-1)*o<=0&&(o=0);var g=(r-2*m-(a-1)*o)/a;g>1&&(g>>=0);var b=wn(i)?Math.min(g,i):g;s=n.reduce((w,x,E)=>[...w,{stackId:x.stackId,dataKeys:x.dataKeys,position:{offset:m+(g+o)*E+(g-b)/2,size:b}}],l)}return s}}var kue=(t,e,r,n,i,a,o)=>{var s=lt(o)?e:o,l=Eue(r,n,i!==a?i:a,t,s);return i!==a&&l!=null&&(l=l.map(c=>ip(ip({},c),{},{position:ip(ip({},c.position),{},{offset:c.position.offset-i/2})}))),l},Sue=$([_ue,I$,Mie,C$,xue,gV,mue],kue),Tue=(t,e,r,n)=>Co(t,"xAxis",e,n),Aue=(t,e,r,n)=>Co(t,"yAxis",r,n),Pue=(t,e,r,n)=>Io(t,"xAxis",e,n),Iue=(t,e,r,n)=>Io(t,"yAxis",r,n),Cue=$([Sue,Kf],(t,e)=>{if(!(t==null||e==null)){var r=t.find(n=>n.stackId===e.stackId&&e.dataKey!=null&&n.dataKeys.includes(e.dataKey));if(r!=null)return r.position}}),Oue=(t,e)=>{var r=WE(e);if(!(!t||r==null||e==null)){var{stackId:n}=e;if(n!=null){var i=t[n];if(i){var{stackedData:a}=i;if(a)return a.find(o=>o.key===r)}}}},Nue=$([vue,Kf],Oue),Due=$([Wt,Tue,Aue,Pue,Iue,Cue,Oe,By,gV,Nue,Kf,gue],(t,e,r,n,i,a,o,s,l,c,u,d)=>{var{chartData:h,dataStartIndex:p,dataEndIndex:m}=s;if(!(u==null||a==null||o!=="horizontal"&&o!=="vertical"||e==null||r==null||n==null||i==null||l==null)){var{data:g}=u,b;if(g!=null&&g.length>0?b=g:b=h==null?void 0:h.slice(p,m+1),b!=null)return sue({layout:o,barSettings:u,pos:a,bandSize:l,xAxis:e,yAxis:r,xAxisTicks:n,yAxisTicks:i,stackedData:c,displayedData:b,offset:t,cells:d})}}),yV=t=>{var{chartData:e}=t,r=vt(),n=Zr();return _.useEffect(()=>n?()=>{}:(r($C(e)),()=>{r($C(void 0))}),[e,r,n]),null},vO={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},vV=kn({name:"brush",initialState:vO,reducers:{setBrushSettings(t,e){return e.payload==null?vO:e.payload}}});vV.actions;var Rue=vV.reducer;function Mue(t,e,r){return(e=Lue(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lue(t){var e=jue(t,"string");return typeof e=="symbol"?e:e+""}function jue(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Dk{static create(e){return new Dk(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(n)switch(n){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}isInRange(e){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?e>=n&&e<=i:e>=i&&e<=n}}Mue(Dk,"EPS",1e-4);function $ue(t){return(t%180+180)%180}var Vue=function(e){var{width:r,height:n}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=$ue(i),o=a*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},Fue={dots:[],areas:[],lines:[]},wV=kn({name:"referenceElements",initialState:Fue,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var r=ra(t).dots.findIndex(n=>n===e.payload);r!==-1&&t.dots.splice(r,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var r=ra(t).areas.findIndex(n=>n===e.payload);r!==-1&&t.areas.splice(r,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var r=ra(t).lines.findIndex(n=>n===e.payload);r!==-1&&t.lines.splice(r,1)}}});wV.actions;var Uue=wV.reducer,Bue=_.createContext(void 0),zue=t=>{var{children:e}=t,[r]=_.useState("".concat(Hd("recharts"),"-clip")),n=Ok();if(n==null)return null;var{x:i,y:a,width:o,height:s}=n;return _.createElement(Bue.Provider,{value:r},_.createElement("defs",null,_.createElement("clipPath",{id:r},_.createElement("rect",{x:i,y:a,height:s,width:o}))),e)};function I0(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function bV(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)if(r===void 0||r(t[i])===!0)n.push(t[i]);else return;return n}function Wue(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Vue(n,r)}function que(t,e,r){var n=r==="width",{x:i,y:a,width:o,height:s}=t;return e===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function ag(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function Kue(t,e){return bV(t,e+1)}function Hue(t,e,r,n,i){for(var a=(n||[]).slice(),{start:o,end:s}=e,l=0,c=1,u=o,d=function(){var m=n==null?void 0:n[l];if(m===void 0)return{v:bV(n,c)};var g=l,b,w=()=>(b===void 0&&(b=r(m,g)),b),x=m.coordinate,E=l===0||ag(t,x,w,u,s);E||(l=0,u=o,c+=1),E&&(u=x+t*(w()/2+i),l+=c)},h;c<=a.length;)if(h=d(),h)return h.v;return[]}function wO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wO(Object(r),!0).forEach(function(n){Gue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gue(t,e,r){return(e=Yue(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yue(t){var e=Que(t,"string");return typeof e=="symbol"?e:e+""}function Que(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xue(t,e,r,n,i){for(var a=(n||[]).slice(),o=a.length,{start:s}=e,{end:l}=e,c=function(h){var p=a[h],m,g=()=>(m===void 0&&(m=r(p,h)),m);if(h===o-1){var b=t*(p.coordinate+t*g()/2-l);a[h]=p=kr(kr({},p),{},{tickCoord:b>0?p.coordinate-b*t:p.coordinate})}else a[h]=p=kr(kr({},p),{},{tickCoord:p.coordinate});var w=ag(t,p.tickCoord,g,s,l);w&&(l=p.tickCoord-t*(g()/2+i),a[h]=kr(kr({},p),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return a}function Jue(t,e,r,n,i,a){var o=(n||[]).slice(),s=o.length,{start:l,end:c}=e;if(a){var u=n[s-1],d=r(u,s-1),h=t*(u.coordinate+t*d/2-c);o[s-1]=u=kr(kr({},u),{},{tickCoord:h>0?u.coordinate-h*t:u.coordinate});var p=ag(t,u.tickCoord,()=>d,l,c);p&&(c=u.tickCoord-t*(d/2+i),o[s-1]=kr(kr({},u),{},{isShow:!0}))}for(var m=a?s-1:s,g=function(x){var E=o[x],C,I=()=>(C===void 0&&(C=r(E,x)),C);if(x===0){var M=t*(E.coordinate-t*I()/2-l);o[x]=E=kr(kr({},E),{},{tickCoord:M<0?E.coordinate-M*t:E.coordinate})}else o[x]=E=kr(kr({},E),{},{tickCoord:E.coordinate});var T=ag(t,E.tickCoord,I,l,c);T&&(l=E.tickCoord+t*(I()/2+i),o[x]=kr(kr({},E),{},{isShow:!0}))},b=0;b<m;b++)g(b);return o}function Rk(t,e,r){var{tick:n,ticks:i,viewBox:a,minTickGap:o,orientation:s,interval:l,tickFormatter:c,unit:u,angle:d}=t;if(!i||!i.length||!n)return[];if(te(l)||rl.isSsr){var h;return(h=Kue(i,te(l)?l:0))!==null&&h!==void 0?h:[]}var p=[],m=s==="top"||s==="bottom"?"width":"height",g=u&&m==="width"?hd(u,{fontSize:e,letterSpacing:r}):{width:0,height:0},b=(E,C)=>{var I=typeof c=="function"?c(E.value,C):E.value;return m==="width"?Wue(hd(I,{fontSize:e,letterSpacing:r}),g,d):hd(I,{fontSize:e,letterSpacing:r})[m]},w=i.length>=2?rr(i[1].coordinate-i[0].coordinate):1,x=que(a,w,m);return l==="equidistantPreserveStart"?Hue(w,x,b,i,o):(l==="preserveStart"||l==="preserveStartEnd"?p=Jue(w,x,b,i,o,l==="preserveStartEnd"):p=Xue(w,x,b,i,o),p.filter(E=>E.isShow))}var Zue=["viewBox"],ede=["viewBox"];function jl(){return jl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jl.apply(null,arguments)}function bO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ft(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bO(Object(r),!0).forEach(function(n){Mk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _O(t,e){if(t==null)return{};var r,n,i=tde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function tde(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Mk(t,e,r){return(e=rde(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rde(t){var e=nde(t,"string");return typeof e=="symbol"?e:e+""}function nde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Ho extends _.Component{constructor(e){super(e),this.tickRefs=_.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,r){var{viewBox:n}=e,i=_O(e,Zue),a=this.props,{viewBox:o}=a,s=_O(a,ede);return!I0(n,o)||!I0(i,s)||!I0(r,this.state)}getTickLineCoord(e){var{x:r,y:n,width:i,height:a,orientation:o,tickSize:s,mirror:l,tickMargin:c}=this.props,u,d,h,p,m,g,b=l?-1:1,w=e.tickSize||s,x=te(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":u=d=e.coordinate,p=n+ +!l*a,h=p-b*w,g=h-b*c,m=x;break;case"left":h=p=e.coordinate,d=r+ +!l*i,u=d-b*w,m=u-b*c,g=x;break;case"right":h=p=e.coordinate,d=r+ +l*i,u=d+b*w,m=u+b*c,g=x;break;default:u=d=e.coordinate,p=n+ +l*a,h=p+b*w,g=h+b*c,m=x;break}return{line:{x1:u,y1:h,x2:d,y2:p},tick:{x:m,y:g}}}getTickTextAnchor(){var{orientation:e,mirror:r}=this.props,n;switch(e){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:e,mirror:r}=this.props;switch(e){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:e,y:r,width:n,height:i,orientation:a,mirror:o,axisLine:s}=this.props,l=Ft(Ft(Ft({},ut(this.props,!1)),ut(s,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var c=+(a==="top"&&!o||a==="bottom"&&o);l=Ft(Ft({},l),{},{x1:e,y1:r+c*i,x2:e+n,y2:r+c*i})}else{var u=+(a==="left"&&!o||a==="right"&&o);l=Ft(Ft({},l),{},{x1:e+u*n,y1:r,x2:e+u*n,y2:r+i})}return _.createElement("line",jl({},l,{className:Me("recharts-cartesian-axis-line",Po(s,"className"))}))}static renderTickItem(e,r,n){var i,a=Me(r.className,"recharts-cartesian-axis-tick-value");if(_.isValidElement(e))i=_.cloneElement(e,Ft(Ft({},r),{},{className:a}));else if(typeof e=="function")i=e(Ft(Ft({},r),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(o=Me(o,e.className)),i=_.createElement(Zy,jl({},r,{className:o}),n)}return i}renderTicks(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:a,tick:o,tickFormatter:s,unit:l,padding:c}=this.props,u=Rk(Ft(Ft({},this.props),{},{ticks:n}),e,r),d=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),p=xa(this.props),m=ut(o,!1),g=Ft(Ft({},p),{},{fill:"none"},ut(i,!1)),b=u.map((w,x)=>{var{line:E,tick:C}=this.getTickLineCoord(w),I=Ft(Ft(Ft(Ft({textAnchor:d,verticalAnchor:h},p),{},{stroke:"none",fill:a},m),C),{},{index:x,payload:w,visibleTicksCount:u.length,tickFormatter:s,padding:c});return _.createElement(Nr,jl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},Of(this.props,w,x)),i&&_.createElement("line",jl({},g,E,{className:Me("recharts-cartesian-axis-tick-line",Po(i,"className"))})),o&&Ho.renderTickItem(o,I,"".concat(typeof s=="function"?s(w.value,x):w.value).concat(l||"")))});return b.length>0?_.createElement("g",{className:"recharts-cartesian-axis-ticks"},b):null}render(){var{axisLine:e,width:r,height:n,className:i,hide:a}=this.props;if(a)return null;var{ticks:o}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:_.createElement(Nr,{className:Me("recharts-cartesian-axis",i),ref:s=>{if(s){var l=s.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(l);var c=l[0];if(c){var u=window.getComputedStyle(c).fontSize,d=window.getComputedStyle(c).letterSpacing;(u!==this.state.fontSize||d!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(c).fontSize,letterSpacing:window.getComputedStyle(c).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,o),sn.renderCallByParent(this.props))}}Mk(Ho,"displayName","CartesianAxis");Mk(Ho,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var ide=["x1","y1","x2","y2","key"],ade=["offset"],ode=["xAxisId","yAxisId"],sde=["xAxisId","yAxisId"];function xO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ir(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xO(Object(r),!0).forEach(function(n){lde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lde(t,e,r){return(e=cde(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cde(t){var e=ude(t,"string");return typeof e=="symbol"?e:e+""}function ude(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vs(){return vs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vs.apply(null,arguments)}function og(t,e){if(t==null)return{};var r,n,i=dde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function dde(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var fde=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:o,ry:s}=t;return _.createElement("rect",{x:n,y:i,ry:s,width:a,height:o,stroke:"none",fill:e,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function _V(t,e){var r;if(_.isValidElement(t))r=_.cloneElement(t,e);else if(typeof t=="function")r=t(e);else{var{x1:n,y1:i,x2:a,y2:o,key:s}=e,l=og(e,ide),c=xa(l),u=og(c,ade);r=_.createElement("line",vs({},u,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:s}))}return r}function hde(t){var{x:e,width:r,horizontal:n=!0,horizontalPoints:i}=t;if(!n||!i||!i.length)return null;var a=og(t,ode),o=i.map((s,l)=>{var c=Ir(Ir({},a),{},{x1:e,y1:s,x2:e+r,y2:s,key:"line-".concat(l),index:l});return _V(n,c)});return _.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function pde(t){var{y:e,height:r,vertical:n=!0,verticalPoints:i}=t;if(!n||!i||!i.length)return null;var a=og(t,sde),o=i.map((s,l)=>{var c=Ir(Ir({},a),{},{x1:s,y1:e,x2:s,y2:e+r,key:"line-".concat(l),index:l});return _V(n,c)});return _.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function mde(t){var{horizontalFill:e,fillOpacity:r,x:n,y:i,width:a,height:o,horizontalPoints:s,horizontal:l=!0}=t;if(!l||!e||!e.length)return null;var c=s.map(d=>Math.round(d+i-i)).sort((d,h)=>d-h);i!==c[0]&&c.unshift(0);var u=c.map((d,h)=>{var p=!c[h+1],m=p?i+o-d:c[h+1]-d;if(m<=0)return null;var g=h%e.length;return _.createElement("rect",{key:"react-".concat(h),y:d,x:n,height:m,width:a,stroke:"none",fill:e[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function gde(t){var{vertical:e=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:o,height:s,verticalPoints:l}=t;if(!e||!r||!r.length)return null;var c=l.map(d=>Math.round(d+i-i)).sort((d,h)=>d-h);i!==c[0]&&c.unshift(0);var u=c.map((d,h)=>{var p=!c[h+1],m=p?i+o-d:c[h+1]-d;if(m<=0)return null;var g=h%r.length;return _.createElement("rect",{key:"react-".concat(h),x:d,y:a,width:m,height:s,stroke:"none",fill:r[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var yde=(t,e)=>{var{xAxis:r,width:n,height:i,offset:a}=t;return oj(Rk(Ir(Ir(Ir({},Ho.defaultProps),r),{},{ticks:sj(r,!0),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,e)},vde=(t,e)=>{var{yAxis:r,width:n,height:i,offset:a}=t;return oj(Rk(Ir(Ir(Ir({},Ho.defaultProps),r),{},{ticks:sj(r,!0),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,e)},wde={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Wa(t){var e=sE(),r=lE(),n=fj(),i=Ir(Ir({},Sn(t,wde)),{},{x:te(t.x)?t.x:n.left,y:te(t.y)?t.y:n.top,width:te(t.width)?t.width:n.width,height:te(t.height)?t.height:n.height}),{xAxisId:a,yAxisId:o,x:s,y:l,width:c,height:u,syncWithTicks:d,horizontalValues:h,verticalValues:p}=i,m=Zr(),g=oe(N=>CC(N,"xAxis",a,m)),b=oe(N=>CC(N,"yAxis",o,m));if(!te(c)||c<=0||!te(u)||u<=0||!te(s)||s!==+s||!te(l)||l!==+l)return null;var w=i.verticalCoordinatesGenerator||yde,x=i.horizontalCoordinatesGenerator||vde,{horizontalPoints:E,verticalPoints:C}=i;if((!E||!E.length)&&typeof x=="function"){var I=h&&h.length,M=x({yAxis:b?Ir(Ir({},b),{},{ticks:I?h:b.ticks}):void 0,width:e,height:r,offset:n},I?!0:d);fd(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(E=M)}if((!C||!C.length)&&typeof w=="function"){var T=p&&p.length,S=w({xAxis:g?Ir(Ir({},g),{},{ticks:T?p:g.ticks}):void 0,width:e,height:r,offset:n},T?!0:d);fd(Array.isArray(S),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(C=S)}return _.createElement("g",{className:"recharts-cartesian-grid"},_.createElement(fde,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),_.createElement(mde,vs({},i,{horizontalPoints:E})),_.createElement(gde,vs({},i,{verticalPoints:C})),_.createElement(hde,vs({},i,{offset:n,horizontalPoints:E,xAxis:g,yAxis:b})),_.createElement(pde,vs({},i,{offset:n,verticalPoints:C,xAxis:g,yAxis:b})))}Wa.displayName="CartesianGrid";var xV=(t,e,r,n)=>Co(t,"xAxis",e,n),EV=(t,e,r,n)=>Io(t,"xAxis",e,n),kV=(t,e,r,n)=>Co(t,"yAxis",r,n),SV=(t,e,r,n)=>Io(t,"yAxis",r,n),bde=$([Oe,xV,kV,EV,SV],(t,e,r,n,i)=>Bo(t,"xAxis")?Qd(e,n,!1):Qd(r,i,!1)),_de=(t,e,r,n,i)=>i;function xde(t){return t.type==="line"}var Ede=$([Hy,_de],(t,e)=>t.filter(xde).find(r=>r.id===e)),kde=$([Oe,xV,kV,EV,SV,Ede,bde,By],(t,e,r,n,i,a,o,s)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:u}=s;if(!(a==null||e==null||r==null||n==null||i==null||n.length===0||i.length===0||o==null)){var{dataKey:d,data:h}=a,p;if(h!=null&&h.length>0?p=h:p=l==null?void 0:l.slice(c,u+1),p!=null)return qde({layout:t,xAxis:e,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:d,bandSize:o,displayedData:p})}}),Sde=["id"],Tde=["type","layout","connectNulls","needClip"],Ade=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function EO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EO(Object(r),!0).forEach(function(n){Pde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pde(t,e,r){return(e=Ide(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ide(t){var e=Cde(t,"string");return typeof e=="symbol"?e:e+""}function Cde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lk(t,e){if(t==null)return{};var r,n,i=Ode(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Ode(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function zs(){return zs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zs.apply(null,arguments)}var Nde=t=>{var{dataKey:e,name:r,stroke:n,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:n,value:jc(r,e),payload:t}]};function Dde(t){var{dataKey:e,data:r,stroke:n,strokeWidth:i,fill:a,name:o,hide:s,unit:l}=t;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:jc(o,e),hide:s,type:t.tooltipType,color:t.stroke,unit:l}}}var TV=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function Rde(t,e){for(var r=t.length%2!==0?[...t,0]:t,n=[],i=0;i<e;++i)n=[...n,...r];return n}var Mde=(t,e,r)=>{var n=r.reduce((d,h)=>d+h);if(!n)return TV(e,t);for(var i=Math.floor(t/n),a=t%n,o=e-t,s=[],l=0,c=0;l<r.length;c+=r[l],++l)if(c+r[l]>a){s=[...r.slice(0,l),a-c];break}var u=s.length%2===0?[0,o]:[o];return[...Rde(r,i),...s,...u].map(d=>"".concat(d,"px")).join(", ")};function Lde(t,e){var r;if(_.isValidElement(t))r=_.cloneElement(t,e);else if(typeof t=="function")r=t(e);else{var n=Me("recharts-line-dot",typeof t!="boolean"?t.className:"");r=_.createElement(X3,zs({},e,{className:n}))}return r}function jde(t,e){return t==null?!1:e?!0:t.length===1}function $de(t){var{clipPathId:e,points:r,props:n}=t,{dot:i,dataKey:a,needClip:o}=n;if(!jde(r,i))return null;var s=Lk(n,Sde),l=UL(i),c=xa(s),u=ut(i,!0),d=r.map((p,m)=>{var g=Jn(Jn(Jn({key:"dot-".concat(m),r:3},c),u),{},{index:m,cx:p.x,cy:p.y,dataKey:a,value:p.value,payload:p.payload,points:r});return Lde(i,g)}),h={clipPath:o?"url(#clipPath-".concat(l?"":"dots-").concat(e,")"):void 0};return _.createElement(Nr,zs({className:"recharts-line-dots",key:"dots"},h),d)}function c_(t){var{clipPathId:e,pathRef:r,points:n,strokeDasharray:i,props:a,showLabels:o}=t,{type:s,layout:l,connectNulls:c,needClip:u}=a,d=Lk(a,Tde),h=Jn(Jn({},ut(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(e,")"):void 0,points:n,type:s,layout:l,connectNulls:c,strokeDasharray:i??a.strokeDasharray});return _.createElement(_.Fragment,null,(n==null?void 0:n.length)>1&&_.createElement(uE,zs({},h,{pathRef:r})),_.createElement($de,{points:n,clipPathId:e,props:a}),o&&_o.renderCallByParent(a,n))}function Vde(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function Fde(t){var{clipPathId:e,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:o,strokeDasharray:s,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:d,animateNewValues:h,width:p,height:m,onAnimationEnd:g,onAnimationStart:b}=r,w=i.current,x=Ak(r,"recharts-line-"),[E,C]=_.useState(!1),I=_.useCallback(()=>{typeof g=="function"&&g(),C(!1)},[g]),M=_.useCallback(()=>{typeof b=="function"&&b(),C(!0)},[b]),T=Vde(n.current),S=a.current;return _.createElement(Ik,{begin:c,duration:u,isActive:l,easing:d,onAnimationEnd:I,onAnimationStart:M,key:x},N=>{var L=Xn(S,T+S,N),D=Math.min(L,T),O;if(s){var P="".concat(s).split(/[,\s]+/gim).map(G=>parseFloat(G));O=Mde(D,T,P)}else O=TV(T,D);if(w){var U=w.length/o.length,ee=N===1?o:o.map((G,de)=>{var W=Math.floor(de*U);if(w[W]){var X=w[W];return Jn(Jn({},G),{},{x:Xn(X.x,G.x,N),y:Xn(X.y,G.y,N)})}return h?Jn(Jn({},G),{},{x:Xn(p*2,G.x,N),y:Xn(m/2,G.y,N)}):Jn(Jn({},G),{},{x:G.x,y:G.y})});return i.current=ee,_.createElement(c_,{props:r,points:ee,clipPathId:e,pathRef:n,showLabels:!E,strokeDasharray:O})}return N>0&&T>0&&(i.current=o,a.current=D),_.createElement(c_,{props:r,points:o,clipPathId:e,pathRef:n,showLabels:!E,strokeDasharray:O})})}function Ude(t){var{clipPathId:e,props:r}=t,{points:n,isAnimationActive:i}=r,a=_.useRef(null),o=_.useRef(0),s=_.useRef(null),l=a.current;return i&&n&&n.length&&l!==n?_.createElement(Fde,{props:r,clipPathId:e,previousPointsRef:a,longestAnimatedLengthRef:o,pathRef:s}):_.createElement(c_,{props:r,points:n,clipPathId:e,pathRef:s,showLabels:!0})}var Bde=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:Ge(t.payload,e)});class zde extends _.Component{render(){var e,{hide:r,dot:n,points:i,className:a,xAxisId:o,yAxisId:s,top:l,left:c,width:u,height:d,id:h,needClip:p}=this.props;if(r)return null;var m=Me("recharts-line",a),g=h,{r:b=3,strokeWidth:w=2}=(e=ut(n,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},x=UL(n),E=b*2+w;return _.createElement(_.Fragment,null,_.createElement(Nr,{className:m},p&&_.createElement("defs",null,_.createElement(hV,{clipPathId:g,xAxisId:o,yAxisId:s}),!x&&_.createElement("clipPath",{id:"clipPath-dots-".concat(g)},_.createElement("rect",{x:c-E/2,y:l-E/2,width:u+E,height:d+E}))),_.createElement(Ude,{props:this.props,clipPathId:g}),_.createElement(fV,{xAxisId:o,yAxisId:s,data:i,dataPointFormatter:Bde,errorBarOffset:0},this.props.children)),_.createElement(Tce,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var AV={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!rl.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Wde(t){var e=Sn(t,AV),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:s,dot:l,hide:c,isAnimationActive:u,label:d,legendType:h,xAxisId:p,yAxisId:m,id:g}=e,b=Lk(e,Ade),{needClip:w}=Nk(p,m),x=Ok(),E=My(),C=Zr(),I=oe(L=>kde(L,p,m,C,g));if(E!=="horizontal"&&E!=="vertical"||I==null||x==null)return null;var{height:M,width:T,x:S,y:N}=x;return _.createElement(zde,zs({},b,{id:g,connectNulls:s,dot:l,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:o,isAnimationActive:u,hide:c,label:d,legendType:h,xAxisId:p,yAxisId:m,points:I,layout:E,height:M,width:T,left:S,top:N,needClip:w}))}function qde(t){var{layout:e,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,dataKey:o,bandSize:s,displayedData:l}=t;return l.map((c,u)=>{var d=Ge(c,o);if(e==="horizontal"){var h=yI({axis:r,ticks:i,bandSize:s,entry:c,index:u}),p=lt(d)?null:n.scale(d);return{x:h,y:p,value:d,payload:c}}var m=lt(d)?null:r.scale(d),g=yI({axis:n,ticks:a,bandSize:s,entry:c,index:u});return m==null||g==null?null:{x:m,y:g,value:d,payload:c}}).filter(Boolean)}function Ip(t){var e=Sn(t,AV),r=Zr();return _.createElement(Pk,{id:e.id,type:"line"},n=>_.createElement(_.Fragment,null,_.createElement(aV,{legendPayload:Nde(e)}),_.createElement(Tk,{fn:Dde,args:e}),_.createElement(sV,{type:"line",id:n,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:r}),_.createElement(Wde,zs({},e,{id:n}))))}Ip.displayName="Line";function kO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function SO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kO(Object(r),!0).forEach(function(n){Kde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kde(t,e,r){return(e=Hde(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hde(t){var e=Gde(t,"string");return typeof e=="symbol"?e:e+""}function Gde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yde={xAxis:{},yAxis:{},zAxis:{}},PV=kn({name:"cartesianAxis",initialState:Yde,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:r,width:n}=e.payload;t.yAxis[r]&&(t.yAxis[r]=SO(SO({},t.yAxis[r]),{},{width:n}))}}}),{addXAxis:Qde,removeXAxis:Xde,addYAxis:Jde,removeYAxis:Zde,addZAxis:$he,removeZAxis:Vhe,updateYAxisWidth:efe}=PV.actions,tfe=PV.reducer,rfe=["children"],nfe=["dangerouslySetInnerHTML","ticks"];function IV(t,e,r){return(e=ife(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ife(t){var e=afe(t,"string");return typeof e=="symbol"?e:e+""}function afe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function u_(){return u_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u_.apply(null,arguments)}function CV(t,e){if(t==null)return{};var r,n,i=ofe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function ofe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function sfe(t){var e=vt(),r=_.useMemo(()=>{var a=CV(t,rfe);return a},[t]),n=oe(a=>Ta(a,r.id)),i=r===n;return _.useEffect(()=>(e(Qde(r)),()=>{e(Xde(r))}),[r,e]),i?t.children:null}var lfe=t=>{var{xAxisId:e,className:r}=t,n=oe(dj),i=Zr(),a="xAxis",o=oe(d=>Wc(d,a,e,i)),s=oe(d=>c3(d,a,e,i)),l=oe(d=>a3(d,e)),c=oe(d=>Tae(d,e));if(l==null||c==null)return null;var u=CV(t,nfe);return _.createElement(Ho,u_({},u,{scale:o,x:c.x,y:c.y,width:l.width,height:l.height,className:Me("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:s}))},cfe=t=>{var e,r,n,i,a;return _.createElement(sfe,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(r=t.includeHidden)!==null&&r!==void 0?r:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(n=t.angle)!==null&&n!==void 0?n:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(a=t.tick)!==null&&a!==void 0?a:!0,tickFormatter:t.tickFormatter},_.createElement(lfe,t))};class Vi extends _.Component{render(){return _.createElement(cfe,this.props)}}IV(Vi,"displayName","XAxis");IV(Vi,"defaultProps",{allowDataOverflow:rn.allowDataOverflow,allowDecimals:rn.allowDecimals,allowDuplicatedCategory:rn.allowDuplicatedCategory,height:rn.height,hide:!1,mirror:rn.mirror,orientation:rn.orientation,padding:rn.padding,reversed:rn.reversed,scale:rn.scale,tickCount:rn.tickCount,type:rn.type,xAxisId:0});var ufe=t=>{var{ticks:e,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=t,o=0;if(e){e.forEach(u=>{if(u){var d=u.getBoundingClientRect();d.width>o&&(o=d.width)}});var s=r?r.getBoundingClientRect().width:0,l=i+a,c=o+l+s+(r?n:0);return Math.round(c)}return 0},dfe=["dangerouslySetInnerHTML","ticks"];function OV(t,e,r){return(e=ffe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ffe(t){var e=hfe(t,"string");return typeof e=="symbol"?e:e+""}function hfe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function d_(){return d_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},d_.apply(null,arguments)}function pfe(t,e){if(t==null)return{};var r,n,i=mfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function mfe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function gfe(t){var e=vt();return _.useEffect(()=>(e(Jde(t)),()=>{e(Zde(t))}),[t,e]),null}var yfe=t=>{var e,{yAxisId:r,className:n,width:i,label:a}=t,o=_.useRef(null),s=_.useRef(null),l=oe(dj),c=Zr(),u=vt(),d="yAxis",h=oe(w=>Wc(w,d,r,c)),p=oe(w=>o3(w,r)),m=oe(w=>Aae(w,r)),g=oe(w=>c3(w,d,r,c));if(_.useLayoutEffect(()=>{var w;if(!(i!=="auto"||!p||vk(a)||_.isValidElement(a))){var x=o.current,E=x==null||(w=x.tickRefs)===null||w===void 0?void 0:w.current,{tickSize:C,tickMargin:I}=x.props,M=ufe({ticks:E,label:s.current,labelGapWithTick:5,tickSize:C,tickMargin:I});Math.round(p.width)!==Math.round(M)&&u(efe({id:r,width:M}))}},[o,o==null||(e=o.current)===null||e===void 0||(e=e.tickRefs)===null||e===void 0?void 0:e.current,p==null?void 0:p.width,p,u,a,r,i]),p==null||m==null)return null;var b=pfe(t,dfe);return _.createElement(Ho,d_({},b,{ref:o,labelRef:s,scale:h,x:m.x,y:m.y,width:p.width,height:p.height,className:Me("recharts-".concat(d," ").concat(d),n),viewBox:l,ticks:g}))},vfe=t=>{var e,r,n,i,a;return _.createElement(_.Fragment,null,_.createElement(gfe,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(r=t.includeHidden)!==null&&r!==void 0?r:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(n=t.angle)!==null&&n!==void 0?n:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(a=t.tick)!==null&&a!==void 0?a:!0,tickFormatter:t.tickFormatter}),_.createElement(yfe,t))},wfe={allowDataOverflow:nn.allowDataOverflow,allowDecimals:nn.allowDecimals,allowDuplicatedCategory:nn.allowDuplicatedCategory,hide:!1,mirror:nn.mirror,orientation:nn.orientation,padding:nn.padding,reversed:nn.reversed,scale:nn.scale,tickCount:nn.tickCount,type:nn.type,width:nn.width,yAxisId:0};class Fi extends _.Component{render(){return _.createElement(vfe,this.props)}}OV(Fi,"displayName","YAxis");OV(Fi,"defaultProps",wfe);var bfe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hf=_;function _fe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xfe=typeof Object.is=="function"?Object.is:_fe,Efe=Hf.useSyncExternalStore,kfe=Hf.useRef,Sfe=Hf.useEffect,Tfe=Hf.useMemo,Afe=Hf.useDebugValue;bfe.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var a=kfe(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=Tfe(function(){function l(p){if(!c){if(c=!0,u=p,p=n(p),i!==void 0&&o.hasValue){var m=o.value;if(i(m,p))return d=m}return d=p}if(m=d,xfe(u,p))return m;var g=n(p);return i!==void 0&&i(m,g)?(u=p,m):(u=p,d=g)}var c=!1,u,d,h=r===void 0?null:r;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,r,n,i]);var s=Efe(t,a[0],a[1]);return Sfe(function(){o.hasValue=!0,o.value=s},[s]),Afe(s),s};function Pfe(t){t()}function Ife(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Pfe(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=e={callback:r,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!n||t===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var TO={notify(){},get:()=>[]};function Cfe(t,e){let r,n=TO,i=0,a=!1;function o(g){u();const b=n.subscribe(g);let w=!1;return()=>{w||(w=!0,b(),d())}}function s(){n.notify()}function l(){m.onStateChange&&m.onStateChange()}function c(){return a}function u(){i++,r||(r=e?e.addNestedSub(l):t.subscribe(l),n=Ife())}function d(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=TO)}function h(){a||(a=!0,u())}function p(){a&&(a=!1,d())}const m={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:c,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>n};return m}var Ofe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Nfe=Ofe(),Dfe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Rfe=Dfe(),Mfe=()=>Nfe||Rfe?_.useLayoutEffect:_.useEffect,Lfe=Mfe(),C0=Symbol.for("react-redux-context"),O0=typeof globalThis<"u"?globalThis:{};function jfe(){if(!_.createContext)return{};const t=O0[C0]??(O0[C0]=new Map);let e=t.get(_.createContext);return e||(e=_.createContext(null),t.set(_.createContext,e)),e}var $fe=jfe();function Vfe(t){const{children:e,context:r,serverState:n,store:i}=t,a=_.useMemo(()=>{const l=Cfe(i);return{store:i,subscription:l,getServerState:n?()=>n:void 0}},[i,n]),o=_.useMemo(()=>i.getState(),[i]);Lfe(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,o]);const s=r||$fe;return _.createElement(s.Provider,{value:a},e)}var Ffe=Vfe,Ufe=(t,e)=>e,jk=$([Ufe,Oe,L$,Kt,k3,Aa,Noe,Wt],joe),$k=t=>{var e=t.currentTarget.getBoundingClientRect(),r=e.width/t.currentTarget.offsetWidth,n=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/r),chartY:Math.round((t.clientY-e.top)/n)}},NV=Un("mouseClick"),DV=Df();DV.startListening({actionCreator:NV,effect:(t,e)=>{var r=t.payload,n=jk(e.getState(),$k(r));(n==null?void 0:n.activeIndex)!=null&&e.dispatch(Fae({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var f_=Un("mouseMove"),RV=Df();RV.startListening({actionCreator:f_,effect:(t,e)=>{var r=t.payload,n=e.getState(),i=lk(n,n.tooltip.settings.shared),a=jk(n,$k(r));i==="axis"&&((a==null?void 0:a.activeIndex)!=null?e.dispatch(y3({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(g3()))}});function Bfe(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var AO={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},MV=kn({name:"rootProps",initialState:AO,reducers:{updateOptions:(t,e)=>{var r;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(r=e.payload.barGap)!==null&&r!==void 0?r:AO.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),zfe=MV.reducer,{updateOptions:Wfe}=MV.actions,LV=kn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:qfe}=LV.actions,Kfe=LV.reducer,jV=Un("keyDown"),$V=Un("focus"),Vk=Df();Vk.startListening({actionCreator:jV,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=Number(ck(i,Kc(r))),s=Aa(r);if(a==="Enter"){var l=eg(r,"axis","hover",String(i.index));e.dispatch(n_({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:l}));return}var c=Oae(r),u=c==="left-to-right"?1:-1,d=a==="ArrowRight"?1:-1,h=o+d*u;if(!(s==null||h>=s.length||h<0)){var p=eg(r,"axis","hover",String(h));e.dispatch(n_({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});Vk.startListening({actionCreator:$V,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",o=eg(r,"axis","hover",String(a));e.dispatch(n_({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var On=Un("externalEvent"),VV=Df();VV.startListening({actionCreator:On,effect:(t,e)=>{if(t.payload.handler!=null){var r=e.getState(),n={activeCoordinate:xoe(r),activeDataKey:P3(r),activeIndex:Oo(r),activeLabel:A3(r),activeTooltipIndex:Oo(r),isTooltipActive:Eoe(r)};t.payload.handler(n,t.payload.reactEvent)}}});var Hfe=$([qc],t=>t.tooltipItemPayloads),Gfe=$([Hfe,zf,(t,e,r)=>e,(t,e,r)=>r],(t,e,r,n)=>{var i=t.find(s=>s.settings.dataKey===n);if(i!=null){var{positions:a}=i;if(a!=null){var o=e(a,r);return o}}}),FV=Un("touchMove"),UV=Df();UV.startListening({actionCreator:FV,effect:(t,e)=>{var r=t.payload,n=e.getState(),i=lk(n,n.tooltip.settings.shared);if(i==="axis"){var a=jk(n,$k({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&e.dispatch(y3({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,s=r.touches[0],l=document.elementFromPoint(s.clientX,s.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(cj),u=(o=l.getAttribute(uj))!==null&&o!==void 0?o:void 0,d=Gfe(e.getState(),c,u);e.dispatch(m3({activeDataKey:u,activeIndex:c,activeCoordinate:d}))}}});var Yfe=M4({brush:Rue,cartesianAxis:tfe,chartData:Joe,errorBars:$ce,graphicalItems:Hle,layout:FZ,legend:Aee,options:Hoe,polarAxis:mle,polarOptions:Kfe,referenceElements:Uue,rootProps:zfe,tooltip:Uae}),Qfe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return dZ({reducer:Yfe,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([DV.middleware,RV.middleware,Vk.middleware,VV.middleware,UV.middleware]),devTools:{serialize:{replacer:Bfe},name:"recharts-".concat(r)}})};function BV(t){var{preloadedState:e,children:r,reduxStoreName:n}=t,i=Zr(),a=_.useRef(null);if(i)return r;a.current==null&&(a.current=Qfe(e,n));var o=Qx;return _.createElement(Ffe,{context:o,store:a.current},r)}function zV(t){var{layout:e,width:r,height:n,margin:i}=t,a=vt(),o=Zr();return _.useEffect(()=>{o||(a(jZ(e)),a($Z({width:r,height:n})),a(LZ(i)))},[a,o,e,r,n,i]),null}function WV(t){var e=vt();return _.useEffect(()=>{e(Wfe(t))},[e,t]),null}var Xfe=["children"];function Jfe(t,e){if(t==null)return{};var r,n,i=Zfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Zfe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function sg(){return sg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sg.apply(null,arguments)}var ehe={width:"100%",height:"100%"},the=_.forwardRef((t,e)=>{var r=sE(),n=lE(),i=gj();if(!vc(r)||!vc(n))return null;var{children:a,otherAttributes:o,title:s,desc:l}=t,c,u;return typeof o.tabIndex=="number"?c=o.tabIndex:c=i?0:void 0,typeof o.role=="string"?u=o.role:u=i?"application":void 0,_.createElement(Lx,sg({},o,{title:s,desc:l,role:u,tabIndex:c,width:r,height:n,style:ehe,ref:e}),a)}),rhe=t=>{var{children:e}=t,r=oe(Ry);if(!r)return null;var{width:n,height:i,y:a,x:o}=r;return _.createElement(Lx,{width:n,height:i,x:o,y:a},e)},PO=_.forwardRef((t,e)=>{var{children:r}=t,n=Jfe(t,Xfe),i=Zr();return i?_.createElement(rhe,null,r):_.createElement(the,sg({ref:e},n),r)});function nhe(){var t=vt(),[e,r]=_.useState(null),n=oe(mee);return _.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;wn(a)&&a!==n&&t(VZ(a))}},[e,t,n]),r}function IO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ihe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(r),!0).forEach(function(n){ahe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ahe(t,e,r){return(e=ohe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ohe(t){var e=she(t,"string");return typeof e=="symbol"?e:e+""}function she(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lhe=_.forwardRef((t,e)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:o,onDoubleClick:s,onMouseDown:l,onMouseEnter:c,onMouseLeave:u,onMouseMove:d,onMouseUp:h,onTouchEnd:p,onTouchMove:m,onTouchStart:g,style:b,width:w}=t,x=vt(),[E,C]=_.useState(null),[I,M]=_.useState(null);tse();var T=nhe(),S=_.useCallback(Y=>{T(Y),typeof e=="function"&&e(Y),C(Y),M(Y)},[T,e,C,M]),N=_.useCallback(Y=>{x(NV(Y)),x(On({handler:a,reactEvent:Y}))},[x,a]),L=_.useCallback(Y=>{x(f_(Y)),x(On({handler:c,reactEvent:Y}))},[x,c]),D=_.useCallback(Y=>{x(g3()),x(On({handler:u,reactEvent:Y}))},[x,u]),O=_.useCallback(Y=>{x(f_(Y)),x(On({handler:d,reactEvent:Y}))},[x,d]),P=_.useCallback(()=>{x($V())},[x]),U=_.useCallback(Y=>{x(jV(Y.key))},[x]),ee=_.useCallback(Y=>{x(On({handler:o,reactEvent:Y}))},[x,o]),G=_.useCallback(Y=>{x(On({handler:s,reactEvent:Y}))},[x,s]),de=_.useCallback(Y=>{x(On({handler:l,reactEvent:Y}))},[x,l]),W=_.useCallback(Y=>{x(On({handler:h,reactEvent:Y}))},[x,h]),X=_.useCallback(Y=>{x(On({handler:g,reactEvent:Y}))},[x,g]),Q=_.useCallback(Y=>{x(FV(Y)),x(On({handler:m,reactEvent:Y}))},[x,m]),ce=_.useCallback(Y=>{x(On({handler:p,reactEvent:Y}))},[x,p]);return _.createElement(R3.Provider,{value:E},_.createElement(BL.Provider,{value:I},_.createElement("div",{className:Me("recharts-wrapper",n),style:ihe({position:"relative",cursor:"default",width:w,height:i},b),onClick:N,onContextMenu:ee,onDoubleClick:G,onFocus:P,onKeyDown:U,onMouseDown:de,onMouseEnter:L,onMouseLeave:D,onMouseMove:O,onMouseUp:W,onTouchEnd:ce,onTouchMove:Q,onTouchStart:X,ref:S},r)))}),che=["children","className","width","height","style","compact","title","desc"];function uhe(t,e){if(t==null)return{};var r,n,i=dhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function dhe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var qV=_.forwardRef((t,e)=>{var{children:r,className:n,width:i,height:a,style:o,compact:s,title:l,desc:c}=t,u=uhe(t,che),d=xa(u);return s?_.createElement(PO,{otherAttributes:d,title:l,desc:c},r):_.createElement(lhe,{className:n,style:o,width:i,height:a,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},_.createElement(PO,{otherAttributes:d,title:l,desc:c,ref:e},_.createElement(zue,null,r)))}),fhe=["width","height"];function h_(){return h_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},h_.apply(null,arguments)}function hhe(t,e){if(t==null)return{};var r,n,i=phe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function phe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var mhe={top:5,right:5,bottom:5,left:5},ghe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:mhe,reverseStackOrder:!1,syncMethod:"index"},KV=_.forwardRef(function(e,r){var n,i=Sn(e.categoricalChartProps,ghe),{width:a,height:o}=i,s=hhe(i,fhe);if(!vc(a)||!vc(o))return null;var{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:h}=e,p={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return _.createElement(BV,{preloadedState:{options:p},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:l},_.createElement(yV,{chartData:h.data}),_.createElement(zV,{width:a,height:o,layout:i.layout,margin:i.margin}),_.createElement(WV,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),_.createElement(qV,h_({},s,{width:a,height:o,ref:r})))}),yhe=["axis"],N0=_.forwardRef((t,e)=>_.createElement(KV,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:yhe,tooltipPayloadSearcher:yk,categoricalChartProps:t,ref:e})),vhe=["axis","item"],ap=_.forwardRef((t,e)=>_.createElement(KV,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:vhe,tooltipPayloadSearcher:yk,categoricalChartProps:t,ref:e}));function whe(t){var e=vt();return _.useEffect(()=>{e(qfe(t))},[e,t]),null}var bhe=["width","height","layout"];function p_(){return p_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},p_.apply(null,arguments)}function _he(t,e){if(t==null)return{};var r,n,i=xhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function xhe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Ehe={top:5,right:5,bottom:5,left:5},khe={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Ehe,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},She=_.forwardRef(function(e,r){var n,i=Sn(e.categoricalChartProps,khe),{width:a,height:o,layout:s}=i,l=_he(i,bhe);if(!vc(a)||!vc(o))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:h}=e,p={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:h,eventEmitter:void 0};return _.createElement(BV,{preloadedState:{options:p},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:c},_.createElement(yV,{chartData:i.data}),_.createElement(zV,{width:a,height:o,layout:s,margin:i.margin}),_.createElement(WV,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),_.createElement(whe,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),_.createElement(qV,p_({width:a,height:o},l,{ref:r})))}),The=["item"],Ahe={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Phe=_.forwardRef((t,e)=>{var r=Sn(t,Ahe);return _.createElement(She,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:The,tooltipPayloadSearcher:yk,categoricalChartProps:r,ref:e})});const CO=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8"],Ihe=({bookings:t,resources:e,totalUsers:r,users:n=[]})=>{var N,L,D;const[i,a]=_.useState({start:new Date(Date.now()-2592e6).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]}),[o,s]=_.useState(!1),l=t.filter(O=>{const P=new Date(O.startTime).toISOString().split("T")[0];return P>=i.start&&P<=i.end}),c=()=>{s(!0),setTimeout(()=>s(!1),1e3)},u=()=>Array.from({length:30},(U,ee)=>{const G=new Date;return G.setDate(G.getDate()-(29-ee)),G.toISOString().split("T")[0]}).map(U=>{const ee=l.filter(G=>G.startTime.startsWith(U)).length;return{date:new Date(U).toLocaleDateString("en-US",{month:"short",day:"numeric"}),bookings:ee}}),d=()=>e.map(P=>{const U=l.filter(ee=>ee.resourceId===P.id);return{name:P.name.length>15?P.name.substring(0,15)+"...":P.name,bookings:U.length,status:P.status}}).sort((P,U)=>U.bookings-P.bookings).slice(0,10),h=()=>{const O={};return l.forEach(P=>{const U=new Date(P.startTime).getHours();O[U]=(O[U]||0)+1}),Array.from({length:24},(P,U)=>({hour:`${U}:00`,bookings:O[U]||0}))},p=()=>{const O={};return l.forEach(P=>{O[P.status]=(O[P.status]||0)+1}),Object.entries(O).map(([P,U])=>({name:P.charAt(0).toUpperCase()+P.slice(1),value:U}))},m=()=>{const O={};return l.forEach(P=>{P.userName&&(O[P.userName]=(O[P.userName]||0)+1)}),Object.entries(O).map(([P,U])=>({user:P.length>12?P.substring(0,12)+"...":P,bookings:U})).sort((P,U)=>U.bookings-P.bookings).slice(0,10)},g=()=>{const O={"0-1h":0,"1-2h":0,"2-4h":0,"4-8h":0,"8h+":0};return l.forEach(P=>{const U=new Date(P.startTime),G=(new Date(P.endTime).getTime()-U.getTime())/(1e3*60*60);G<=1?O["0-1h"]++:G<=2?O["1-2h"]++:G<=4?O["2-4h"]++:G<=8?O["4-8h"]++:O["8h+"]++}),Object.entries(O).map(([P,U])=>({duration:P,bookings:U}))},b=()=>{const O={};return e.forEach(P=>{const U=P.category||"Uncategorized";O[U]=(O[U]||0)+1}),Object.entries(O).map(([P,U])=>({category:P,count:U})).sort((P,U)=>U.count-P.count)},w=()=>{if(!n||n.length===0)return Array.from({length:30},(U,ee)=>{const G=new Date;return G.setDate(G.getDate()-(29-ee)),G.toISOString().split("T")[0]}).map(U=>({date:new Date(U).toLocaleDateString("en-US",{month:"short",day:"numeric"}),registrations:Math.floor(Math.random()*5)}));const O={};return n.forEach(P=>{if(P.createdAt){const U=new Date(P.createdAt).toISOString().split("T")[0];O[U]=(O[U]||0)+1}}),Object.entries(O).map(([P,U])=>({date:new Date(P).toLocaleDateString("en-US",{month:"short",day:"numeric"}),registrations:U})).sort((P,U)=>new Date(P.date).getTime()-new Date(U.date).getTime()).slice(-30)},x=u(),E=d(),C=h();p();const I=m(),M=g(),T=b(),S=w();return A("div",{className:"space-y-8",children:[A("div",{className:"flex justify-between items-center",children:[y("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Advanced Analytics"}),A("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Last updated: ",new Date().toLocaleString()]})]}),y("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow mb-6",children:A("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[A("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center",children:[A("div",{className:"flex items-center gap-2",children:[y(ln,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"}),y("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Date Range:"})]}),A("div",{className:"flex gap-2",children:[y("input",{type:"date",value:i.start,onChange:O=>a(P=>({...P,start:O.target.value})),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-sm"}),y("span",{className:"text-gray-500 dark:text-gray-400 self-center",children:"to"}),y("input",{type:"date",value:i.end,onChange:O=>a(P=>({...P,end:O.target.value})),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-sm"})]})]}),A("button",{onClick:c,disabled:o,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white rounded-lg transition-colors",children:[y(a5,{className:`w-4 h-4 ${o?"animate-spin":""}`}),y("span",{className:"text-sm",children:"Refresh"})]})]})}),A("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[A("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[y("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Filtered Bookings"}),y("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l.length})]}),A("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[y("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Active Resources"}),y("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.filter(O=>O.status==="available").length})]}),A("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[y("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Avg Bookings/Day"}),y("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:(()=>{const O=Math.max(1,Math.ceil((new Date(i.end).getTime()-new Date(i.start).getTime())/864e5));return(l.length/O).toFixed(1)})()})]}),A("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[y("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Utilization Rate"}),A("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[e.length>0?(l.length/e.length*100).toFixed(1):0,"%"]})]})]}),A("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-8",children:[A("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[A("div",{className:"flex justify-between items-center mb-4",children:[y("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Booking Trends (Last 30 Days)"}),A("button",{onClick:()=>{const O=document.createElement("canvas");O.getContext("2d"),O.width=800,O.height=400,alert("Export functionality would save chart as PNG here")},className:"flex items-center gap-2 px-3 py-1 text-sm bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors",children:[y(jv,{className:"w-4 h-4"}),"Export"]})]}),y(za,{width:"100%",height:300,children:A(N0,{data:x,children:[y(Wa,{strokeDasharray:"3 3"}),y(Vi,{dataKey:"date"}),y(Fi,{}),y(Ba,{}),y(Bi,{}),y(Ip,{type:"monotone",dataKey:"bookings",stroke:"#8884d8",strokeWidth:2,dot:{fill:"#8884d8"}})]})})]}),A("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[A("div",{className:"flex justify-between items-center mb-4",children:[y("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Top 10 Resource Utilization"}),A("button",{onClick:()=>alert("Export functionality would save chart as PNG here"),className:"flex items-center gap-2 px-3 py-1 text-sm bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors",children:[y(jv,{className:"w-4 h-4"}),"Export"]})]}),y(za,{width:"100%",height:300,children:A(ap,{data:E,children:[y(Wa,{strokeDasharray:"3 3"}),y(Vi,{dataKey:"name",angle:-45,textAnchor:"end",height:80}),y(Fi,{}),y(Ba,{}),y(Bi,{}),y(Gu,{dataKey:"bookings",fill:"#82ca9d"})]})})]}),A("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[y("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Peak Booking Hours"}),y(za,{width:"100%",height:300,children:A(ap,{data:C,children:[y(Wa,{strokeDasharray:"3 3"}),y(Vi,{dataKey:"hour"}),y(Fi,{}),y(Ba,{}),y(Bi,{}),y(Gu,{dataKey:"bookings",fill:"#ffc658"})]})})]}),A("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[y("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Booking Duration Analysis"}),y(za,{width:"100%",height:300,children:A(ap,{data:M,children:[y(Wa,{strokeDasharray:"3 3"}),y(Vi,{dataKey:"duration"}),y(Fi,{}),y(Ba,{}),y(Bi,{}),y(Gu,{dataKey:"bookings",fill:"#ff7300"})]})})]}),A("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[y("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Resource Category Breakdown"}),y(za,{width:"100%",height:300,children:A(Phe,{children:[y(cV,{data:T,cx:"50%",cy:"50%",labelLine:!1,label:({category:O,percent:P})=>`${O} ${(P*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"count",children:T.map((O,P)=>y(qf,{fill:CO[P%CO.length]},`cell-${P}`))}),y(Ba,{})]})})]})]}),A("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[A("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[A("div",{className:"flex justify-between items-center mb-4",children:[y("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"User Registration Trends"}),A("button",{onClick:()=>alert("Export functionality would save chart as PNG here"),className:"flex items-center gap-2 px-3 py-1 text-sm bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors",children:[y(jv,{className:"w-4 h-4"}),"Export"]})]}),y(za,{width:"100%",height:300,children:A(N0,{data:S,children:[y(Wa,{strokeDasharray:"3 3"}),y(Vi,{dataKey:"date"}),y(Fi,{}),y(Ba,{}),y(Bi,{}),y(Ip,{type:"monotone",dataKey:"registrations",stroke:"#82ca9d",strokeWidth:2,dot:{fill:"#82ca9d"}})]})})]}),A("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[y("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"System Performance"}),A("div",{className:"space-y-4",children:[A("div",{className:"flex justify-between items-center",children:[y("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Page Load Time"}),y("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"1.2s"})]}),A("div",{className:"flex justify-between items-center",children:[y("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"API Response Time"}),y("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"245ms"})]}),A("div",{className:"flex justify-between items-center",children:[y("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Uptime"}),y("span",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"99.9%"})]}),A("div",{className:"flex justify-between items-center",children:[y("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Active Sessions"}),y("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:Math.floor(Math.random()*50)+10})]})]})]})]}),A("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[y("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Top 10 Active Users"}),y(za,{width:"100%",height:300,children:A(ap,{data:I,layout:"horizontal",children:[y(Wa,{strokeDasharray:"3 3"}),y(Vi,{type:"number"}),y(Fi,{dataKey:"user",type:"category",width:100}),y(Ba,{}),y(Bi,{}),y(Gu,{dataKey:"bookings",fill:"#8884d8"})]})})]}),A("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[y("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Predictive Analytics (Next 7 Days)"}),A("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[A("div",{children:[y("h4",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:"Expected Bookings"}),y(za,{width:"100%",height:200,children:A(N0,{data:(()=>{const O=x.slice(-7),P=O.reduce((ee,G)=>ee+G.bookings,0)/O.length;return Array.from({length:7},(ee,G)=>({date:new Date(Date.now()+(G+1)*24*60*60*1e3).toLocaleDateString("en-US",{month:"short",day:"numeric"}),predicted:Math.round(P*(.8+Math.random()*.4))}))})(),children:[y(Wa,{strokeDasharray:"3 3"}),y(Vi,{dataKey:"date"}),y(Fi,{}),y(Ba,{}),y(Ip,{type:"monotone",dataKey:"predicted",stroke:"#ff7300",strokeWidth:2,strokeDasharray:"5 5",dot:{fill:"#ff7300"}})]})})]}),A("div",{className:"space-y-4",children:[A("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[y("h4",{className:"text-sm font-medium text-blue-800 dark:text-blue-300 mb-2",children:"Trend Analysis"}),A("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:["Based on the last 30 days, booking activity shows a ",(()=>{const O=x.slice(-10),P=x.slice(-20,-10),U=O.reduce((de,W)=>de+W.bookings,0)/O.length,ee=P.reduce((de,W)=>de+W.bookings,0)/P.length,G=(U-ee)/ee*100;return G>5?"positive upward trend":G<-5?"downward trend":"stable pattern"})(),"."]})]}),A("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[y("h4",{className:"text-sm font-medium text-green-800 dark:text-green-300 mb-2",children:"Recommendations"}),A("ul",{className:"text-sm text-green-600 dark:text-green-400 space-y-1",children:[y("li",{children:"• Consider adding more resources during peak hours"}),y("li",{children:"• Schedule maintenance during low-activity periods"}),A("li",{children:["• Monitor ",((N=E[0])==null?void 0:N.name)||"top resource"," usage closely"]})]})]})]})]})]}),A("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[y("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Summary Statistics"}),A("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[A("div",{className:"text-center",children:[y("p",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:Math.max(...C.map(O=>O.bookings))}),y("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Peak Hour Bookings"})]}),A("div",{className:"text-center",children:[y("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:((L=E[0])==null?void 0:L.bookings)||0}),y("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Most Booked Resource"})]}),A("div",{className:"text-center",children:[y("p",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:((D=I[0])==null?void 0:D.bookings)||0}),y("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Most Active User"})]})]})]})]})},Che=()=>{var Pa,Go,Ia,Yo,Qo,Ca,Oa,Na,At,Dt;const t=df();QM();const[e,r]=_.useState(null),[n,i]=_.useState([]),[a,o]=_.useState([]),[s,l]=_.useState([]),[c,u]=_.useState(!0),[d,h]=_.useState("overview"),[p,m]=_.useState(0),[g,b]=_.useState(!1),[w,x]=_.useState(!1),[E,C]=_.useState(null),[I,M]=_.useState(!1),[T,S]=_.useState(!1),[N,L]=_.useState(null),[D,O]=_.useState(!1),[P,U]=_.useState(!1),[ee,G]=_.useState(!1),[de,W]=_.useState(!1);_.useEffect(()=>{(async()=>{try{const se=localStorage.getItem("user");if(se){const Ve=JSON.parse(se);if(console.log("Current user role:",Ve.role),console.log("👤 Current user data:",Ve),console.log("🔍 User role:",Ve.role,"Role type:",typeof Ve.role),console.log("🆔 User ID:",Ve.id,"ID type:",typeof Ve.id),!Ve.id){console.error("❌ User ID not found in user data"),be.error("User data is incomplete. Please log in again."),t("/login");return}r(Ve),await X(Ve.id,Ve.role)}else{console.log("❌ No user data found in localStorage"),t("/login");return}}catch(se){console.error("❌ Error initializing dashboard:",se),be.error("Failed to initialize dashboard."),t("/login")}finally{u(!1)}})()},[t]);const X=async(V,se)=>{try{console.log("🔄 Loading dashboard data for user:",V,"role:",se);let Ve=[];if(se.toLowerCase()==="admin"){Ve=await Ce.getAllNotifications();const Wn=await Ce.getAllUsers();m(Wn.length)}else Ve=await Ce.getNotificationsByUser(V);const[Tn]=await Promise.all([Ce.getResources()]);let sr=[];se.toLowerCase()==="admin"?(console.log("👑 Loading all bookings for admin"),sr=await Ce.getAllBookings()):(console.log("👤 Loading user bookings for:",se),sr=await Ce.getBookingsByUser(V)),console.log("📊 Dashboard data loaded:",{resources:Tn.length,bookings:sr.length,notifications:Ve.length,userRole:se}),i(Tn),o(sr),l(Ve)}catch(Ve){console.error("Error loading dashboard data:",Ve),be.error("Failed to load dashboard data.")}},Q=async()=>{try{await Ce.logout(),localStorage.removeItem("user"),localStorage.removeItem("token"),t("/login")}catch(V){console.error("Logout error:",V),be.error("Logout failed.")}},ce=async()=>{try{const V=await Ce.getResources();i(V)}catch(V){console.error("Error refreshing resources:",V)}},Y=async()=>{try{const V=await Ce.getResources();i(V)}catch(V){console.error("Error refreshing resources:",V)}},he=V=>{C(V),x(!0)},Nt=async V=>{if(window.confirm("Are you sure you want to delete this resource?"))try{await Ce.deleteResource(V),be.success("Resource deleted successfully!");const se=await Ce.getResources();i(se)}catch(se){console.error("Error deleting resource:",se),be.error("Failed to delete resource. Please try again.")}},qe=V=>{C(V),M(!0)},Gt=async()=>{var V;if(e)try{console.log("🔄 Refreshing bookings for user:",e.id);let se=[];((V=e.role)==null?void 0:V.toLowerCase())==="admin"?(console.log("👑 Refreshing all bookings for admin"),se=await Ce.getAllBookings()):(console.log("👤 Refreshing user bookings for:",e.role),se=await Ce.getBookingsByUser(e.id)),console.log("📋 Updated bookings:",se),o(se)}catch(se){console.error("Error refreshing bookings:",se)}},Tt=V=>{L(V),S(!0)},en=async()=>{var V;if(e)try{if(((V=e.role)==null?void 0:V.toLowerCase())==="admin"){const se=await Ce.getAllBookings();o(se)}else{const se=await Ce.getBookingsByUser(e.id);o(se)}}catch(se){console.error("Error refreshing bookings:",se)}},Z=async V=>{try{await Ce.approveBooking(V),be.success("Booking approved successfully!"),en()}catch(se){console.error("Error approving booking:",se),be.error("Failed to approve booking.")}},me=async V=>{try{await Ce.rejectBooking(V),be.success("Booking rejected successfully!"),en()}catch(se){console.error("Error rejecting booking:",se),be.error("Failed to reject booking.")}},ye=()=>{O(!0)},q=()=>{U(!0)},Qe=async()=>{if(e)try{const V=await Ce.getNotificationsByUser(e.id);l(V)}catch(V){console.error("Error refreshing notifications:",V)}},fe=()=>{G(!0)},et=async()=>{if(e)try{const V=localStorage.getItem("user");if(V){const se=JSON.parse(V);r(se)}}catch(V){console.error("Error refreshing user data:",V)}},je=async()=>{if(e)try{console.log("🔄 Manual refresh of bookings for user:",e.id),await X(e.id,e.role),be.success("Bookings refreshed!")}catch(V){console.error("Error refreshing bookings:",V),be.error("Failed to refresh bookings.")}},or=async V=>{try{await Ce.markNotificationAsRead(V),be.success("Notification marked as read!"),Qe()}catch(se){console.error("Error marking notification as read:",se),be.error("Failed to mark notification as read.")}},Ii=async V=>{if(window.confirm("Are you sure you want to delete this notification?"))try{await Ce.deleteNotification(V),be.success("Notification deleted successfully!"),Qe()}catch(se){console.error("Error deleting notification:",se),be.error("Failed to delete notification.")}};return c?y("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:A("div",{className:"text-center",children:[y("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),y("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading dashboard..."})]})}):e?A("div",{className:"min-h-screen bg-gradient-to-br from-secondary-50 via-white to-primary-50/30 dark:from-secondary-950 dark:via-secondary-900 dark:to-primary-950/30 transition-all duration-500",children:[y(Ag,{position:"top-center",toastOptions:{className:"bg-white/90 dark:bg-secondary-800/90 backdrop-blur-xl border border-secondary-200/50 dark:border-secondary-700/50",duration:4e3}}),y("header",{className:"glass-effect border-b border-secondary-200/50 dark:border-secondary-700/50 sticky top-0 z-50 backdrop-blur-xl",children:A("div",{className:"container-responsive",children:[A("div",{className:"flex items-center justify-between h-16 lg:hidden",children:[A("div",{className:"flex items-center space-x-3 animate-fade-in-left",children:[A("div",{className:"relative",children:[y(Cw,{className:"h-8 w-8 text-primary-600 dark:text-primary-400 animate-float"}),y("div",{className:"absolute inset-0 bg-primary-600/20 dark:bg-primary-400/20 rounded-full blur-lg animate-pulse-soft"})]}),A("div",{children:[y("h1",{className:"text-lg font-bold gradient-text",children:"Campus Resources"}),y("div",{className:"h-0.5 w-full bg-gradient-to-r from-primary-600 to-transparent rounded-full"})]})]}),A("div",{className:"flex items-center space-x-3 animate-fade-in-right",children:[y(VP,{}),y("button",{onClick:()=>W(!de),className:"btn btn-ghost btn-sm p-2 rounded-xl hover-scale","aria-label":"Toggle mobile menu",children:de?y(la,{className:"h-5 w-5 animate-scale-in"}):y(n5,{className:"h-5 w-5 animate-scale-in"})})]})]}),A("div",{className:"hidden lg:flex justify-between items-center h-20 animate-fade-in-down",children:[A("div",{className:"flex items-center space-x-4",children:[A("div",{className:"relative group",children:[y(Cw,{className:"h-12 w-12 text-primary-600 dark:text-primary-400 animate-float group-hover:scale-110 transition-transform duration-300"}),y("div",{className:"absolute inset-0 bg-primary-600/20 dark:bg-primary-400/20 rounded-full blur-xl animate-pulse-soft opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),A("div",{className:"space-y-1",children:[y("h1",{className:"text-3xl font-bold gradient-text",children:"Campus Resources Management"}),y("div",{className:"h-1 w-full bg-gradient-to-r from-primary-600 via-primary-400 to-transparent rounded-full"})]})]}),A("div",{className:"flex items-center space-x-6",children:[y(VP,{}),((Pa=e.role)==null?void 0:Pa.toLowerCase())==="admin"&&y("div",{className:"animate-fade-in-up",children:y(WQ,{})}),A("div",{className:"flex items-center space-x-4 p-3 rounded-2xl bg-white/50 dark:bg-secondary-800/50 backdrop-blur-sm border border-secondary-200/50 dark:border-secondary-700/50 hover:bg-white/70 dark:hover:bg-secondary-800/70 transition-all duration-300 animate-fade-in-up",children:[A("div",{className:"relative",children:[e!=null&&e.profilePicture?y("img",{src:e.profilePicture,alt:`${e.username}'s profile`,className:"w-12 h-12 rounded-2xl object-cover shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 border-2 border-white dark:border-secondary-800"}):y("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-500 to-primary-700 rounded-2xl flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:y(us,{className:"w-6 h-6 text-white"})}),y("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-success-500 rounded-full border-2 border-white dark:border-secondary-800 animate-pulse"})]}),A("div",{className:"text-sm",children:[y("p",{className:"font-semibold text-secondary-900 dark:text-secondary-100",children:e.username}),A("p",{className:"text-secondary-500 dark:text-secondary-400 capitalize flex items-center gap-1",children:[y(Zi,{className:"w-3 h-3"}),e.role]})]})]}),A("div",{className:"flex items-center space-x-3 animate-fade-in-up",children:[y(Ee,{onClick:fe,variant:"ghost",size:"sm",className:"hover-lift",leftIcon:y(us,{className:"w-4 h-4"}),children:"Profile"}),y(Ee,{onClick:Q,variant:"outline",size:"sm",className:"hover-lift border-error-300 text-error-600 hover:bg-error-500 hover:text-white hover:border-error-500",leftIcon:y(BT,{className:"w-4 h-4"}),children:"Logout"})]})]})]}),de&&A("div",{className:"lg:hidden border-t border-secondary-200/50 dark:border-secondary-700/50 py-6 space-y-6 animate-fade-in-down",children:[y("div",{className:"card-interactive p-4 animate-scale-in",children:A("div",{className:"flex items-center space-x-4",children:[A("div",{className:"relative",children:[e!=null&&e.profilePicture?y("img",{src:e.profilePicture,alt:`${e.username}'s profile`,className:"w-12 h-12 rounded-2xl object-cover shadow-lg border-2 border-white dark:border-secondary-800"}):y("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-500 to-primary-700 rounded-2xl flex items-center justify-center shadow-lg",children:y(us,{className:"w-6 h-6 text-white"})}),y("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-success-500 rounded-full border-2 border-white dark:border-secondary-800 animate-pulse"})]}),A("div",{className:"flex-1 min-w-0",children:[y("p",{className:"font-semibold text-secondary-900 dark:text-secondary-100 text-base",children:e.username}),A("p",{className:"text-secondary-500 dark:text-secondary-400 text-sm capitalize flex items-center gap-1",children:[y(Zi,{className:"w-3 h-3"}),e.role]})]})]})}),A("div",{className:"grid grid-cols-2 gap-4 animate-fade-in-up",children:[y(Ee,{onClick:fe,variant:"ghost",size:"md",fullWidth:!0,leftIcon:y(us,{className:"w-4 h-4"}),className:"hover-lift",children:"Profile"}),y(Ee,{onClick:Q,variant:"outline",size:"md",fullWidth:!0,leftIcon:y(BT,{className:"w-4 h-4"}),className:"hover-lift border-error-300 text-error-600 hover:bg-error-500 hover:text-white hover:border-error-500",children:"Logout"})]})]})]})}),A("main",{className:"container-responsive py-8 lg:py-12 space-y-8 lg:space-y-12",children:[A("section",{className:"relative overflow-hidden",children:[y("div",{className:"absolute inset-0 bg-gradient-to-r from-primary-500/10 via-transparent to-accent-purple-500/10 rounded-3xl"}),y("div",{className:"relative card-glass p-8 lg:p-12 animate-fade-in-up",children:A("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[A("div",{className:"space-y-4",children:[A("div",{className:"flex items-center gap-3 mb-2",children:[y("div",{className:"w-2 h-2 bg-success-500 rounded-full animate-pulse"}),y("span",{className:"text-sm font-medium text-success-600 dark:text-success-400",children:"System Online"})]}),A("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold gradient-text leading-tight",children:["Welcome back, ",e.username,"!"]}),y("p",{className:"text-lg lg:text-xl text-secondary-600 dark:text-secondary-400 leading-relaxed max-w-2xl",children:"Manage your campus resources and bookings with our enhanced dashboard experience."})]}),A("div",{className:"flex lg:flex-col gap-4 lg:gap-2 text-right",children:[A("div",{className:"text-center lg:text-right",children:[y("div",{className:"text-2xl lg:text-3xl font-bold text-primary-600 dark:text-primary-400",children:n.length}),y("div",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"Resources"})]}),A("div",{className:"text-center lg:text-right",children:[y("div",{className:"text-2xl lg:text-3xl font-bold text-primary-600 dark:text-primary-400",children:a.length}),y("div",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"Bookings"})]}),A("div",{className:"text-center lg:text-right",children:[y("div",{className:"text-2xl lg:text-3xl font-bold text-primary-600 dark:text-primary-400",children:s.length}),y("div",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"Notifications"})]})]})]})})]}),y("section",{className:"animate-fade-in-up",style:{animationDelay:"0.1s"},children:y("div",{className:"card-glass p-2 rounded-2xl",children:y("div",{className:"flex overflow-x-auto scrollbar-hide gap-2",children:[{key:"overview",label:"Overview",icon:y($v,{className:"w-4 h-4"})},...((Go=e==null?void 0:e.role)==null?void 0:Go.toLowerCase())==="admin"?[{key:"analytics",label:"Analytics",icon:y(m1,{className:"w-4 h-4"})},{key:"analysis",label:"Analysis",icon:y(YB,{className:"w-4 h-4"})}]:[],{key:"resources",label:"Resources",icon:y(Pw,{className:"w-4 h-4"})},{key:"bookings",label:"Bookings",icon:y(ln,{className:"w-4 h-4"})},{key:"notifications",label:"Notifications",icon:y(FT,{className:"w-4 h-4"})}].map((V,se)=>A("button",{onClick:()=>h(V.key),className:`nav-tab flex items-center gap-2 px-6 py-3 rounded-xl font-semibold text-sm transition-all duration-300 whitespace-nowrap min-h-touch hover-scale ${d===V.key?"bg-gradient-to-r from-primary-500 to-primary-600 text-white shadow-lg":"text-secondary-600 dark:text-secondary-400 hover:bg-secondary-100 dark:hover:bg-secondary-800 hover:text-secondary-900 dark:hover:text-secondary-100"}`,style:{animationDelay:`${se*.05}s`},children:[V.icon,y("span",{children:V.label}),d===V.key&&y("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-white rounded-full animate-bounce-in"})]},V.key))})})}),A("section",{className:"card-glass rounded-3xl overflow-hidden animate-fade-in-up",style:{animationDelay:"0.2s"},children:[d==="analytics"&&((Ia=e==null?void 0:e.role)==null?void 0:Ia.toLowerCase())==="admin"&&A("div",{className:"padding-responsive spacing-responsive",children:[A("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-8 gap-4",children:[A("div",{children:[y("h2",{className:"text-3xl font-bold gradient-text mb-2",children:"Analytics Dashboard"}),y("p",{className:"text-secondary-600 dark:text-secondary-400",children:"Comprehensive insights and metrics"})]}),A("div",{className:"flex items-center gap-2 text-sm text-secondary-500 dark:text-secondary-400",children:[y("div",{className:"w-2 h-2 bg-success-500 rounded-full animate-pulse"}),y("span",{children:"Live Data"})]})]}),y(KQ,{bookings:a||[],resources:n||[],totalUsers:p})]}),d==="analysis"&&((Yo=e==null?void 0:e.role)==null?void 0:Yo.toLowerCase())==="admin"&&y("div",{className:"padding-responsive spacing-responsive",children:y(Ihe,{bookings:a||[],resources:n||[],totalUsers:p})}),d==="overview"&&A("div",{className:"padding-responsive",children:[A("div",{className:"flex items-center justify-between mb-8",children:[A("div",{children:[y("h3",{className:"text-3xl font-bold gradient-text mb-2",children:"Dashboard Overview"}),y("p",{className:"text-secondary-600 dark:text-secondary-400",children:"Your personalized campus resource hub"})]}),A("div",{className:"hidden sm:flex items-center gap-2 text-sm text-secondary-500 dark:text-secondary-400",children:[y(Wl,{className:"w-4 h-4"}),A("span",{children:["Updated ",new Date().toLocaleTimeString()]})]})]}),A("div",{className:"grid-responsive mb-12",children:[y("div",{className:"stat-card hover-lift animate-fade-in-up group",style:{animationDelay:"0.1s"},children:A("div",{className:"flex items-center justify-between",children:[A("div",{className:"space-y-2",children:[y("p",{className:"text-sm font-semibold text-primary-600 dark:text-primary-400 uppercase tracking-wide",children:"Total Resources"}),y("p",{className:"text-4xl font-bold text-primary-900 dark:text-primary-100 group-hover:scale-110 transition-transform duration-300",children:n.length}),y("p",{className:"text-xs text-secondary-500 dark:text-secondary-400",children:"Available for booking"})]}),A("div",{className:"relative",children:[y("div",{className:"p-4 bg-primary-100 dark:bg-primary-800 rounded-2xl group-hover:scale-110 transition-transform duration-300",children:y($v,{className:"w-8 h-8 text-primary-600 dark:text-primary-400"})}),y("div",{className:"absolute inset-0 bg-primary-600/20 dark:bg-primary-400/20 rounded-2xl blur-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]})}),y("div",{className:"stat-card hover-lift animate-fade-in-up group",style:{animationDelay:"0.2s"},children:A("div",{className:"flex items-center justify-between",children:[A("div",{className:"space-y-2",children:[y("p",{className:"text-sm font-semibold text-primary-600 dark:text-primary-400 uppercase tracking-wide",children:"Your Bookings"}),y("p",{className:"text-4xl font-bold text-primary-900 dark:text-primary-100 group-hover:scale-110 transition-transform duration-300",children:a.length}),y("p",{className:"text-xs text-secondary-500 dark:text-secondary-400",children:"Active reservations"})]}),A("div",{className:"relative",children:[y("div",{className:"p-4 bg-primary-100 dark:bg-primary-800 rounded-2xl group-hover:scale-110 transition-transform duration-300",children:y(ln,{className:"w-8 h-8 text-primary-600 dark:text-primary-400"})}),y("div",{className:"absolute inset-0 bg-primary-600/20 dark:bg-primary-400/20 rounded-2xl blur-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]})}),y("div",{className:"stat-card hover-lift animate-fade-in-up group",style:{animationDelay:"0.3s"},children:A("div",{className:"flex items-center justify-between",children:[A("div",{className:"space-y-2",children:[y("p",{className:"text-sm font-semibold text-primary-600 dark:text-primary-400 uppercase tracking-wide",children:"Notifications"}),y("p",{className:"text-4xl font-bold text-primary-900 dark:text-primary-100 group-hover:scale-110 transition-transform duration-300",children:s.length}),y("p",{className:"text-xs text-secondary-500 dark:text-secondary-400",children:"Unread messages"})]}),A("div",{className:"relative",children:[y("div",{className:"p-4 bg-primary-100 dark:bg-primary-800 rounded-2xl group-hover:scale-110 transition-transform duration-300",children:y(r5,{className:"w-8 h-8 text-primary-600 dark:text-primary-400"})}),y("div",{className:"absolute inset-0 bg-primary-600/20 dark:bg-primary-400/20 rounded-2xl blur-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]})})]}),A("div",{className:"mb-12",children:[y("h4",{className:"text-2xl font-bold gradient-text mb-6",children:"Quick Actions"}),y("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[{key:"resources",label:"Book Resource",icon:y(id,{className:"w-6 h-6"}),color:"primary",description:"Reserve a resource"},{key:"bookings",label:"View Bookings",icon:y(ln,{className:"w-6 h-6"}),color:"primary",description:"Manage reservations"},{key:"notifications",label:"Notifications",icon:y(FT,{className:"w-6 h-6"}),color:"primary",description:"Check messages"},{action:ye,label:"Calendar",icon:y(UT,{className:"w-6 h-6"}),color:"primary",description:"View schedule"}].map((V,se)=>A("button",{onClick:V.action||(()=>h(V.key)),className:`card-interactive p-6 text-center hover-lift animate-fade-in-up group ${V.color==="primary"?"hover:shadow-primary-500/25":V.color==="success"?"hover:shadow-success-500/25":V.color==="warning"?"hover:shadow-warning-500/25":"hover:shadow-info-500/25"}`,style:{animationDelay:`${.1+se*.1}s`},children:[y("div",{className:`inline-flex items-center justify-center w-12 h-12 rounded-2xl mb-4 group-hover:scale-110 transition-transform duration-300 ${V.color==="primary"?"bg-primary-100 dark:bg-primary-800 text-primary-600 dark:text-primary-400":V.color==="success"?"bg-success-100 dark:bg-success-800 text-success-600 dark:text-success-400":V.color==="warning"?"bg-warning-100 dark:bg-warning-800 text-warning-600 dark:text-warning-400":"bg-info-100 dark:bg-info-800 text-info-600 dark:text-info-400"}`,children:V.icon}),y("h5",{className:"font-semibold text-secondary-900 dark:text-secondary-100 mb-1",children:V.label}),y("p",{className:"text-xs text-secondary-500 dark:text-secondary-400",children:V.description})]},V.key||"calendar"))})]}),A("div",{className:"space-y-6",children:[A("div",{className:"flex items-center justify-between",children:[y("h4",{className:"text-2xl font-bold gradient-text",children:"Recent Activity"}),y(Ee,{onClick:()=>h("bookings"),variant:"ghost",size:"sm",className:"hover-scale",children:"View All"})]}),a.length>0?y("div",{className:"space-y-4",children:a.slice(0,3).map((V,se)=>y("div",{className:"card-interactive p-6 hover-lift animate-fade-in-up group",style:{animationDelay:`${.1+se*.1}s`},children:A("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[A("div",{className:"flex items-center space-x-4",children:[y("div",{className:"p-3 bg-primary-100 dark:bg-primary-800 rounded-2xl group-hover:scale-110 transition-transform duration-300",children:y(Pw,{className:"w-6 h-6 text-primary-600 dark:text-primary-400"})}),A("div",{className:"min-w-0 flex-1",children:[y("h5",{className:"font-semibold text-secondary-900 dark:text-secondary-100 text-lg mb-1",children:V.resourceName}),A("p",{className:"text-sm text-secondary-600 dark:text-secondary-400 flex items-center gap-2",children:[y(Wl,{className:"w-4 h-4"}),Nl(V.startTime)," at ",GM(V.startTime)]})]})]}),A("div",{className:"flex items-center gap-3",children:[y("span",{className:`badge ${V.status==="approved"?"badge-success":V.status==="pending"?"badge-warning":"badge-error"}`,children:V.status}),y(Ee,{onClick:()=>Tt(V),variant:"ghost",size:"sm",className:"hover-scale",children:y(Iw,{className:"w-4 h-4"})})]})]})},V.id))}):A("div",{className:"card text-center py-12 animate-fade-in-up",children:[y("div",{className:"w-16 h-16 bg-secondary-100 dark:bg-secondary-800 rounded-full flex items-center justify-center mx-auto mb-4",children:y(ln,{className:"w-8 h-8 text-secondary-400"})}),y("h5",{className:"text-lg font-semibold text-secondary-900 dark:text-secondary-100 mb-2",children:"No Recent Activity"}),y("p",{className:"text-secondary-500 dark:text-secondary-400 mb-6",children:"Start by booking your first resource"}),y(Ee,{onClick:()=>h("resources"),variant:"primary",className:"hover-scale",children:"Browse Resources"})]})]})]}),d==="resources"&&A("div",{className:"p-4 sm:p-6 lg:p-8",children:[A("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 sm:mb-8 space-y-4 sm:space-y-0",children:[y("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Available Resources"}),((Qo=e.role)==null?void 0:Qo.toLowerCase())==="admin"&&A(Ee,{className:"flex items-center justify-center space-x-2 w-full sm:w-auto",onClick:()=>b(!0),children:[y(id,{className:"w-5 h-5 sm:w-6 sm:h-6"}),y("span",{className:"text-sm sm:text-base",children:"Add Resource"})]})]}),A("div",{className:"mb-6 space-y-3",children:[A("div",{className:"relative",children:[y(rD,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),y("input",{type:"text",placeholder:"Search resources...",className:"w-full pl-10 pr-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-all duration-200 text-base"})]}),A("div",{className:"flex flex-wrap gap-2",children:[y("button",{className:"px-3 py-2 text-sm font-medium bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300 rounded-lg border border-blue-200 dark:border-blue-700",children:"All"}),y("button",{className:"px-3 py-2 text-sm font-medium bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg border border-gray-200 dark:border-gray-600",children:"Available"}),y("button",{className:"px-3 py-2 text-sm font-medium bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg border border-gray-200 dark:border-gray-600",children:"Booked"}),y("button",{className:"px-3 py-2 text-sm font-medium bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg border border-gray-200 dark:border-gray-600",children:"Maintenance"})]})]}),n.length>0?y("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:n.map(V=>{var se,Ve;return A("div",{className:`card p-4 sm:p-6 transition-all duration-300 ${V.isUnderMaintenance?"opacity-60 grayscale":""}`,children:[A("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-3 sm:mb-4 space-y-2 sm:space-y-0",children:[y("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 text-base sm:text-lg",children:V.name}),A("div",{className:"flex flex-wrap items-center gap-2",children:[y("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${V.status==="available"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":V.status==="booked"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300"}`,children:V.status}),V.isUnderMaintenance&&y("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300",children:"Maintenance"})]})]}),y("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3 sm:mb-4 leading-relaxed",children:V.description}),V.isUnderMaintenance&&V.maintenanceNote&&y("div",{className:"mb-3 sm:mb-4 p-3 bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg",children:A("p",{className:"text-xs sm:text-sm text-orange-800 dark:text-orange-300 leading-relaxed",children:[y("strong",{children:"Maintenance Note:"})," ",V.maintenanceNote]})}),A("div",{className:"space-y-2 text-xs sm:text-sm text-gray-500 dark:text-gray-400 mb-3 sm:mb-4",children:[A("div",{className:"flex items-center",children:[y(Zi,{className:"w-4 h-4 mr-2 flex-shrink-0"}),y("span",{className:"truncate",children:V.category})]}),A("div",{className:"flex items-center",children:[y(Ic,{className:"w-4 h-4 mr-2 flex-shrink-0"}),A("span",{children:[V.capacity||"N/A"," capacity"]})]}),A("div",{className:"flex items-center",children:[y($v,{className:"w-4 h-4 mr-2 flex-shrink-0"}),y("span",{className:"truncate",children:V.location})]})]}),A("div",{className:"space-y-3",children:[((se=e.role)==null?void 0:se.toLowerCase())==="admin"&&y(qQ,{resourceId:V.id,resourceName:V.name,isUnderMaintenance:V.isUnderMaintenance||!1,onToggle:Tn=>{i(sr=>sr.map(Wn=>Wn.id===V.id?{...Wn,isUnderMaintenance:Tn,status:Tn?"maintenance":"available"}:Wn))}}),A("div",{className:"flex flex-col space-y-3",children:[y(Ee,{className:"w-full mobile-button",size:"sm",onClick:()=>qe(V),disabled:V.isUnderMaintenance,children:V.isUnderMaintenance?"Unavailable":"Book Now"}),((Ve=e.role)==null?void 0:Ve.toLowerCase())==="admin"&&A("div",{className:"grid grid-cols-2 gap-3",children:[A(Ee,{variant:"outline",size:"sm",onClick:()=>he(V),className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 mobile-button",children:[y(Ow,{className:"w-4 h-4 mr-2"}),"Edit"]}),A(Ee,{variant:"outline",size:"sm",onClick:()=>Nt(V.id),className:"text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 mobile-button",children:[y(zT,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]})]},V.id)})}):y("p",{className:"text-gray-500 dark:text-gray-400 text-center py-8",children:"No resources available."})]}),d==="bookings"&&A("div",{className:"p-4 sm:p-6 lg:p-8",children:[A("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 space-y-4 sm:space-y-0",children:[y("h3",{className:"text-xl sm:text-2xl font-semibold text-gray-900 dark:text-gray-100",children:((Ca=e==null?void 0:e.role)==null?void 0:Ca.toLowerCase())==="admin"?"All Bookings":"Your Bookings"}),A("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 w-full sm:w-auto",children:[A(Ee,{variant:"outline",size:"sm",onClick:ye,className:"flex items-center justify-center space-x-2 w-full sm:w-auto",children:[y(UT,{className:"w-4 h-4"}),y("span",{className:"text-sm sm:text-base",children:"Calendar View"})]}),A(Ee,{variant:"outline",size:"sm",onClick:je,className:"flex items-center justify-center space-x-2 w-full sm:w-auto",children:[y(Wl,{className:"w-4 h-4"}),y("span",{className:"text-sm sm:text-base",children:"Refresh"})]})]})]}),a.length>0?y("div",{className:"space-y-4",children:a.map(V=>{var se,Ve,Tn;return A("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 sm:p-6",children:[A("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-4 space-y-3 sm:space-y-0",children:[A("div",{className:"min-w-0 flex-1",children:[y("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 text-base sm:text-lg mb-1",children:V.resourceName}),((se=e==null?void 0:e.role)==null?void 0:se.toLowerCase())==="admin"&&A("p",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:["Booked by: ",V.userName," (",V.userRole,")"]})]}),y("span",{className:`px-3 py-1 text-xs font-medium rounded-full self-start sm:self-auto ${V.status==="approved"?"bg-green-100 text-green-800":V.status==="pending"?"bg-yellow-100 text-yellow-800":V.status==="rejected"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:V.status})]}),A("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 text-xs sm:text-sm mb-4",children:[A("div",{className:"bg-gray-50 dark:bg-gray-700 p-3 rounded-lg",children:[y("p",{className:"text-gray-500 dark:text-gray-400 mb-1 font-medium",children:"Start Time"}),y("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:Nl(V.startTime)})]}),A("div",{className:"bg-gray-50 dark:bg-gray-700 p-3 rounded-lg",children:[y("p",{className:"text-gray-500 dark:text-gray-400 mb-1 font-medium",children:"End Time"}),y("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:Nl(V.endTime)})]}),A("div",{className:"bg-gray-50 dark:bg-gray-700 p-3 rounded-lg",children:[y("p",{className:"text-gray-500 dark:text-gray-400 mb-1 font-medium",children:"Purpose"}),y("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:V.purpose})]}),A("div",{className:"bg-gray-50 dark:bg-gray-700 p-3 rounded-lg",children:[y("p",{className:"text-gray-500 dark:text-gray-400 mb-1 font-medium",children:"Attendees"}),A("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:[V.attendees," people"]})]})]}),A("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2",children:[A(Ee,{variant:"outline",size:"sm",onClick:()=>Tt(V),className:"flex items-center justify-center space-x-2 w-full sm:w-auto",children:[y(Iw,{className:"w-4 h-4"}),y("span",{className:"text-sm sm:text-base",children:"View Details"})]}),((Ve=e==null?void 0:e.role)==null?void 0:Ve.toLowerCase())==="admin"&&V.status==="pending"&&A("div",{className:"grid grid-cols-2 gap-3 w-full sm:w-auto",children:[A(Ee,{variant:"outline",size:"sm",onClick:()=>Z(V.id),className:"text-green-600 hover:text-green-700 w-full mobile-button",children:[y(rm,{className:"w-4 h-4 mr-2"}),"Approve"]}),A(Ee,{variant:"outline",size:"sm",onClick:()=>me(V.id),className:"text-red-600 hover:text-red-700 w-full mobile-button",children:[y(c5,{className:"w-4 h-4 mr-2"}),"Reject"]})]}),((Tn=e==null?void 0:e.role)==null?void 0:Tn.toLowerCase())!=="admin"&&V.status==="approved"&&y("div",{className:"text-center sm:text-left",children:y("p",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:"✅ Your booking has been approved!"})})]})]},V.id)})}):y("p",{className:"text-gray-500 dark:text-gray-400 text-center py-8",children:(((Oa=e==null?void 0:e.role)==null?void 0:Oa.toLowerCase())==="admin","No bookings found.")})]}),d==="notifications"&&A("div",{className:"p-4 sm:p-6 lg:p-8",children:[A("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 space-y-4 sm:space-y-0",children:[y("h3",{className:"text-xl sm:text-2xl font-semibold text-gray-900 dark:text-gray-100",children:((Na=e==null?void 0:e.role)==null?void 0:Na.toLowerCase())==="admin"?"All Notifications":"Your Notifications"}),((At=e==null?void 0:e.role)==null?void 0:At.toLowerCase())==="admin"&&A(Ee,{onClick:q,className:"flex items-center justify-center space-x-2 w-full sm:w-auto",children:[y(Nw,{className:"w-4 h-4 sm:w-5 sm:h-5"}),y("span",{className:"text-sm sm:text-base",children:"Create Notification"})]})]}),s.length>0?y("div",{className:"space-y-4",children:s.map(V=>{var se;return y("div",{className:`border-l-4 p-4 sm:p-6 ${V.isRead?"border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800":"border-blue-500 dark:border-blue-600 bg-blue-50 dark:bg-blue-900/20"}`,children:A("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between space-y-3 sm:space-y-0",children:[A("div",{className:"flex-1 min-w-0",children:[A("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-2 mb-2",children:[y("h4",{className:"font-medium text-gray-900 dark:text-gray-100 text-base sm:text-lg",children:V.title}),V.isSystemNotification&&y("span",{className:"px-2 py-1 text-xs bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300 rounded-full self-start sm:self-auto",children:"System"})]}),y("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1 leading-relaxed",children:V.message}),V.imageUrl&&y("div",{className:"mt-3",children:y("img",{src:V.imageUrl,alt:"Notification",className:"max-w-full max-h-48 object-cover rounded-lg"})}),A("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mt-3 sm:mt-2 space-y-2 sm:space-y-0",children:[y("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:Nl(V.createdAt)}),V.createdBy&&A("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["By: ",V.createdBy]})]})]}),A("div",{className:"flex flex-col space-y-2 self-start sm:self-auto w-full sm:w-auto",children:[!V.isRead&&A(Ee,{variant:"outline",size:"sm",onClick:()=>or(V.id),className:"text-blue-600 hover:text-blue-700 w-full sm:w-auto",children:[y(rm,{className:"w-4 h-4 mr-2"}),y("span",{className:"text-sm sm:text-base",children:"Mark Read"})]}),((se=e==null?void 0:e.role)==null?void 0:se.toLowerCase())==="admin"&&A(Ee,{variant:"outline",size:"sm",onClick:()=>Ii(V.id),className:"text-red-600 hover:text-red-700 w-full sm:w-auto",children:[y(zT,{className:"w-4 h-4 mr-2"}),y("span",{className:"text-sm sm:text-base",children:"Delete"})]})]})]})},V.id)})}):y("p",{className:"text-gray-500 dark:text-gray-400 text-center py-8 text-sm sm:text-base",children:(((Dt=e==null?void 0:e.role)==null?void 0:Dt.toLowerCase())==="admin","No notifications found.")})]})]})]}),y("div",{className:"fixed bottom-6 right-6 z-30 lg:hidden",children:A("div",{className:"relative",children:[y("button",{onClick:()=>{d==="resources"?b(!0):d==="notifications"?U(!0):d==="bookings"&&ye()},className:"w-14 h-14 bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-200 flex items-center justify-center",style:{minHeight:"56px",minWidth:"56px"},children:d==="resources"?y(id,{className:"w-6 h-6"}):d==="notifications"?y(Nw,{className:"w-6 h-6"}):y(ln,{className:"w-6 h-6"})}),y("div",{className:"absolute bottom-full right-0 mb-2 px-3 py-2 bg-gray-900 dark:bg-gray-700 text-white text-sm rounded-lg whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none",children:d==="resources"?"Add Resource":d==="notifications"?"Create Notification":"View Calendar"})]})}),y($G,{isOpen:g,onClose:()=>b(!1),onResourceAdded:ce}),y(VG,{isOpen:w,onClose:()=>{x(!1),C(null)},onResourceUpdated:Y,resource:E}),y(FG,{isOpen:I,onClose:()=>{M(!1),C(null)},resource:E,currentUser:e,onBookingCreated:Gt}),y(UG,{isOpen:T,onClose:()=>{S(!1),L(null)},booking:N,currentUser:e,onBookingUpdated:en}),y(FQ,{isOpen:D,onClose:()=>O(!1),currentUser:e}),y(UQ,{isOpen:P,onClose:()=>U(!1),currentUser:e,onNotificationCreated:Qe}),y(zQ,{isOpen:ee,onClose:()=>G(!1),currentUser:e,onProfileUpdated:et})]}):null};function Ohe(){return y(jG,{children:A("div",{className:"min-h-screen transition-all duration-300",children:[y(Ag,{position:"top-right",toastOptions:{className:"dark:bg-gray-800 dark:text-gray-100",duration:4e3}}),A(CB,{children:[y($u,{path:"/login",element:y(C9,{})}),y($u,{path:"/register",element:y(LG,{})}),y($u,{path:"/dashboard",element:y(Che,{})}),y($u,{path:"/",element:y(PB,{to:"/login",replace:!0})})]})]})})}W2(document.getElementById("root")).render(y(le.StrictMode,{children:y(jB,{basename:"/Campus_Resourses_management_System",children:y(Ohe,{})})}));
