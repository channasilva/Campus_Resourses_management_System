var c6=Object.defineProperty;var u6=(t,e,r)=>e in t?c6(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var sy=(t,e,r)=>(u6(t,typeof e!="symbol"?e+"":e,r),r);function d6(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var fh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var PO={exports:{}},sg={},IO={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nf=Symbol.for("react.element"),f6=Symbol.for("react.portal"),h6=Symbol.for("react.fragment"),p6=Symbol.for("react.strict_mode"),m6=Symbol.for("react.profiler"),g6=Symbol.for("react.provider"),v6=Symbol.for("react.context"),y6=Symbol.for("react.forward_ref"),w6=Symbol.for("react.suspense"),b6=Symbol.for("react.memo"),_6=Symbol.for("react.lazy"),bk=Symbol.iterator;function x6(t){return t===null||typeof t!="object"?null:(t=bk&&t[bk]||t["@@iterator"],typeof t=="function"?t:null)}var CO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},OO=Object.assign,NO={};function Sc(t,e,r){this.props=t,this.context=e,this.refs=NO,this.updater=r||CO}Sc.prototype.isReactComponent={};Sc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Sc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function DO(){}DO.prototype=Sc.prototype;function h_(t,e,r){this.props=t,this.context=e,this.refs=NO,this.updater=r||CO}var p_=h_.prototype=new DO;p_.constructor=h_;OO(p_,Sc.prototype);p_.isPureReactComponent=!0;var _k=Array.isArray,RO=Object.prototype.hasOwnProperty,m_={current:null},MO={key:!0,ref:!0,__self:!0,__source:!0};function LO(t,e,r){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)RO.call(e,n)&&!MO.hasOwnProperty(n)&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:nf,type:t,key:a,ref:o,props:i,_owner:m_.current}}function E6(t,e){return{$$typeof:nf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function g_(t){return typeof t=="object"&&t!==null&&t.$$typeof===nf}function S6(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var xk=/\/+/g;function ly(t,e){return typeof t=="object"&&t!==null&&t.key!=null?S6(""+t.key):e.toString(36)}function ap(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case nf:case f6:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+ly(o,0):n,_k(i)?(r="",t!=null&&(r=t.replace(xk,"$&/")+"/"),ap(i,e,r,"",function(c){return c})):i!=null&&(g_(i)&&(i=E6(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(xk,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",_k(t))for(var s=0;s<t.length;s++){a=t[s];var l=n+ly(a,s);o+=ap(a,e,r,l,i)}else if(l=x6(t),typeof l=="function")for(t=l.call(t),s=0;!(a=t.next()).done;)a=a.value,l=n+ly(a,s++),o+=ap(a,e,r,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function hh(t,e,r){if(t==null)return t;var n=[],i=0;return ap(t,n,"","",function(a){return e.call(r,a,i++)}),n}function k6(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ur={current:null},op={transition:null},T6={ReactCurrentDispatcher:Ur,ReactCurrentBatchConfig:op,ReactCurrentOwner:m_};function jO(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:hh,forEach:function(t,e,r){hh(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return hh(t,function(){e++}),e},toArray:function(t){return hh(t,function(e){return e})||[]},only:function(t){if(!g_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Se.Component=Sc;Se.Fragment=h6;Se.Profiler=m6;Se.PureComponent=h_;Se.StrictMode=p6;Se.Suspense=w6;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T6;Se.act=jO;Se.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=OO({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=m_.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)RO.call(e,l)&&!MO.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];n.children=s}return{$$typeof:nf,type:t.type,key:i,ref:a,props:n,_owner:o}};Se.createContext=function(t){return t={$$typeof:v6,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:g6,_context:t},t.Consumer=t};Se.createElement=LO;Se.createFactory=function(t){var e=LO.bind(null,t);return e.type=t,e};Se.createRef=function(){return{current:null}};Se.forwardRef=function(t){return{$$typeof:y6,render:t}};Se.isValidElement=g_;Se.lazy=function(t){return{$$typeof:_6,_payload:{_status:-1,_result:t},_init:k6}};Se.memo=function(t,e){return{$$typeof:b6,type:t,compare:e===void 0?null:e}};Se.startTransition=function(t){var e=op.transition;op.transition={};try{t()}finally{op.transition=e}};Se.unstable_act=jO;Se.useCallback=function(t,e){return Ur.current.useCallback(t,e)};Se.useContext=function(t){return Ur.current.useContext(t)};Se.useDebugValue=function(){};Se.useDeferredValue=function(t){return Ur.current.useDeferredValue(t)};Se.useEffect=function(t,e){return Ur.current.useEffect(t,e)};Se.useId=function(){return Ur.current.useId()};Se.useImperativeHandle=function(t,e,r){return Ur.current.useImperativeHandle(t,e,r)};Se.useInsertionEffect=function(t,e){return Ur.current.useInsertionEffect(t,e)};Se.useLayoutEffect=function(t,e){return Ur.current.useLayoutEffect(t,e)};Se.useMemo=function(t,e){return Ur.current.useMemo(t,e)};Se.useReducer=function(t,e,r){return Ur.current.useReducer(t,e,r)};Se.useRef=function(t){return Ur.current.useRef(t)};Se.useState=function(t){return Ur.current.useState(t)};Se.useSyncExternalStore=function(t,e,r){return Ur.current.useSyncExternalStore(t,e,r)};Se.useTransition=function(){return Ur.current.useTransition()};Se.version="18.3.1";IO.exports=Se;var x=IO.exports;const le=wn(x),$O=d6({__proto__:null,default:le},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A6=x,P6=Symbol.for("react.element"),I6=Symbol.for("react.fragment"),C6=Object.prototype.hasOwnProperty,O6=A6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,N6={key:!0,ref:!0,__self:!0,__source:!0};function VO(t,e,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)C6.call(e,n)&&!N6.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:P6,type:t,key:a,ref:o,props:i,_owner:O6.current}}sg.Fragment=I6;sg.jsx=VO;sg.jsxs=VO;PO.exports=sg;var v_=PO.exports;const Jl=v_.Fragment,v=v_.jsx,C=v_.jsxs;var FO={exports:{}},bn={},UO={exports:{}},BO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(W,X){var Q=W.length;W.push(X);e:for(;0<Q;){var ce=Q-1>>>1,Y=W[ce];if(0<i(Y,X))W[ce]=X,W[Q]=Y,Q=ce;else break e}}function r(W){return W.length===0?null:W[0]}function n(W){if(W.length===0)return null;var X=W[0],Q=W.pop();if(Q!==X){W[0]=Q;e:for(var ce=0,Y=W.length,he=Y>>>1;ce<he;){var Nt=2*(ce+1)-1,qe=W[Nt],Gt=Nt+1,Tt=W[Gt];if(0>i(qe,Q))Gt<Y&&0>i(Tt,qe)?(W[ce]=Tt,W[Gt]=Q,ce=Gt):(W[ce]=qe,W[Nt]=Q,ce=Nt);else if(Gt<Y&&0>i(Tt,Q))W[ce]=Tt,W[Gt]=Q,ce=Gt;else break e}}return X}function i(W,X){var Q=W.sortIndex-X.sortIndex;return Q!==0?Q:W.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],c=[],u=1,d=null,h=3,p=!1,m=!1,g=!1,_=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(W){for(var X=r(c);X!==null;){if(X.callback===null)n(c);else if(X.startTime<=W)n(c),X.sortIndex=X.expirationTime,e(l,X);else break;X=r(c)}}function A(W){if(g=!1,E(W),!m)if(r(l)!==null)m=!0,G(D);else{var X=r(c);X!==null&&fe(A,X.startTime-W)}}function D(W,X){m=!1,g&&(g=!1,b(k),k=-1),p=!0;var Q=h;try{for(E(X),d=r(l);d!==null&&(!(d.expirationTime>X)||W&&!M());){var ce=d.callback;if(typeof ce=="function"){d.callback=null,h=d.priorityLevel;var Y=ce(d.expirationTime<=X);X=t.unstable_now(),typeof Y=="function"?d.callback=Y:d===r(l)&&n(l),E(X)}else n(l);d=r(l)}if(d!==null)var he=!0;else{var Nt=r(c);Nt!==null&&fe(A,Nt.startTime-X),he=!1}return he}finally{d=null,h=Q,p=!1}}var L=!1,T=null,k=-1,I=5,R=-1;function M(){return!(t.unstable_now()-R<I)}function O(){if(T!==null){var W=t.unstable_now();R=W;var X=!0;try{X=T(!0,W)}finally{X?P():(L=!1,T=null)}}else L=!1}var P;if(typeof w=="function")P=function(){w(O)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,ie=z.port2;z.port1.onmessage=O,P=function(){ie.postMessage(null)}}else P=function(){_(O,0)};function G(W){T=W,L||(L=!0,P())}function fe(W,X){k=_(function(){W(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,G(D))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(W){switch(h){case 1:case 2:case 3:var X=3;break;default:X=h}var Q=h;h=X;try{return W()}finally{h=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,X){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var Q=h;h=W;try{return X()}finally{h=Q}},t.unstable_scheduleCallback=function(W,X,Q){var ce=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ce+Q:ce):Q=ce,W){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=Q+Y,W={id:u++,callback:X,priorityLevel:W,startTime:Q,expirationTime:Y,sortIndex:-1},Q>ce?(W.sortIndex=Q,e(c,W),r(l)===null&&W===r(c)&&(g?(b(k),k=-1):g=!0,fe(A,Q-ce))):(W.sortIndex=Y,e(l,W),m||p||(m=!0,G(D))),W},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(W){var X=h;return function(){var Q=h;h=X;try{return W.apply(this,arguments)}finally{h=Q}}}})(BO);UO.exports=BO;var D6=UO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R6=x,pn=D6;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zO=new Set,hd={};function zs(t,e){Zl(t,e),Zl(t+"Capture",e)}function Zl(t,e){for(hd[t]=e,t=0;t<e.length;t++)zO.add(e[t])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),O0=Object.prototype.hasOwnProperty,M6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ek={},Sk={};function L6(t){return O0.call(Sk,t)?!0:O0.call(Ek,t)?!1:M6.test(t)?Sk[t]=!0:(Ek[t]=!0,!1)}function j6(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function $6(t,e,r,n){if(e===null||typeof e>"u"||j6(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Br(t,e,r,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var gr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){gr[t]=new Br(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];gr[e]=new Br(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){gr[t]=new Br(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){gr[t]=new Br(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){gr[t]=new Br(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){gr[t]=new Br(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){gr[t]=new Br(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){gr[t]=new Br(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){gr[t]=new Br(t,5,!1,t.toLowerCase(),null,!1,!1)});var y_=/[\-:]([a-z])/g;function w_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(y_,w_);gr[e]=new Br(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(y_,w_);gr[e]=new Br(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(y_,w_);gr[e]=new Br(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){gr[t]=new Br(t,1,!1,t.toLowerCase(),null,!1,!1)});gr.xlinkHref=new Br("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){gr[t]=new Br(t,1,!1,t.toLowerCase(),null,!0,!0)});function b_(t,e,r,n){var i=gr.hasOwnProperty(e)?gr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&($6(e,r,i,n)&&(r=null),n||i===null?L6(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var ya=R6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ph=Symbol.for("react.element"),yl=Symbol.for("react.portal"),wl=Symbol.for("react.fragment"),__=Symbol.for("react.strict_mode"),N0=Symbol.for("react.profiler"),WO=Symbol.for("react.provider"),qO=Symbol.for("react.context"),x_=Symbol.for("react.forward_ref"),D0=Symbol.for("react.suspense"),R0=Symbol.for("react.suspense_list"),E_=Symbol.for("react.memo"),Wa=Symbol.for("react.lazy"),KO=Symbol.for("react.offscreen"),kk=Symbol.iterator;function cu(t){return t===null||typeof t!="object"?null:(t=kk&&t[kk]||t["@@iterator"],typeof t=="function"?t:null)}var gt=Object.assign,cy;function Du(t){if(cy===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);cy=e&&e[1]||""}return`
`+cy+t}var uy=!1;function dy(t,e){if(!t||uy)return"";uy=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=s);break}}}finally{uy=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Du(t):""}function V6(t){switch(t.tag){case 5:return Du(t.type);case 16:return Du("Lazy");case 13:return Du("Suspense");case 19:return Du("SuspenseList");case 0:case 2:case 15:return t=dy(t.type,!1),t;case 11:return t=dy(t.type.render,!1),t;case 1:return t=dy(t.type,!0),t;default:return""}}function M0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case wl:return"Fragment";case yl:return"Portal";case N0:return"Profiler";case __:return"StrictMode";case D0:return"Suspense";case R0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case qO:return(t.displayName||"Context")+".Consumer";case WO:return(t._context.displayName||"Context")+".Provider";case x_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case E_:return e=t.displayName||null,e!==null?e:M0(t.type)||"Memo";case Wa:e=t._payload,t=t._init;try{return M0(t(e))}catch{}}return null}function F6(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return M0(e);case 8:return e===__?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function _o(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function HO(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function U6(t){var e=HO(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function mh(t){t._valueTracker||(t._valueTracker=U6(t))}function GO(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=HO(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Ip(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function L0(t,e){var r=e.checked;return gt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Tk(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=_o(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function YO(t,e){e=e.checked,e!=null&&b_(t,"checked",e,!1)}function j0(t,e){YO(t,e);var r=_o(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?$0(t,e.type,r):e.hasOwnProperty("defaultValue")&&$0(t,e.type,_o(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ak(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function $0(t,e,r){(e!=="number"||Ip(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Ru=Array.isArray;function $l(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+_o(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function V0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return gt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Pk(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(H(92));if(Ru(r)){if(1<r.length)throw Error(H(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:_o(r)}}function QO(t,e){var r=_o(e.value),n=_o(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Ik(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function XO(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function F0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?XO(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var gh,JO=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(gh=gh||document.createElement("div"),gh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=gh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function pd(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Gu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},B6=["Webkit","ms","Moz","O"];Object.keys(Gu).forEach(function(t){B6.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Gu[e]=Gu[t]})});function ZO(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Gu.hasOwnProperty(t)&&Gu[t]?(""+e).trim():e+"px"}function eN(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=ZO(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var z6=gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function U0(t,e){if(e){if(z6[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function B0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var z0=null;function S_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var W0=null,Vl=null,Fl=null;function Ck(t){if(t=sf(t)){if(typeof W0!="function")throw Error(H(280));var e=t.stateNode;e&&(e=fg(e),W0(t.stateNode,t.type,e))}}function tN(t){Vl?Fl?Fl.push(t):Fl=[t]:Vl=t}function rN(){if(Vl){var t=Vl,e=Fl;if(Fl=Vl=null,Ck(t),e)for(t=0;t<e.length;t++)Ck(e[t])}}function nN(t,e){return t(e)}function iN(){}var fy=!1;function aN(t,e,r){if(fy)return t(e,r);fy=!0;try{return nN(t,e,r)}finally{fy=!1,(Vl!==null||Fl!==null)&&(iN(),rN())}}function md(t,e){var r=t.stateNode;if(r===null)return null;var n=fg(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(H(231,e,typeof r));return r}var q0=!1;if(ia)try{var uu={};Object.defineProperty(uu,"passive",{get:function(){q0=!0}}),window.addEventListener("test",uu,uu),window.removeEventListener("test",uu,uu)}catch{q0=!1}function W6(t,e,r,n,i,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(u){this.onError(u)}}var Yu=!1,Cp=null,Op=!1,K0=null,q6={onError:function(t){Yu=!0,Cp=t}};function K6(t,e,r,n,i,a,o,s,l){Yu=!1,Cp=null,W6.apply(q6,arguments)}function H6(t,e,r,n,i,a,o,s,l){if(K6.apply(this,arguments),Yu){if(Yu){var c=Cp;Yu=!1,Cp=null}else throw Error(H(198));Op||(Op=!0,K0=c)}}function Ws(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function oN(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ok(t){if(Ws(t)!==t)throw Error(H(188))}function G6(t){var e=t.alternate;if(!e){if(e=Ws(t),e===null)throw Error(H(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return Ok(i),t;if(a===n)return Ok(i),e;a=a.sibling}throw Error(H(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(H(189))}}if(r.alternate!==n)throw Error(H(190))}if(r.tag!==3)throw Error(H(188));return r.stateNode.current===r?t:e}function sN(t){return t=G6(t),t!==null?lN(t):null}function lN(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=lN(t);if(e!==null)return e;t=t.sibling}return null}var cN=pn.unstable_scheduleCallback,Nk=pn.unstable_cancelCallback,Y6=pn.unstable_shouldYield,Q6=pn.unstable_requestPaint,It=pn.unstable_now,X6=pn.unstable_getCurrentPriorityLevel,k_=pn.unstable_ImmediatePriority,uN=pn.unstable_UserBlockingPriority,Np=pn.unstable_NormalPriority,J6=pn.unstable_LowPriority,dN=pn.unstable_IdlePriority,lg=null,vi=null;function Z6(t){if(vi&&typeof vi.onCommitFiberRoot=="function")try{vi.onCommitFiberRoot(lg,t,void 0,(t.current.flags&128)===128)}catch{}}var ei=Math.clz32?Math.clz32:rF,eF=Math.log,tF=Math.LN2;function rF(t){return t>>>=0,t===0?32:31-(eF(t)/tF|0)|0}var vh=64,yh=4194304;function Mu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Dp(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,o=r&268435455;if(o!==0){var s=o&~i;s!==0?n=Mu(s):(a&=o,a!==0&&(n=Mu(a)))}else o=r&~i,o!==0?n=Mu(o):a!==0&&(n=Mu(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-ei(e),i=1<<r,n|=t[r],e&=~i;return n}function nF(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iF(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-ei(a),s=1<<o,l=i[o];l===-1?(!(s&r)||s&n)&&(i[o]=nF(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}}function H0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function fN(){var t=vh;return vh<<=1,!(vh&4194240)&&(vh=64),t}function hy(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function af(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ei(e),t[e]=r}function aF(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-ei(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function T_(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-ei(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Be=0;function hN(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var pN,A_,mN,gN,vN,G0=!1,wh=[],oo=null,so=null,lo=null,gd=new Map,vd=new Map,Ha=[],oF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dk(t,e){switch(t){case"focusin":case"focusout":oo=null;break;case"dragenter":case"dragleave":so=null;break;case"mouseover":case"mouseout":lo=null;break;case"pointerover":case"pointerout":gd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vd.delete(e.pointerId)}}function du(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=sf(e),e!==null&&A_(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function sF(t,e,r,n,i){switch(e){case"focusin":return oo=du(oo,t,e,r,n,i),!0;case"dragenter":return so=du(so,t,e,r,n,i),!0;case"mouseover":return lo=du(lo,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return gd.set(a,du(gd.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,vd.set(a,du(vd.get(a)||null,t,e,r,n,i)),!0}return!1}function yN(t){var e=ss(t.target);if(e!==null){var r=Ws(e);if(r!==null){if(e=r.tag,e===13){if(e=oN(r),e!==null){t.blockedOn=e,vN(t.priority,function(){mN(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Y0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);z0=n,r.target.dispatchEvent(n),z0=null}else return e=sf(r),e!==null&&A_(e),t.blockedOn=r,!1;e.shift()}return!0}function Rk(t,e,r){sp(t)&&r.delete(e)}function lF(){G0=!1,oo!==null&&sp(oo)&&(oo=null),so!==null&&sp(so)&&(so=null),lo!==null&&sp(lo)&&(lo=null),gd.forEach(Rk),vd.forEach(Rk)}function fu(t,e){t.blockedOn===e&&(t.blockedOn=null,G0||(G0=!0,pn.unstable_scheduleCallback(pn.unstable_NormalPriority,lF)))}function yd(t){function e(i){return fu(i,t)}if(0<wh.length){fu(wh[0],t);for(var r=1;r<wh.length;r++){var n=wh[r];n.blockedOn===t&&(n.blockedOn=null)}}for(oo!==null&&fu(oo,t),so!==null&&fu(so,t),lo!==null&&fu(lo,t),gd.forEach(e),vd.forEach(e),r=0;r<Ha.length;r++)n=Ha[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ha.length&&(r=Ha[0],r.blockedOn===null);)yN(r),r.blockedOn===null&&Ha.shift()}var Ul=ya.ReactCurrentBatchConfig,Rp=!0;function cF(t,e,r,n){var i=Be,a=Ul.transition;Ul.transition=null;try{Be=1,P_(t,e,r,n)}finally{Be=i,Ul.transition=a}}function uF(t,e,r,n){var i=Be,a=Ul.transition;Ul.transition=null;try{Be=4,P_(t,e,r,n)}finally{Be=i,Ul.transition=a}}function P_(t,e,r,n){if(Rp){var i=Y0(t,e,r,n);if(i===null)Ey(t,e,n,Mp,r),Dk(t,n);else if(sF(i,t,e,r,n))n.stopPropagation();else if(Dk(t,n),e&4&&-1<oF.indexOf(t)){for(;i!==null;){var a=sf(i);if(a!==null&&pN(a),a=Y0(t,e,r,n),a===null&&Ey(t,e,n,Mp,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Ey(t,e,n,null,r)}}var Mp=null;function Y0(t,e,r,n){if(Mp=null,t=S_(n),t=ss(t),t!==null)if(e=Ws(t),e===null)t=null;else if(r=e.tag,r===13){if(t=oN(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Mp=t,null}function wN(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(X6()){case k_:return 1;case uN:return 4;case Np:case J6:return 16;case dN:return 536870912;default:return 16}default:return 16}}var ro=null,I_=null,lp=null;function bN(){if(lp)return lp;var t,e=I_,r=e.length,n,i="value"in ro?ro.value:ro.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[a-n];n++);return lp=i.slice(t,1<n?1-n:void 0)}function cp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function bh(){return!0}function Mk(){return!1}function _n(t){function e(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?bh:Mk,this.isPropagationStopped=Mk,this}return gt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=bh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=bh)},persist:function(){},isPersistent:bh}),e}var kc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},C_=_n(kc),of=gt({},kc,{view:0,detail:0}),dF=_n(of),py,my,hu,cg=gt({},of,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:O_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hu&&(hu&&t.type==="mousemove"?(py=t.screenX-hu.screenX,my=t.screenY-hu.screenY):my=py=0,hu=t),py)},movementY:function(t){return"movementY"in t?t.movementY:my}}),Lk=_n(cg),fF=gt({},cg,{dataTransfer:0}),hF=_n(fF),pF=gt({},of,{relatedTarget:0}),gy=_n(pF),mF=gt({},kc,{animationName:0,elapsedTime:0,pseudoElement:0}),gF=_n(mF),vF=gt({},kc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yF=_n(vF),wF=gt({},kc,{data:0}),jk=_n(wF),bF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_F={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EF(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=xF[t])?!!e[t]:!1}function O_(){return EF}var SF=gt({},of,{key:function(t){if(t.key){var e=bF[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=cp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_F[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:O_,charCode:function(t){return t.type==="keypress"?cp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?cp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),kF=_n(SF),TF=gt({},cg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$k=_n(TF),AF=gt({},of,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:O_}),PF=_n(AF),IF=gt({},kc,{propertyName:0,elapsedTime:0,pseudoElement:0}),CF=_n(IF),OF=gt({},cg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),NF=_n(OF),DF=[9,13,27,32],N_=ia&&"CompositionEvent"in window,Qu=null;ia&&"documentMode"in document&&(Qu=document.documentMode);var RF=ia&&"TextEvent"in window&&!Qu,_N=ia&&(!N_||Qu&&8<Qu&&11>=Qu),Vk=String.fromCharCode(32),Fk=!1;function xN(t,e){switch(t){case"keyup":return DF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function EN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var bl=!1;function MF(t,e){switch(t){case"compositionend":return EN(e);case"keypress":return e.which!==32?null:(Fk=!0,Vk);case"textInput":return t=e.data,t===Vk&&Fk?null:t;default:return null}}function LF(t,e){if(bl)return t==="compositionend"||!N_&&xN(t,e)?(t=bN(),lp=I_=ro=null,bl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return _N&&e.locale!=="ko"?null:e.data;default:return null}}var jF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uk(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!jF[t.type]:e==="textarea"}function SN(t,e,r,n){tN(n),e=Lp(e,"onChange"),0<e.length&&(r=new C_("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Xu=null,wd=null;function $F(t){MN(t,0)}function ug(t){var e=El(t);if(GO(e))return t}function VF(t,e){if(t==="change")return e}var kN=!1;if(ia){var vy;if(ia){var yy="oninput"in document;if(!yy){var Bk=document.createElement("div");Bk.setAttribute("oninput","return;"),yy=typeof Bk.oninput=="function"}vy=yy}else vy=!1;kN=vy&&(!document.documentMode||9<document.documentMode)}function zk(){Xu&&(Xu.detachEvent("onpropertychange",TN),wd=Xu=null)}function TN(t){if(t.propertyName==="value"&&ug(wd)){var e=[];SN(e,wd,t,S_(t)),aN($F,e)}}function FF(t,e,r){t==="focusin"?(zk(),Xu=e,wd=r,Xu.attachEvent("onpropertychange",TN)):t==="focusout"&&zk()}function UF(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ug(wd)}function BF(t,e){if(t==="click")return ug(e)}function zF(t,e){if(t==="input"||t==="change")return ug(e)}function WF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ri=typeof Object.is=="function"?Object.is:WF;function bd(t,e){if(ri(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!O0.call(e,i)||!ri(t[i],e[i]))return!1}return!0}function Wk(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qk(t,e){var r=Wk(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Wk(r)}}function AN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?AN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function PN(){for(var t=window,e=Ip();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Ip(t.document)}return e}function D_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function qF(t){var e=PN(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&AN(r.ownerDocument.documentElement,r)){if(n!==null&&D_(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=qk(r,a);var o=qk(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var KF=ia&&"documentMode"in document&&11>=document.documentMode,_l=null,Q0=null,Ju=null,X0=!1;function Kk(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;X0||_l==null||_l!==Ip(n)||(n=_l,"selectionStart"in n&&D_(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ju&&bd(Ju,n)||(Ju=n,n=Lp(Q0,"onSelect"),0<n.length&&(e=new C_("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=_l)))}function _h(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var xl={animationend:_h("Animation","AnimationEnd"),animationiteration:_h("Animation","AnimationIteration"),animationstart:_h("Animation","AnimationStart"),transitionend:_h("Transition","TransitionEnd")},wy={},IN={};ia&&(IN=document.createElement("div").style,"AnimationEvent"in window||(delete xl.animationend.animation,delete xl.animationiteration.animation,delete xl.animationstart.animation),"TransitionEvent"in window||delete xl.transitionend.transition);function dg(t){if(wy[t])return wy[t];if(!xl[t])return t;var e=xl[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in IN)return wy[t]=e[r];return t}var CN=dg("animationend"),ON=dg("animationiteration"),NN=dg("animationstart"),DN=dg("transitionend"),RN=new Map,Hk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oo(t,e){RN.set(t,e),zs(e,[t])}for(var by=0;by<Hk.length;by++){var _y=Hk[by],HF=_y.toLowerCase(),GF=_y[0].toUpperCase()+_y.slice(1);Oo(HF,"on"+GF)}Oo(CN,"onAnimationEnd");Oo(ON,"onAnimationIteration");Oo(NN,"onAnimationStart");Oo("dblclick","onDoubleClick");Oo("focusin","onFocus");Oo("focusout","onBlur");Oo(DN,"onTransitionEnd");Zl("onMouseEnter",["mouseout","mouseover"]);Zl("onMouseLeave",["mouseout","mouseover"]);Zl("onPointerEnter",["pointerout","pointerover"]);Zl("onPointerLeave",["pointerout","pointerover"]);zs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zs("onBeforeInput",["compositionend","keypress","textInput","paste"]);zs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YF=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lu));function Gk(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,H6(n,e,void 0,t),t.currentTarget=null}function MN(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;Gk(i,s,c),a=l}else for(o=0;o<n.length;o++){if(s=n[o],l=s.instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;Gk(i,s,c),a=l}}}if(Op)throw t=K0,Op=!1,K0=null,t}function nt(t,e){var r=e[rw];r===void 0&&(r=e[rw]=new Set);var n=t+"__bubble";r.has(n)||(LN(e,t,2,!1),r.add(n))}function xy(t,e,r){var n=0;e&&(n|=4),LN(r,t,n,e)}var xh="_reactListening"+Math.random().toString(36).slice(2);function _d(t){if(!t[xh]){t[xh]=!0,zO.forEach(function(r){r!=="selectionchange"&&(YF.has(r)||xy(r,!1,t),xy(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[xh]||(e[xh]=!0,xy("selectionchange",!1,e))}}function LN(t,e,r,n){switch(wN(e)){case 1:var i=cF;break;case 4:i=uF;break;default:i=P_}r=i.bind(null,e,r,t),i=void 0,!q0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Ey(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=ss(s),o===null)return;if(l=o.tag,l===5||l===6){n=a=o;continue e}s=s.parentNode}}n=n.return}aN(function(){var c=a,u=S_(r),d=[];e:{var h=RN.get(t);if(h!==void 0){var p=C_,m=t;switch(t){case"keypress":if(cp(r)===0)break e;case"keydown":case"keyup":p=kF;break;case"focusin":m="focus",p=gy;break;case"focusout":m="blur",p=gy;break;case"beforeblur":case"afterblur":p=gy;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Lk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=hF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=PF;break;case CN:case ON:case NN:p=gF;break;case DN:p=CF;break;case"scroll":p=dF;break;case"wheel":p=NF;break;case"copy":case"cut":case"paste":p=yF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=$k}var g=(e&4)!==0,_=!g&&t==="scroll",b=g?h!==null?h+"Capture":null:h;g=[];for(var w=c,E;w!==null;){E=w;var A=E.stateNode;if(E.tag===5&&A!==null&&(E=A,b!==null&&(A=md(w,b),A!=null&&g.push(xd(w,A,E)))),_)break;w=w.return}0<g.length&&(h=new p(h,m,null,r,u),d.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&r!==z0&&(m=r.relatedTarget||r.fromElement)&&(ss(m)||m[aa]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=c,m=m?ss(m):null,m!==null&&(_=Ws(m),m!==_||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(g=Lk,A="onMouseLeave",b="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(g=$k,A="onPointerLeave",b="onPointerEnter",w="pointer"),_=p==null?h:El(p),E=m==null?h:El(m),h=new g(A,w+"leave",p,r,u),h.target=_,h.relatedTarget=E,A=null,ss(u)===c&&(g=new g(b,w+"enter",m,r,u),g.target=E,g.relatedTarget=_,A=g),_=A,p&&m)t:{for(g=p,b=m,w=0,E=g;E;E=dl(E))w++;for(E=0,A=b;A;A=dl(A))E++;for(;0<w-E;)g=dl(g),w--;for(;0<E-w;)b=dl(b),E--;for(;w--;){if(g===b||b!==null&&g===b.alternate)break t;g=dl(g),b=dl(b)}g=null}else g=null;p!==null&&Yk(d,h,p,g,!1),m!==null&&_!==null&&Yk(d,_,m,g,!0)}}e:{if(h=c?El(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var D=VF;else if(Uk(h))if(kN)D=zF;else{D=UF;var L=FF}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(D=BF);if(D&&(D=D(t,c))){SN(d,D,r,u);break e}L&&L(t,h,c),t==="focusout"&&(L=h._wrapperState)&&L.controlled&&h.type==="number"&&$0(h,"number",h.value)}switch(L=c?El(c):window,t){case"focusin":(Uk(L)||L.contentEditable==="true")&&(_l=L,Q0=c,Ju=null);break;case"focusout":Ju=Q0=_l=null;break;case"mousedown":X0=!0;break;case"contextmenu":case"mouseup":case"dragend":X0=!1,Kk(d,r,u);break;case"selectionchange":if(KF)break;case"keydown":case"keyup":Kk(d,r,u)}var T;if(N_)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else bl?xN(t,r)&&(k="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(_N&&r.locale!=="ko"&&(bl||k!=="onCompositionStart"?k==="onCompositionEnd"&&bl&&(T=bN()):(ro=u,I_="value"in ro?ro.value:ro.textContent,bl=!0)),L=Lp(c,k),0<L.length&&(k=new jk(k,t,null,r,u),d.push({event:k,listeners:L}),T?k.data=T:(T=EN(r),T!==null&&(k.data=T)))),(T=RF?MF(t,r):LF(t,r))&&(c=Lp(c,"onBeforeInput"),0<c.length&&(u=new jk("onBeforeInput","beforeinput",null,r,u),d.push({event:u,listeners:c}),u.data=T))}MN(d,e)})}function xd(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Lp(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=md(t,r),a!=null&&n.unshift(xd(t,a,i)),a=md(t,e),a!=null&&n.push(xd(t,a,i))),t=t.return}return n}function dl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Yk(t,e,r,n,i){for(var a=e._reactName,o=[];r!==null&&r!==n;){var s=r,l=s.alternate,c=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&c!==null&&(s=c,i?(l=md(r,a),l!=null&&o.unshift(xd(r,l,s))):i||(l=md(r,a),l!=null&&o.push(xd(r,l,s)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var QF=/\r\n?/g,XF=/\u0000|\uFFFD/g;function Qk(t){return(typeof t=="string"?t:""+t).replace(QF,`
`).replace(XF,"")}function Eh(t,e,r){if(e=Qk(e),Qk(t)!==e&&r)throw Error(H(425))}function jp(){}var J0=null,Z0=null;function ew(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var tw=typeof setTimeout=="function"?setTimeout:void 0,JF=typeof clearTimeout=="function"?clearTimeout:void 0,Xk=typeof Promise=="function"?Promise:void 0,ZF=typeof queueMicrotask=="function"?queueMicrotask:typeof Xk<"u"?function(t){return Xk.resolve(null).then(t).catch(eU)}:tw;function eU(t){setTimeout(function(){throw t})}function Sy(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),yd(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);yd(e)}function co(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Jk(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Tc=Math.random().toString(36).slice(2),fi="__reactFiber$"+Tc,Ed="__reactProps$"+Tc,aa="__reactContainer$"+Tc,rw="__reactEvents$"+Tc,tU="__reactListeners$"+Tc,rU="__reactHandles$"+Tc;function ss(t){var e=t[fi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[aa]||r[fi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Jk(t);t!==null;){if(r=t[fi])return r;t=Jk(t)}return e}t=r,r=t.parentNode}return null}function sf(t){return t=t[fi]||t[aa],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function El(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function fg(t){return t[Ed]||null}var nw=[],Sl=-1;function No(t){return{current:t}}function st(t){0>Sl||(t.current=nw[Sl],nw[Sl]=null,Sl--)}function Ze(t,e){Sl++,nw[Sl]=t.current,t.current=e}var xo={},Cr=No(xo),Qr=No(!1),As=xo;function ec(t,e){var r=t.type.contextTypes;if(!r)return xo;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Xr(t){return t=t.childContextTypes,t!=null}function $p(){st(Qr),st(Cr)}function Zk(t,e,r){if(Cr.current!==xo)throw Error(H(168));Ze(Cr,e),Ze(Qr,r)}function jN(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(H(108,F6(t)||"Unknown",i));return gt({},r,n)}function Vp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||xo,As=Cr.current,Ze(Cr,t),Ze(Qr,Qr.current),!0}function eT(t,e,r){var n=t.stateNode;if(!n)throw Error(H(169));r?(t=jN(t,e,As),n.__reactInternalMemoizedMergedChildContext=t,st(Qr),st(Cr),Ze(Cr,t)):st(Qr),Ze(Qr,r)}var Ui=null,hg=!1,ky=!1;function $N(t){Ui===null?Ui=[t]:Ui.push(t)}function nU(t){hg=!0,$N(t)}function Do(){if(!ky&&Ui!==null){ky=!0;var t=0,e=Be;try{var r=Ui;for(Be=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Ui=null,hg=!1}catch(i){throw Ui!==null&&(Ui=Ui.slice(t+1)),cN(k_,Do),i}finally{Be=e,ky=!1}}return null}var kl=[],Tl=0,Fp=null,Up=0,On=[],Nn=0,Ps=null,qi=1,Ki="";function ts(t,e){kl[Tl++]=Up,kl[Tl++]=Fp,Fp=t,Up=e}function VN(t,e,r){On[Nn++]=qi,On[Nn++]=Ki,On[Nn++]=Ps,Ps=t;var n=qi;t=Ki;var i=32-ei(n)-1;n&=~(1<<i),r+=1;var a=32-ei(e)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,qi=1<<32-ei(e)+i|r<<i|n,Ki=a+t}else qi=1<<a|r<<i|n,Ki=t}function R_(t){t.return!==null&&(ts(t,1),VN(t,1,0))}function M_(t){for(;t===Fp;)Fp=kl[--Tl],kl[Tl]=null,Up=kl[--Tl],kl[Tl]=null;for(;t===Ps;)Ps=On[--Nn],On[Nn]=null,Ki=On[--Nn],On[Nn]=null,qi=On[--Nn],On[Nn]=null}var fn=null,cn=null,ct=!1,Yn=null;function FN(t,e){var r=Rn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function tT(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,fn=t,cn=co(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,fn=t,cn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Ps!==null?{id:qi,overflow:Ki}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Rn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,fn=t,cn=null,!0):!1;default:return!1}}function iw(t){return(t.mode&1)!==0&&(t.flags&128)===0}function aw(t){if(ct){var e=cn;if(e){var r=e;if(!tT(t,e)){if(iw(t))throw Error(H(418));e=co(r.nextSibling);var n=fn;e&&tT(t,e)?FN(n,r):(t.flags=t.flags&-4097|2,ct=!1,fn=t)}}else{if(iw(t))throw Error(H(418));t.flags=t.flags&-4097|2,ct=!1,fn=t}}}function rT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;fn=t}function Sh(t){if(t!==fn)return!1;if(!ct)return rT(t),ct=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ew(t.type,t.memoizedProps)),e&&(e=cn)){if(iw(t))throw UN(),Error(H(418));for(;e;)FN(t,e),e=co(e.nextSibling)}if(rT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){cn=co(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}cn=null}}else cn=fn?co(t.stateNode.nextSibling):null;return!0}function UN(){for(var t=cn;t;)t=co(t.nextSibling)}function tc(){cn=fn=null,ct=!1}function L_(t){Yn===null?Yn=[t]:Yn.push(t)}var iU=ya.ReactCurrentBatchConfig;function pu(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(H(309));var n=r.stateNode}if(!n)throw Error(H(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(H(284));if(!r._owner)throw Error(H(290,t))}return t}function kh(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function nT(t){var e=t._init;return e(t._payload)}function BN(t){function e(b,w){if(t){var E=b.deletions;E===null?(b.deletions=[w],b.flags|=16):E.push(w)}}function r(b,w){if(!t)return null;for(;w!==null;)e(b,w),w=w.sibling;return null}function n(b,w){for(b=new Map;w!==null;)w.key!==null?b.set(w.key,w):b.set(w.index,w),w=w.sibling;return b}function i(b,w){return b=po(b,w),b.index=0,b.sibling=null,b}function a(b,w,E){return b.index=E,t?(E=b.alternate,E!==null?(E=E.index,E<w?(b.flags|=2,w):E):(b.flags|=2,w)):(b.flags|=1048576,w)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function s(b,w,E,A){return w===null||w.tag!==6?(w=Ny(E,b.mode,A),w.return=b,w):(w=i(w,E),w.return=b,w)}function l(b,w,E,A){var D=E.type;return D===wl?u(b,w,E.props.children,A,E.key):w!==null&&(w.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Wa&&nT(D)===w.type)?(A=i(w,E.props),A.ref=pu(b,w,E),A.return=b,A):(A=gp(E.type,E.key,E.props,null,b.mode,A),A.ref=pu(b,w,E),A.return=b,A)}function c(b,w,E,A){return w===null||w.tag!==4||w.stateNode.containerInfo!==E.containerInfo||w.stateNode.implementation!==E.implementation?(w=Dy(E,b.mode,A),w.return=b,w):(w=i(w,E.children||[]),w.return=b,w)}function u(b,w,E,A,D){return w===null||w.tag!==7?(w=ws(E,b.mode,A,D),w.return=b,w):(w=i(w,E),w.return=b,w)}function d(b,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Ny(""+w,b.mode,E),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ph:return E=gp(w.type,w.key,w.props,null,b.mode,E),E.ref=pu(b,null,w),E.return=b,E;case yl:return w=Dy(w,b.mode,E),w.return=b,w;case Wa:var A=w._init;return d(b,A(w._payload),E)}if(Ru(w)||cu(w))return w=ws(w,b.mode,E,null),w.return=b,w;kh(b,w)}return null}function h(b,w,E,A){var D=w!==null?w.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return D!==null?null:s(b,w,""+E,A);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ph:return E.key===D?l(b,w,E,A):null;case yl:return E.key===D?c(b,w,E,A):null;case Wa:return D=E._init,h(b,w,D(E._payload),A)}if(Ru(E)||cu(E))return D!==null?null:u(b,w,E,A,null);kh(b,E)}return null}function p(b,w,E,A,D){if(typeof A=="string"&&A!==""||typeof A=="number")return b=b.get(E)||null,s(w,b,""+A,D);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case ph:return b=b.get(A.key===null?E:A.key)||null,l(w,b,A,D);case yl:return b=b.get(A.key===null?E:A.key)||null,c(w,b,A,D);case Wa:var L=A._init;return p(b,w,E,L(A._payload),D)}if(Ru(A)||cu(A))return b=b.get(E)||null,u(w,b,A,D,null);kh(w,A)}return null}function m(b,w,E,A){for(var D=null,L=null,T=w,k=w=0,I=null;T!==null&&k<E.length;k++){T.index>k?(I=T,T=null):I=T.sibling;var R=h(b,T,E[k],A);if(R===null){T===null&&(T=I);break}t&&T&&R.alternate===null&&e(b,T),w=a(R,w,k),L===null?D=R:L.sibling=R,L=R,T=I}if(k===E.length)return r(b,T),ct&&ts(b,k),D;if(T===null){for(;k<E.length;k++)T=d(b,E[k],A),T!==null&&(w=a(T,w,k),L===null?D=T:L.sibling=T,L=T);return ct&&ts(b,k),D}for(T=n(b,T);k<E.length;k++)I=p(T,b,k,E[k],A),I!==null&&(t&&I.alternate!==null&&T.delete(I.key===null?k:I.key),w=a(I,w,k),L===null?D=I:L.sibling=I,L=I);return t&&T.forEach(function(M){return e(b,M)}),ct&&ts(b,k),D}function g(b,w,E,A){var D=cu(E);if(typeof D!="function")throw Error(H(150));if(E=D.call(E),E==null)throw Error(H(151));for(var L=D=null,T=w,k=w=0,I=null,R=E.next();T!==null&&!R.done;k++,R=E.next()){T.index>k?(I=T,T=null):I=T.sibling;var M=h(b,T,R.value,A);if(M===null){T===null&&(T=I);break}t&&T&&M.alternate===null&&e(b,T),w=a(M,w,k),L===null?D=M:L.sibling=M,L=M,T=I}if(R.done)return r(b,T),ct&&ts(b,k),D;if(T===null){for(;!R.done;k++,R=E.next())R=d(b,R.value,A),R!==null&&(w=a(R,w,k),L===null?D=R:L.sibling=R,L=R);return ct&&ts(b,k),D}for(T=n(b,T);!R.done;k++,R=E.next())R=p(T,b,k,R.value,A),R!==null&&(t&&R.alternate!==null&&T.delete(R.key===null?k:R.key),w=a(R,w,k),L===null?D=R:L.sibling=R,L=R);return t&&T.forEach(function(O){return e(b,O)}),ct&&ts(b,k),D}function _(b,w,E,A){if(typeof E=="object"&&E!==null&&E.type===wl&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case ph:e:{for(var D=E.key,L=w;L!==null;){if(L.key===D){if(D=E.type,D===wl){if(L.tag===7){r(b,L.sibling),w=i(L,E.props.children),w.return=b,b=w;break e}}else if(L.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Wa&&nT(D)===L.type){r(b,L.sibling),w=i(L,E.props),w.ref=pu(b,L,E),w.return=b,b=w;break e}r(b,L);break}else e(b,L);L=L.sibling}E.type===wl?(w=ws(E.props.children,b.mode,A,E.key),w.return=b,b=w):(A=gp(E.type,E.key,E.props,null,b.mode,A),A.ref=pu(b,w,E),A.return=b,b=A)}return o(b);case yl:e:{for(L=E.key;w!==null;){if(w.key===L)if(w.tag===4&&w.stateNode.containerInfo===E.containerInfo&&w.stateNode.implementation===E.implementation){r(b,w.sibling),w=i(w,E.children||[]),w.return=b,b=w;break e}else{r(b,w);break}else e(b,w);w=w.sibling}w=Dy(E,b.mode,A),w.return=b,b=w}return o(b);case Wa:return L=E._init,_(b,w,L(E._payload),A)}if(Ru(E))return m(b,w,E,A);if(cu(E))return g(b,w,E,A);kh(b,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,w!==null&&w.tag===6?(r(b,w.sibling),w=i(w,E),w.return=b,b=w):(r(b,w),w=Ny(E,b.mode,A),w.return=b,b=w),o(b)):r(b,w)}return _}var rc=BN(!0),zN=BN(!1),Bp=No(null),zp=null,Al=null,j_=null;function $_(){j_=Al=zp=null}function V_(t){var e=Bp.current;st(Bp),t._currentValue=e}function ow(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Bl(t,e){zp=t,j_=Al=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Gr=!0),t.firstContext=null)}function $n(t){var e=t._currentValue;if(j_!==t)if(t={context:t,memoizedValue:e,next:null},Al===null){if(zp===null)throw Error(H(308));Al=t,zp.dependencies={lanes:0,firstContext:t}}else Al=Al.next=t;return e}var ls=null;function F_(t){ls===null?ls=[t]:ls.push(t)}function WN(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,F_(e)):(r.next=i.next,i.next=r),e.interleaved=r,oa(t,n)}function oa(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var qa=!1;function U_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ji(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function uo(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ne&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,oa(t,r)}return i=n.interleaved,i===null?(e.next=e,F_(n)):(e.next=i.next,i.next=e),n.interleaved=e,oa(t,r)}function up(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,T_(t,r)}}function iT(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Wp(t,e,r,n){var i=t.updateQueue;qa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,o===null?a=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;o=0,u=c=l=null,s=a;do{var h=s.lane,p=s.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=t,g=s;switch(h=e,p=r,g.tag){case 1:if(m=g.payload,typeof m=="function"){d=m.call(p,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(p,d,h):m,h==null)break e;d=gt({},d,h);break e;case 2:qa=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Cs|=o,t.lanes=o,t.memoizedState=d}}function aT(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(H(191,i));i.call(n)}}}var lf={},yi=No(lf),Sd=No(lf),kd=No(lf);function cs(t){if(t===lf)throw Error(H(174));return t}function B_(t,e){switch(Ze(kd,e),Ze(Sd,t),Ze(yi,lf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:F0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=F0(e,t)}st(yi),Ze(yi,e)}function nc(){st(yi),st(Sd),st(kd)}function KN(t){cs(kd.current);var e=cs(yi.current),r=F0(e,t.type);e!==r&&(Ze(Sd,t),Ze(yi,r))}function z_(t){Sd.current===t&&(st(yi),st(Sd))}var pt=No(0);function qp(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ty=[];function W_(){for(var t=0;t<Ty.length;t++)Ty[t]._workInProgressVersionPrimary=null;Ty.length=0}var dp=ya.ReactCurrentDispatcher,Ay=ya.ReactCurrentBatchConfig,Is=0,mt=null,Ut=null,tr=null,Kp=!1,Zu=!1,Td=0,aU=0;function br(){throw Error(H(321))}function q_(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ri(t[r],e[r]))return!1;return!0}function K_(t,e,r,n,i,a){if(Is=a,mt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,dp.current=t===null||t.memoizedState===null?cU:uU,t=r(n,i),Zu){a=0;do{if(Zu=!1,Td=0,25<=a)throw Error(H(301));a+=1,tr=Ut=null,e.updateQueue=null,dp.current=dU,t=r(n,i)}while(Zu)}if(dp.current=Hp,e=Ut!==null&&Ut.next!==null,Is=0,tr=Ut=mt=null,Kp=!1,e)throw Error(H(300));return t}function H_(){var t=Td!==0;return Td=0,t}function di(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tr===null?mt.memoizedState=tr=t:tr=tr.next=t,tr}function Vn(){if(Ut===null){var t=mt.alternate;t=t!==null?t.memoizedState:null}else t=Ut.next;var e=tr===null?mt.memoizedState:tr.next;if(e!==null)tr=e,Ut=t;else{if(t===null)throw Error(H(310));Ut=t,t={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},tr===null?mt.memoizedState=tr=t:tr=tr.next=t}return tr}function Ad(t,e){return typeof e=="function"?e(t):e}function Py(t){var e=Vn(),r=e.queue;if(r===null)throw Error(H(311));r.lastRenderedReducer=t;var n=Ut,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var s=o=null,l=null,c=a;do{var u=c.lane;if((Is&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=d,o=n):l=l.next=d,mt.lanes|=u,Cs|=u}c=c.next}while(c!==null&&c!==a);l===null?o=n:l.next=s,ri(n,e.memoizedState)||(Gr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,mt.lanes|=a,Cs|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Iy(t){var e=Vn(),r=e.queue;if(r===null)throw Error(H(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);ri(a,e.memoizedState)||(Gr=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function HN(){}function GN(t,e){var r=mt,n=Vn(),i=e(),a=!ri(n.memoizedState,i);if(a&&(n.memoizedState=i,Gr=!0),n=n.queue,G_(XN.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||tr!==null&&tr.memoizedState.tag&1){if(r.flags|=2048,Pd(9,QN.bind(null,r,n,i,e),void 0,null),nr===null)throw Error(H(349));Is&30||YN(r,e,i)}return i}function YN(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=mt.updateQueue,e===null?(e={lastEffect:null,stores:null},mt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function QN(t,e,r,n){e.value=r,e.getSnapshot=n,JN(e)&&ZN(t)}function XN(t,e,r){return r(function(){JN(e)&&ZN(t)})}function JN(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ri(t,r)}catch{return!0}}function ZN(t){var e=oa(t,1);e!==null&&ti(e,t,1,-1)}function oT(t){var e=di();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ad,lastRenderedState:t},e.queue=t,t=t.dispatch=lU.bind(null,mt,t),[e.memoizedState,t]}function Pd(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=mt.updateQueue,e===null?(e={lastEffect:null,stores:null},mt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function e2(){return Vn().memoizedState}function fp(t,e,r,n){var i=di();mt.flags|=t,i.memoizedState=Pd(1|e,r,void 0,n===void 0?null:n)}function pg(t,e,r,n){var i=Vn();n=n===void 0?null:n;var a=void 0;if(Ut!==null){var o=Ut.memoizedState;if(a=o.destroy,n!==null&&q_(n,o.deps)){i.memoizedState=Pd(e,r,a,n);return}}mt.flags|=t,i.memoizedState=Pd(1|e,r,a,n)}function sT(t,e){return fp(8390656,8,t,e)}function G_(t,e){return pg(2048,8,t,e)}function t2(t,e){return pg(4,2,t,e)}function r2(t,e){return pg(4,4,t,e)}function n2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function i2(t,e,r){return r=r!=null?r.concat([t]):null,pg(4,4,n2.bind(null,e,t),r)}function Y_(){}function a2(t,e){var r=Vn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&q_(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function o2(t,e){var r=Vn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&q_(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function s2(t,e,r){return Is&21?(ri(r,e)||(r=fN(),mt.lanes|=r,Cs|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Gr=!0),t.memoizedState=r)}function oU(t,e){var r=Be;Be=r!==0&&4>r?r:4,t(!0);var n=Ay.transition;Ay.transition={};try{t(!1),e()}finally{Be=r,Ay.transition=n}}function l2(){return Vn().memoizedState}function sU(t,e,r){var n=ho(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},c2(t))u2(e,r);else if(r=WN(t,e,r,n),r!==null){var i=$r();ti(r,t,n,i),d2(r,e,n)}}function lU(t,e,r){var n=ho(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(c2(t))u2(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,r);if(i.hasEagerState=!0,i.eagerState=s,ri(s,o)){var l=e.interleaved;l===null?(i.next=i,F_(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=WN(t,e,i,n),r!==null&&(i=$r(),ti(r,t,n,i),d2(r,e,n))}}function c2(t){var e=t.alternate;return t===mt||e!==null&&e===mt}function u2(t,e){Zu=Kp=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function d2(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,T_(t,r)}}var Hp={readContext:$n,useCallback:br,useContext:br,useEffect:br,useImperativeHandle:br,useInsertionEffect:br,useLayoutEffect:br,useMemo:br,useReducer:br,useRef:br,useState:br,useDebugValue:br,useDeferredValue:br,useTransition:br,useMutableSource:br,useSyncExternalStore:br,useId:br,unstable_isNewReconciler:!1},cU={readContext:$n,useCallback:function(t,e){return di().memoizedState=[t,e===void 0?null:e],t},useContext:$n,useEffect:sT,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,fp(4194308,4,n2.bind(null,e,t),r)},useLayoutEffect:function(t,e){return fp(4194308,4,t,e)},useInsertionEffect:function(t,e){return fp(4,2,t,e)},useMemo:function(t,e){var r=di();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=di();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=sU.bind(null,mt,t),[n.memoizedState,t]},useRef:function(t){var e=di();return t={current:t},e.memoizedState=t},useState:oT,useDebugValue:Y_,useDeferredValue:function(t){return di().memoizedState=t},useTransition:function(){var t=oT(!1),e=t[0];return t=oU.bind(null,t[1]),di().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=mt,i=di();if(ct){if(r===void 0)throw Error(H(407));r=r()}else{if(r=e(),nr===null)throw Error(H(349));Is&30||YN(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,sT(XN.bind(null,n,a,t),[t]),n.flags|=2048,Pd(9,QN.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=di(),e=nr.identifierPrefix;if(ct){var r=Ki,n=qi;r=(n&~(1<<32-ei(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Td++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=aU++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},uU={readContext:$n,useCallback:a2,useContext:$n,useEffect:G_,useImperativeHandle:i2,useInsertionEffect:t2,useLayoutEffect:r2,useMemo:o2,useReducer:Py,useRef:e2,useState:function(){return Py(Ad)},useDebugValue:Y_,useDeferredValue:function(t){var e=Vn();return s2(e,Ut.memoizedState,t)},useTransition:function(){var t=Py(Ad)[0],e=Vn().memoizedState;return[t,e]},useMutableSource:HN,useSyncExternalStore:GN,useId:l2,unstable_isNewReconciler:!1},dU={readContext:$n,useCallback:a2,useContext:$n,useEffect:G_,useImperativeHandle:i2,useInsertionEffect:t2,useLayoutEffect:r2,useMemo:o2,useReducer:Iy,useRef:e2,useState:function(){return Iy(Ad)},useDebugValue:Y_,useDeferredValue:function(t){var e=Vn();return Ut===null?e.memoizedState=t:s2(e,Ut.memoizedState,t)},useTransition:function(){var t=Iy(Ad)[0],e=Vn().memoizedState;return[t,e]},useMutableSource:HN,useSyncExternalStore:GN,useId:l2,unstable_isNewReconciler:!1};function Hn(t,e){if(t&&t.defaultProps){e=gt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function sw(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:gt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var mg={isMounted:function(t){return(t=t._reactInternals)?Ws(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=$r(),i=ho(t),a=Ji(n,i);a.payload=e,r!=null&&(a.callback=r),e=uo(t,a,i),e!==null&&(ti(e,t,i,n),up(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=$r(),i=ho(t),a=Ji(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=uo(t,a,i),e!==null&&(ti(e,t,i,n),up(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=$r(),n=ho(t),i=Ji(r,n);i.tag=2,e!=null&&(i.callback=e),e=uo(t,i,n),e!==null&&(ti(e,t,n,r),up(e,t,n))}};function lT(t,e,r,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!bd(r,n)||!bd(i,a):!0}function f2(t,e,r){var n=!1,i=xo,a=e.contextType;return typeof a=="object"&&a!==null?a=$n(a):(i=Xr(e)?As:Cr.current,n=e.contextTypes,a=(n=n!=null)?ec(t,i):xo),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=mg,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function cT(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&mg.enqueueReplaceState(e,e.state,null)}function lw(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},U_(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=$n(a):(a=Xr(e)?As:Cr.current,i.context=ec(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(sw(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&mg.enqueueReplaceState(i,i.state,null),Wp(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ic(t,e){try{var r="",n=e;do r+=V6(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function Cy(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function cw(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var fU=typeof WeakMap=="function"?WeakMap:Map;function h2(t,e,r){r=Ji(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Yp||(Yp=!0,ww=n),cw(t,e)},r}function p2(t,e,r){r=Ji(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){cw(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){cw(t,e),typeof n!="function"&&(fo===null?fo=new Set([this]):fo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function uT(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new fU;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=TU.bind(null,t,e,r),e.then(t,t))}function dT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function fT(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Ji(-1,1),e.tag=2,uo(r,e,1))),r.lanes|=1),t)}var hU=ya.ReactCurrentOwner,Gr=!1;function Mr(t,e,r,n){e.child=t===null?zN(e,null,r,n):rc(e,t.child,r,n)}function hT(t,e,r,n,i){r=r.render;var a=e.ref;return Bl(e,i),n=K_(t,e,r,n,a,i),r=H_(),t!==null&&!Gr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,sa(t,e,i)):(ct&&r&&R_(e),e.flags|=1,Mr(t,e,n,i),e.child)}function pT(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!n1(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,m2(t,e,a,n,i)):(t=gp(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:bd,r(o,n)&&t.ref===e.ref)return sa(t,e,i)}return e.flags|=1,t=po(a,n),t.ref=e.ref,t.return=e,e.child=t}function m2(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(bd(a,n)&&t.ref===e.ref)if(Gr=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(Gr=!0);else return e.lanes=t.lanes,sa(t,e,i)}return uw(t,e,r,n,i)}function g2(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(Il,an),an|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ze(Il,an),an|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Ze(Il,an),an|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,Ze(Il,an),an|=n;return Mr(t,e,i,r),e.child}function v2(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function uw(t,e,r,n,i){var a=Xr(r)?As:Cr.current;return a=ec(e,a),Bl(e,i),r=K_(t,e,r,n,a,i),n=H_(),t!==null&&!Gr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,sa(t,e,i)):(ct&&n&&R_(e),e.flags|=1,Mr(t,e,r,i),e.child)}function mT(t,e,r,n,i){if(Xr(r)){var a=!0;Vp(e)}else a=!1;if(Bl(e,i),e.stateNode===null)hp(t,e),f2(e,r,n),lw(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=$n(c):(c=Xr(r)?As:Cr.current,c=ec(e,c));var u=r.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||l!==c)&&cT(e,o,n,c),qa=!1;var h=e.memoizedState;o.state=h,Wp(e,n,o,i),l=e.memoizedState,s!==n||h!==l||Qr.current||qa?(typeof u=="function"&&(sw(e,r,u,n),l=e.memoizedState),(s=qa||lT(e,r,s,n,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=c,n=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,qN(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:Hn(e.type,s),o.props=c,d=e.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=$n(l):(l=Xr(r)?As:Cr.current,l=ec(e,l));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==d||h!==l)&&cT(e,o,n,l),qa=!1,h=e.memoizedState,o.state=h,Wp(e,n,o,i);var m=e.memoizedState;s!==d||h!==m||Qr.current||qa?(typeof p=="function"&&(sw(e,r,p,n),m=e.memoizedState),(c=qa||lT(e,r,c,n,h,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),o.props=n,o.state=m,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return dw(t,e,r,n,a,i)}function dw(t,e,r,n,i,a){v2(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&eT(e,r,!1),sa(t,e,a);n=e.stateNode,hU.current=e;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=rc(e,t.child,null,a),e.child=rc(e,null,s,a)):Mr(t,e,s,a),e.memoizedState=n.state,i&&eT(e,r,!0),e.child}function y2(t){var e=t.stateNode;e.pendingContext?Zk(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Zk(t,e.context,!1),B_(t,e.containerInfo)}function gT(t,e,r,n,i){return tc(),L_(i),e.flags|=256,Mr(t,e,r,n),e.child}var fw={dehydrated:null,treeContext:null,retryLane:0};function hw(t){return{baseLanes:t,cachePool:null,transitions:null}}function w2(t,e,r){var n=e.pendingProps,i=pt.current,a=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ze(pt,i&1),t===null)return aw(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,a?(n=e.mode,a=e.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=yg(o,n,0,null),t=ws(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=hw(r),e.memoizedState=fw,t):Q_(e,o));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return pU(t,e,o,n,s,i,r);if(a){a=n.fallback,o=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=po(i,l),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=po(s,a):(a=ws(a,o,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o=o===null?hw(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~r,e.memoizedState=fw,n}return a=t.child,t=a.sibling,n=po(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Q_(t,e){return e=yg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Th(t,e,r,n){return n!==null&&L_(n),rc(e,t.child,null,r),t=Q_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function pU(t,e,r,n,i,a,o){if(r)return e.flags&256?(e.flags&=-257,n=Cy(Error(H(422))),Th(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=yg({mode:"visible",children:n.children},i,0,null),a=ws(a,i,o,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&rc(e,t.child,null,o),e.child.memoizedState=hw(o),e.memoizedState=fw,a);if(!(e.mode&1))return Th(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,a=Error(H(419)),n=Cy(a,n,void 0),Th(t,e,o,n)}if(s=(o&t.childLanes)!==0,Gr||s){if(n=nr,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,oa(t,i),ti(n,t,i,-1))}return r1(),n=Cy(Error(H(421))),Th(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=AU.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,cn=co(i.nextSibling),fn=e,ct=!0,Yn=null,t!==null&&(On[Nn++]=qi,On[Nn++]=Ki,On[Nn++]=Ps,qi=t.id,Ki=t.overflow,Ps=e),e=Q_(e,n.children),e.flags|=4096,e)}function vT(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),ow(t.return,e,r)}function Oy(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function b2(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(Mr(t,e,n.children,r),n=pt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vT(t,r,e);else if(t.tag===19)vT(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ze(pt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&qp(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Oy(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&qp(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Oy(e,!0,r,null,a);break;case"together":Oy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function hp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function sa(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Cs|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,r=po(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=po(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function mU(t,e,r){switch(e.tag){case 3:y2(e),tc();break;case 5:KN(e);break;case 1:Xr(e.type)&&Vp(e);break;case 4:B_(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Ze(Bp,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Ze(pt,pt.current&1),e.flags|=128,null):r&e.child.childLanes?w2(t,e,r):(Ze(pt,pt.current&1),t=sa(t,e,r),t!==null?t.sibling:null);Ze(pt,pt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return b2(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ze(pt,pt.current),n)break;return null;case 22:case 23:return e.lanes=0,g2(t,e,r)}return sa(t,e,r)}var _2,pw,x2,E2;_2=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};pw=function(){};x2=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,cs(yi.current);var a=null;switch(r){case"input":i=L0(t,i),n=L0(t,n),a=[];break;case"select":i=gt({},i,{value:void 0}),n=gt({},n,{value:void 0}),a=[];break;case"textarea":i=V0(t,i),n=V0(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=jp)}U0(r,n);var o;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(hd.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in n){var l=n[c];if(s=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(a||(a=[]),a.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(hd.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&nt("scroll",t),a||s===l||(a=[])):(a=a||[]).push(c,l))}r&&(a=a||[]).push("style",r);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};E2=function(t,e,r,n){r!==n&&(e.flags|=4)};function mu(t,e){if(!ct)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function _r(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function gU(t,e,r){var n=e.pendingProps;switch(M_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _r(e),null;case 1:return Xr(e.type)&&$p(),_r(e),null;case 3:return n=e.stateNode,nc(),st(Qr),st(Cr),W_(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Sh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Yn!==null&&(xw(Yn),Yn=null))),pw(t,e),_r(e),null;case 5:z_(e);var i=cs(kd.current);if(r=e.type,t!==null&&e.stateNode!=null)x2(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(H(166));return _r(e),null}if(t=cs(yi.current),Sh(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[fi]=e,n[Ed]=a,t=(e.mode&1)!==0,r){case"dialog":nt("cancel",n),nt("close",n);break;case"iframe":case"object":case"embed":nt("load",n);break;case"video":case"audio":for(i=0;i<Lu.length;i++)nt(Lu[i],n);break;case"source":nt("error",n);break;case"img":case"image":case"link":nt("error",n),nt("load",n);break;case"details":nt("toggle",n);break;case"input":Tk(n,a),nt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},nt("invalid",n);break;case"textarea":Pk(n,a),nt("invalid",n)}U0(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?n.textContent!==s&&(a.suppressHydrationWarning!==!0&&Eh(n.textContent,s,t),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&Eh(n.textContent,s,t),i=["children",""+s]):hd.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&nt("scroll",n)}switch(r){case"input":mh(n),Ak(n,a,!0);break;case"textarea":mh(n),Ik(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=jp)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=XO(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[fi]=e,t[Ed]=n,_2(t,e,!1,!1),e.stateNode=t;e:{switch(o=B0(r,n),r){case"dialog":nt("cancel",t),nt("close",t),i=n;break;case"iframe":case"object":case"embed":nt("load",t),i=n;break;case"video":case"audio":for(i=0;i<Lu.length;i++)nt(Lu[i],t);i=n;break;case"source":nt("error",t),i=n;break;case"img":case"image":case"link":nt("error",t),nt("load",t),i=n;break;case"details":nt("toggle",t),i=n;break;case"input":Tk(t,n),i=L0(t,n),nt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=gt({},n,{value:void 0}),nt("invalid",t);break;case"textarea":Pk(t,n),i=V0(t,n),nt("invalid",t);break;default:i=n}U0(r,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?eN(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&JO(t,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&pd(t,l):typeof l=="number"&&pd(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(hd.hasOwnProperty(a)?l!=null&&a==="onScroll"&&nt("scroll",t):l!=null&&b_(t,a,l,o))}switch(r){case"input":mh(t),Ak(t,n,!1);break;case"textarea":mh(t),Ik(t);break;case"option":n.value!=null&&t.setAttribute("value",""+_o(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?$l(t,!!n.multiple,a,!1):n.defaultValue!=null&&$l(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=jp)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _r(e),null;case 6:if(t&&e.stateNode!=null)E2(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(H(166));if(r=cs(kd.current),cs(yi.current),Sh(e)){if(n=e.stateNode,r=e.memoizedProps,n[fi]=e,(a=n.nodeValue!==r)&&(t=fn,t!==null))switch(t.tag){case 3:Eh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Eh(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[fi]=e,e.stateNode=n}return _r(e),null;case 13:if(st(pt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ct&&cn!==null&&e.mode&1&&!(e.flags&128))UN(),tc(),e.flags|=98560,a=!1;else if(a=Sh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(H(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(H(317));a[fi]=e}else tc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_r(e),a=!1}else Yn!==null&&(xw(Yn),Yn=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||pt.current&1?Bt===0&&(Bt=3):r1())),e.updateQueue!==null&&(e.flags|=4),_r(e),null);case 4:return nc(),pw(t,e),t===null&&_d(e.stateNode.containerInfo),_r(e),null;case 10:return V_(e.type._context),_r(e),null;case 17:return Xr(e.type)&&$p(),_r(e),null;case 19:if(st(pt),a=e.memoizedState,a===null)return _r(e),null;if(n=(e.flags&128)!==0,o=a.rendering,o===null)if(n)mu(a,!1);else{if(Bt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=qp(t),o!==null){for(e.flags|=128,mu(a,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ze(pt,pt.current&1|2),e.child}t=t.sibling}a.tail!==null&&It()>ac&&(e.flags|=128,n=!0,mu(a,!1),e.lanes=4194304)}else{if(!n)if(t=qp(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),mu(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!ct)return _r(e),null}else 2*It()-a.renderingStartTime>ac&&r!==1073741824&&(e.flags|=128,n=!0,mu(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(r=a.last,r!==null?r.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=It(),e.sibling=null,r=pt.current,Ze(pt,n?r&1|2:r&1),e):(_r(e),null);case 22:case 23:return t1(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?an&1073741824&&(_r(e),e.subtreeFlags&6&&(e.flags|=8192)):_r(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function vU(t,e){switch(M_(e),e.tag){case 1:return Xr(e.type)&&$p(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return nc(),st(Qr),st(Cr),W_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return z_(e),null;case 13:if(st(pt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));tc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return st(pt),null;case 4:return nc(),null;case 10:return V_(e.type._context),null;case 22:case 23:return t1(),null;case 24:return null;default:return null}}var Ah=!1,Tr=!1,yU=typeof WeakSet=="function"?WeakSet:Set,re=null;function Pl(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){_t(t,e,n)}else r.current=null}function mw(t,e,r){try{r()}catch(n){_t(t,e,n)}}var yT=!1;function wU(t,e){if(J0=Rp,t=PN(),D_(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,s=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var p;d!==r||i!==0&&d.nodeType!==3||(s=o+i),d!==a||n!==0&&d.nodeType!==3||(l=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===r&&++c===i&&(s=o),h===a&&++u===n&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Z0={focusedElem:t,selectionRange:r},Rp=!1,re=e;re!==null;)if(e=re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,re=t;else for(;re!==null;){e=re;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,_=m.memoizedState,b=e.stateNode,w=b.getSnapshotBeforeUpdate(e.elementType===e.type?g:Hn(e.type,g),_);b.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(A){_t(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}return m=yT,yT=!1,m}function ed(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&mw(e,r,a)}i=i.next}while(i!==n)}}function gg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function gw(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function S2(t){var e=t.alternate;e!==null&&(t.alternate=null,S2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[fi],delete e[Ed],delete e[rw],delete e[tU],delete e[rU])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function k2(t){return t.tag===5||t.tag===3||t.tag===4}function wT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||k2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vw(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=jp));else if(n!==4&&(t=t.child,t!==null))for(vw(t,e,r),t=t.sibling;t!==null;)vw(t,e,r),t=t.sibling}function yw(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(yw(t,e,r),t=t.sibling;t!==null;)yw(t,e,r),t=t.sibling}var ur=null,Gn=!1;function La(t,e,r){for(r=r.child;r!==null;)T2(t,e,r),r=r.sibling}function T2(t,e,r){if(vi&&typeof vi.onCommitFiberUnmount=="function")try{vi.onCommitFiberUnmount(lg,r)}catch{}switch(r.tag){case 5:Tr||Pl(r,e);case 6:var n=ur,i=Gn;ur=null,La(t,e,r),ur=n,Gn=i,ur!==null&&(Gn?(t=ur,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ur.removeChild(r.stateNode));break;case 18:ur!==null&&(Gn?(t=ur,r=r.stateNode,t.nodeType===8?Sy(t.parentNode,r):t.nodeType===1&&Sy(t,r),yd(t)):Sy(ur,r.stateNode));break;case 4:n=ur,i=Gn,ur=r.stateNode.containerInfo,Gn=!0,La(t,e,r),ur=n,Gn=i;break;case 0:case 11:case 14:case 15:if(!Tr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&mw(r,e,o),i=i.next}while(i!==n)}La(t,e,r);break;case 1:if(!Tr&&(Pl(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){_t(r,e,s)}La(t,e,r);break;case 21:La(t,e,r);break;case 22:r.mode&1?(Tr=(n=Tr)||r.memoizedState!==null,La(t,e,r),Tr=n):La(t,e,r);break;default:La(t,e,r)}}function bT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new yU),e.forEach(function(n){var i=PU.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function qn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:ur=s.stateNode,Gn=!1;break e;case 3:ur=s.stateNode.containerInfo,Gn=!0;break e;case 4:ur=s.stateNode.containerInfo,Gn=!0;break e}s=s.return}if(ur===null)throw Error(H(160));T2(a,o,i),ur=null,Gn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){_t(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)A2(e,t),e=e.sibling}function A2(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(qn(e,t),li(t),n&4){try{ed(3,t,t.return),gg(3,t)}catch(g){_t(t,t.return,g)}try{ed(5,t,t.return)}catch(g){_t(t,t.return,g)}}break;case 1:qn(e,t),li(t),n&512&&r!==null&&Pl(r,r.return);break;case 5:if(qn(e,t),li(t),n&512&&r!==null&&Pl(r,r.return),t.flags&32){var i=t.stateNode;try{pd(i,"")}catch(g){_t(t,t.return,g)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=r!==null?r.memoizedProps:a,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&YO(i,a),B0(s,o);var c=B0(s,a);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?eN(i,d):u==="dangerouslySetInnerHTML"?JO(i,d):u==="children"?pd(i,d):b_(i,u,d,c)}switch(s){case"input":j0(i,a);break;case"textarea":QO(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?$l(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?$l(i,!!a.multiple,a.defaultValue,!0):$l(i,!!a.multiple,a.multiple?[]:"",!1))}i[Ed]=a}catch(g){_t(t,t.return,g)}}break;case 6:if(qn(e,t),li(t),n&4){if(t.stateNode===null)throw Error(H(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(g){_t(t,t.return,g)}}break;case 3:if(qn(e,t),li(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{yd(e.containerInfo)}catch(g){_t(t,t.return,g)}break;case 4:qn(e,t),li(t);break;case 13:qn(e,t),li(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Z_=It())),n&4&&bT(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(Tr=(c=Tr)||u,qn(e,t),Tr=c):qn(e,t),li(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(re=t,u=t.child;u!==null;){for(d=re=u;re!==null;){switch(h=re,p=h.child,h.tag){case 0:case 11:case 14:case 15:ed(4,h,h.return);break;case 1:Pl(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){_t(n,r,g)}}break;case 5:Pl(h,h.return);break;case 22:if(h.memoizedState!==null){xT(d);continue}}p!==null?(p.return=h,re=p):xT(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=ZO("display",o))}catch(g){_t(t,t.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){_t(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:qn(e,t),li(t),n&4&&bT(t);break;case 21:break;default:qn(e,t),li(t)}}function li(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(k2(r)){var n=r;break e}r=r.return}throw Error(H(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(pd(i,""),n.flags&=-33);var a=wT(t);yw(t,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,s=wT(t);vw(t,s,o);break;default:throw Error(H(161))}}catch(l){_t(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function bU(t,e,r){re=t,P2(t)}function P2(t,e,r){for(var n=(t.mode&1)!==0;re!==null;){var i=re,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Ah;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Tr;s=Ah;var c=Tr;if(Ah=o,(Tr=l)&&!c)for(re=i;re!==null;)o=re,l=o.child,o.tag===22&&o.memoizedState!==null?ET(i):l!==null?(l.return=o,re=l):ET(i);for(;a!==null;)re=a,P2(a),a=a.sibling;re=i,Ah=s,Tr=c}_T(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,re=a):_T(t)}}function _T(t){for(;re!==null;){var e=re;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Tr||gg(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Tr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Hn(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&aT(e,a,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}aT(e,o,r)}break;case 5:var s=e.stateNode;if(r===null&&e.flags&4){r=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&yd(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Tr||e.flags&512&&gw(e)}catch(h){_t(e,e.return,h)}}if(e===t){re=null;break}if(r=e.sibling,r!==null){r.return=e.return,re=r;break}re=e.return}}function xT(t){for(;re!==null;){var e=re;if(e===t){re=null;break}var r=e.sibling;if(r!==null){r.return=e.return,re=r;break}re=e.return}}function ET(t){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{gg(4,e)}catch(l){_t(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){_t(e,i,l)}}var a=e.return;try{gw(e)}catch(l){_t(e,a,l)}break;case 5:var o=e.return;try{gw(e)}catch(l){_t(e,o,l)}}}catch(l){_t(e,e.return,l)}if(e===t){re=null;break}var s=e.sibling;if(s!==null){s.return=e.return,re=s;break}re=e.return}}var _U=Math.ceil,Gp=ya.ReactCurrentDispatcher,X_=ya.ReactCurrentOwner,Ln=ya.ReactCurrentBatchConfig,Ne=0,nr=null,Lt=null,pr=0,an=0,Il=No(0),Bt=0,Id=null,Cs=0,vg=0,J_=0,td=null,Kr=null,Z_=0,ac=1/0,$i=null,Yp=!1,ww=null,fo=null,Ph=!1,no=null,Qp=0,rd=0,bw=null,pp=-1,mp=0;function $r(){return Ne&6?It():pp!==-1?pp:pp=It()}function ho(t){return t.mode&1?Ne&2&&pr!==0?pr&-pr:iU.transition!==null?(mp===0&&(mp=fN()),mp):(t=Be,t!==0||(t=window.event,t=t===void 0?16:wN(t.type)),t):1}function ti(t,e,r,n){if(50<rd)throw rd=0,bw=null,Error(H(185));af(t,r,n),(!(Ne&2)||t!==nr)&&(t===nr&&(!(Ne&2)&&(vg|=r),Bt===4&&Ga(t,pr)),Jr(t,n),r===1&&Ne===0&&!(e.mode&1)&&(ac=It()+500,hg&&Do()))}function Jr(t,e){var r=t.callbackNode;iF(t,e);var n=Dp(t,t===nr?pr:0);if(n===0)r!==null&&Nk(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Nk(r),e===1)t.tag===0?nU(ST.bind(null,t)):$N(ST.bind(null,t)),ZF(function(){!(Ne&6)&&Do()}),r=null;else{switch(hN(n)){case 1:r=k_;break;case 4:r=uN;break;case 16:r=Np;break;case 536870912:r=dN;break;default:r=Np}r=L2(r,I2.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function I2(t,e){if(pp=-1,mp=0,Ne&6)throw Error(H(327));var r=t.callbackNode;if(zl()&&t.callbackNode!==r)return null;var n=Dp(t,t===nr?pr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Xp(t,n);else{e=n;var i=Ne;Ne|=2;var a=O2();(nr!==t||pr!==e)&&($i=null,ac=It()+500,ys(t,e));do try{SU();break}catch(s){C2(t,s)}while(1);$_(),Gp.current=a,Ne=i,Lt!==null?e=0:(nr=null,pr=0,e=Bt)}if(e!==0){if(e===2&&(i=H0(t),i!==0&&(n=i,e=_w(t,i))),e===1)throw r=Id,ys(t,0),Ga(t,n),Jr(t,It()),r;if(e===6)Ga(t,n);else{if(i=t.current.alternate,!(n&30)&&!xU(i)&&(e=Xp(t,n),e===2&&(a=H0(t),a!==0&&(n=a,e=_w(t,a))),e===1))throw r=Id,ys(t,0),Ga(t,n),Jr(t,It()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(H(345));case 2:rs(t,Kr,$i);break;case 3:if(Ga(t,n),(n&130023424)===n&&(e=Z_+500-It(),10<e)){if(Dp(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){$r(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=tw(rs.bind(null,t,Kr,$i),e);break}rs(t,Kr,$i);break;case 4:if(Ga(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-ei(n);a=1<<o,o=e[o],o>i&&(i=o),n&=~a}if(n=i,n=It()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*_U(n/1960))-n,10<n){t.timeoutHandle=tw(rs.bind(null,t,Kr,$i),n);break}rs(t,Kr,$i);break;case 5:rs(t,Kr,$i);break;default:throw Error(H(329))}}}return Jr(t,It()),t.callbackNode===r?I2.bind(null,t):null}function _w(t,e){var r=td;return t.current.memoizedState.isDehydrated&&(ys(t,e).flags|=256),t=Xp(t,e),t!==2&&(e=Kr,Kr=r,e!==null&&xw(e)),t}function xw(t){Kr===null?Kr=t:Kr.push.apply(Kr,t)}function xU(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!ri(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ga(t,e){for(e&=~J_,e&=~vg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ei(e),n=1<<r;t[r]=-1,e&=~n}}function ST(t){if(Ne&6)throw Error(H(327));zl();var e=Dp(t,0);if(!(e&1))return Jr(t,It()),null;var r=Xp(t,e);if(t.tag!==0&&r===2){var n=H0(t);n!==0&&(e=n,r=_w(t,n))}if(r===1)throw r=Id,ys(t,0),Ga(t,e),Jr(t,It()),r;if(r===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,rs(t,Kr,$i),Jr(t,It()),null}function e1(t,e){var r=Ne;Ne|=1;try{return t(e)}finally{Ne=r,Ne===0&&(ac=It()+500,hg&&Do())}}function Os(t){no!==null&&no.tag===0&&!(Ne&6)&&zl();var e=Ne;Ne|=1;var r=Ln.transition,n=Be;try{if(Ln.transition=null,Be=1,t)return t()}finally{Be=n,Ln.transition=r,Ne=e,!(Ne&6)&&Do()}}function t1(){an=Il.current,st(Il)}function ys(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,JF(r)),Lt!==null)for(r=Lt.return;r!==null;){var n=r;switch(M_(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&$p();break;case 3:nc(),st(Qr),st(Cr),W_();break;case 5:z_(n);break;case 4:nc();break;case 13:st(pt);break;case 19:st(pt);break;case 10:V_(n.type._context);break;case 22:case 23:t1()}r=r.return}if(nr=t,Lt=t=po(t.current,null),pr=an=e,Bt=0,Id=null,J_=vg=Cs=0,Kr=td=null,ls!==null){for(e=0;e<ls.length;e++)if(r=ls[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}ls=null}return t}function C2(t,e){do{var r=Lt;try{if($_(),dp.current=Hp,Kp){for(var n=mt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Kp=!1}if(Is=0,tr=Ut=mt=null,Zu=!1,Td=0,X_.current=null,r===null||r.return===null){Bt=1,Id=e,Lt=null;break}e:{var a=t,o=r.return,s=r,l=e;if(e=pr,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=s,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=dT(o);if(p!==null){p.flags&=-257,fT(p,o,s,a,e),p.mode&1&&uT(a,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){uT(a,c,e),r1();break e}l=Error(H(426))}}else if(ct&&s.mode&1){var _=dT(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),fT(_,o,s,a,e),L_(ic(l,s));break e}}a=l=ic(l,s),Bt!==4&&(Bt=2),td===null?td=[a]:td.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var b=h2(a,l,e);iT(a,b);break e;case 1:s=l;var w=a.type,E=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(fo===null||!fo.has(E)))){a.flags|=65536,e&=-e,a.lanes|=e;var A=p2(a,s,e);iT(a,A);break e}}a=a.return}while(a!==null)}D2(r)}catch(D){e=D,Lt===r&&r!==null&&(Lt=r=r.return);continue}break}while(1)}function O2(){var t=Gp.current;return Gp.current=Hp,t===null?Hp:t}function r1(){(Bt===0||Bt===3||Bt===2)&&(Bt=4),nr===null||!(Cs&268435455)&&!(vg&268435455)||Ga(nr,pr)}function Xp(t,e){var r=Ne;Ne|=2;var n=O2();(nr!==t||pr!==e)&&($i=null,ys(t,e));do try{EU();break}catch(i){C2(t,i)}while(1);if($_(),Ne=r,Gp.current=n,Lt!==null)throw Error(H(261));return nr=null,pr=0,Bt}function EU(){for(;Lt!==null;)N2(Lt)}function SU(){for(;Lt!==null&&!Y6();)N2(Lt)}function N2(t){var e=M2(t.alternate,t,an);t.memoizedProps=t.pendingProps,e===null?D2(t):Lt=e,X_.current=null}function D2(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=vU(r,e),r!==null){r.flags&=32767,Lt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Bt=6,Lt=null;return}}else if(r=gU(r,e,an),r!==null){Lt=r;return}if(e=e.sibling,e!==null){Lt=e;return}Lt=e=t}while(e!==null);Bt===0&&(Bt=5)}function rs(t,e,r){var n=Be,i=Ln.transition;try{Ln.transition=null,Be=1,kU(t,e,r,n)}finally{Ln.transition=i,Be=n}return null}function kU(t,e,r,n){do zl();while(no!==null);if(Ne&6)throw Error(H(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(aF(t,a),t===nr&&(Lt=nr=null,pr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ph||(Ph=!0,L2(Np,function(){return zl(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Ln.transition,Ln.transition=null;var o=Be;Be=1;var s=Ne;Ne|=4,X_.current=null,wU(t,r),A2(r,t),qF(Z0),Rp=!!J0,Z0=J0=null,t.current=r,bU(r),Q6(),Ne=s,Be=o,Ln.transition=a}else t.current=r;if(Ph&&(Ph=!1,no=t,Qp=i),a=t.pendingLanes,a===0&&(fo=null),Z6(r.stateNode),Jr(t,It()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Yp)throw Yp=!1,t=ww,ww=null,t;return Qp&1&&t.tag!==0&&zl(),a=t.pendingLanes,a&1?t===bw?rd++:(rd=0,bw=t):rd=0,Do(),null}function zl(){if(no!==null){var t=hN(Qp),e=Ln.transition,r=Be;try{if(Ln.transition=null,Be=16>t?16:t,no===null)var n=!1;else{if(t=no,no=null,Qp=0,Ne&6)throw Error(H(331));var i=Ne;for(Ne|=4,re=t.current;re!==null;){var a=re,o=a.child;if(re.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(re=c;re!==null;){var u=re;switch(u.tag){case 0:case 11:case 15:ed(8,u,a)}var d=u.child;if(d!==null)d.return=u,re=d;else for(;re!==null;){u=re;var h=u.sibling,p=u.return;if(S2(u),u===c){re=null;break}if(h!==null){h.return=p,re=h;break}re=p}}}var m=a.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var _=g.sibling;g.sibling=null,g=_}while(g!==null)}}re=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,re=o;else e:for(;re!==null;){if(a=re,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ed(9,a,a.return)}var b=a.sibling;if(b!==null){b.return=a.return,re=b;break e}re=a.return}}var w=t.current;for(re=w;re!==null;){o=re;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,re=E;else e:for(o=w;re!==null;){if(s=re,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:gg(9,s)}}catch(D){_t(s,s.return,D)}if(s===o){re=null;break e}var A=s.sibling;if(A!==null){A.return=s.return,re=A;break e}re=s.return}}if(Ne=i,Do(),vi&&typeof vi.onPostCommitFiberRoot=="function")try{vi.onPostCommitFiberRoot(lg,t)}catch{}n=!0}return n}finally{Be=r,Ln.transition=e}}return!1}function kT(t,e,r){e=ic(r,e),e=h2(t,e,1),t=uo(t,e,1),e=$r(),t!==null&&(af(t,1,e),Jr(t,e))}function _t(t,e,r){if(t.tag===3)kT(t,t,r);else for(;e!==null;){if(e.tag===3){kT(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(fo===null||!fo.has(n))){t=ic(r,t),t=p2(e,t,1),e=uo(e,t,1),t=$r(),e!==null&&(af(e,1,t),Jr(e,t));break}}e=e.return}}function TU(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=$r(),t.pingedLanes|=t.suspendedLanes&r,nr===t&&(pr&r)===r&&(Bt===4||Bt===3&&(pr&130023424)===pr&&500>It()-Z_?ys(t,0):J_|=r),Jr(t,e)}function R2(t,e){e===0&&(t.mode&1?(e=yh,yh<<=1,!(yh&130023424)&&(yh=4194304)):e=1);var r=$r();t=oa(t,e),t!==null&&(af(t,e,r),Jr(t,r))}function AU(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),R2(t,r)}function PU(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(H(314))}n!==null&&n.delete(e),R2(t,r)}var M2;M2=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Qr.current)Gr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Gr=!1,mU(t,e,r);Gr=!!(t.flags&131072)}else Gr=!1,ct&&e.flags&1048576&&VN(e,Up,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;hp(t,e),t=e.pendingProps;var i=ec(e,Cr.current);Bl(e,r),i=K_(null,e,n,t,i,r);var a=H_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Xr(n)?(a=!0,Vp(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,U_(e),i.updater=mg,e.stateNode=i,i._reactInternals=e,lw(e,n,t,r),e=dw(null,e,n,!0,a,r)):(e.tag=0,ct&&a&&R_(e),Mr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(hp(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=CU(n),t=Hn(n,t),i){case 0:e=uw(null,e,n,t,r);break e;case 1:e=mT(null,e,n,t,r);break e;case 11:e=hT(null,e,n,t,r);break e;case 14:e=pT(null,e,n,Hn(n.type,t),r);break e}throw Error(H(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Hn(n,i),uw(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Hn(n,i),mT(t,e,n,i,r);case 3:e:{if(y2(e),t===null)throw Error(H(387));n=e.pendingProps,a=e.memoizedState,i=a.element,qN(t,e),Wp(e,n,null,r);var o=e.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=ic(Error(H(423)),e),e=gT(t,e,n,r,i);break e}else if(n!==i){i=ic(Error(H(424)),e),e=gT(t,e,n,r,i);break e}else for(cn=co(e.stateNode.containerInfo.firstChild),fn=e,ct=!0,Yn=null,r=zN(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(tc(),n===i){e=sa(t,e,r);break e}Mr(t,e,n,r)}e=e.child}return e;case 5:return KN(e),t===null&&aw(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,ew(n,i)?o=null:a!==null&&ew(n,a)&&(e.flags|=32),v2(t,e),Mr(t,e,o,r),e.child;case 6:return t===null&&aw(e),null;case 13:return w2(t,e,r);case 4:return B_(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=rc(e,null,n,r):Mr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Hn(n,i),hT(t,e,n,i,r);case 7:return Mr(t,e,e.pendingProps,r),e.child;case 8:return Mr(t,e,e.pendingProps.children,r),e.child;case 12:return Mr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,Ze(Bp,n._currentValue),n._currentValue=o,a!==null)if(ri(a.value,o)){if(a.children===i.children&&!Qr.current){e=sa(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=Ji(-1,r&-r),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),ow(a.return,r,e),s.lanes|=r;break}l=l.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(H(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),ow(o,r,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Mr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Bl(e,r),i=$n(i),n=n(i),e.flags|=1,Mr(t,e,n,r),e.child;case 14:return n=e.type,i=Hn(n,e.pendingProps),i=Hn(n.type,i),pT(t,e,n,i,r);case 15:return m2(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Hn(n,i),hp(t,e),e.tag=1,Xr(n)?(t=!0,Vp(e)):t=!1,Bl(e,r),f2(e,n,i),lw(e,n,i,r),dw(null,e,n,!0,t,r);case 19:return b2(t,e,r);case 22:return g2(t,e,r)}throw Error(H(156,e.tag))};function L2(t,e){return cN(t,e)}function IU(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(t,e,r,n){return new IU(t,e,r,n)}function n1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function CU(t){if(typeof t=="function")return n1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===x_)return 11;if(t===E_)return 14}return 2}function po(t,e){var r=t.alternate;return r===null?(r=Rn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function gp(t,e,r,n,i,a){var o=2;if(n=t,typeof t=="function")n1(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case wl:return ws(r.children,i,a,e);case __:o=8,i|=8;break;case N0:return t=Rn(12,r,e,i|2),t.elementType=N0,t.lanes=a,t;case D0:return t=Rn(13,r,e,i),t.elementType=D0,t.lanes=a,t;case R0:return t=Rn(19,r,e,i),t.elementType=R0,t.lanes=a,t;case KO:return yg(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case WO:o=10;break e;case qO:o=9;break e;case x_:o=11;break e;case E_:o=14;break e;case Wa:o=16,n=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=Rn(o,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function ws(t,e,r,n){return t=Rn(7,t,n,e),t.lanes=r,t}function yg(t,e,r,n){return t=Rn(22,t,n,e),t.elementType=KO,t.lanes=r,t.stateNode={isHidden:!1},t}function Ny(t,e,r){return t=Rn(6,t,null,e),t.lanes=r,t}function Dy(t,e,r){return e=Rn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function OU(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hy(0),this.expirationTimes=hy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hy(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function i1(t,e,r,n,i,a,o,s,l){return t=new OU(t,e,r,s,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Rn(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},U_(a),t}function NU(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yl,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function j2(t){if(!t)return xo;t=t._reactInternals;e:{if(Ws(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Xr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var r=t.type;if(Xr(r))return jN(t,r,e)}return e}function $2(t,e,r,n,i,a,o,s,l){return t=i1(r,n,!0,t,i,a,o,s,l),t.context=j2(null),r=t.current,n=$r(),i=ho(r),a=Ji(n,i),a.callback=e??null,uo(r,a,i),t.current.lanes=i,af(t,i,n),Jr(t,n),t}function wg(t,e,r,n){var i=e.current,a=$r(),o=ho(i);return r=j2(r),e.context===null?e.context=r:e.pendingContext=r,e=Ji(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=uo(i,e,o),t!==null&&(ti(t,i,o,a),up(t,i,o)),o}function Jp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function TT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function a1(t,e){TT(t,e),(t=t.alternate)&&TT(t,e)}function DU(){return null}var V2=typeof reportError=="function"?reportError:function(t){console.error(t)};function o1(t){this._internalRoot=t}bg.prototype.render=o1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));wg(t,e,null,null)};bg.prototype.unmount=o1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Os(function(){wg(null,t,null,null)}),e[aa]=null}};function bg(t){this._internalRoot=t}bg.prototype.unstable_scheduleHydration=function(t){if(t){var e=gN();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ha.length&&e!==0&&e<Ha[r].priority;r++);Ha.splice(r,0,t),r===0&&yN(t)}};function s1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _g(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function AT(){}function RU(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var c=Jp(o);a.call(c)}}var o=$2(e,n,t,0,null,!1,!1,"",AT);return t._reactRootContainer=o,t[aa]=o.current,_d(t.nodeType===8?t.parentNode:t),Os(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var c=Jp(l);s.call(c)}}var l=i1(t,0,!1,null,null,!1,!1,"",AT);return t._reactRootContainer=l,t[aa]=l.current,_d(t.nodeType===8?t.parentNode:t),Os(function(){wg(e,l,r,n)}),l}function xg(t,e,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=Jp(o);s.call(l)}}wg(e,o,t,i)}else o=RU(r,e,t,i,n);return Jp(o)}pN=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Mu(e.pendingLanes);r!==0&&(T_(e,r|1),Jr(e,It()),!(Ne&6)&&(ac=It()+500,Do()))}break;case 13:Os(function(){var n=oa(t,1);if(n!==null){var i=$r();ti(n,t,1,i)}}),a1(t,1)}};A_=function(t){if(t.tag===13){var e=oa(t,134217728);if(e!==null){var r=$r();ti(e,t,134217728,r)}a1(t,134217728)}};mN=function(t){if(t.tag===13){var e=ho(t),r=oa(t,e);if(r!==null){var n=$r();ti(r,t,e,n)}a1(t,e)}};gN=function(){return Be};vN=function(t,e){var r=Be;try{return Be=t,e()}finally{Be=r}};W0=function(t,e,r){switch(e){case"input":if(j0(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=fg(n);if(!i)throw Error(H(90));GO(n),j0(n,i)}}}break;case"textarea":QO(t,r);break;case"select":e=r.value,e!=null&&$l(t,!!r.multiple,e,!1)}};nN=e1;iN=Os;var MU={usingClientEntryPoint:!1,Events:[sf,El,fg,tN,rN,e1]},gu={findFiberByHostInstance:ss,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},LU={bundleType:gu.bundleType,version:gu.version,rendererPackageName:gu.rendererPackageName,rendererConfig:gu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ya.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=sN(t),t===null?null:t.stateNode},findFiberByHostInstance:gu.findFiberByHostInstance||DU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ih.isDisabled&&Ih.supportsFiber)try{lg=Ih.inject(LU),vi=Ih}catch{}}bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MU;bn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!s1(e))throw Error(H(200));return NU(t,e,null,r)};bn.createRoot=function(t,e){if(!s1(t))throw Error(H(299));var r=!1,n="",i=V2;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=i1(t,1,!1,null,null,r,!1,n,i),t[aa]=e.current,_d(t.nodeType===8?t.parentNode:t),new o1(e)};bn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=sN(e),t=t===null?null:t.stateNode,t};bn.flushSync=function(t){return Os(t)};bn.hydrate=function(t,e,r){if(!_g(e))throw Error(H(200));return xg(null,t,e,!0,r)};bn.hydrateRoot=function(t,e,r){if(!s1(t))throw Error(H(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=V2;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=$2(e,null,t,1,r??null,i,!1,a,o),t[aa]=e.current,_d(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new bg(e)};bn.render=function(t,e,r){if(!_g(e))throw Error(H(200));return xg(null,t,e,!1,r)};bn.unmountComponentAtNode=function(t){if(!_g(t))throw Error(H(40));return t._reactRootContainer?(Os(function(){xg(null,null,t,!1,function(){t._reactRootContainer=null,t[aa]=null})}),!0):!1};bn.unstable_batchedUpdates=e1;bn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!_g(r))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return xg(t,e,r,!1,n)};bn.version="18.3.1-next-f1338f8080-20240426";function F2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(F2)}catch(t){console.error(t)}}F2(),FO.exports=bn;var l1=FO.exports,U2,PT=l1;U2=PT.createRoot,PT.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cd(){return Cd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cd.apply(this,arguments)}var io;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(io||(io={}));const IT="popstate";function jU(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:o,hash:s}=n.location;return Ew("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Zp(i)}return VU(e,r,null,t)}function Ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function B2(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $U(){return Math.random().toString(36).substr(2,8)}function CT(t,e){return{usr:t.state,key:t.key,idx:e}}function Ew(t,e,r,n){return r===void 0&&(r=null),Cd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ac(e):e,{state:r,key:e&&e.key||n||$U()})}function Zp(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ac(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function VU(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,s=io.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Cd({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){s=io.Pop;let _=u(),b=_==null?null:_-c;c=_,l&&l({action:s,location:g.location,delta:b})}function h(_,b){s=io.Push;let w=Ew(g.location,_,b);r&&r(w,_),c=u()+1;let E=CT(w,c),A=g.createHref(w);try{o.pushState(E,"",A)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(A)}a&&l&&l({action:s,location:g.location,delta:1})}function p(_,b){s=io.Replace;let w=Ew(g.location,_,b);r&&r(w,_),c=u();let E=CT(w,c),A=g.createHref(w);o.replaceState(E,"",A),a&&l&&l({action:s,location:g.location,delta:0})}function m(_){let b=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof _=="string"?_:Zp(_);return w=w.replace(/ $/,"%20"),Ct(b,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,b)}let g={get action(){return s},get location(){return t(i,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(IT,d),l=_,()=>{i.removeEventListener(IT,d),l=null}},createHref(_){return e(i,_)},createURL:m,encodeLocation(_){let b=m(_);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:p,go(_){return o.go(_)}};return g}var OT;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(OT||(OT={}));function FU(t,e,r){return r===void 0&&(r="/"),UU(t,e,r,!1)}function UU(t,e,r,n){let i=typeof e=="string"?Ac(e):e,a=c1(i.pathname||"/",r);if(a==null)return null;let o=z2(t);BU(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let c=ZU(a);s=XU(o[l],c,n)}return s}function z2(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(Ct(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=mo([n,l.relativePath]),u=r.concat(l);a.children&&a.children.length>0&&(Ct(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),z2(a.children,e,u,c)),!(a.path==null&&!a.index)&&e.push({path:c,score:YU(c,a.index),routesMeta:u})};return t.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of W2(a.path))i(a,o,l)}),e}function W2(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=W2(n.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function BU(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:QU(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const zU=/^:[\w-]+$/,WU=3,qU=2,KU=1,HU=10,GU=-2,NT=t=>t==="*";function YU(t,e){let r=t.split("/"),n=r.length;return r.some(NT)&&(n+=GU),e&&(n+=qU),r.filter(i=>!NT(i)).reduce((i,a)=>i+(zU.test(a)?WU:a===""?KU:HU),n)}function QU(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function XU(t,e,r){r===void 0&&(r=!1);let{routesMeta:n}=t,i={},a="/",o=[];for(let s=0;s<n.length;++s){let l=n[s],c=s===n.length-1,u=a==="/"?e:e.slice(a.length)||"/",d=DT({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d&&c&&r&&!n[n.length-1].route.index&&(d=DT({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:mo([a,d.pathname]),pathnameBase:nB(mo([a,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(a=mo([a,d.pathnameBase]))}return o}function DT(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=JU(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:n.reduce((c,u,d)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let g=s[d]||"";o=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const m=s[d];return p&&!m?c[h]=void 0:c[h]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:o,pattern:t}}function JU(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),B2(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(n.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function ZU(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return B2(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function c1(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function eB(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Ac(t):t;return{pathname:r?r.startsWith("/")?r:tB(r,e):e,search:iB(n),hash:aB(i)}}function tB(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Ry(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rB(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function u1(t,e){let r=rB(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function d1(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Ac(t):(i=Cd({},t),Ct(!i.pathname||!i.pathname.includes("?"),Ry("?","pathname","search",i)),Ct(!i.pathname||!i.pathname.includes("#"),Ry("#","pathname","hash",i)),Ct(!i.search||!i.search.includes("#"),Ry("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=r;else{let d=e.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}s=d>=0?e[d]:"/"}let l=eB(i,s),c=o&&o!=="/"&&o.endsWith("/"),u=(a||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const mo=t=>t.join("/").replace(/\/\/+/g,"/"),nB=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),iB=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,aB=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function oB(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const q2=["post","put","patch","delete"];new Set(q2);const sB=["get",...q2];new Set(sB);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Od(){return Od=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Od.apply(this,arguments)}const f1=x.createContext(null),lB=x.createContext(null),Ro=x.createContext(null),Eg=x.createContext(null),Mo=x.createContext({outlet:null,matches:[],isDataRoute:!1}),K2=x.createContext(null);function cB(t,e){let{relative:r}=e===void 0?{}:e;Pc()||Ct(!1);let{basename:n,navigator:i}=x.useContext(Ro),{hash:a,pathname:o,search:s}=G2(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:mo([n,o])),i.createHref({pathname:l,search:s,hash:a})}function Pc(){return x.useContext(Eg)!=null}function cf(){return Pc()||Ct(!1),x.useContext(Eg).location}function H2(t){x.useContext(Ro).static||x.useLayoutEffect(t)}function uf(){let{isDataRoute:t}=x.useContext(Mo);return t?xB():uB()}function uB(){Pc()||Ct(!1);let t=x.useContext(f1),{basename:e,future:r,navigator:n}=x.useContext(Ro),{matches:i}=x.useContext(Mo),{pathname:a}=cf(),o=JSON.stringify(u1(i,r.v7_relativeSplatPath)),s=x.useRef(!1);return H2(()=>{s.current=!0}),x.useCallback(function(c,u){if(u===void 0&&(u={}),!s.current)return;if(typeof c=="number"){n.go(c);return}let d=d1(c,JSON.parse(o),a,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:mo([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,o,a,t])}function G2(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=x.useContext(Ro),{matches:i}=x.useContext(Mo),{pathname:a}=cf(),o=JSON.stringify(u1(i,n.v7_relativeSplatPath));return x.useMemo(()=>d1(t,JSON.parse(o),a,r==="path"),[t,o,a,r])}function dB(t,e){return fB(t,e)}function fB(t,e,r,n){Pc()||Ct(!1);let{navigator:i}=x.useContext(Ro),{matches:a}=x.useContext(Mo),o=a[a.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=cf(),u;if(e){var d;let _=typeof e=="string"?Ac(e):e;l==="/"||(d=_.pathname)!=null&&d.startsWith(l)||Ct(!1),u=_}else u=c;let h=u.pathname||"/",p=h;if(l!=="/"){let _=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(_.length).join("/")}let m=FU(t,{pathname:p}),g=vB(m&&m.map(_=>Object.assign({},_,{params:Object.assign({},s,_.params),pathname:mo([l,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:mo([l,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),a,r,n);return e&&g?x.createElement(Eg.Provider,{value:{location:Od({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:io.Pop}},g):g}function hB(){let t=_B(),e=oB(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),r?x.createElement("pre",{style:i},r):null,a)}const pB=x.createElement(hB,null);class mB extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?x.createElement(Mo.Provider,{value:this.props.routeContext},x.createElement(K2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gB(t){let{routeContext:e,match:r,children:n}=t,i=x.useContext(f1);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(Mo.Provider,{value:e},n)}function vB(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,s=(i=r)==null?void 0:i.errors;if(s!=null){let u=o.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);u>=0||Ct(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:p}=r,m=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||m){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let p,m=!1,g=null,_=null;r&&(p=s&&d.route.id?s[d.route.id]:void 0,g=d.route.errorElement||pB,l&&(c<0&&h===0?(EB("route-fallback",!1),m=!0,_=null):c===h&&(m=!0,_=d.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,h+1)),w=()=>{let E;return p?E=g:m?E=_:d.route.Component?E=x.createElement(d.route.Component,null):d.route.element?E=d.route.element:E=u,x.createElement(gB,{match:d,routeContext:{outlet:u,matches:b,isDataRoute:r!=null},children:E})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?x.createElement(mB,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:w(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):w()},null)}var Y2=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Y2||{}),em=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(em||{});function yB(t){let e=x.useContext(f1);return e||Ct(!1),e}function wB(t){let e=x.useContext(lB);return e||Ct(!1),e}function bB(t){let e=x.useContext(Mo);return e||Ct(!1),e}function Q2(t){let e=bB(),r=e.matches[e.matches.length-1];return r.route.id||Ct(!1),r.route.id}function _B(){var t;let e=x.useContext(K2),r=wB(em.UseRouteError),n=Q2(em.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function xB(){let{router:t}=yB(Y2.UseNavigateStable),e=Q2(em.UseNavigateStable),r=x.useRef(!1);return H2(()=>{r.current=!0}),x.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Od({fromRouteId:e},a)))},[t,e])}const RT={};function EB(t,e,r){!e&&!RT[t]&&(RT[t]=!0)}function SB(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function kB(t){let{to:e,replace:r,state:n,relative:i}=t;Pc()||Ct(!1);let{future:a,static:o}=x.useContext(Ro),{matches:s}=x.useContext(Mo),{pathname:l}=cf(),c=uf(),u=d1(e,u1(s,a.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(u);return x.useEffect(()=>c(JSON.parse(d),{replace:r,state:n,relative:i}),[c,d,i,r,n]),null}function ju(t){Ct(!1)}function TB(t){let{basename:e="/",children:r=null,location:n,navigationType:i=io.Pop,navigator:a,static:o=!1,future:s}=t;Pc()&&Ct(!1);let l=e.replace(/^\/*/,"/"),c=x.useMemo(()=>({basename:l,navigator:a,static:o,future:Od({v7_relativeSplatPath:!1},s)}),[l,s,a,o]);typeof n=="string"&&(n=Ac(n));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:m="default"}=n,g=x.useMemo(()=>{let _=c1(u,l);return _==null?null:{location:{pathname:_,search:d,hash:h,state:p,key:m},navigationType:i}},[l,u,d,h,p,m,i]);return g==null?null:x.createElement(Ro.Provider,{value:c},x.createElement(Eg.Provider,{children:r,value:g}))}function AB(t){let{children:e,location:r}=t;return dB(Sw(e),r)}new Promise(()=>{});function Sw(t,e){e===void 0&&(e=[]);let r=[];return x.Children.forEach(t,(n,i)=>{if(!x.isValidElement(n))return;let a=[...e,i];if(n.type===x.Fragment){r.push.apply(r,Sw(n.props.children,a));return}n.type!==ju&&Ct(!1),!n.props.index||!n.props.children||Ct(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Sw(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kw(){return kw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kw.apply(this,arguments)}function PB(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function IB(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function CB(t,e){return t.button===0&&(!e||e==="_self")&&!IB(t)}const OB=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],NB="6";try{window.__reactRouterVersion=NB}catch{}const DB="startTransition",MT=$O[DB];function RB(t){let{basename:e,children:r,future:n,window:i}=t,a=x.useRef();a.current==null&&(a.current=jU({window:i,v5Compat:!0}));let o=a.current,[s,l]=x.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},u=x.useCallback(d=>{c&&MT?MT(()=>l(d)):l(d)},[l,c]);return x.useLayoutEffect(()=>o.listen(u),[o,u]),x.useEffect(()=>SB(n),[n]),x.createElement(TB,{basename:e,children:r,location:s.location,navigationType:s.action,navigator:o,future:n})}const MB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",LB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,X2=x.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:s,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,h=PB(e,OB),{basename:p}=x.useContext(Ro),m,g=!1;if(typeof c=="string"&&LB.test(c)&&(m=c,MB))try{let E=new URL(window.location.href),A=c.startsWith("//")?new URL(E.protocol+c):new URL(c),D=c1(A.pathname,p);A.origin===E.origin&&D!=null?c=D+A.search+A.hash:g=!0}catch{}let _=cB(c,{relative:i}),b=jB(c,{replace:o,state:s,target:l,preventScrollReset:u,relative:i,viewTransition:d});function w(E){n&&n(E),E.defaultPrevented||b(E)}return x.createElement("a",kw({},h,{href:m||_,onClick:g||a?n:w,ref:r,target:l}))});var LT;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(LT||(LT={}));var jT;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(jT||(jT={}));function jB(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:s}=e===void 0?{}:e,l=uf(),c=cf(),u=G2(t,{relative:o});return x.useCallback(d=>{if(CB(d,r)){d.preventDefault();let h=n!==void 0?n:Zp(c)===Zp(u);l(t,{replace:h,state:i,preventScrollReset:a,relative:o,viewTransition:s})}},[c,l,u,n,i,r,t,a,o,s])}const $B="modulepreload",VB=function(t){return"/Campus_Resourses_management_System/"+t},$T={},FB=function(e,r,n){if(!r||r.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(r.map(a=>{if(a=VB(a),a in $T)return;$T[a]=!0;const o=a.endsWith(".css"),s=o?'[rel="stylesheet"]':"";if(!!n)for(let u=i.length-1;u>=0;u--){const d=i[u];if(d.href===a&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${s}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":$B,o||(c.as="script",c.crossOrigin=""),c.href=a,document.head.appendChild(c),o)return new Promise((u,d)=>{c.addEventListener("load",u),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>e()).catch(a=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a})};var UB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const BB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zB=(t,e)=>{const r=x.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,children:s,...l},c)=>x.createElement("svg",{ref:c,...UB,width:i,height:i,stroke:n,strokeWidth:o?Number(a)*24/Number(i):a,className:`lucide lucide-${BB(t)}`,...l},[...e.map(([u,d])=>x.createElement(u,d)),...(Array.isArray(s)?s:[s])||[]]));return r.displayName=`${t}`,r};var xe=zB;const WB=xe("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),J2=xe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),qB=xe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),KB=xe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),VT=xe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Tw=xe("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),FT=xe("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),hi=xe("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),HB=xe("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),tm=xe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),Wl=xe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),My=xe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),GB=xe("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Aw=xe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),YB=xe("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Pw=xe("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]),Ly=xe("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),QB=xe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),XB=xe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),UT=xe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),JB=xe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),h1=xe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),ZB=xe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),e5=xe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),Iw=xe("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),nd=xe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),t5=xe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Z2=xe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Cw=xe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Zi=xe("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),r5=xe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),BT=xe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),p1=xe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),n5=xe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),Cl=xe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Ic=xe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),m1=xe("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]),i5=xe("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Lo=xe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function eD(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=eD(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function a5(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=eD(t))&&(n&&(n+=" "),n+=e);return n}function o5(){for(var t=0,e,r,n="";t<arguments.length;)(e=arguments[t++])&&(r=tD(e))&&(n&&(n+=" "),n+=r);return n}function tD(t){if(typeof t=="string")return t;for(var e,r="",n=0;n<t.length;n++)t[n]&&(e=tD(t[n]))&&(r&&(r+=" "),r+=e);return r}var g1="-";function s5(t){var e=c5(t),r=t.conflictingClassGroups,n=t.conflictingClassGroupModifiers,i=n===void 0?{}:n;function a(s){var l=s.split(g1);return l[0]===""&&l.length!==1&&l.shift(),rD(l,e)||l5(s)}function o(s,l){var c=r[s]||[];return l&&i[s]?[].concat(c,i[s]):c}return{getClassGroupId:a,getConflictingClassGroupIds:o}}function rD(t,e){var o;if(t.length===0)return e.classGroupId;var r=t[0],n=e.nextPart.get(r),i=n?rD(t.slice(1),n):void 0;if(i)return i;if(e.validators.length!==0){var a=t.join(g1);return(o=e.validators.find(function(s){var l=s.validator;return l(a)}))==null?void 0:o.classGroupId}}var zT=/^\[(.+)\]$/;function l5(t){if(zT.test(t)){var e=zT.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}}function c5(t){var e=t.theme,r=t.prefix,n={nextPart:new Map,validators:[]},i=d5(Object.entries(t.classGroups),r);return i.forEach(function(a){var o=a[0],s=a[1];Ow(s,n,o,e)}),n}function Ow(t,e,r,n){t.forEach(function(i){if(typeof i=="string"){var a=i===""?e:WT(e,i);a.classGroupId=r;return}if(typeof i=="function"){if(u5(i)){Ow(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(function(o){var s=o[0],l=o[1];Ow(l,WT(e,s),r,n)})})}function WT(t,e){var r=t;return e.split(g1).forEach(function(n){r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r}function u5(t){return t.isThemeGetter}function d5(t,e){return e?t.map(function(r){var n=r[0],i=r[1],a=i.map(function(o){return typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(s){var l=s[0],c=s[1];return[e+l,c]})):o});return[n,a]}):t}function f5(t){if(t<1)return{get:function(){},set:function(){}};var e=0,r=new Map,n=new Map;function i(a,o){r.set(a,o),e++,e>t&&(e=0,n=r,r=new Map)}return{get:function(o){var s=r.get(o);if(s!==void 0)return s;if((s=n.get(o))!==void 0)return i(o,s),s},set:function(o,s){r.has(o)?r.set(o,s):i(o,s)}}}var nD="!";function h5(t){var e=t.separator||":",r=e.length===1,n=e[0],i=e.length;return function(o){for(var s=[],l=0,c=0,u,d=0;d<o.length;d++){var h=o[d];if(l===0){if(h===n&&(r||o.slice(d,d+i)===e)){s.push(o.slice(c,d)),c=d+i;continue}if(h==="/"){u=d;continue}}h==="["?l++:h==="]"&&l--}var p=s.length===0?o:o.substring(c),m=p.startsWith(nD),g=m?p.substring(1):p,_=u&&u>c?u-c:void 0;return{modifiers:s,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:_}}}function p5(t){if(t.length<=1)return t;var e=[],r=[];return t.forEach(function(n){var i=n[0]==="[";i?(e.push.apply(e,r.sort().concat([n])),r=[]):r.push(n)}),e.push.apply(e,r.sort()),e}function m5(t){return{cache:f5(t.cacheSize),splitModifiers:h5(t),...s5(t)}}var g5=/\s+/;function v5(t,e){var r=e.splitModifiers,n=e.getClassGroupId,i=e.getConflictingClassGroupIds,a=new Set;return t.trim().split(g5).map(function(o){var s=r(o),l=s.modifiers,c=s.hasImportantModifier,u=s.baseClassName,d=s.maybePostfixModifierPosition,h=n(d?u.substring(0,d):u),p=!!d;if(!h){if(!d)return{isTailwindClass:!1,originalClassName:o};if(h=n(u),!h)return{isTailwindClass:!1,originalClassName:o};p=!1}var m=p5(l).join(":"),g=c?m+nD:m;return{isTailwindClass:!0,modifierId:g,classGroupId:h,originalClassName:o,hasPostfixModifier:p}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var s=o.modifierId,l=o.classGroupId,c=o.hasPostfixModifier,u=s+l;return a.has(u)?!1:(a.add(u),i(l,c).forEach(function(d){return a.add(s+d)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function y5(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n,i,a,o=s;function s(c){var u=e[0],d=e.slice(1),h=d.reduce(function(p,m){return m(p)},u());return n=m5(h),i=n.cache.get,a=n.cache.set,o=l,l(c)}function l(c){var u=i(c);if(u)return u;var d=v5(c,n);return a(c,d),d}return function(){return o(o5.apply(null,arguments))}}function rt(t){var e=function(n){return n[t]||[]};return e.isThemeGetter=!0,e}var iD=/^\[(?:([a-z-]+):)?(.+)\]$/i,w5=/^\d+\/\d+$/,b5=new Set(["px","full","screen"]),_5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,x5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,E5=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Kn(t){return us(t)||b5.has(t)||w5.test(t)||Nw(t)}function Nw(t){return qs(t,"length",I5)}function S5(t){return qs(t,"size",aD)}function k5(t){return qs(t,"position",aD)}function T5(t){return qs(t,"url",C5)}function Ch(t){return qs(t,"number",us)}function us(t){return!Number.isNaN(Number(t))}function A5(t){return t.endsWith("%")&&us(t.slice(0,-1))}function vu(t){return qT(t)||qs(t,"number",qT)}function ke(t){return iD.test(t)}function yu(){return!0}function ja(t){return _5.test(t)}function P5(t){return qs(t,"",O5)}function qs(t,e,r){var n=iD.exec(t);return n?n[1]?n[1]===e:r(n[2]):!1}function I5(t){return x5.test(t)}function aD(){return!1}function C5(t){return t.startsWith("url(")}function qT(t){return Number.isInteger(Number(t))}function O5(t){return E5.test(t)}function N5(){var t=rt("colors"),e=rt("spacing"),r=rt("blur"),n=rt("brightness"),i=rt("borderColor"),a=rt("borderRadius"),o=rt("borderSpacing"),s=rt("borderWidth"),l=rt("contrast"),c=rt("grayscale"),u=rt("hueRotate"),d=rt("invert"),h=rt("gap"),p=rt("gradientColorStops"),m=rt("gradientColorStopPositions"),g=rt("inset"),_=rt("margin"),b=rt("opacity"),w=rt("padding"),E=rt("saturate"),A=rt("scale"),D=rt("sepia"),L=rt("skew"),T=rt("space"),k=rt("translate"),I=function(){return["auto","contain","none"]},R=function(){return["auto","hidden","clip","visible","scroll"]},M=function(){return["auto",ke,e]},O=function(){return[ke,e]},P=function(){return["",Kn]},z=function(){return["auto",us,ke]},ie=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},G=function(){return["solid","dashed","dotted","double","none"]},fe=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},W=function(){return["start","end","center","between","around","evenly","stretch"]},X=function(){return["","0",ke]},Q=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},ce=function(){return[us,Ch]},Y=function(){return[us,ke]};return{cacheSize:500,theme:{colors:[yu],spacing:[Kn],blur:["none","",ja,ke],brightness:ce(),borderColor:[t],borderRadius:["none","","full",ja,ke],borderSpacing:O(),borderWidth:P(),contrast:ce(),grayscale:X(),hueRotate:Y(),invert:X(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[A5,Nw],inset:M(),margin:M(),opacity:ce(),padding:O(),saturate:ce(),scale:ce(),sepia:X(),skew:Y(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",ke]}],container:["container"],columns:[{columns:[ja]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(ie(),[ke])}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",vu]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ke]}],grow:[{grow:X()}],shrink:[{shrink:X()}],order:[{order:["first","last","none",vu]}],"grid-cols":[{"grid-cols":[yu]}],"col-start-end":[{col:["auto",{span:["full",vu]},ke]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[yu]}],"row-start-end":[{row:["auto",{span:[vu]},ke]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ke]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ke]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal"].concat(W())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(W(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(W(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",ke,e]}],"min-w":[{"min-w":["min","max","fit",ke,Kn]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[ja]},ja,ke]}],h:[{h:[ke,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",ke,Kn]}],"max-h":[{"max-h":[ke,e,"min","max","fit"]}],"font-size":[{text:["base",ja,Nw]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ch]}],"font-family":[{font:[yu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ke]}],"line-clamp":[{"line-clamp":["none",us,Ch]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ke,Kn]}],"list-image":[{"list-image":["none",ke]}],"list-style-type":[{list:["none","disc","decimal",ke]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(G(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Kn]}],"underline-offset":[{"underline-offset":["auto",ke,Kn]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(ie(),[k5])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",S5]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},T5]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[].concat(G(),["hidden"])}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:G()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(G())}],"outline-offset":[{"outline-offset":[ke,Kn]}],"outline-w":[{outline:[Kn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Kn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ja,P5]}],"shadow-color":[{shadow:[yu]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":fe()}],"bg-blend":[{"bg-blend":fe()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ja,ke]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[E]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ke]}],duration:[{duration:Y()}],ease:[{ease:["linear","in","out","in-out",ke]}],delay:[{delay:Y()}],animate:[{animate:["none","spin","ping","pulse","bounce",ke]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[vu,ke]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ke]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ke]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ke]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Kn,Ch]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var D5=y5(N5);function Jt(...t){return D5(a5(t))}const $e=x.forwardRef((t,e)=>{const{label:r,error:n,helperText:i,required:a=!1,disabled:o=!1,className:s,variant:l="default",size:c="md",leftIcon:u,rightIcon:d,loading:h=!1,success:p=!1,floating:m=!1,fullWidth:g=!0,type:_="text",...b}=t,[w,E]=x.useState(!1),[A,D]=x.useState(!1),L=x.useId(),T=x.useId(),k=x.useId(),I=["transition-all","duration-300","ease-out","focus:outline-none","disabled:opacity-50","disabled:cursor-not-allowed","disabled:bg-secondary-50","dark:disabled:bg-secondary-800",g&&"w-full"],R={sm:["px-3","py-2","text-sm","min-h-[40px]"],md:["px-4","py-3","text-base","min-h-[44px]"],lg:["px-5","py-4","text-lg","min-h-[48px]"]},M={default:["bg-white/80","dark:bg-secondary-800/80","backdrop-blur-sm","border-2","border-secondary-300","dark:border-secondary-600","rounded-xl","focus:border-primary-500","focus:ring-2","focus:ring-primary-500/20","hover:border-secondary-400","dark:hover:border-secondary-500"],filled:["bg-secondary-100","dark:bg-secondary-800","border-2","border-transparent","rounded-xl","focus:border-primary-500","focus:ring-2","focus:ring-primary-500/20","hover:bg-secondary-200","dark:hover:bg-secondary-700"],outlined:["bg-transparent","border-2","border-secondary-300","dark:border-secondary-600","rounded-xl","focus:border-primary-500","focus:ring-2","focus:ring-primary-500/20","hover:border-secondary-400","dark:hover:border-secondary-500"],ghost:["bg-transparent","border-2","border-transparent","rounded-xl","focus:border-primary-500","focus:ring-2","focus:ring-primary-500/20","hover:bg-secondary-50","dark:hover:bg-secondary-800"]},O=[n&&["border-error-500","focus:border-error-500","focus:ring-error-500/20","text-error-900","dark:text-error-100"],p&&["border-success-500","focus:border-success-500","focus:ring-success-500/20"],h&&"animate-pulse"],P=Q=>{const ce=["absolute","top-1/2","transform","-translate-y-1/2","text-secondary-400","dark:text-secondary-500","transition-colors","duration-200"],Y={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"},he={left:Q==="left"?["left-3"]:[],right:Q==="right"?["right-3"]:[]};return Jt(ce,Y[c],he[Q])},z=()=>{const Q=R[c];return Jt(Q,u?c==="sm"?"pl-10":c==="md"?"pl-12":"pl-14":"",d||_==="password"?c==="sm"?"pr-10":c==="md"?"pr-12":"pr-14":"")},ie=()=>{switch(_){case"search":return v(Z2,{className:P("left")});case"date":return v(hi,{className:P("right")});case"time":return v(Wl,{className:P("right")});default:return null}},G=Jt(I,z(),M[l],O,m&&"placeholder-transparent","text-secondary-900","dark:text-secondary-100","placeholder-secondary-400","dark:placeholder-secondary-500",s),fe=Jt("block","text-sm","font-medium","text-secondary-700","dark:text-secondary-300","transition-all","duration-200",m&&["absolute","left-4","pointer-events-none","transform","origin-left",(A||t.value)&&["-translate-y-6","scale-75","text-primary-600","dark:text-primary-400"],!(A||t.value)&&["top-1/2","-translate-y-1/2","text-secondary-400"]],a&&'after:content-["*"] after:text-error-500 after:ml-1'),W=Jt("text-sm","mt-2","flex","items-center","gap-1",n?"text-error-600 dark:text-error-400":"text-secondary-500 dark:text-secondary-400"),X=()=>{if(_==="select"){const Q=t;return C("select",{ref:e,id:L,disabled:o,className:G,value:Q.value||"",onChange:ce=>{var Y;return(Y=Q.onChange)==null?void 0:Y.call(Q,ce.target.value)},onFocus:()=>D(!0),onBlur:()=>D(!1),"aria-describedby":Jt(n&&T,i&&k),"aria-invalid":!!n,...b,children:[Q.placeholder&&v("option",{value:"",disabled:!0,children:Q.placeholder}),Q.options.map(ce=>v("option",{value:ce.value,disabled:ce.disabled,children:ce.label},ce.value))]})}if(_==="textarea"){const Q=t;return v("textarea",{ref:e,id:L,disabled:o,className:Jt(G,Q.resize===!1&&"resize-none","min-h-[100px]"),rows:Q.rows||4,onFocus:()=>D(!0),onBlur:()=>D(!1),"aria-describedby":Jt(n&&T,i&&k),"aria-invalid":!!n,...b})}return v("input",{ref:e,id:L,type:_==="password"&&w?"text":_,disabled:o,className:G,onFocus:()=>D(!0),onBlur:()=>D(!1),"aria-describedby":Jt(n&&T,i&&k),"aria-invalid":!!n,...b})};return C("div",{className:Jt("relative",g&&"w-full"),children:[r&&v("label",{htmlFor:L,className:fe,children:r}),C("div",{className:Jt("relative",!m&&r&&"mt-2"),children:[u&&v("div",{className:P("left"),children:u}),!u&&ie(),X(),_==="password"?v("button",{type:"button",onClick:()=>E(!w),className:Jt(P("right"),"hover:text-secondary-600","dark:hover:text-secondary-400","focus:outline-none","focus:text-primary-600","dark:focus:text-primary-400","min-h-touch","min-w-touch","flex","items-center","justify-center","rounded-md"),"aria-label":w?"Hide password":"Show password",children:w?v(GB,{}):v(Aw,{})}):d?v("div",{className:P("right"),children:d}):null,p&&!n&&v("div",{className:P("right"),children:v(HB,{className:"text-success-500"})}),h&&v("div",{className:P("right"),children:v("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-primary-600 border-t-transparent"})}),v("div",{className:Jt("absolute","inset-0","rounded-xl","pointer-events-none","transition-all","duration-300",A&&!n&&"ring-2 ring-primary-500/20 ring-offset-2 dark:ring-offset-secondary-800",n&&A&&"ring-2 ring-error-500/20 ring-offset-2 dark:ring-offset-secondary-800")})]}),n&&C("div",{id:T,className:W,role:"alert",children:[v(J2,{className:"w-4 h-4 flex-shrink-0"}),v("span",{children:n})]}),i&&!n&&v("div",{id:k,className:W,children:v("span",{children:i})})]})});$e.displayName="Input";const Ee=x.forwardRef(({children:t,variant:e="primary",size:r="md",loading:n=!1,leftIcon:i,rightIcon:a,fullWidth:o=!1,rounded:s="xl",shadow:l="md",gradient:c=!0,glow:u=!1,pulse:d=!1,disabled:h=!1,className:p,type:m="button",...g},_)=>{const b=["btn","relative","inline-flex","items-center","justify-center","font-semibold","transition-all","duration-300","ease-out","focus:outline-none","focus:ring-2","focus:ring-offset-2","dark:focus:ring-offset-secondary-800","disabled:opacity-50","disabled:cursor-not-allowed","disabled:transform-none","touch-manipulation","select-none","overflow-hidden","motion-safe:transform","motion-safe:hover:scale-105","motion-safe:active:scale-95","motion-reduce:transform-none","motion-reduce:transition-none"],w={xs:["btn-xs","px-2","py-1","text-xs","min-h-[32px]","gap-1"],sm:["btn-sm","px-3","py-2","text-sm","min-h-[40px]","gap-1.5"],md:["btn-md","px-4","py-2.5","text-base","min-h-[44px]","gap-2"],lg:["btn-lg","px-6","py-3","text-lg","min-h-[48px]","gap-2.5"],xl:["btn-xl","px-8","py-4","text-xl","min-h-[52px]","gap-3"]},E={primary:[c?"bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800":"bg-primary-600 hover:bg-primary-700","text-white","border-transparent","focus:ring-primary-500",l!=="none"&&`shadow-${l}`,"hover:shadow-lg",u&&"hover:shadow-glow hover:shadow-primary-500/25"],secondary:[c?"bg-gradient-to-r from-secondary-100 to-secondary-200 hover:from-secondary-200 hover:to-secondary-300 dark:from-secondary-700 dark:to-secondary-800 dark:hover:from-secondary-600 dark:hover:to-secondary-700":"bg-secondary-100 hover:bg-secondary-200 dark:bg-secondary-700 dark:hover:bg-secondary-600","text-secondary-900 dark:text-secondary-100","border-transparent","focus:ring-secondary-500",l!=="none"&&`shadow-${l}`,"hover:shadow-lg"],success:[c?"bg-gradient-to-r from-success-500 to-success-600 hover:from-success-600 hover:to-success-700":"bg-success-500 hover:bg-success-600","text-white","border-transparent","focus:ring-success-500",l!=="none"&&`shadow-${l}`,"hover:shadow-lg",u&&"hover:shadow-glow hover:shadow-success-500/25"],warning:[c?"bg-gradient-to-r from-warning-500 to-warning-600 hover:from-warning-600 hover:to-warning-700":"bg-warning-500 hover:bg-warning-600","text-white","border-transparent","focus:ring-warning-500",l!=="none"&&`shadow-${l}`,"hover:shadow-lg",u&&"hover:shadow-glow hover:shadow-warning-500/25"],error:[c?"bg-gradient-to-r from-error-500 to-error-600 hover:from-error-600 hover:to-error-700":"bg-error-500 hover:bg-error-600","text-white","border-transparent","focus:ring-error-500",l!=="none"&&`shadow-${l}`,"hover:shadow-lg",u&&"hover:shadow-glow hover:shadow-error-500/25"],ghost:["bg-transparent","hover:bg-secondary-100 dark:hover:bg-secondary-800","text-secondary-700 dark:text-secondary-300","border border-secondary-300 dark:border-secondary-600","hover:border-secondary-400 dark:hover:border-secondary-500","focus:ring-secondary-500",l!=="none"&&`shadow-${l}`],outline:["bg-transparent","border-2","border-current","hover:bg-current","hover:text-white","focus:ring-offset-2",l!=="none"&&`shadow-${l}`]},A={sm:"rounded-sm",md:"rounded-md",lg:"rounded-lg",xl:"rounded-xl",full:"rounded-full"},D=[o&&"w-full",d&&"animate-pulse-soft",n&&"cursor-wait"],L=Jt(b,w[r],E[e],A[s],D,p),T={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-7 h-7"}[r];return C("button",{ref:_,type:m,disabled:h||n,className:L,...g,children:[v("span",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent transform -skew-x-12 -translate-x-full transition-transform duration-700 group-hover:translate-x-full"}),n&&v(QB,{className:Jt("animate-spin",T,i||a?"mr-2":"")}),i&&!n&&v("span",{className:Jt(T,"flex-shrink-0"),children:i}),v("span",{className:Jt("relative z-10 flex items-center justify-center",(i||n)&&"ml-2",a&&"mr-2"),children:t}),a&&!n&&v("span",{className:Jt(T,"flex-shrink-0"),children:a}),v("span",{className:"absolute inset-0 overflow-hidden rounded-inherit",children:v("span",{className:"absolute inset-0 bg-white/20 transform scale-0 rounded-full transition-transform duration-300 group-active:scale-100"})})]})});Ee.displayName="Button";const oD=t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),R5=t=>t.length<8?{isValid:!1,message:"Password must be at least 8 characters long"}:/(?=.*[a-z])/.test(t)?/(?=.*[A-Z])/.test(t)?/(?=.*\d)/.test(t)?{isValid:!0,message:""}:{isValid:!1,message:"Password must contain at least one number"}:{isValid:!1,message:"Password must contain at least one uppercase letter"}:{isValid:!1,message:"Password must contain at least one lowercase letter"},M5=t=>t.length<3?{isValid:!1,message:"Username must be at least 3 characters long"}:/^[a-zA-Z0-9_]+$/.test(t)?{isValid:!0,message:""}:{isValid:!1,message:"Username can only contain letters, numbers, and underscores"};let L5={data:""},j5=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||L5,$5=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,V5=/\/\*[^]*?\*\/|  +/g,KT=/\n+/g,Ya=(t,e)=>{let r="",n="",i="";for(let a in t){let o=t[a];a[0]=="@"?a[1]=="i"?r=a+" "+o+";":n+=a[1]=="f"?Ya(o,a):a+"{"+Ya(o,a[1]=="k"?"":e)+"}":typeof o=="object"?n+=Ya(o,e?e.replace(/([^,])+/g,s=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,s):s?s+" "+l:l)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Ya.p?Ya.p(a,o):a+":"+o+";")}return r+(e&&i?e+"{"+i+"}":i)+n},Ri={},sD=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+sD(t[r]);return e}return t},F5=(t,e,r,n,i)=>{let a=sD(t),o=Ri[a]||(Ri[a]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(a));if(!Ri[o]){let l=a!==t?t:(c=>{let u,d,h=[{}];for(;u=$5.exec(c.replace(V5,""));)u[4]?h.shift():u[3]?(d=u[3].replace(KT," ").trim(),h.unshift(h[0][d]=h[0][d]||{})):h[0][u[1]]=u[2].replace(KT," ").trim();return h[0]})(t);Ri[o]=Ya(i?{["@keyframes "+o]:l}:l,r?"":"."+o)}let s=r&&Ri.g?Ri.g:null;return r&&(Ri.g=Ri[o]),((l,c,u,d)=>{d?c.data=c.data.replace(d,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(Ri[o],e,n,s),o},U5=(t,e,r)=>t.reduce((n,i,a)=>{let o=e[a];if(o&&o.call){let s=o(r),l=s&&s.props&&s.props.className||/^go/.test(s)&&s;o=l?"."+l:s&&typeof s=="object"?s.props?"":Ya(s,""):s===!1?"":s}return n+i+(o??"")},"");function Sg(t){let e=this||{},r=t.call?t(e.p):t;return F5(r.unshift?r.raw?U5(r,[].slice.call(arguments,1),e.p):r.reduce((n,i)=>Object.assign(n,i&&i.call?i(e.p):i),{}):r,j5(e.target),e.g,e.o,e.k)}let lD,Dw,Rw;Sg.bind({g:1});let la=Sg.bind({k:1});function B5(t,e,r,n){Ya.p=e,lD=t,Dw=r,Rw=n}function jo(t,e){let r=this||{};return function(){let n=arguments;function i(a,o){let s=Object.assign({},a),l=s.className||i.className;r.p=Object.assign({theme:Dw&&Dw()},s),r.o=/ *go\d+/.test(l),s.className=Sg.apply(r,n)+(l?" "+l:""),e&&(s.ref=o);let c=t;return t[0]&&(c=s.as||t,delete s.as),Rw&&c[0]&&Rw(s),lD(c,s)}return e?e(i):i}}var z5=t=>typeof t=="function",rm=(t,e)=>z5(t)?t(e):t,W5=(()=>{let t=0;return()=>(++t).toString()})(),cD=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),q5=20,uD=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,q5)};case 1:return{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:r}=e;return uD(t,{type:t.toasts.find(a=>a.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=e;return{...t,toasts:t.toasts.map(a=>a.id===n||n===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},vp=[],ds={toasts:[],pausedAt:void 0},Ks=t=>{ds=uD(ds,t),vp.forEach(e=>{e(ds)})},K5={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},H5=(t={})=>{let[e,r]=x.useState(ds),n=x.useRef(ds);x.useEffect(()=>(n.current!==ds&&r(ds),vp.push(r),()=>{let a=vp.indexOf(r);a>-1&&vp.splice(a,1)}),[]);let i=e.toasts.map(a=>{var o,s,l;return{...t,...t[a.type],...a,removeDelay:a.removeDelay||((o=t[a.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:a.duration||((s=t[a.type])==null?void 0:s.duration)||(t==null?void 0:t.duration)||K5[a.type],style:{...t.style,...(l=t[a.type])==null?void 0:l.style,...a.style}}});return{...e,toasts:i}},G5=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||W5()}),df=t=>(e,r)=>{let n=G5(e,t,r);return Ks({type:2,toast:n}),n.id},Lr=(t,e)=>df("blank")(t,e);Lr.error=df("error");Lr.success=df("success");Lr.loading=df("loading");Lr.custom=df("custom");Lr.dismiss=t=>{Ks({type:3,toastId:t})};Lr.remove=t=>Ks({type:4,toastId:t});Lr.promise=(t,e,r)=>{let n=Lr.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let a=e.success?rm(e.success,i):void 0;return a?Lr.success(a,{id:n,...r,...r==null?void 0:r.success}):Lr.dismiss(n),i}).catch(i=>{let a=e.error?rm(e.error,i):void 0;a?Lr.error(a,{id:n,...r,...r==null?void 0:r.error}):Lr.dismiss(n)}),t};var Y5=(t,e)=>{Ks({type:1,toast:{id:t,height:e}})},Q5=()=>{Ks({type:5,time:Date.now()})},id=new Map,X5=1e3,J5=(t,e=X5)=>{if(id.has(t))return;let r=setTimeout(()=>{id.delete(t),Ks({type:4,toastId:t})},e);id.set(t,r)},Z5=t=>{let{toasts:e,pausedAt:r}=H5(t);x.useEffect(()=>{if(r)return;let a=Date.now(),o=e.map(s=>{if(s.duration===1/0)return;let l=(s.duration||0)+s.pauseDuration-(a-s.createdAt);if(l<0){s.visible&&Lr.dismiss(s.id);return}return setTimeout(()=>Lr.dismiss(s.id),l)});return()=>{o.forEach(s=>s&&clearTimeout(s))}},[e,r]);let n=x.useCallback(()=>{r&&Ks({type:6,time:Date.now()})},[r]),i=x.useCallback((a,o)=>{let{reverseOrder:s=!1,gutter:l=8,defaultPosition:c}=o||{},u=e.filter(p=>(p.position||c)===(a.position||c)&&p.height),d=u.findIndex(p=>p.id===a.id),h=u.filter((p,m)=>m<d&&p.visible).length;return u.filter(p=>p.visible).slice(...s?[h+1]:[0,h]).reduce((p,m)=>p+(m.height||0)+l,0)},[e]);return x.useEffect(()=>{e.forEach(a=>{if(a.dismissed)J5(a.id,a.removeDelay);else{let o=id.get(a.id);o&&(clearTimeout(o),id.delete(a.id))}})},[e]),{toasts:e,handlers:{updateHeight:Y5,startPause:Q5,endPause:n,calculateOffset:i}}},e9=la`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,t9=la`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,r9=la`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,n9=jo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${e9} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${t9} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${r9} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,i9=la`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,a9=jo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${i9} 1s linear infinite;
`,o9=la`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,s9=la`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,l9=jo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${o9} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${s9} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,c9=jo("div")`
  position: absolute;
`,u9=jo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,d9=la`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,f9=jo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${d9} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,h9=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?x.createElement(f9,null,e):e:r==="blank"?null:x.createElement(u9,null,x.createElement(a9,{...n}),r!=="loading"&&x.createElement(c9,null,r==="error"?x.createElement(n9,{...n}):x.createElement(l9,{...n})))},p9=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,m9=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,g9="0%{opacity:0;} 100%{opacity:1;}",v9="0%{opacity:1;} 100%{opacity:0;}",y9=jo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,w9=jo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,b9=(t,e)=>{let r=t.includes("top")?1:-1,[n,i]=cD()?[g9,v9]:[p9(r),m9(r)];return{animation:e?`${la(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${la(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},_9=x.memo(({toast:t,position:e,style:r,children:n})=>{let i=t.height?b9(t.position||e||"top-center",t.visible):{opacity:0},a=x.createElement(h9,{toast:t}),o=x.createElement(w9,{...t.ariaProps},rm(t.message,t));return x.createElement(y9,{className:t.className,style:{...i,...r,...t.style}},typeof n=="function"?n({icon:a,message:o}):x.createElement(x.Fragment,null,a,o))});B5(x.createElement);var x9=({id:t,className:e,style:r,onHeightUpdate:n,children:i})=>{let a=x.useCallback(o=>{if(o){let s=()=>{let l=o.getBoundingClientRect().height;n(t,l)};s(),new MutationObserver(s).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return x.createElement("div",{ref:a,className:e,style:r},i)},E9=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:cD()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...i}},S9=Sg`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Oh=16,kg=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:i,containerStyle:a,containerClassName:o})=>{let{toasts:s,handlers:l}=Z5(r);return x.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Oh,left:Oh,right:Oh,bottom:Oh,pointerEvents:"none",...a},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},s.map(c=>{let u=c.position||e,d=l.calculateOffset(c,{reverseOrder:t,gutter:n,defaultPosition:e}),h=E9(u,d);return x.createElement(x9,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?S9:"",style:h},c.type==="custom"?rm(c.message,c):i?i(c):x.createElement(_9,{toast:c,position:u}))}))},_e=Lr;const k9=()=>{const t=uf(),[e,r]=x.useState({email:"",password:""}),[n,i]=x.useState({}),[a,o]=x.useState(!1),s=(u,d)=>{r(h=>({...h,[u]:d})),n[u]&&i(h=>({...h,[u]:void 0}))},l=()=>{const u={};return e.email?oD(e.email)||(u.email="Please enter a valid email address"):u.email="Email is required",e.password||(u.password="Password is required"),i(u),Object.keys(u).length===0};return C("div",{className:"min-h-screen flex items-center justify-center py-6 sm:py-12 px-4 sm:px-6 lg:px-8 bg-gray-50 dark:bg-gray-900 transition-all duration-300",children:[v(kg,{position:"top-center"}),C("div",{className:"max-w-md w-full space-y-6 sm:space-y-8",children:[C("div",{className:"text-center",children:[v("div",{className:"mx-auto h-12 w-12 sm:h-14 sm:w-14 bg-primary-600 rounded-xl flex items-center justify-center",children:v(Pw,{className:"h-7 w-7 sm:h-8 sm:w-8 text-white"})}),v("h2",{className:"mt-4 sm:mt-6 text-2xl sm:text-3xl font-bold text-gray-900 dark:text-gray-100 leading-tight",children:"Welcome back"}),v("p",{className:"mt-2 text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"Sign in to your Campus Resources account"})]}),C("div",{className:"bg-white dark:bg-gray-800 rounded-lg sm:rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6 sm:p-8 animate-fade-in",children:[C("form",{className:"space-y-4 sm:space-y-6",onSubmit:async u=>{if(u.preventDefault(),!!l()){o(!0);try{const{firebaseService:d}=await FB(()=>Promise.resolve().then(()=>CG),void 0),{user:h,token:p}=await d.login(e.email,e.password);localStorage.setItem("user",JSON.stringify(h)),localStorage.setItem("token",p),console.log("✅ Login successful:",h),_e.success(`Welcome back, ${h.username}!`),t("/dashboard")}catch(d){console.error("❌ Login failed:",d),_e.error("Invalid email or password. Please try again."),i({email:"Invalid email or password. Please try again."})}finally{o(!1)}}},children:[v($e,{label:"Email Address",type:"email",value:e.email,onChange:u=>s("email",u),error:n.email,placeholder:"Enter your email",required:!0}),v($e,{label:"Password",type:"password",value:e.password,onChange:u=>s("password",u),error:n.password,placeholder:"Enter your password",required:!0}),C("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between space-y-3 sm:space-y-0",children:[C("div",{className:"flex items-center",children:[v("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded touch-manipulation",style:{minHeight:"20px",minWidth:"20px"}}),v("label",{htmlFor:"remember-me",className:"ml-3 block text-sm text-gray-900 dark:text-gray-100",children:"Remember me"})]}),v("div",{className:"text-sm",children:v("a",{href:"#",className:"font-medium text-primary-600 hover:text-primary-500 py-2 px-1 -mx-1 rounded touch-manipulation",children:"Forgot your password?"})})]}),v(Ee,{type:"submit",loading:a,className:"w-full",children:"Sign in"})]}),C("div",{className:"mt-6",children:[C("div",{className:"relative",children:[v("div",{className:"absolute inset-0 flex items-center",children:v("div",{className:"w-full border-t border-gray-300"})}),v("div",{className:"relative flex justify-center text-sm",children:v("span",{className:"px-2 bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400",children:"Or continue with"})})]}),C("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 gap-3",children:[C(Ee,{variant:"secondary",className:"w-full mobile-button",children:[C("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[v("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),v("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),v("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),v("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),v("span",{className:"ml-2",children:"Google"})]}),C(Ee,{variant:"secondary",className:"w-full mobile-button",children:[v("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:v("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806.026-1.566.247-2.229.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})}),v("span",{className:"ml-2",children:"Twitter"})]})]})]}),v("div",{className:"mt-6 text-center",children:C("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Don't have an account?"," ",v(X2,{to:"/register",className:"font-medium text-primary-600 hover:text-primary-500 py-2 px-1 -mx-1 rounded touch-manipulation",children:"Sign up"})]})})]})]})]})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},T9=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],o=t[r++],s=t[r++],l=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const a=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},fD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,s=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=a>>2,d=(a&3)<<4|s>>4;let h=(s&15)<<2|c>>6,p=c&63;l||(p=64,o||(h=64)),n.push(r[u],r[d],r[h],r[p])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):T9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],s=i<t.length?r[t.charAt(i)]:0;++i;const c=i<t.length?r[t.charAt(i)]:64;++i;const d=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||s==null||c==null||d==null)throw new A9;const h=a<<2|s>>4;if(n.push(h),c!==64){const p=s<<4&240|c>>2;if(n.push(p),d!==64){const m=c<<6&192|d;n.push(m)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class A9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const P9=function(t){const e=dD(t);return fD.encodeByteArray(e,!0)},nm=function(t){return P9(t).replace(/\./g,"")},hD=function(t){try{return fD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C9=()=>I9().__FIREBASE_DEFAULTS__,O9=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},N9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&hD(t[1]);return e&&JSON.parse(e)},Tg=()=>{try{return C9()||O9()||N9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},pD=t=>{var e,r;return(r=(e=Tg())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},mD=t=>{const e=pD(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},gD=()=>{var t;return(t=Tg())===null||t===void 0?void 0:t.config},vD=t=>{var e;return(e=Tg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t),s="";return[nm(JSON.stringify(r)),nm(JSON.stringify(o)),s].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function R9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Or())}function M9(){var t;const e=(t=Tg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function L9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function j9(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function $9(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function V9(){const t=Or();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function F9(){return!M9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function U9(){try{return typeof indexedDB=="object"}catch{return!1}}function B9(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z9="FirebaseError";class Pi extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=z9,Object.setPrototypeOf(this,Pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ff.prototype.create)}}class ff{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?W9(a,n):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new Pi(i,s,n)}}function W9(t,e){return t.replace(q9,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const q9=/\{\$([^}]+)}/g;function K9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function im(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],o=e[i];if(HT(a)&&HT(o)){if(!im(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function HT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function $u(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Vu(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function H9(t,e){const r=new G9(t,e);return r.subscribe.bind(r)}class G9{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");Y9(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=jy),i.error===void 0&&(i.error=jy),i.complete===void 0&&(i.complete=jy);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Y9(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function jy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(t){return t&&t._delegate?t._delegate:t}class Eo{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Q9=class{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new D9;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(J9(e))try{this.getOrInitializeService({instanceIdentifier:ns})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=ns){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ns){return this.instances.has(e)}getOptions(e=ns){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);n===s&&o.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:X9(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=ns){return this.component?this.component.multipleInstances?e:ns:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function X9(t){return t===ns?void 0:t}function J9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new Q9(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Pe||(Pe={}));const ez={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},tz=Pe.INFO,rz={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},nz=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=rz[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class v1{constructor(e){this.name=e,this._logLevel=tz,this._logHandler=nz,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ez[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const iz=(t,e)=>e.some(r=>t instanceof r);let GT,YT;function az(){return GT||(GT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oz(){return YT||(YT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wD=new WeakMap,Mw=new WeakMap,bD=new WeakMap,$y=new WeakMap,y1=new WeakMap;function sz(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{r(go(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&wD.set(r,t)}).catch(()=>{}),y1.set(e,t),e}function lz(t){if(Mw.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});Mw.set(t,e)}let Lw={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Mw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bD.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return go(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function cz(t){Lw=t(Lw)}function uz(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Vy(this),e,...r);return bD.set(n,e.sort?e.sort():[e]),go(n)}:oz().includes(t)?function(...e){return t.apply(Vy(this),e),go(wD.get(this))}:function(...e){return go(t.apply(Vy(this),e))}}function dz(t){return typeof t=="function"?uz(t):(t instanceof IDBTransaction&&lz(t),iz(t,az())?new Proxy(t,Lw):t)}function go(t){if(t instanceof IDBRequest)return sz(t);if($y.has(t))return $y.get(t);const e=dz(t);return e!==t&&($y.set(t,e),y1.set(e,t)),e}const Vy=t=>y1.get(t);function fz(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),s=go(o);return n&&o.addEventListener("upgradeneeded",l=>{n(go(o.result),l.oldVersion,l.newVersion,go(o.transaction),l)}),r&&o.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),s}const hz=["get","getKey","getAll","getAllKeys","count"],pz=["put","add","delete","clear"],Fy=new Map;function QT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fy.get(e))return Fy.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=pz.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||hz.includes(r)))return;const a=async function(o,...s){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(s.shift())),(await Promise.all([c[r](...s),i&&l.done]))[0]};return Fy.set(e,a),a}cz(t=>({...t,get:(e,r,n)=>QT(e,r)||t.get(e,r,n),has:(e,r)=>!!QT(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(gz(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function gz(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jw="@firebase/app",XT="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=new v1("@firebase/app"),vz="@firebase/app-compat",yz="@firebase/analytics-compat",wz="@firebase/analytics",bz="@firebase/app-check-compat",_z="@firebase/app-check",xz="@firebase/auth",Ez="@firebase/auth-compat",Sz="@firebase/database",kz="@firebase/data-connect",Tz="@firebase/database-compat",Az="@firebase/functions",Pz="@firebase/functions-compat",Iz="@firebase/installations",Cz="@firebase/installations-compat",Oz="@firebase/messaging",Nz="@firebase/messaging-compat",Dz="@firebase/performance",Rz="@firebase/performance-compat",Mz="@firebase/remote-config",Lz="@firebase/remote-config-compat",jz="@firebase/storage",$z="@firebase/storage-compat",Vz="@firebase/firestore",Fz="@firebase/vertexai-preview",Uz="@firebase/firestore-compat",Bz="firebase",zz="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="[DEFAULT]",Wz={[jw]:"fire-core",[vz]:"fire-core-compat",[wz]:"fire-analytics",[yz]:"fire-analytics-compat",[_z]:"fire-app-check",[bz]:"fire-app-check-compat",[xz]:"fire-auth",[Ez]:"fire-auth-compat",[Sz]:"fire-rtdb",[kz]:"fire-data-connect",[Tz]:"fire-rtdb-compat",[Az]:"fire-fn",[Pz]:"fire-fn-compat",[Iz]:"fire-iid",[Cz]:"fire-iid-compat",[Oz]:"fire-fcm",[Nz]:"fire-fcm-compat",[Dz]:"fire-perf",[Rz]:"fire-perf-compat",[Mz]:"fire-rc",[Lz]:"fire-rc-compat",[jz]:"fire-gcs",[$z]:"fire-gcs-compat",[Vz]:"fire-fst",[Uz]:"fire-fst-compat",[Fz]:"fire-vertex","fire-js":"fire-js",[Bz]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am=new Map,qz=new Map,Vw=new Map;function JT(t,e){try{t.container.addComponent(e)}catch(r){ca.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Ns(t){const e=t.name;if(Vw.has(e))return ca.debug(`There were multiple attempts to register component ${e}.`),!1;Vw.set(e,t);for(const r of am.values())JT(r,t);for(const r of qz.values())JT(r,t);return!0}function Ag(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function pi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vo=new ff("app","Firebase",Kz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hz{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Eo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=zz;function _D(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:$w,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw vo.create("bad-app-name",{appName:String(i)});if(r||(r=gD()),!r)throw vo.create("no-options");const a=am.get(i);if(a){if(im(r,a.options)&&im(n,a.config))return a;throw vo.create("duplicate-app",{appName:i})}const o=new Z9(i);for(const l of Vw.values())o.addComponent(l);const s=new Hz(r,n,o);return am.set(i,s),s}function w1(t=$w){const e=am.get(t);if(!e&&t===$w&&gD())return _D();if(!e)throw vo.create("no-app",{appName:t});return e}function wi(t,e,r){var n;let i=(n=Wz[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const s=[`Unable to register library "${i}" with version "${e}":`];a&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ca.warn(s.join(" "));return}Ns(new Eo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gz="firebase-heartbeat-database",Yz=1,Nd="firebase-heartbeat-store";let Uy=null;function xD(){return Uy||(Uy=fz(Gz,Yz,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Nd)}catch(r){console.warn(r)}}}}).catch(t=>{throw vo.create("idb-open",{originalErrorMessage:t.message})})),Uy}async function Qz(t){try{const r=(await xD()).transaction(Nd),n=await r.objectStore(Nd).get(ED(t));return await r.done,n}catch(e){if(e instanceof Pi)ca.warn(e.message);else{const r=vo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ca.warn(r.message)}}}async function ZT(t,e){try{const n=(await xD()).transaction(Nd,"readwrite");await n.objectStore(Nd).put(e,ED(t)),await n.done}catch(r){if(r instanceof Pi)ca.warn(r.message);else{const n=vo.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});ca.warn(n.message)}}}function ED(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xz=1024,Jz=30*24*60*60*1e3;class Zz{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new t8(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=eA();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=Jz}),this._storage.overwrite(this._heartbeatsCache))}catch(n){ca.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=eA(),{heartbeatsToSend:n,unsentEntries:i}=e8(this._heartbeatsCache.heartbeats),a=nm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return ca.warn(r),""}}}function eA(){return new Date().toISOString().substring(0,10)}function e8(t,e=Xz){const r=[];let n=t.slice();for(const i of t){const a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),tA(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),tA(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class t8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return U9()?B9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Qz(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return ZT(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return ZT(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function tA(t){return nm(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r8(t){Ns(new Eo("platform-logger",e=>new mz(e),"PRIVATE")),Ns(new Eo("heartbeat",e=>new Zz(e),"PRIVATE")),wi(jw,XT,t),wi(jw,XT,"esm2017"),wi("fire-js","")}r8("");function b1(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function SD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const n8=SD,kD=new ff("auth","Firebase",SD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om=new v1("@firebase/auth");function i8(t,...e){om.logLevel<=Pe.WARN&&om.warn(`Auth (${Hs}): ${t}`,...e)}function yp(t,...e){om.logLevel<=Pe.ERROR&&om.error(`Auth (${Hs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(t,...e){throw _1(t,...e)}function bi(t,...e){return _1(t,...e)}function TD(t,e,r){const n=Object.assign(Object.assign({},n8()),{[e]:r});return new ff("auth","Firebase",n).create(e,{appName:t.name})}function ea(t){return TD(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _1(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return kD.create(t,...e)}function pe(t,e,...r){if(!t)throw _1(e,...r)}function Hi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw yp(e),new Error(e)}function ua(t,e){t||Hi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function a8(){return rA()==="http:"||rA()==="https:"}function rA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(a8()||j9()||"connection"in navigator)?navigator.onLine:!0}function s8(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,r){this.shortDelay=e,this.longDelay=r,ua(r>e,"Short delay should be less than long delay!"),this.isMobile=R9()||$9()}get(){return o8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(t,e){ua(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c8=new pf(3e4,6e4);function $o(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function wa(t,e,r,n,i={}){return PD(t,i,async()=>{let a={},o={};n&&(e==="GET"?o=n:a={body:JSON.stringify(n)});const s=hf(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},a);return L9()||(c.referrerPolicy="no-referrer"),AD.fetch()(ID(t,t.config.apiHost,r,s),c)})}async function PD(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},l8),e);try{const i=new d8(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw Nh(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const s=a.ok?o.errorMessage:o.error.message,[l,c]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Nh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Nh(t,"user-disabled",o);const u=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw TD(t,u,c);ni(t,u)}}catch(i){if(i instanceof Pi)throw i;ni(t,"network-request-failed",{message:String(i)})}}async function mf(t,e,r,n,i={}){const a=await wa(t,e,r,n,i);return"mfaPendingCredential"in a&&ni(t,"multi-factor-auth-required",{_serverResponse:a}),a}function ID(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?x1(t.config,i):`${t.config.apiScheme}://${i}`}function u8(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class d8{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(bi(this.auth,"network-request-failed")),c8.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Nh(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=bi(t,e,n);return i.customData._tokenResponse=r,i}function nA(t){return t!==void 0&&t.enterprise!==void 0}class f8{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return u8(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function h8(t,e){return wa(t,"GET","/v2/recaptchaConfig",$o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p8(t,e){return wa(t,"POST","/v1/accounts:delete",e)}async function CD(t,e){return wa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function m8(t,e=!1){const r=Et(t),n=await r.getIdToken(e),i=E1(n);pe(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:ad(By(i.auth_time)),issuedAtTime:ad(By(i.iat)),expirationTime:ad(By(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function By(t){return Number(t)*1e3}function E1(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return yp("JWT malformed, contained fewer than 3 sections"),null;try{const i=hD(r);return i?JSON.parse(i):(yp("Failed to decode base64 JWT payload"),null)}catch(i){return yp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function iA(t){const e=E1(t);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oc(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Pi&&g8(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function g8({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=ad(this.lastLoginAt),this.creationTime=ad(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sm(t){var e;const r=t.auth,n=await t.getIdToken(),i=await oc(t,CD(r,{idToken:n}));pe(i==null?void 0:i.users.length,r,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?OD(a.providerUserInfo):[],s=w8(t.providerData,o),l=t.isAnonymous,c=!(t.email&&a.passwordHash)&&!(s!=null&&s.length),u=l?c:!1,d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new Uw(a.createdAt,a.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function y8(t){const e=Et(t);await sm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function w8(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function OD(t){return t.map(e=>{var{providerId:r}=e,n=b1(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b8(t,e){const r=await PD(t,{},async()=>{const n=hf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=ID(t,i,"/v1/token",`key=${a}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",AD.fetch()(o,{method:"POST",headers:s,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function _8(t,e){return wa(t,"POST","/v2/accounts:revokeToken",$o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):iA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){pe(e.length!==0,"internal-error");const r=iA(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await b8(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,o=new ql;return n&&(pe(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),i&&(pe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(pe(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ql,this.toJSON())}_performRefresh(){return Hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(t,e){pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Gi{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,a=b1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new v8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Uw(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await oc(this,this.stsTokenManager.getToken(this.auth,e));return pe(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return m8(this,e)}reload(){return y8(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Gi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await sm(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pi(this.auth.app))return Promise.reject(ea(this.auth));const e=await this.getIdToken();return await oc(this,p8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,a,o,s,l,c,u;const d=(n=r.displayName)!==null&&n!==void 0?n:void 0,h=(i=r.email)!==null&&i!==void 0?i:void 0,p=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,m=(o=r.photoURL)!==null&&o!==void 0?o:void 0,g=(s=r.tenantId)!==null&&s!==void 0?s:void 0,_=(l=r._redirectEventId)!==null&&l!==void 0?l:void 0,b=(c=r.createdAt)!==null&&c!==void 0?c:void 0,w=(u=r.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:E,emailVerified:A,isAnonymous:D,providerData:L,stsTokenManager:T}=r;pe(E&&T,e,"internal-error");const k=ql.fromJSON(this.name,T);pe(typeof E=="string",e,"internal-error"),$a(d,e.name),$a(h,e.name),pe(typeof A=="boolean",e,"internal-error"),pe(typeof D=="boolean",e,"internal-error"),$a(p,e.name),$a(m,e.name),$a(g,e.name),$a(_,e.name),$a(b,e.name),$a(w,e.name);const I=new Gi({uid:E,auth:e,email:h,emailVerified:A,displayName:d,isAnonymous:D,photoURL:m,phoneNumber:p,tenantId:g,stsTokenManager:k,createdAt:b,lastLoginAt:w});return L&&Array.isArray(L)&&(I.providerData=L.map(R=>Object.assign({},R))),_&&(I._redirectEventId=_),I}static async _fromIdTokenResponse(e,r,n=!1){const i=new ql;i.updateFromServerResponse(r);const a=new Gi({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await sm(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];pe(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?OD(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),s=new ql;s.updateFromIdToken(n);const l=new Gi({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Uw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA=new Map;function Yi(t){ua(t instanceof Function,"Expected a class definition");let e=aA.get(t);return e?(ua(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,aA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}ND.type="NONE";const oA=ND;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(t,e,r){return`firebase:${t}:${e}:${r}`}class Kl{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=wp(this.userKey,i.apiKey,a),this.fullPersistenceKey=wp("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Gi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Kl(Yi(oA),e,n);const i=(await Promise.all(r.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let a=i[0]||Yi(oA);const o=wp(n,e.config.apiKey,e.name);let s=null;for(const c of r)try{const u=await c._get(o);if(u){const d=Gi._fromJSON(e,u);c!==a&&(s=d),a=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new Kl(a,e,n):(a=l[0],s&&await a._set(o,s.toJSON()),await Promise.all(r.map(async c=>{if(c!==a)try{await c._remove(o)}catch{}})),new Kl(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(DD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($D(e))return"Blackberry";if(VD(e))return"Webos";if(RD(e))return"Safari";if((e.includes("chrome/")||MD(e))&&!e.includes("edge/"))return"Chrome";if(jD(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function DD(t=Or()){return/firefox\//i.test(t)}function RD(t=Or()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function MD(t=Or()){return/crios\//i.test(t)}function LD(t=Or()){return/iemobile/i.test(t)}function jD(t=Or()){return/android/i.test(t)}function $D(t=Or()){return/blackberry/i.test(t)}function VD(t=Or()){return/webos/i.test(t)}function S1(t=Or()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function x8(t=Or()){var e;return S1(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function E8(){return V9()&&document.documentMode===10}function FD(t=Or()){return S1(t)||jD(t)||VD(t)||$D(t)||/windows phone/i.test(t)||LD(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(t,e=[]){let r;switch(t){case"Browser":r=sA(Or());break;case"Worker":r=`${sA(Or())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Hs}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((o,s)=>{try{const l=e(a);o(l)}catch(l){s(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k8(t,e={}){return wa(t,"GET","/v2/passwordPolicy",$o(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T8=6;class A8{constructor(e){var r,n,i,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:T8,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,a,o,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(r=l.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsUppercaseLetter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P8{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lA(this),this.idTokenSubscription=new lA(this),this.beforeStateQueue=new S8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Yi(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await Kl.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await CD(this,{idToken:e}),n=await Gi._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(pi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===s)&&(l!=null&&l.user)&&(i=l.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await sm(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=s8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pi(this.app))return Promise.reject(ea(this));const r=e?Et(e):null;return r&&pe(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pi(this.app)?Promise.reject(ea(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pi(this.app)?Promise.reject(ea(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await k8(this),r=new A8(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ff("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await _8(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Yi(e)||this._popupRedirectResolver;pe(r,this,"argument-error"),this.redirectPersistenceManager=await Kl.create(this,[Yi(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(s,this,"internal-error"),s.then(()=>{o||a(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,i);return()=>{o=!0,l()}}else{const l=e.addObserver(r);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=UD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&i8(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Gs(t){return Et(t)}class lA{constructor(e){this.auth=e,this.observer=null,this.addObserver=H9(r=>this.observer=r)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function I8(t){Pg=t}function BD(t){return Pg.loadJS(t)}function C8(){return Pg.recaptchaEnterpriseScript}function O8(){return Pg.gapiScript}function N8(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const D8="recaptcha-enterprise",R8="NO_RECAPTCHA";class M8{constructor(e){this.type=D8,this.auth=Gs(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,s)=>{h8(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const c=new f8(l);return a.tenantId==null?a._agentRecaptchaConfig=c:a._tenantRecaptchaConfigs[a.tenantId]=c,o(c.siteKey)}}).catch(l=>{s(l)})})}function i(a,o,s){const l=window.grecaptcha;nA(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(c=>{o(c)}).catch(()=>{o(R8)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,o)=>{n(this.auth).then(s=>{if(!r&&nA(window.grecaptcha))i(s,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=C8();l.length!==0&&(l+=s),BD(l).then(()=>{i(s,a,o)}).catch(c=>{o(c)})}}).catch(s=>{o(s)})})}}async function cA(t,e,r,n=!1){const i=new M8(t);let a;try{a=await i.verify(r)}catch{a=await i.verify(r,!0)}const o=Object.assign({},e);return n?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Bw(t,e,r,n){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await cA(t,e,r,r==="getOobCode");return n(t,a)}else return n(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await cA(t,e,r,r==="getOobCode");return n(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L8(t,e){const r=Ag(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(im(a,e??{}))return i;ni(i,"already-initialized")}return r.initialize({options:e})}function j8(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Yi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function $8(t,e,r){const n=Gs(t);pe(n._canInitEmulator,n,"emulator-config-failed"),pe(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!!(r!=null&&r.disableWarnings),a=zD(e),{host:o,port:s}=V8(e),l=s===null?"":`:${s}`;n.config.emulator={url:`${a}//${o}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||F8()}function zD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function V8(t){const e=zD(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:uA(n.substr(a.length+1))}}else{const[a,o]=n.split(":");return{host:a,port:uA(o)}}}function uA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function F8(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Hi("not implemented")}_getIdTokenResponse(e){return Hi("not implemented")}_linkToIdToken(e,r){return Hi("not implemented")}_getReauthenticationResolver(e){return Hi("not implemented")}}async function U8(t,e){return wa(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B8(t,e){return mf(t,"POST","/v1/accounts:signInWithPassword",$o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z8(t,e){return mf(t,"POST","/v1/accounts:signInWithEmailLink",$o(t,e))}async function W8(t,e){return mf(t,"POST","/v1/accounts:signInWithEmailLink",$o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd extends k1{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new Dd(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new Dd(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bw(e,r,"signInWithPassword",B8);case"emailLink":return z8(e,{email:this._email,oobCode:this._password});default:ni(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bw(e,n,"signUpPassword",U8);case"emailLink":return W8(e,{idToken:r,email:this._email,oobCode:this._password});default:ni(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hl(t,e){return mf(t,"POST","/v1/accounts:signInWithIdp",$o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q8="http://localhost";class Ds extends k1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Ds(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):ni("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,a=b1(r,["providerId","signInMethod"]);if(!n||!i)return null;const o=new Ds(n,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return Hl(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Hl(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Hl(e,r)}buildRequest(){const e={requestUri:q8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=hf(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K8(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function H8(t){const e=$u(Vu(t)).link,r=e?$u(Vu(e)).deep_link_id:null,n=$u(Vu(t)).deep_link_id;return(n?$u(Vu(n)).link:null)||n||r||e||t}class T1{constructor(e){var r,n,i,a,o,s;const l=$u(Vu(e)),c=(r=l.apiKey)!==null&&r!==void 0?r:null,u=(n=l.oobCode)!==null&&n!==void 0?n:null,d=K8((i=l.mode)!==null&&i!==void 0?i:null);pe(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(a=l.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(s=l.tenantId)!==null&&s!==void 0?s:null}static parseLink(e){const r=H8(e);try{return new T1(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(){this.providerId=Cc.PROVIDER_ID}static credential(e,r){return Dd._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=T1.parseLink(r);return pe(n,"argument-error"),Dd._fromEmailAndCode(e,n.code,n.tenantId)}}Cc.PROVIDER_ID="password";Cc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Cc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf extends WD{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa extends gf{constructor(){super("facebook.com")}static credential(e){return Ds._fromParams({providerId:Qa.PROVIDER_ID,signInMethod:Qa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qa.credentialFromTaggedObject(e)}static credentialFromError(e){return Qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qa.credential(e.oauthAccessToken)}catch{return null}}}Qa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa extends gf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Ds._fromParams({providerId:Xa.PROVIDER_ID,signInMethod:Xa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Xa.credentialFromTaggedObject(e)}static credentialFromError(e){return Xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Xa.credential(r,n)}catch{return null}}}Xa.GOOGLE_SIGN_IN_METHOD="google.com";Xa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja extends gf{constructor(){super("github.com")}static credential(e){return Ds._fromParams({providerId:Ja.PROVIDER_ID,signInMethod:Ja.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ja.credentialFromTaggedObject(e)}static credentialFromError(e){return Ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ja.credential(e.oauthAccessToken)}catch{return null}}}Ja.GITHUB_SIGN_IN_METHOD="github.com";Ja.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za extends gf{constructor(){super("twitter.com")}static credential(e,r){return Ds._fromParams({providerId:Za.PROVIDER_ID,signInMethod:Za.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Za.credentialFromTaggedObject(e)}static credentialFromError(e){return Za.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Za.credential(r,n)}catch{return null}}}Za.TWITTER_SIGN_IN_METHOD="twitter.com";Za.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G8(t,e){return mf(t,"POST","/v1/accounts:signUp",$o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await Gi._fromIdTokenResponse(e,n,i),o=dA(n);return new Rs({user:a,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=dA(n);return new Rs({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function dA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm extends Pi{constructor(e,r,n,i){var a;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,lm.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new lm(e,r,n,i)}}function qD(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?lm._fromErrorAndOperation(t,a,e,n):a})}async function Y8(t,e,r=!1){const n=await oc(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Rs._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q8(t,e,r=!1){const{auth:n}=t;if(pi(n.app))return Promise.reject(ea(n));const i="reauthenticate";try{const a=await oc(t,qD(n,i,e,t),r);pe(a.idToken,n,"internal-error");const o=E1(a.idToken);pe(o,n,"internal-error");const{sub:s}=o;return pe(t.uid===s,n,"user-mismatch"),Rs._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&ni(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KD(t,e,r=!1){if(pi(t.app))return Promise.reject(ea(t));const n="signIn",i=await qD(t,n,e),a=await Rs._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function X8(t,e){return KD(Gs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HD(t){const e=Gs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function J8(t,e,r){if(pi(t.app))return Promise.reject(ea(t));const n=Gs(t),o=await Bw(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",G8).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&HD(t),l}),s=await Rs._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(s.user),s}function fA(t,e,r){return pi(t.app)?Promise.reject(ea(t)):X8(Et(t),Cc.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&HD(t),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z8(t,e){return wa(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eW(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const n=Et(t),a={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},o=await oc(n,Z8(n.auth,a));n.displayName=o.displayName||null,n.photoURL=o.photoUrl||null;const s=n.providerData.find(({providerId:l})=>l==="password");s&&(s.displayName=n.displayName,s.photoURL=n.photoURL),await n._updateTokensIfNecessary(o)}function tW(t,e,r,n){return Et(t).onIdTokenChanged(e,r,n)}function rW(t,e,r){return Et(t).beforeAuthStateChanged(e,r)}function nW(t){return Et(t).signOut()}const cm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(cm,"1"),this.storage.removeItem(cm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iW=1e3,aW=10;class YD extends GD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=FD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,s,l)=>{this.notifyListeners(o,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},a=this.storage.getItem(n);E8()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,aW):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},iW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}YD.type="LOCAL";const oW=YD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD extends GD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}QD.type="SESSION";const XD=QD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sW(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new Ig(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const s=Array.from(o).map(async c=>c(r.origin,a)),l=await sW(s);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ig.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lW{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((s,l)=>{const c=A1("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),s(h.data.response);break;default:clearTimeout(u),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(){return window}function cW(t){_i().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(){return typeof _i().WorkerGlobalScope<"u"&&typeof _i().importScripts=="function"}async function uW(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dW(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function fW(){return JD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD="firebaseLocalStorageDb",hW=1,um="firebaseLocalStorage",eR="fbase_key";class vf{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Cg(t,e){return t.transaction([um],e?"readwrite":"readonly").objectStore(um)}function pW(){const t=indexedDB.deleteDatabase(ZD);return new vf(t).toPromise()}function zw(){const t=indexedDB.open(ZD,hW);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(um,{keyPath:eR})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(um)?e(n):(n.close(),await pW(),e(await zw()))})})}async function hA(t,e,r){const n=Cg(t,!0).put({[eR]:e,value:r});return new vf(n).toPromise()}async function mW(t,e){const r=Cg(t,!1).get(e),n=await new vf(r).toPromise();return n===void 0?null:n.value}function pA(t,e){const r=Cg(t,!0).delete(e);return new vf(r).toPromise()}const gW=800,vW=3;class tR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zw(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>vW)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return JD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ig._getInstance(fW()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await uW(),!this.activeServiceWorker)return;this.sender=new lW(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dW()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zw();return await hA(e,cm,"1"),await pA(e,cm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>hA(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>mW(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>pA(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Cg(i,!1).getAll();return new vf(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tR.type="LOCAL";const yW=tR;new pf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wW(t,e){return e?Yi(e):(pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1 extends k1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hl(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Hl(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Hl(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function bW(t){return KD(t.auth,new P1(t),t.bypassAuthState)}function _W(t){const{auth:e,user:r}=t;return pe(r,e,"internal-error"),Q8(r,new P1(t),t.bypassAuthState)}async function xW(t){const{auth:e,user:r}=t;return pe(r,e,"internal-error"),Y8(r,new P1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:o,type:s}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bW;case"linkViaPopup":case"linkViaRedirect":return xW;case"reauthViaPopup":case"reauthViaRedirect":return _W;default:ni(this.auth,"internal-error")}}resolve(e){ua(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ua(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EW=new pf(2e3,1e4);class Ol extends rR{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,Ol.currentPopupAction&&Ol.currentPopupAction.cancel(),Ol.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pe(e,this.auth,"internal-error"),e}async onExecution(){ua(this.filter.length===1,"Popup operations only handle one event");const e=A1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ol.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,EW.get())};e()}}Ol.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SW="pendingRedirect",bp=new Map;class kW extends rR{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=bp.get(this.auth._key());if(!e){try{const n=await TW(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}bp.set(this.auth._key(),e)}return this.bypassAuthState||bp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function TW(t,e){const r=IW(e),n=PW(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function AW(t,e){bp.set(t._key(),e)}function PW(t){return Yi(t._redirectPersistence)}function IW(t){return wp(SW,t.config.apiKey,t.name)}async function CW(t,e,r=!1){if(pi(t.app))return Promise.reject(ea(t));const n=Gs(t),i=wW(n,e),o=await new kW(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OW=10*60*1e3;class NW{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!DW(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!nR(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(bi(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=OW&&this.cachedEventUids.clear(),this.cachedEventUids.has(mA(e))}saveEventToCache(e){this.cachedEventUids.add(mA(e)),this.lastProcessedEventTime=Date.now()}}function mA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function nR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function DW(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RW(t,e={}){return wa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LW=/^https?/;async function jW(t){if(t.config.emulator)return;const{authorizedDomains:e}=await RW(t);for(const r of e)try{if($W(r))return}catch{}ni(t,"unauthorized-domain")}function $W(t){const e=Fw(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!LW.test(r))return!1;if(MW.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VW=new pf(3e4,6e4);function gA(){const t=_i().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function FW(t){return new Promise((e,r)=>{var n,i,a;function o(){gA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gA(),r(bi(t,"network-request-failed"))},timeout:VW.get()})}if(!((i=(n=_i().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=_i().gapi)===null||a===void 0)&&a.load)o();else{const s=N8("iframefcb");return _i()[s]=()=>{gapi.load?o():r(bi(t,"network-request-failed"))},BD(`${O8()}?onload=${s}`).catch(l=>r(l))}}).catch(e=>{throw _p=null,e})}let _p=null;function UW(t){return _p=_p||FW(t),_p}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BW=new pf(5e3,15e3),zW="__/auth/iframe",WW="emulator/auth/iframe",qW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HW(t){const e=t.config;pe(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?x1(e,WW):`https://${t.config.authDomain}/${zW}`,n={apiKey:e.apiKey,appName:t.name,v:Hs},i=KW.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${hf(n).slice(1)}`}async function GW(t){const e=await UW(t),r=_i().gapi;return pe(r,t,"internal-error"),e.open({where:document.body,url:HW(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qW,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const o=bi(t,"network-request-failed"),s=_i().setTimeout(()=>{a(o)},BW.get());function l(){_i().clearTimeout(s),i(n)}n.ping(l).then(l,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YW={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QW=500,XW=600,JW="_blank",ZW="http://localhost";class vA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function e7(t,e,r,n=QW,i=XW){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let s="";const l=Object.assign(Object.assign({},YW),{width:n.toString(),height:i.toString(),top:a,left:o}),c=Or().toLowerCase();r&&(s=MD(c)?JW:r),DD(c)&&(e=e||ZW,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,m])=>`${h}${p}=${m},`,"");if(x8(c)&&s!=="_self")return t7(e||"",s),new vA(null);const d=window.open(e||"",s,u);pe(d,t,"popup-blocked");try{d.focus()}catch{}return new vA(d)}function t7(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r7="__/auth/handler",n7="emulator/auth/handler",i7=encodeURIComponent("fac");async function yA(t,e,r,n,i,a){pe(t.config.authDomain,t,"auth-domain-config-required"),pe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Hs,eventId:i};if(e instanceof WD){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",K9(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(a||{}))o[u]=d}if(e instanceof gf){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const s=o;for(const u of Object.keys(s))s[u]===void 0&&delete s[u];const l=await t._getAppCheckToken(),c=l?`#${i7}=${encodeURIComponent(l)}`:"";return`${a7(t)}?${hf(s).slice(1)}${c}`}function a7({config:t}){return t.emulator?x1(t,n7):`https://${t.authDomain}/${r7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy="webStorageSupport";class o7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=XD,this._completeRedirectFn=CW,this._overrideRedirectResult=AW}async _openPopup(e,r,n,i){var a;ua((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await yA(e,r,n,Fw(),i);return e7(e,o,A1())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await yA(e,r,n,Fw(),i);return cW(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(ua(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await GW(e),n=new NW(e);return r.register("authEvent",i=>(pe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(zy,{type:zy},i=>{var a;const o=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[zy];o!==void 0&&r(!!o),ni(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=jW(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return FD()||RD()||S1()}}const s7=o7;var wA="@firebase/auth",bA="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function u7(t){Ns(new Eo("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=n.options;pe(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:o,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UD(t)},c=new P8(n,i,a,l);return j8(c,r),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Ns(new Eo("auth-internal",e=>{const r=Gs(e.getProvider("auth").getImmediate());return(n=>new l7(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),wi(wA,bA,c7(t)),wi(wA,bA,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d7=5*60,f7=vD("authIdTokenMaxAge")||d7;let _A=null;const h7=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>f7)return;const i=r==null?void 0:r.token;_A!==i&&(_A=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function p7(t=w1()){const e=Ag(t,"auth");if(e.isInitialized())return e.getImmediate();const r=L8(t,{popupRedirectResolver:s7,persistence:[yW,oW,XD]}),n=vD("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const o=h7(a.toString());rW(r,o,()=>o(r.currentUser)),tW(r,s=>o(s))}}const i=pD("auth");return i&&$8(r,`http://${i}`),r}function m7(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}I8({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=bi("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",m7().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});u7("Browser");var xA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bs,iR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,k){function I(){}I.prototype=k.prototype,T.D=k.prototype,T.prototype=new I,T.prototype.constructor=T,T.C=function(R,M,O){for(var P=Array(arguments.length-2),z=2;z<arguments.length;z++)P[z-2]=arguments[z];return k.prototype[M].apply(R,P)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,k,I){I||(I=0);var R=Array(16);if(typeof k=="string")for(var M=0;16>M;++M)R[M]=k.charCodeAt(I++)|k.charCodeAt(I++)<<8|k.charCodeAt(I++)<<16|k.charCodeAt(I++)<<24;else for(M=0;16>M;++M)R[M]=k[I++]|k[I++]<<8|k[I++]<<16|k[I++]<<24;k=T.g[0],I=T.g[1],M=T.g[2];var O=T.g[3],P=k+(O^I&(M^O))+R[0]+3614090360&4294967295;k=I+(P<<7&4294967295|P>>>25),P=O+(M^k&(I^M))+R[1]+3905402710&4294967295,O=k+(P<<12&4294967295|P>>>20),P=M+(I^O&(k^I))+R[2]+606105819&4294967295,M=O+(P<<17&4294967295|P>>>15),P=I+(k^M&(O^k))+R[3]+3250441966&4294967295,I=M+(P<<22&4294967295|P>>>10),P=k+(O^I&(M^O))+R[4]+4118548399&4294967295,k=I+(P<<7&4294967295|P>>>25),P=O+(M^k&(I^M))+R[5]+1200080426&4294967295,O=k+(P<<12&4294967295|P>>>20),P=M+(I^O&(k^I))+R[6]+2821735955&4294967295,M=O+(P<<17&4294967295|P>>>15),P=I+(k^M&(O^k))+R[7]+4249261313&4294967295,I=M+(P<<22&4294967295|P>>>10),P=k+(O^I&(M^O))+R[8]+1770035416&4294967295,k=I+(P<<7&4294967295|P>>>25),P=O+(M^k&(I^M))+R[9]+2336552879&4294967295,O=k+(P<<12&4294967295|P>>>20),P=M+(I^O&(k^I))+R[10]+4294925233&4294967295,M=O+(P<<17&4294967295|P>>>15),P=I+(k^M&(O^k))+R[11]+2304563134&4294967295,I=M+(P<<22&4294967295|P>>>10),P=k+(O^I&(M^O))+R[12]+1804603682&4294967295,k=I+(P<<7&4294967295|P>>>25),P=O+(M^k&(I^M))+R[13]+4254626195&4294967295,O=k+(P<<12&4294967295|P>>>20),P=M+(I^O&(k^I))+R[14]+2792965006&4294967295,M=O+(P<<17&4294967295|P>>>15),P=I+(k^M&(O^k))+R[15]+1236535329&4294967295,I=M+(P<<22&4294967295|P>>>10),P=k+(M^O&(I^M))+R[1]+4129170786&4294967295,k=I+(P<<5&4294967295|P>>>27),P=O+(I^M&(k^I))+R[6]+3225465664&4294967295,O=k+(P<<9&4294967295|P>>>23),P=M+(k^I&(O^k))+R[11]+643717713&4294967295,M=O+(P<<14&4294967295|P>>>18),P=I+(O^k&(M^O))+R[0]+3921069994&4294967295,I=M+(P<<20&4294967295|P>>>12),P=k+(M^O&(I^M))+R[5]+3593408605&4294967295,k=I+(P<<5&4294967295|P>>>27),P=O+(I^M&(k^I))+R[10]+38016083&4294967295,O=k+(P<<9&4294967295|P>>>23),P=M+(k^I&(O^k))+R[15]+3634488961&4294967295,M=O+(P<<14&4294967295|P>>>18),P=I+(O^k&(M^O))+R[4]+3889429448&4294967295,I=M+(P<<20&4294967295|P>>>12),P=k+(M^O&(I^M))+R[9]+568446438&4294967295,k=I+(P<<5&4294967295|P>>>27),P=O+(I^M&(k^I))+R[14]+3275163606&4294967295,O=k+(P<<9&4294967295|P>>>23),P=M+(k^I&(O^k))+R[3]+4107603335&4294967295,M=O+(P<<14&4294967295|P>>>18),P=I+(O^k&(M^O))+R[8]+1163531501&4294967295,I=M+(P<<20&4294967295|P>>>12),P=k+(M^O&(I^M))+R[13]+2850285829&4294967295,k=I+(P<<5&4294967295|P>>>27),P=O+(I^M&(k^I))+R[2]+4243563512&4294967295,O=k+(P<<9&4294967295|P>>>23),P=M+(k^I&(O^k))+R[7]+1735328473&4294967295,M=O+(P<<14&4294967295|P>>>18),P=I+(O^k&(M^O))+R[12]+2368359562&4294967295,I=M+(P<<20&4294967295|P>>>12),P=k+(I^M^O)+R[5]+4294588738&4294967295,k=I+(P<<4&4294967295|P>>>28),P=O+(k^I^M)+R[8]+2272392833&4294967295,O=k+(P<<11&4294967295|P>>>21),P=M+(O^k^I)+R[11]+1839030562&4294967295,M=O+(P<<16&4294967295|P>>>16),P=I+(M^O^k)+R[14]+4259657740&4294967295,I=M+(P<<23&4294967295|P>>>9),P=k+(I^M^O)+R[1]+2763975236&4294967295,k=I+(P<<4&4294967295|P>>>28),P=O+(k^I^M)+R[4]+1272893353&4294967295,O=k+(P<<11&4294967295|P>>>21),P=M+(O^k^I)+R[7]+4139469664&4294967295,M=O+(P<<16&4294967295|P>>>16),P=I+(M^O^k)+R[10]+3200236656&4294967295,I=M+(P<<23&4294967295|P>>>9),P=k+(I^M^O)+R[13]+681279174&4294967295,k=I+(P<<4&4294967295|P>>>28),P=O+(k^I^M)+R[0]+3936430074&4294967295,O=k+(P<<11&4294967295|P>>>21),P=M+(O^k^I)+R[3]+3572445317&4294967295,M=O+(P<<16&4294967295|P>>>16),P=I+(M^O^k)+R[6]+76029189&4294967295,I=M+(P<<23&4294967295|P>>>9),P=k+(I^M^O)+R[9]+3654602809&4294967295,k=I+(P<<4&4294967295|P>>>28),P=O+(k^I^M)+R[12]+3873151461&4294967295,O=k+(P<<11&4294967295|P>>>21),P=M+(O^k^I)+R[15]+530742520&4294967295,M=O+(P<<16&4294967295|P>>>16),P=I+(M^O^k)+R[2]+3299628645&4294967295,I=M+(P<<23&4294967295|P>>>9),P=k+(M^(I|~O))+R[0]+4096336452&4294967295,k=I+(P<<6&4294967295|P>>>26),P=O+(I^(k|~M))+R[7]+1126891415&4294967295,O=k+(P<<10&4294967295|P>>>22),P=M+(k^(O|~I))+R[14]+2878612391&4294967295,M=O+(P<<15&4294967295|P>>>17),P=I+(O^(M|~k))+R[5]+4237533241&4294967295,I=M+(P<<21&4294967295|P>>>11),P=k+(M^(I|~O))+R[12]+1700485571&4294967295,k=I+(P<<6&4294967295|P>>>26),P=O+(I^(k|~M))+R[3]+2399980690&4294967295,O=k+(P<<10&4294967295|P>>>22),P=M+(k^(O|~I))+R[10]+4293915773&4294967295,M=O+(P<<15&4294967295|P>>>17),P=I+(O^(M|~k))+R[1]+2240044497&4294967295,I=M+(P<<21&4294967295|P>>>11),P=k+(M^(I|~O))+R[8]+1873313359&4294967295,k=I+(P<<6&4294967295|P>>>26),P=O+(I^(k|~M))+R[15]+4264355552&4294967295,O=k+(P<<10&4294967295|P>>>22),P=M+(k^(O|~I))+R[6]+2734768916&4294967295,M=O+(P<<15&4294967295|P>>>17),P=I+(O^(M|~k))+R[13]+1309151649&4294967295,I=M+(P<<21&4294967295|P>>>11),P=k+(M^(I|~O))+R[4]+4149444226&4294967295,k=I+(P<<6&4294967295|P>>>26),P=O+(I^(k|~M))+R[11]+3174756917&4294967295,O=k+(P<<10&4294967295|P>>>22),P=M+(k^(O|~I))+R[2]+718787259&4294967295,M=O+(P<<15&4294967295|P>>>17),P=I+(O^(M|~k))+R[9]+3951481745&4294967295,T.g[0]=T.g[0]+k&4294967295,T.g[1]=T.g[1]+(M+(P<<21&4294967295|P>>>11))&4294967295,T.g[2]=T.g[2]+M&4294967295,T.g[3]=T.g[3]+O&4294967295}n.prototype.u=function(T,k){k===void 0&&(k=T.length);for(var I=k-this.blockSize,R=this.B,M=this.h,O=0;O<k;){if(M==0)for(;O<=I;)i(this,T,O),O+=this.blockSize;if(typeof T=="string"){for(;O<k;)if(R[M++]=T.charCodeAt(O++),M==this.blockSize){i(this,R),M=0;break}}else for(;O<k;)if(R[M++]=T[O++],M==this.blockSize){i(this,R),M=0;break}}this.h=M,this.o+=k},n.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var k=1;k<T.length-8;++k)T[k]=0;var I=8*this.o;for(k=T.length-8;k<T.length;++k)T[k]=I&255,I/=256;for(this.u(T),T=Array(16),k=I=0;4>k;++k)for(var R=0;32>R;R+=8)T[I++]=this.g[k]>>>R&255;return T};function a(T,k){var I=s;return Object.prototype.hasOwnProperty.call(I,T)?I[T]:I[T]=k(T)}function o(T,k){this.h=k;for(var I=[],R=!0,M=T.length-1;0<=M;M--){var O=T[M]|0;R&&O==k||(I[M]=O,R=!1)}this.g=I}var s={};function l(T){return-128<=T&&128>T?a(T,function(k){return new o([k|0],0>k?-1:0)}):new o([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return d;if(0>T)return _(c(-T));for(var k=[],I=1,R=0;T>=I;R++)k[R]=T/I|0,I*=4294967296;return new o(k,0)}function u(T,k){if(T.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(T.charAt(0)=="-")return _(u(T.substring(1),k));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(k,8)),R=d,M=0;M<T.length;M+=8){var O=Math.min(8,T.length-M),P=parseInt(T.substring(M,M+O),k);8>O?(O=c(Math.pow(k,O)),R=R.j(O).add(c(P))):(R=R.j(I),R=R.add(c(P)))}return R}var d=l(0),h=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(g(this))return-_(this).m();for(var T=0,k=1,I=0;I<this.g.length;I++){var R=this.i(I);T+=(0<=R?R:4294967296+R)*k,k*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(m(this))return"0";if(g(this))return"-"+_(this).toString(T);for(var k=c(Math.pow(T,6)),I=this,R="";;){var M=A(I,k).g;I=b(I,M.j(k));var O=((0<I.g.length?I.g[0]:I.h)>>>0).toString(T);if(I=M,m(I))return O+R;for(;6>O.length;)O="0"+O;R=O+R}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function m(T){if(T.h!=0)return!1;for(var k=0;k<T.g.length;k++)if(T.g[k]!=0)return!1;return!0}function g(T){return T.h==-1}t.l=function(T){return T=b(this,T),g(T)?-1:m(T)?0:1};function _(T){for(var k=T.g.length,I=[],R=0;R<k;R++)I[R]=~T.g[R];return new o(I,~T.h).add(h)}t.abs=function(){return g(this)?_(this):this},t.add=function(T){for(var k=Math.max(this.g.length,T.g.length),I=[],R=0,M=0;M<=k;M++){var O=R+(this.i(M)&65535)+(T.i(M)&65535),P=(O>>>16)+(this.i(M)>>>16)+(T.i(M)>>>16);R=P>>>16,O&=65535,P&=65535,I[M]=P<<16|O}return new o(I,I[I.length-1]&-2147483648?-1:0)};function b(T,k){return T.add(_(k))}t.j=function(T){if(m(this)||m(T))return d;if(g(this))return g(T)?_(this).j(_(T)):_(_(this).j(T));if(g(T))return _(this.j(_(T)));if(0>this.l(p)&&0>T.l(p))return c(this.m()*T.m());for(var k=this.g.length+T.g.length,I=[],R=0;R<2*k;R++)I[R]=0;for(R=0;R<this.g.length;R++)for(var M=0;M<T.g.length;M++){var O=this.i(R)>>>16,P=this.i(R)&65535,z=T.i(M)>>>16,ie=T.i(M)&65535;I[2*R+2*M]+=P*ie,w(I,2*R+2*M),I[2*R+2*M+1]+=O*ie,w(I,2*R+2*M+1),I[2*R+2*M+1]+=P*z,w(I,2*R+2*M+1),I[2*R+2*M+2]+=O*z,w(I,2*R+2*M+2)}for(R=0;R<k;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=k;R<2*k;R++)I[R]=0;return new o(I,0)};function w(T,k){for(;(T[k]&65535)!=T[k];)T[k+1]+=T[k]>>>16,T[k]&=65535,k++}function E(T,k){this.g=T,this.h=k}function A(T,k){if(m(k))throw Error("division by zero");if(m(T))return new E(d,d);if(g(T))return k=A(_(T),k),new E(_(k.g),_(k.h));if(g(k))return k=A(T,_(k)),new E(_(k.g),k.h);if(30<T.g.length){if(g(T)||g(k))throw Error("slowDivide_ only works with positive integers.");for(var I=h,R=k;0>=R.l(T);)I=D(I),R=D(R);var M=L(I,1),O=L(R,1);for(R=L(R,2),I=L(I,2);!m(R);){var P=O.add(R);0>=P.l(T)&&(M=M.add(I),O=P),R=L(R,1),I=L(I,1)}return k=b(T,M.j(k)),new E(M,k)}for(M=d;0<=T.l(k);){for(I=Math.max(1,Math.floor(T.m()/k.m())),R=Math.ceil(Math.log(I)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),O=c(I),P=O.j(k);g(P)||0<P.l(T);)I-=R,O=c(I),P=O.j(k);m(O)&&(O=h),M=M.add(O),T=b(T,P)}return new E(M,T)}t.A=function(T){return A(this,T).h},t.and=function(T){for(var k=Math.max(this.g.length,T.g.length),I=[],R=0;R<k;R++)I[R]=this.i(R)&T.i(R);return new o(I,this.h&T.h)},t.or=function(T){for(var k=Math.max(this.g.length,T.g.length),I=[],R=0;R<k;R++)I[R]=this.i(R)|T.i(R);return new o(I,this.h|T.h)},t.xor=function(T){for(var k=Math.max(this.g.length,T.g.length),I=[],R=0;R<k;R++)I[R]=this.i(R)^T.i(R);return new o(I,this.h^T.h)};function D(T){for(var k=T.g.length+1,I=[],R=0;R<k;R++)I[R]=T.i(R)<<1|T.i(R-1)>>>31;return new o(I,T.h)}function L(T,k){var I=k>>5;k%=32;for(var R=T.g.length-I,M=[],O=0;O<R;O++)M[O]=0<k?T.i(O+I)>>>k|T.i(O+I+1)<<32-k:T.i(O+I);return new o(M,T.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,iR=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,bs=o}).apply(typeof xA<"u"?xA:typeof self<"u"?self:typeof window<"u"?window:{});var Dh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aR,Fu,oR,xp,Ww,sR,lR,cR;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,y,S){return f==Array.prototype||f==Object.prototype||(f[y]=S.value),f};function r(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dh=="object"&&Dh];for(var y=0;y<f.length;++y){var S=f[y];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var n=r(this);function i(f,y){if(y)e:{var S=n;f=f.split(".");for(var N=0;N<f.length-1;N++){var j=f[N];if(!(j in S))break e;S=S[j]}f=f[f.length-1],N=S[f],y=y(N),y!=N&&y!=null&&e(S,f,{configurable:!0,writable:!0,value:y})}}function a(f,y){f instanceof String&&(f+="");var S=0,N=!1,j={next:function(){if(!N&&S<f.length){var F=S++;return{value:y(F,f[F]),done:!1}}return N=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}i("Array.prototype.values",function(f){return f||function(){return a(this,function(y,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function l(f){var y=typeof f;return y=y!="object"?y:f?Array.isArray(f)?"array":y:"null",y=="array"||y=="object"&&typeof f.length=="number"}function c(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function u(f,y,S){return f.call.apply(f.bind,arguments)}function d(f,y,S){if(!f)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,N),f.apply(y,j)}}return function(){return f.apply(y,arguments)}}function h(f,y,S){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:d,h.apply(null,arguments)}function p(f,y){var S=Array.prototype.slice.call(arguments,1);return function(){var N=S.slice();return N.push.apply(N,arguments),f.apply(this,N)}}function m(f,y){function S(){}S.prototype=y.prototype,f.aa=y.prototype,f.prototype=new S,f.prototype.constructor=f,f.Qb=function(N,j,F){for(var J=Array(arguments.length-2),He=2;He<arguments.length;He++)J[He-2]=arguments[He];return y.prototype[j].apply(N,J)}}function g(f){const y=f.length;if(0<y){const S=Array(y);for(let N=0;N<y;N++)S[N]=f[N];return S}return[]}function _(f,y){for(let S=1;S<arguments.length;S++){const N=arguments[S];if(l(N)){const j=f.length||0,F=N.length||0;f.length=j+F;for(let J=0;J<F;J++)f[j+J]=N[J]}else f.push(N)}}class b{constructor(y,S){this.i=y,this.j=S,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function w(f){return/^[\s\xa0]*$/.test(f)}function E(){var f=s.navigator;return f&&(f=f.userAgent)?f:""}function A(f){return A[" "](f),f}A[" "]=function(){};var D=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function L(f,y,S){for(const N in f)y.call(S,f[N],N,f)}function T(f,y){for(const S in f)y.call(void 0,f[S],S,f)}function k(f){const y={};for(const S in f)y[S]=f[S];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(f,y){let S,N;for(let j=1;j<arguments.length;j++){N=arguments[j];for(S in N)f[S]=N[S];for(let F=0;F<I.length;F++)S=I[F],Object.prototype.hasOwnProperty.call(N,S)&&(f[S]=N[S])}}function M(f){var y=1;f=f.split(":");const S=[];for(;0<y&&f.length;)S.push(f.shift()),y--;return f.length&&S.push(f.join(":")),S}function O(f){s.setTimeout(()=>{throw f},0)}function P(){var f=X;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class z{constructor(){this.h=this.g=null}add(y,S){const N=ie.get();N.set(y,S),this.h?this.h.next=N:this.g=N,this.h=N}}var ie=new b(()=>new G,f=>f.reset());class G{constructor(){this.next=this.g=this.h=null}set(y,S){this.h=y,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,W=!1,X=new z,Q=()=>{const f=s.Promise.resolve(void 0);fe=()=>{f.then(ce)}};var ce=()=>{for(var f;f=P();){try{f.h.call(f.g)}catch(S){O(S)}var y=ie;y.j(f),100>y.h&&(y.h++,f.next=y.g,y.g=f)}W=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var Nt=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const S=()=>{};s.addEventListener("test",S,y),s.removeEventListener("test",S,y)}catch{}return f}();function qe(f,y){if(he.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var S=this.type=f.type,N=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget){if(D){e:{try{A(y.nodeName);var j=!0;break e}catch{}j=!1}j||(y=null)}}else S=="mouseover"?y=f.fromElement:S=="mouseout"&&(y=f.toElement);this.relatedTarget=y,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Gt[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&qe.aa.h.call(this)}}m(qe,he);var Gt={2:"touch",3:"pen",4:"mouse"};qe.prototype.h=function(){qe.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Tt="closure_listenable_"+(1e6*Math.random()|0),en=0;function Z(f,y,S,N,j){this.listener=f,this.proxy=null,this.src=y,this.type=S,this.capture=!!N,this.ha=j,this.key=++en,this.da=this.fa=!1}function me(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ve(f){this.src=f,this.g={},this.h=0}ve.prototype.add=function(f,y,S,N,j){var F=f.toString();f=this.g[F],f||(f=this.g[F]=[],this.h++);var J=Qe(f,y,N,j);return-1<J?(y=f[J],S||(y.fa=!1)):(y=new Z(y,this.src,F,!!N,j),y.fa=S,f.push(y)),y};function q(f,y){var S=y.type;if(S in f.g){var N=f.g[S],j=Array.prototype.indexOf.call(N,y,void 0),F;(F=0<=j)&&Array.prototype.splice.call(N,j,1),F&&(me(y),f.g[S].length==0&&(delete f.g[S],f.h--))}}function Qe(f,y,S,N){for(var j=0;j<f.length;++j){var F=f[j];if(!F.da&&F.listener==y&&F.capture==!!S&&F.ha==N)return j}return-1}var de="closure_lm_"+(1e6*Math.random()|0),et={};function je(f,y,S,N,j){if(N&&N.once)return Aa(f,y,S,N,j);if(Array.isArray(y)){for(var F=0;F<y.length;F++)je(f,y[F],S,N,j);return null}return S=Oa(S),f&&f[Tt]?f.K(y,S,c(N)?!!N.capture:!!N,j):or(f,y,S,!1,N,j)}function or(f,y,S,N,j,F){if(!y)throw Error("Invalid event type");var J=c(j)?!!j.capture:!!j,He=Ia(f);if(He||(f[de]=He=new ve(f)),S=He.add(y,S,N,J,F),S.proxy)return S;if(N=Ii(),S.proxy=N,N.src=f,N.listener=S,f.addEventListener)Nt||(j=J),j===void 0&&(j=!1),f.addEventListener(y.toString(),N,j);else if(f.attachEvent)f.attachEvent(Yo(y.toString()),N);else if(f.addListener&&f.removeListener)f.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Ii(){function f(S){return y.call(f.src,f.listener,S)}const y=Qo;return f}function Aa(f,y,S,N,j){if(Array.isArray(y)){for(var F=0;F<y.length;F++)Aa(f,y[F],S,N,j);return null}return S=Oa(S),f&&f[Tt]?f.L(y,S,c(N)?!!N.capture:!!N,j):or(f,y,S,!0,N,j)}function Go(f,y,S,N,j){if(Array.isArray(y))for(var F=0;F<y.length;F++)Go(f,y[F],S,N,j);else N=c(N)?!!N.capture:!!N,S=Oa(S),f&&f[Tt]?(f=f.i,y=String(y).toString(),y in f.g&&(F=f.g[y],S=Qe(F,S,N,j),-1<S&&(me(F[S]),Array.prototype.splice.call(F,S,1),F.length==0&&(delete f.g[y],f.h--)))):f&&(f=Ia(f))&&(y=f.g[y.toString()],f=-1,y&&(f=Qe(y,S,N,j)),(S=-1<f?y[f]:null)&&Pa(S))}function Pa(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[Tt])q(y.i,f);else{var S=f.type,N=f.proxy;y.removeEventListener?y.removeEventListener(S,N,f.capture):y.detachEvent?y.detachEvent(Yo(S),N):y.addListener&&y.removeListener&&y.removeListener(N),(S=Ia(y))?(q(S,f),S.h==0&&(S.src=null,y[de]=null)):me(f)}}}function Yo(f){return f in et?et[f]:et[f]="on"+f}function Qo(f,y){if(f.da)f=!0;else{y=new qe(y,this);var S=f.listener,N=f.ha||f.src;f.fa&&Pa(f),f=S.call(N,y)}return f}function Ia(f){return f=f[de],f instanceof ve?f:null}var Ca="__closure_events_fn_"+(1e9*Math.random()>>>0);function Oa(f){return typeof f=="function"?f:(f[Ca]||(f[Ca]=function(y){return f.handleEvent(y)}),f[Ca])}function At(){Y.call(this),this.i=new ve(this),this.M=this,this.F=null}m(At,Y),At.prototype[Tt]=!0,At.prototype.removeEventListener=function(f,y,S,N){Go(this,f,y,S,N)};function Dt(f,y){var S,N=f.F;if(N)for(S=[];N;N=N.F)S.push(N);if(f=f.M,N=y.type||y,typeof y=="string")y=new he(y,f);else if(y instanceof he)y.target=y.target||f;else{var j=y;y=new he(N,f),R(y,j)}if(j=!0,S)for(var F=S.length-1;0<=F;F--){var J=y.g=S[F];j=V(J,N,!0,y)&&j}if(J=y.g=f,j=V(J,N,!0,y)&&j,j=V(J,N,!1,y)&&j,S)for(F=0;F<S.length;F++)J=y.g=S[F],j=V(J,N,!1,y)&&j}At.prototype.N=function(){if(At.aa.N.call(this),this.i){var f=this.i,y;for(y in f.g){for(var S=f.g[y],N=0;N<S.length;N++)me(S[N]);delete f.g[y],f.h--}}this.F=null},At.prototype.K=function(f,y,S,N){return this.i.add(String(f),y,!1,S,N)},At.prototype.L=function(f,y,S,N){return this.i.add(String(f),y,!0,S,N)};function V(f,y,S,N){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();for(var j=!0,F=0;F<y.length;++F){var J=y[F];if(J&&!J.da&&J.capture==S){var He=J.listener,lr=J.ha||J.src;J.fa&&q(f.i,J),j=He.call(lr,N)!==!1&&j}}return j&&!N.defaultPrevented}function se(f,y,S){if(typeof f=="function")S&&(f=h(f,S));else if(f&&typeof f.handleEvent=="function")f=h(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:s.setTimeout(f,y||0)}function Ve(f){f.g=se(()=>{f.g=null,f.i&&(f.i=!1,Ve(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class kn extends Y{constructor(y,S){super(),this.m=y,this.l=S,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ve(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sr(f){Y.call(this),this.h=f,this.g={}}m(sr,Y);var zn=[];function Hf(f){L(f.g,function(y,S){this.g.hasOwnProperty(S)&&Pa(y)},f),f.g={}}sr.prototype.N=function(){sr.aa.N.call(this),Hf(this)},sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var al=s.JSON.stringify,Gf=s.JSON.parse,Hc=class{stringify(f){return s.JSON.stringify(f,void 0)}parse(f){return s.JSON.parse(f,void 0)}};function Gc(){}Gc.prototype.h=null;function Yc(f){return f.h||(f.h=f.i())}function Yf(){}var Na={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yt(){he.call(this,"d")}m(Yt,he);function Qt(){he.call(this,"c")}m(Qt,he);var Tn={},Xe=null;function Dr(){return Xe=Xe||new At}Tn.La="serverreachability";function Qf(f){he.call(this,Tn.La,f)}m(Qf,he);function Ci(f){const y=Dr();Dt(y,new Qf(y))}Tn.STAT_EVENT="statevent";function Qc(f,y){he.call(this,Tn.STAT_EVENT,f),this.stat=y}m(Qc,he);function Xt(f){const y=Dr();Dt(y,new Qc(y,f))}Tn.Ma="timingevent";function ol(f,y){he.call(this,Tn.Ma,f),this.size=y}m(ol,he);function si(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){f()},y)}function Oi(){this.g=!0}Oi.prototype.xa=function(){this.g=!1};function Xc(f,y,S,N,j,F){f.info(function(){if(f.g)if(F)for(var J="",He=F.split("&"),lr=0;lr<He.length;lr++){var De=He[lr].split("=");if(1<De.length){var yr=De[0];De=De[1];var wr=yr.split("_");J=2<=wr.length&&wr[1]=="type"?J+(yr+"="+De+"&"):J+(yr+"=redacted&")}}else J=null;else J=F;return"XMLHTTP REQ ("+N+") [attempt "+j+"]: "+y+`
`+S+`
`+J})}function Jc(f,y,S,N,j,F,J){f.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+j+"]: "+y+`
`+S+`
`+F+" "+J})}function Da(f,y,S,N){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+Xf(f,S)+(N?" "+N:"")})}function Zc(f,y){f.info(function(){return"TIMEOUT: "+y})}Oi.prototype.info=function(){};function Xf(f,y){if(!f.g)return y;if(!y)return null;try{var S=JSON.parse(y);if(S){for(f=0;f<S.length;f++)if(Array.isArray(S[f])){var N=S[f];if(!(2>N.length)){var j=N[1];if(Array.isArray(j)&&!(1>j.length)){var F=j[0];if(F!="noop"&&F!="stop"&&F!="close")for(var J=1;J<j.length;J++)j[J]=""}}}}return al(S)}catch{return y}}var sl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Jf={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},be;function Ke(){}m(Ke,Gc),Ke.prototype.g=function(){return new XMLHttpRequest},Ke.prototype.i=function(){return{}},be=new Ke;function Fe(f,y,S,N){this.j=f,this.i=y,this.l=S,this.R=N||1,this.U=new sr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zr}function zr(){this.i=null,this.g="",this.h=!1}var Wr={},Xo={};function eu(f,y,S){f.L=1,f.v=nh(Ni(y)),f.m=S,f.P=!0,Zf(f,null)}function Zf(f,y){f.F=Date.now(),eh(f),f.A=Ni(f.v);var S=f.A,N=f.R;Array.isArray(N)||(N=[String(N)]),JS(S.i,"t",N),f.C=0,S=f.j.J,f.h=new zr,f.g=gk(f.j,S?y:null,!f.m),0<f.O&&(f.M=new kn(h(f.Y,f,f.g),f.O)),y=f.U,S=f.g,N=f.ca;var j="readystatechange";Array.isArray(j)||(j&&(zn[0]=j.toString()),j=zn);for(var F=0;F<j.length;F++){var J=je(S,j[F],N||y.handleEvent,!1,y.h||y);if(!J)break;y.g[J.key]=J}y=f.H?k(f.H):{},f.m?(f.u||(f.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,y)):(f.u="GET",f.g.ea(f.A,f.u,null,y)),Ci(),Xc(f.i,f.u,f.A,f.l,f.R,f.m)}Fe.prototype.ca=function(f){f=f.target;const y=this.M;y&&Di(f)==3?y.j():this.Y(f)},Fe.prototype.Y=function(f){try{if(f==this.g)e:{const wr=Di(this.g);var y=this.g.Ba();const ul=this.g.Z();if(!(3>wr)&&(wr!=3||this.g&&(this.h.h||this.g.oa()||ak(this.g)))){this.J||wr!=4||y==7||(y==8||0>=ul?Ci(3):Ci(2)),Jv(this);var S=this.g.Z();this.X=S;t:if(VS(this)){var N=ak(this.g);f="";var j=N.length,F=Di(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jo(this),tu(this);var J="";break t}this.h.i=new s.TextDecoder}for(y=0;y<j;y++)this.h.h=!0,f+=this.h.i.decode(N[y],{stream:!(F&&y==j-1)});N.length=0,this.h.g+=f,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=S==200,Jc(this.i,this.u,this.A,this.l,this.R,wr,S),this.o){if(this.T&&!this.K){t:{if(this.g){var He,lr=this.g;if((He=lr.g?lr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(He)){var De=He;break t}}De=null}if(S=De)Da(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zv(this,S);else{this.o=!1,this.s=3,Xt(12),Jo(this),tu(this);break e}}if(this.P){S=!0;let Wn;for(;!this.J&&this.C<J.length;)if(Wn=WV(this,J),Wn==Xo){wr==4&&(this.s=4,Xt(14),S=!1),Da(this.i,this.l,null,"[Incomplete Response]");break}else if(Wn==Wr){this.s=4,Xt(15),Da(this.i,this.l,J,"[Invalid Chunk]"),S=!1;break}else Da(this.i,this.l,Wn,null),Zv(this,Wn);if(VS(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wr!=4||J.length!=0||this.h.h||(this.s=1,Xt(16),S=!1),this.o=this.o&&S,!S)Da(this.i,this.l,J,"[Invalid Chunked Response]"),Jo(this),tu(this);else if(0<J.length&&!this.W){this.W=!0;var yr=this.j;yr.g==this&&yr.ba&&!yr.M&&(yr.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),ay(yr),yr.M=!0,Xt(11))}}else Da(this.i,this.l,J,null),Zv(this,J);wr==4&&Jo(this),this.o&&!this.J&&(wr==4?fk(this.j,this):(this.o=!1,eh(this)))}else s6(this.g),S==400&&0<J.indexOf("Unknown SID")?(this.s=3,Xt(12)):(this.s=0,Xt(13)),Jo(this),tu(this)}}}catch{}finally{}};function VS(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function WV(f,y){var S=f.C,N=y.indexOf(`
`,S);return N==-1?Xo:(S=Number(y.substring(S,N)),isNaN(S)?Wr:(N+=1,N+S>y.length?Xo:(y=y.slice(N,N+S),f.C=N+S,y)))}Fe.prototype.cancel=function(){this.J=!0,Jo(this)};function eh(f){f.S=Date.now()+f.I,FS(f,f.I)}function FS(f,y){if(f.B!=null)throw Error("WatchDog timer not null");f.B=si(h(f.ba,f),y)}function Jv(f){f.B&&(s.clearTimeout(f.B),f.B=null)}Fe.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Zc(this.i,this.A),this.L!=2&&(Ci(),Xt(17)),Jo(this),this.s=2,tu(this)):FS(this,this.S-f)};function tu(f){f.j.G==0||f.J||fk(f.j,f)}function Jo(f){Jv(f);var y=f.M;y&&typeof y.ma=="function"&&y.ma(),f.M=null,Hf(f.U),f.g&&(y=f.g,f.g=null,y.abort(),y.ma())}function Zv(f,y){try{var S=f.j;if(S.G!=0&&(S.g==f||ey(S.h,f))){if(!f.K&&ey(S.h,f)&&S.G==3){try{var N=S.Da.g.parse(y)}catch{N=null}if(Array.isArray(N)&&N.length==3){var j=N;if(j[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<f.F)ch(S),sh(S);else break e;iy(S),Xt(18)}}else S.za=j[1],0<S.za-S.T&&37500>j[2]&&S.F&&S.v==0&&!S.C&&(S.C=si(h(S.Za,S),6e3));if(1>=zS(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else es(S,11)}else if((f.K||S.g==f)&&ch(S),!w(y))for(j=S.Da.g.parse(y),y=0;y<j.length;y++){let De=j[y];if(S.T=De[0],De=De[1],S.G==2)if(De[0]=="c"){S.K=De[1],S.ia=De[2];const yr=De[3];yr!=null&&(S.la=yr,S.j.info("VER="+S.la));const wr=De[4];wr!=null&&(S.Aa=wr,S.j.info("SVER="+S.Aa));const ul=De[5];ul!=null&&typeof ul=="number"&&0<ul&&(N=1.5*ul,S.L=N,S.j.info("backChannelRequestTimeoutMs_="+N)),N=S;const Wn=f.g;if(Wn){const dh=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(dh){var F=N.h;F.g||dh.indexOf("spdy")==-1&&dh.indexOf("quic")==-1&&dh.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(ty(F,F.h),F.h=null))}if(N.D){const oy=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;oy&&(N.ya=oy,tt(N.I,N.D,oy))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-f.F,S.j.info("Handshake RTT: "+S.R+"ms")),N=S;var J=f;if(N.qa=mk(N,N.J?N.ia:null,N.W),J.K){WS(N.h,J);var He=J,lr=N.L;lr&&(He.I=lr),He.B&&(Jv(He),eh(He)),N.g=J}else uk(N);0<S.i.length&&lh(S)}else De[0]!="stop"&&De[0]!="close"||es(S,7);else S.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?es(S,7):ny(S):De[0]!="noop"&&S.l&&S.l.ta(De),S.v=0)}}Ci(4)}catch{}}var qV=class{constructor(f,y){this.g=f,this.map=y}};function US(f){this.l=f||10,s.PerformanceNavigationTiming?(f=s.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function BS(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function zS(f){return f.h?1:f.g?f.g.size:0}function ey(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function ty(f,y){f.g?f.g.add(y):f.h=y}function WS(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}US.prototype.cancel=function(){if(this.i=qS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function qS(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const S of f.g.values())y=y.concat(S.D);return y}return g(f.i)}function KV(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var y=[],S=f.length,N=0;N<S;N++)y.push(f[N]);return y}y=[],S=0;for(N in f)y[S++]=f[N];return y}function HV(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var y=[];f=f.length;for(var S=0;S<f;S++)y.push(S);return y}y=[],S=0;for(const N in f)y[S++]=N;return y}}}function KS(f,y){if(f.forEach&&typeof f.forEach=="function")f.forEach(y,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,y,void 0);else for(var S=HV(f),N=KV(f),j=N.length,F=0;F<j;F++)y.call(void 0,N[F],S&&S[F],f)}var HS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function GV(f,y){if(f){f=f.split("&");for(var S=0;S<f.length;S++){var N=f[S].indexOf("="),j=null;if(0<=N){var F=f[S].substring(0,N);j=f[S].substring(N+1)}else F=f[S];y(F,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Zo(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Zo){this.h=f.h,th(this,f.j),this.o=f.o,this.g=f.g,rh(this,f.s),this.l=f.l;var y=f.i,S=new iu;S.i=y.i,y.g&&(S.g=new Map(y.g),S.h=y.h),GS(this,S),this.m=f.m}else f&&(y=String(f).match(HS))?(this.h=!1,th(this,y[1]||"",!0),this.o=ru(y[2]||""),this.g=ru(y[3]||"",!0),rh(this,y[4]),this.l=ru(y[5]||"",!0),GS(this,y[6]||"",!0),this.m=ru(y[7]||"")):(this.h=!1,this.i=new iu(null,this.h))}Zo.prototype.toString=function(){var f=[],y=this.j;y&&f.push(nu(y,YS,!0),":");var S=this.g;return(S||y=="file")&&(f.push("//"),(y=this.o)&&f.push(nu(y,YS,!0),"@"),f.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&f.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&f.push("/"),f.push(nu(S,S.charAt(0)=="/"?XV:QV,!0))),(S=this.i.toString())&&f.push("?",S),(S=this.m)&&f.push("#",nu(S,ZV)),f.join("")};function Ni(f){return new Zo(f)}function th(f,y,S){f.j=S?ru(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function rh(f,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);f.s=y}else f.s=null}function GS(f,y,S){y instanceof iu?(f.i=y,e6(f.i,f.h)):(S||(y=nu(y,JV)),f.i=new iu(y,f.h))}function tt(f,y,S){f.i.set(y,S)}function nh(f){return tt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function ru(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function nu(f,y,S){return typeof f=="string"?(f=encodeURI(f).replace(y,YV),S&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function YV(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var YS=/[#\/\?@]/g,QV=/[#\?:]/g,XV=/[#\?]/g,JV=/[#\?@]/g,ZV=/#/g;function iu(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function Ra(f){f.g||(f.g=new Map,f.h=0,f.i&&GV(f.i,function(y,S){f.add(decodeURIComponent(y.replace(/\+/g," ")),S)}))}t=iu.prototype,t.add=function(f,y){Ra(this),this.i=null,f=ll(this,f);var S=this.g.get(f);return S||this.g.set(f,S=[]),S.push(y),this.h+=1,this};function QS(f,y){Ra(f),y=ll(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function XS(f,y){return Ra(f),y=ll(f,y),f.g.has(y)}t.forEach=function(f,y){Ra(this),this.g.forEach(function(S,N){S.forEach(function(j){f.call(y,j,N,this)},this)},this)},t.na=function(){Ra(this);const f=Array.from(this.g.values()),y=Array.from(this.g.keys()),S=[];for(let N=0;N<y.length;N++){const j=f[N];for(let F=0;F<j.length;F++)S.push(y[N])}return S},t.V=function(f){Ra(this);let y=[];if(typeof f=="string")XS(this,f)&&(y=y.concat(this.g.get(ll(this,f))));else{f=Array.from(this.g.values());for(let S=0;S<f.length;S++)y=y.concat(f[S])}return y},t.set=function(f,y){return Ra(this),this.i=null,f=ll(this,f),XS(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},t.get=function(f,y){return f?(f=this.V(f),0<f.length?String(f[0]):y):y};function JS(f,y,S){QS(f,y),0<S.length&&(f.i=null,f.g.set(ll(f,y),g(S)),f.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(var S=0;S<y.length;S++){var N=y[S];const F=encodeURIComponent(String(N)),J=this.V(N);for(N=0;N<J.length;N++){var j=F;J[N]!==""&&(j+="="+encodeURIComponent(String(J[N]))),f.push(j)}}return this.i=f.join("&")};function ll(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function e6(f,y){y&&!f.j&&(Ra(f),f.i=null,f.g.forEach(function(S,N){var j=N.toLowerCase();N!=j&&(QS(this,N),JS(this,j,S))},f)),f.j=y}function t6(f,y){const S=new Oi;if(s.Image){const N=new Image;N.onload=p(Ma,S,"TestLoadImage: loaded",!0,y,N),N.onerror=p(Ma,S,"TestLoadImage: error",!1,y,N),N.onabort=p(Ma,S,"TestLoadImage: abort",!1,y,N),N.ontimeout=p(Ma,S,"TestLoadImage: timeout",!1,y,N),s.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=f}else y(!1)}function r6(f,y){const S=new Oi,N=new AbortController,j=setTimeout(()=>{N.abort(),Ma(S,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:N.signal}).then(F=>{clearTimeout(j),F.ok?Ma(S,"TestPingServer: ok",!0,y):Ma(S,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),Ma(S,"TestPingServer: error",!1,y)})}function Ma(f,y,S,N,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),N(S)}catch{}}function n6(){this.g=new Hc}function i6(f,y,S){const N=S||"";try{KS(f,function(j,F){let J=j;c(j)&&(J=al(j)),y.push(N+F+"="+encodeURIComponent(J))})}catch(j){throw y.push(N+"type="+encodeURIComponent("_badmap")),j}}function ih(f){this.l=f.Ub||null,this.j=f.eb||!1}m(ih,Gc),ih.prototype.g=function(){return new ah(this.l,this.j)},ih.prototype.i=function(f){return function(){return f}}({});function ah(f,y){At.call(this),this.D=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(ah,At),t=ah.prototype,t.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=y,this.readyState=1,ou(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(y.body=f),(this.D||s).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,au(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,ou(this)),this.g&&(this.readyState=3,ou(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ZS(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function ZS(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?au(this):ou(this),this.readyState==3&&ZS(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,au(this))},t.Qa=function(f){this.g&&(this.response=f,au(this))},t.ga=function(){this.g&&au(this)};function au(f){f.readyState=4,f.l=null,f.j=null,f.v=null,ou(f)}t.setRequestHeader=function(f,y){this.u.append(f,y)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var S=y.next();!S.done;)S=S.value,f.push(S[0]+": "+S[1]),S=y.next();return f.join(`\r
`)};function ou(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ah.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ek(f){let y="";return L(f,function(S,N){y+=N,y+=":",y+=S,y+=`\r
`}),y}function ry(f,y,S){e:{for(N in S){var N=!1;break e}N=!0}N||(S=ek(S),typeof f=="string"?S!=null&&encodeURIComponent(String(S)):tt(f,y,S))}function wt(f){At.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(wt,At);var a6=/^https?$/i,o6=["POST","PUT"];t=wt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,y,S,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():be.g(),this.v=this.o?Yc(this.o):Yc(be),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(F){tk(this,F);return}if(f=S||"",S=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var j in N)S.set(j,N[j]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const F of N.keys())S.set(F,N.get(F));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(S.keys()).find(F=>F.toLowerCase()=="content-type"),j=s.FormData&&f instanceof s.FormData,!(0<=Array.prototype.indexOf.call(o6,y,void 0))||N||j||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,J]of S)this.g.setRequestHeader(F,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ik(this),this.u=!0,this.g.send(f),this.u=!1}catch(F){tk(this,F)}};function tk(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.m=5,rk(f),oh(f)}function rk(f){f.A||(f.A=!0,Dt(f,"complete"),Dt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Dt(this,"complete"),Dt(this,"abort"),oh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oh(this,!0)),wt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?nk(this):this.bb())},t.bb=function(){nk(this)};function nk(f){if(f.h&&typeof o<"u"&&(!f.v[1]||Di(f)!=4||f.Z()!=2)){if(f.u&&Di(f)==4)se(f.Ea,0,f);else if(Dt(f,"readystatechange"),Di(f)==4){f.h=!1;try{const J=f.Z();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var S;if(!(S=y)){var N;if(N=J===0){var j=String(f.D).match(HS)[1]||null;!j&&s.self&&s.self.location&&(j=s.self.location.protocol.slice(0,-1)),N=!a6.test(j?j.toLowerCase():"")}S=N}if(S)Dt(f,"complete"),Dt(f,"success");else{f.m=6;try{var F=2<Di(f)?f.g.statusText:""}catch{F=""}f.l=F+" ["+f.Z()+"]",rk(f)}}finally{oh(f)}}}}function oh(f,y){if(f.g){ik(f);const S=f.g,N=f.v[0]?()=>{}:null;f.g=null,f.v=null,y||Dt(f,"ready");try{S.onreadystatechange=N}catch{}}}function ik(f){f.I&&(s.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function Di(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<Di(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),Gf(y)}};function ak(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function s6(f){const y={};f=(f.g&&2<=Di(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<f.length;N++){if(w(f[N]))continue;var S=M(f[N]);const j=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const F=y[j]||[];y[j]=F,F.push(S)}T(y,function(N){return N.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function su(f,y,S){return S&&S.internalChannelParams&&S.internalChannelParams[f]||y}function ok(f){this.Aa=0,this.i=[],this.j=new Oi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=su("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=su("baseRetryDelayMs",5e3,f),this.cb=su("retryDelaySeedMs",1e4,f),this.Wa=su("forwardChannelMaxRetries",2,f),this.wa=su("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new US(f&&f.concurrentRequestLimit),this.Da=new n6,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ok.prototype,t.la=8,t.G=1,t.connect=function(f,y,S,N){Xt(0),this.W=f,this.H=y||{},S&&N!==void 0&&(this.H.OSID=S,this.H.OAID=N),this.F=this.X,this.I=mk(this,null,this.W),lh(this)};function ny(f){if(sk(f),f.G==3){var y=f.U++,S=Ni(f.I);if(tt(S,"SID",f.K),tt(S,"RID",y),tt(S,"TYPE","terminate"),lu(f,S),y=new Fe(f,f.j,y),y.L=2,y.v=nh(Ni(S)),S=!1,s.navigator&&s.navigator.sendBeacon)try{S=s.navigator.sendBeacon(y.v.toString(),"")}catch{}!S&&s.Image&&(new Image().src=y.v,S=!0),S||(y.g=gk(y.j,null),y.g.ea(y.v)),y.F=Date.now(),eh(y)}pk(f)}function sh(f){f.g&&(ay(f),f.g.cancel(),f.g=null)}function sk(f){sh(f),f.u&&(s.clearTimeout(f.u),f.u=null),ch(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&s.clearTimeout(f.s),f.s=null)}function lh(f){if(!BS(f.h)&&!f.s){f.s=!0;var y=f.Ga;fe||Q(),W||(fe(),W=!0),X.add(y,f),f.B=0}}function l6(f,y){return zS(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=y.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=si(h(f.Ga,f,y),hk(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const j=new Fe(this,this.j,f);let F=this.o;if(this.S&&(F?(F=k(F),R(F,this.S)):F=this.S),this.m!==null||this.O||(j.H=F,F=null),this.P)e:{for(var y=0,S=0;S<this.i.length;S++){t:{var N=this.i[S];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(y+=N,4096<y){y=S;break e}if(y===4096||S===this.i.length-1){y=S+1;break e}}y=1e3}else y=1e3;y=ck(this,j,y),S=Ni(this.I),tt(S,"RID",f),tt(S,"CVER",22),this.D&&tt(S,"X-HTTP-Session-Id",this.D),lu(this,S),F&&(this.O?y="headers="+encodeURIComponent(String(ek(F)))+"&"+y:this.m&&ry(S,this.m,F)),ty(this.h,j),this.Ua&&tt(S,"TYPE","init"),this.P?(tt(S,"$req",y),tt(S,"SID","null"),j.T=!0,eu(j,S,null)):eu(j,S,y),this.G=2}}else this.G==3&&(f?lk(this,f):this.i.length==0||BS(this.h)||lk(this))};function lk(f,y){var S;y?S=y.l:S=f.U++;const N=Ni(f.I);tt(N,"SID",f.K),tt(N,"RID",S),tt(N,"AID",f.T),lu(f,N),f.m&&f.o&&ry(N,f.m,f.o),S=new Fe(f,f.j,S,f.B+1),f.m===null&&(S.H=f.o),y&&(f.i=y.D.concat(f.i)),y=ck(f,S,1e3),S.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),ty(f.h,S),eu(S,N,y)}function lu(f,y){f.H&&L(f.H,function(S,N){tt(y,N,S)}),f.l&&KS({},function(S,N){tt(y,N,S)})}function ck(f,y,S){S=Math.min(f.i.length,S);var N=f.l?h(f.l.Na,f.l,f):null;e:{var j=f.i;let F=-1;for(;;){const J=["count="+S];F==-1?0<S?(F=j[0].g,J.push("ofs="+F)):F=0:J.push("ofs="+F);let He=!0;for(let lr=0;lr<S;lr++){let De=j[lr].g;const yr=j[lr].map;if(De-=F,0>De)F=Math.max(0,j[lr].g-100),He=!1;else try{i6(yr,J,"req"+De+"_")}catch{N&&N(yr)}}if(He){N=J.join("&");break e}}}return f=f.i.splice(0,S),y.D=f,N}function uk(f){if(!f.g&&!f.u){f.Y=1;var y=f.Fa;fe||Q(),W||(fe(),W=!0),X.add(y,f),f.v=0}}function iy(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=si(h(f.Fa,f),hk(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,dk(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=si(h(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Xt(10),sh(this),dk(this))};function ay(f){f.A!=null&&(s.clearTimeout(f.A),f.A=null)}function dk(f){f.g=new Fe(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var y=Ni(f.qa);tt(y,"RID","rpc"),tt(y,"SID",f.K),tt(y,"AID",f.T),tt(y,"CI",f.F?"0":"1"),!f.F&&f.ja&&tt(y,"TO",f.ja),tt(y,"TYPE","xmlhttp"),lu(f,y),f.m&&f.o&&ry(y,f.m,f.o),f.L&&(f.g.I=f.L);var S=f.g;f=f.ia,S.L=1,S.v=nh(Ni(y)),S.m=null,S.P=!0,Zf(S,f)}t.Za=function(){this.C!=null&&(this.C=null,sh(this),iy(this),Xt(19))};function ch(f){f.C!=null&&(s.clearTimeout(f.C),f.C=null)}function fk(f,y){var S=null;if(f.g==y){ch(f),ay(f),f.g=null;var N=2}else if(ey(f.h,y))S=y.D,WS(f.h,y),N=1;else return;if(f.G!=0){if(y.o)if(N==1){S=y.m?y.m.length:0,y=Date.now()-y.F;var j=f.B;N=Dr(),Dt(N,new ol(N,S)),lh(f)}else uk(f);else if(j=y.s,j==3||j==0&&0<y.X||!(N==1&&l6(f,y)||N==2&&iy(f)))switch(S&&0<S.length&&(y=f.h,y.i=y.i.concat(S)),j){case 1:es(f,5);break;case 4:es(f,10);break;case 3:es(f,6);break;default:es(f,2)}}}function hk(f,y){let S=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(S*=2),S*y}function es(f,y){if(f.j.info("Error code "+y),y==2){var S=h(f.fb,f),N=f.Xa;const j=!N;N=new Zo(N||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||th(N,"https"),nh(N),j?t6(N.toString(),S):r6(N.toString(),S)}else Xt(2);f.G=0,f.l&&f.l.sa(y),pk(f),sk(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Xt(2)):(this.j.info("Failed to ping google.com"),Xt(1))};function pk(f){if(f.G=0,f.ka=[],f.l){const y=qS(f.h);(y.length!=0||f.i.length!=0)&&(_(f.ka,y),_(f.ka,f.i),f.h.i.length=0,g(f.i),f.i.length=0),f.l.ra()}}function mk(f,y,S){var N=S instanceof Zo?Ni(S):new Zo(S);if(N.g!="")y&&(N.g=y+"."+N.g),rh(N,N.s);else{var j=s.location;N=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;var F=new Zo(null);N&&th(F,N),y&&(F.g=y),j&&rh(F,j),S&&(F.l=S),N=F}return S=f.D,y=f.ya,S&&y&&tt(N,S,y),tt(N,"VER",f.la),lu(f,N),N}function gk(f,y,S){if(y&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Ca&&!f.pa?new wt(new ih({eb:S})):new wt(f.pa),y.Ha(f.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function vk(){}t=vk.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function uh(){}uh.prototype.g=function(f,y){return new tn(f,y)};function tn(f,y){At.call(this),this.g=new ok(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(f?f["X-WebChannel-Client-Profile"]=y.va:f={"X-WebChannel-Client-Profile":y.va}),this.g.S=f,(f=y&&y.Sb)&&!w(f)&&(this.g.m=f),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!w(y)&&(this.g.D=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new cl(this)}m(tn,At),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){ny(this.g)},tn.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var S={};S.__data__=f,f=S}else this.u&&(S={},S.__data__=al(f),f=S);y.i.push(new qV(y.Ya++,f)),y.G==3&&lh(y)},tn.prototype.N=function(){this.g.l=null,delete this.j,ny(this.g),delete this.g,tn.aa.N.call(this)};function yk(f){Yt.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const S in y){f=S;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}m(yk,Yt);function wk(){Qt.call(this),this.status=1}m(wk,Qt);function cl(f){this.g=f}m(cl,vk),cl.prototype.ua=function(){Dt(this.g,"a")},cl.prototype.ta=function(f){Dt(this.g,new yk(f))},cl.prototype.sa=function(f){Dt(this.g,new wk)},cl.prototype.ra=function(){Dt(this.g,"b")},uh.prototype.createWebChannel=uh.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,cR=function(){return new uh},lR=function(){return Dr()},sR=Tn,Ww={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},sl.NO_ERROR=0,sl.TIMEOUT=8,sl.HTTP_ERROR=6,xp=sl,Jf.COMPLETE="complete",oR=Jf,Yf.EventType=Na,Na.OPEN="a",Na.CLOSE="b",Na.ERROR="c",Na.MESSAGE="d",At.prototype.listen=At.prototype.K,Fu=Yf,wt.prototype.listenOnce=wt.prototype.L,wt.prototype.getLastError=wt.prototype.Ka,wt.prototype.getLastErrorCode=wt.prototype.Ba,wt.prototype.getStatus=wt.prototype.Z,wt.prototype.getResponseJson=wt.prototype.Oa,wt.prototype.getResponseText=wt.prototype.oa,wt.prototype.send=wt.prototype.ea,wt.prototype.setWithCredentials=wt.prototype.Ha,aR=wt}).apply(typeof Dh<"u"?Dh:typeof self<"u"?self:typeof window<"u"?window:{});const EA="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kr.UNAUTHENTICATED=new kr(null),kr.GOOGLE_CREDENTIALS=new kr("google-credentials-uid"),kr.FIRST_PARTY=new kr("first-party-uid"),kr.MOCK_USER=new kr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=new v1("@firebase/firestore");function wu(){return Ms.logLevel}function ae(t,...e){if(Ms.logLevel<=Pe.DEBUG){const r=e.map(I1);Ms.debug(`Firestore (${Oc}): ${t}`,...r)}}function da(t,...e){if(Ms.logLevel<=Pe.ERROR){const r=e.map(I1);Ms.error(`Firestore (${Oc}): ${t}`,...r)}}function sc(t,...e){if(Ms.logLevel<=Pe.WARN){const r=e.map(I1);Ms.warn(`Firestore (${Oc}): ${t}`,...r)}}function I1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(t="Unexpected state"){const e=`FIRESTORE (${Oc}) INTERNAL ASSERTION FAILED: `+t;throw da(e),new Error(e)}function ze(t,e){t||ge()}function we(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends Pi{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class g7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(kr.UNAUTHENTICATED))}shutdown(){}}class v7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class y7{constructor(e){this.t=e,this.currentUser=kr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){ze(this.o===void 0);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let a=new ta;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ta,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ta)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(ze(typeof n.accessToken=="string"),new uR(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string"),new kr(e)}}class w7{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=kr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class b7{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new w7(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(kr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _7{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class x7{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){ze(this.o===void 0);const n=a=>{a.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.R;return this.R=a.token,ae("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(ze(typeof r.token=="string"),this.R=r.token,new _7(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E7(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=E7(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%e.length))}return n}}function Re(t,e){return t<e?-1:t>e?1:0}function lc(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new te(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new te(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new te(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return zt.fromMillis(Date.now())}static fromDate(e){return zt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new zt(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ye(e)}static min(){return new ye(new zt(0,0))}static max(){return new ye(new zt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,r,n){r===void 0?r=0:r>e.length&&ge(),n===void 0?n=e.length-r:n>e.length-r&&ge(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Rd.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Rd?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=e.get(i),o=r.get(i);if(a<o)return-1;if(a>o)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class at extends Rd{construct(e,r,n){return new at(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new te(B.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new at(r)}static emptyPath(){return new at([])}}const S7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hr extends Rd{construct(e,r,n){return new hr(e,r,n)}static isValidIdentifier(e){return S7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new hr(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new te(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new te(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new te(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else s==="`"?(o=!o,i++):s!=="."||o?(n+=s,i++):(a(),i++)}if(a(),o)throw new te(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hr(r)}static emptyPath(){return new hr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.path=e}static fromPath(e){return new ue(at.fromString(e))}static fromName(e){return new ue(at.fromString(e).popFirst(5))}static empty(){return new ue(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return at.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ue(new at(e.slice()))}}function k7(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=ye.fromTimestamp(n===1e9?new zt(r+1,0):new zt(r,n));return new So(i,ue.empty(),e)}function T7(t){return new So(t.readTime,t.key,-1)}class So{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new So(ye.min(),ue.empty(),-1)}static max(){return new So(ye.max(),ue.empty(),-1)}}function A7(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=ue.comparator(t.documentKey,e.documentKey),r!==0?r:Re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class I7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yf(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==P7)throw t;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new K((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof K?r:K.resolve(r)}catch(r){return K.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):K.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):K.reject(r)}static resolve(e){return new K((r,n)=>{r(e)})}static reject(e){return new K((r,n)=>{n(e)})}static waitFor(e){return new K((r,n)=>{let i=0,a=0,o=!1;e.forEach(s=>{++i,s.next(()=>{++a,o&&a===i&&r()},l=>n(l))}),o=!0,a===i&&r()})}static or(e){let r=K.resolve(!1);for(const n of e)r=r.next(i=>i?K.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(e,r){return new K((n,i)=>{const a=e.length,o=new Array(a);let s=0;for(let l=0;l<a;l++){const c=l;r(e[c]).next(u=>{o[c]=u,++s,s===a&&n(o)},u=>i(u))}})}static doWhile(e,r){return new K((n,i)=>{const a=()=>{e()===!0?r().next(()=>{a()},i):n()};a()})}}function C7(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function wf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}C1.oe=-1;function Og(t){return t==null}function dm(t){return t===0&&1/t==-1/0}function O7(t){return typeof t=="number"&&Number.isInteger(t)&&!dm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Ys(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function fR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,r){this.comparator=e,this.root=r||dr.EMPTY}insert(e,r){return new vt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,dr.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rh(this.root,e,this.comparator,!0)}}class Rh{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dr{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??dr.RED,this.left=i??dr.EMPTY,this.right=a??dr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new dr(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return dr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return dr.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();const e=this.left.check();if(e!==this.right.check())throw ge();return e+(this.isRed()?0:1)}}dr.EMPTY=null,dr.RED=!0,dr.BLACK=!1;dr.EMPTY=new class{constructor(){this.size=0}get key(){throw ge()}get value(){throw ge()}get color(){throw ge()}get left(){throw ge()}get right(){throw ge()}copy(e,r,n,i,a){return this}insert(e,r,n){return new dr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new kA(this.data.getIterator())}getIteratorFrom(e){return new kA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof mr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new mr(this.comparator);return r.data=e,r}}class kA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.fields=e,e.sort(hr.comparator)}static empty(){return new un([])}unionWith(e){let r=new mr(hr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new un(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return lc(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new hR("Invalid base64 string: "+a):a}}(e);return new vr(r)}static fromUint8Array(e){const r=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new vr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vr.EMPTY_BYTE_STRING=new vr("");const N7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ko(t){if(ze(!!t),typeof t=="string"){let e=0;const r=N7.exec(t);if(ze(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Pt(t.seconds),nanos:Pt(t.nanos)}}function Pt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ls(t){return typeof t=="string"?vr.fromBase64String(t):vr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function N1(t){const e=t.mapValue.fields.__previous_value__;return O1(e)?N1(e):e}function Md(t){const e=ko(t.mapValue.fields.__local_write_time__.timestampValue);return new zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D7{constructor(e,r,n,i,a,o,s,l,c){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=c}}class Ld{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Ld("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ld&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function js(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?O1(t)?4:M7(t)?9007199254740991:R7(t)?10:11:ge()}function ki(t,e){if(t===e)return!0;const r=js(t);if(r!==js(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Md(t).isEqual(Md(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=ko(i.timestampValue),s=ko(a.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Ls(i.bytesValue).isEqual(Ls(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Pt(i.geoPointValue.latitude)===Pt(a.geoPointValue.latitude)&&Pt(i.geoPointValue.longitude)===Pt(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Pt(i.integerValue)===Pt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=Pt(i.doubleValue),s=Pt(a.doubleValue);return o===s?dm(o)===dm(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return lc(t.arrayValue.values||[],e.arrayValue.values||[],ki);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},s=a.mapValue.fields||{};if(SA(o)!==SA(s))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(s[l]===void 0||!ki(o[l],s[l])))return!1;return!0}(t,e);default:return ge()}}function jd(t,e){return(t.values||[]).find(r=>ki(r,e))!==void 0}function cc(t,e){if(t===e)return 0;const r=js(t),n=js(e);if(r!==n)return Re(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Re(t.booleanValue,e.booleanValue);case 2:return function(a,o){const s=Pt(a.integerValue||a.doubleValue),l=Pt(o.integerValue||o.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return TA(t.timestampValue,e.timestampValue);case 4:return TA(Md(t),Md(e));case 5:return Re(t.stringValue,e.stringValue);case 6:return function(a,o){const s=Ls(a),l=Ls(o);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const s=a.split("/"),l=o.split("/");for(let c=0;c<s.length&&c<l.length;c++){const u=Re(s[c],l[c]);if(u!==0)return u}return Re(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const s=Re(Pt(a.latitude),Pt(o.latitude));return s!==0?s:Re(Pt(a.longitude),Pt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return AA(t.arrayValue,e.arrayValue);case 10:return function(a,o){var s,l,c,u;const d=a.fields||{},h=o.fields||{},p=(s=d.value)===null||s===void 0?void 0:s.arrayValue,m=(l=h.value)===null||l===void 0?void 0:l.arrayValue,g=Re(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0);return g!==0?g:AA(p,m)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===Mh.mapValue&&o===Mh.mapValue)return 0;if(a===Mh.mapValue)return 1;if(o===Mh.mapValue)return-1;const s=a.fields||{},l=Object.keys(s),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=Re(l[d],u[d]);if(h!==0)return h;const p=cc(s[l[d]],c[u[d]]);if(p!==0)return p}return Re(l.length,u.length)}(t.mapValue,e.mapValue);default:throw ge()}}function TA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Re(t,e);const r=ko(t),n=ko(e),i=Re(r.seconds,n.seconds);return i!==0?i:Re(r.nanos,n.nanos)}function AA(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=cc(r[i],n[i]);if(a)return a}return Re(r.length,n.length)}function uc(t){return qw(t)}function qw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=ko(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Ls(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return ue.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=qw(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const o of n)a?a=!1:i+=",",i+=`${o}:${qw(r.fields[o])}`;return i+"}"}(t.mapValue):ge()}function PA(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Kw(t){return!!t&&"integerValue"in t}function D1(t){return!!t&&"arrayValue"in t}function IA(t){return!!t&&"nullValue"in t}function CA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ep(t){return!!t&&"mapValue"in t}function R7(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function od(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ys(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=od(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=od(t.arrayValue.values[r]);return e}return Object.assign({},t)}function M7(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this.value=e}static empty(){return new Hr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Ep(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=od(r)}setAll(e){let r=hr.emptyPath(),n={},i=[];e.forEach((o,s)=>{if(!r.isImmediateParentOf(s)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=s.popLast()}o?n[s.lastSegment()]=od(o):i.push(s.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());Ep(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return ki(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];Ep(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Ys(r,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new Hr(od(this.value))}}function pR(t){const e=[];return Ys(t.fields,(r,n)=>{const i=new hr([r]);if(Ep(n)){const a=pR(n.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,r,n,i,a,o,s){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Ar(e,0,ye.min(),ye.min(),ye.min(),Hr.empty(),0)}static newFoundDocument(e,r,n,i){return new Ar(e,1,r,ye.min(),n,i,0)}static newNoDocument(e,r){return new Ar(e,2,r,ye.min(),ye.min(),Hr.empty(),0)}static newUnknownDocument(e,r){return new Ar(e,3,r,ye.min(),ye.min(),Hr.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ar&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ar(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,r){this.position=e,this.inclusive=r}}function OA(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?n=ue.comparator(ue.fromName(o.referenceValue),r.key):n=cc(o,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function NA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!ki(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,r="asc"){this.field=e,this.dir=r}}function L7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{}class jt extends mR{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new $7(e,r,n):r==="array-contains"?new U7(e,n):r==="in"?new B7(e,n):r==="not-in"?new z7(e,n):r==="array-contains-any"?new W7(e,n):new jt(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new V7(e,n):new F7(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(cc(r,this.value)):r!==null&&js(this.value)===js(r)&&this.matchesComparison(cc(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends mR{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new ii(e,r)}matches(e){return gR(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function gR(t){return t.op==="and"}function vR(t){return j7(t)&&gR(t)}function j7(t){for(const e of t.filters)if(e instanceof ii)return!1;return!0}function Hw(t){if(t instanceof jt)return t.field.canonicalString()+t.op.toString()+uc(t.value);if(vR(t))return t.filters.map(e=>Hw(e)).join(",");{const e=t.filters.map(r=>Hw(r)).join(",");return`${t.op}(${e})`}}function yR(t,e){return t instanceof jt?function(n,i){return i instanceof jt&&n.op===i.op&&n.field.isEqual(i.field)&&ki(n.value,i.value)}(t,e):t instanceof ii?function(n,i){return i instanceof ii&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,o,s)=>a&&yR(o,i.filters[s]),!0):!1}(t,e):void ge()}function wR(t){return t instanceof jt?function(r){return`${r.field.canonicalString()} ${r.op} ${uc(r.value)}`}(t):t instanceof ii?function(r){return r.op.toString()+" {"+r.getFilters().map(wR).join(" ,")+"}"}(t):"Filter"}class $7 extends jt{constructor(e,r,n){super(e,r,n),this.key=ue.fromName(n.referenceValue)}matches(e){const r=ue.comparator(e.key,this.key);return this.matchesComparison(r)}}class V7 extends jt{constructor(e,r){super(e,"in",r),this.keys=bR("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class F7 extends jt{constructor(e,r){super(e,"not-in",r),this.keys=bR("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function bR(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>ue.fromName(n.referenceValue))}class U7 extends jt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return D1(r)&&jd(r.arrayValue,this.value)}}class B7 extends jt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&jd(this.value.arrayValue,r)}}class z7 extends jt{constructor(e,r){super(e,"not-in",r)}matches(e){if(jd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!jd(this.value.arrayValue,r)}}class W7 extends jt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!D1(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>jd(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q7{constructor(e,r=null,n=[],i=[],a=null,o=null,s=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ue=null}}function DA(t,e=null,r=[],n=[],i=null,a=null,o=null){return new q7(t,e,r,n,i,a,o)}function R1(t){const e=we(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>Hw(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),Og(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>uc(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>uc(n)).join(",")),e.ue=r}return e.ue}function M1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!L7(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!yR(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!NA(t.startAt,e.startAt)&&NA(t.endAt,e.endAt)}function Gw(t){return ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,r=null,n=[],i=[],a=null,o="F",s=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function K7(t,e,r,n,i,a,o,s){return new Nc(t,e,r,n,i,a,o,s)}function L1(t){return new Nc(t)}function RA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function _R(t){return t.collectionGroup!==null}function sd(t){const e=we(t);if(e.ce===null){e.ce=[];const r=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let s=new mr(hr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(s=s.add(c.field))})}),s})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.ce.push(new $d(a,n))}),r.has(hr.keyField().canonicalString())||e.ce.push(new $d(hr.keyField(),n))}return e.ce}function xi(t){const e=we(t);return e.le||(e.le=H7(e,sd(t))),e.le}function H7(t,e){if(t.limitType==="F")return DA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new $d(i.field,a)});const r=t.endAt?new fm(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new fm(t.startAt.position,t.startAt.inclusive):null;return DA(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function Yw(t,e){const r=t.filters.concat([e]);return new Nc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function Qw(t,e,r){return new Nc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Ng(t,e){return M1(xi(t),xi(e))&&t.limitType===e.limitType}function xR(t){return`${R1(xi(t))}|lt:${t.limitType}`}function ml(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>wR(i)).join(", ")}]`),Og(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>uc(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>uc(i)).join(",")),`Target(${n})`}(xi(t))}; limitType=${t.limitType})`}function Dg(t,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):ue.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,i){for(const a of sd(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(o,s,l){const c=OA(o,s,l);return o.inclusive?c<=0:c<0}(n.startAt,sd(n),i)||n.endAt&&!function(o,s,l){const c=OA(o,s,l);return o.inclusive?c>=0:c>0}(n.endAt,sd(n),i))}(t,e)}function G7(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ER(t){return(e,r)=>{let n=!1;for(const i of sd(t)){const a=Y7(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function Y7(t,e,r){const n=t.field.isKeyField()?ue.comparator(e.key,r.key):function(a,o,s){const l=o.data.field(a),c=s.data.field(a);return l!==null&&c!==null?cc(l,c):ge()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return ge()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ys(this.inner,(r,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return fR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q7=new vt(ue.comparator);function fa(){return Q7}const SR=new vt(ue.comparator);function Uu(...t){let e=SR;for(const r of t)e=e.insert(r.key,r);return e}function kR(t){let e=SR;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function fs(){return ld()}function TR(){return ld()}function ld(){return new Dc(t=>t.toString(),(t,e)=>t.isEqual(e))}const X7=new vt(ue.comparator),J7=new mr(ue.comparator);function Te(...t){let e=J7;for(const r of t)e=e.add(r);return e}const Z7=new mr(Re);function eq(){return Z7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dm(e)?"-0":e}}function AR(t){return{integerValue:""+t}}function tq(t,e){return O7(e)?AR(e):j1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(){this._=void 0}}function rq(t,e,r){return t instanceof hm?function(i,a){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&O1(a)&&(a=N1(a)),a&&(o.fields.__previous_value__=a),{mapValue:o}}(r,e):t instanceof Vd?IR(t,e):t instanceof Fd?CR(t,e):function(i,a){const o=PR(i,a),s=MA(o)+MA(i.Pe);return Kw(o)&&Kw(i.Pe)?AR(s):j1(i.serializer,s)}(t,e)}function nq(t,e,r){return t instanceof Vd?IR(t,e):t instanceof Fd?CR(t,e):r}function PR(t,e){return t instanceof pm?function(n){return Kw(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class hm extends Rg{}class Vd extends Rg{constructor(e){super(),this.elements=e}}function IR(t,e){const r=OR(e);for(const n of t.elements)r.some(i=>ki(i,n))||r.push(n);return{arrayValue:{values:r}}}class Fd extends Rg{constructor(e){super(),this.elements=e}}function CR(t,e){let r=OR(e);for(const n of t.elements)r=r.filter(i=>!ki(i,n));return{arrayValue:{values:r}}}class pm extends Rg{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function MA(t){return Pt(t.integerValue||t.doubleValue)}function OR(t){return D1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function iq(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof Vd&&i instanceof Vd||n instanceof Fd&&i instanceof Fd?lc(n.elements,i.elements,ki):n instanceof pm&&i instanceof pm?ki(n.Pe,i.Pe):n instanceof hm&&i instanceof hm}(t.transform,e.transform)}class aq{constructor(e,r){this.version=e,this.transformResults=r}}class jn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new jn}static exists(e){return new jn(void 0,e)}static updateTime(e){return new jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Mg{}function NR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $1(t.key,jn.none()):new bf(t.key,t.data,jn.none());{const r=t.data,n=Hr.empty();let i=new mr(hr.comparator);for(let a of e.fields)if(!i.has(a)){let o=r.field(a);o===null&&a.length>1&&(a=a.popLast(),o=r.field(a)),o===null?n.delete(a):n.set(a,o),i=i.add(a)}return new Vo(t.key,n,new un(i.toArray()),jn.none())}}function oq(t,e,r){t instanceof bf?function(i,a,o){const s=i.value.clone(),l=jA(i.fieldTransforms,a,o.transformResults);s.setAll(l),a.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,r):t instanceof Vo?function(i,a,o){if(!Sp(i.precondition,a))return void a.convertToUnknownDocument(o.version);const s=jA(i.fieldTransforms,a,o.transformResults),l=a.data;l.setAll(DR(i)),l.setAll(s),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,r):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function cd(t,e,r,n){return t instanceof bf?function(a,o,s,l){if(!Sp(a.precondition,o))return s;const c=a.value.clone(),u=$A(a.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,r,n):t instanceof Vo?function(a,o,s,l){if(!Sp(a.precondition,o))return s;const c=$A(a.fieldTransforms,l,o),u=o.data;return u.setAll(DR(a)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),s===null?null:s.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(d=>d.field))}(t,e,r,n):function(a,o,s){return Sp(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,r)}function sq(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=PR(n.transform,i||null);a!=null&&(r===null&&(r=Hr.empty()),r.set(n.field,a))}return r||null}function LA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&lc(n,i,(a,o)=>iq(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class bf extends Mg{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Vo extends Mg{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function DR(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function jA(t,e,r){const n=new Map;ze(t.length===r.length);for(let i=0;i<r.length;i++){const a=t[i],o=a.transform,s=e.data.field(a.field);n.set(a.field,nq(o,s,r[i]))}return n}function $A(t,e,r){const n=new Map;for(const i of t){const a=i.transform,o=r.data.field(i.field);n.set(i.field,rq(a,o,e))}return n}class $1 extends Mg{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lq extends Mg{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cq{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&oq(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=cd(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=cd(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=TR();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let s=this.applyToLocalView(o,a.mutatedFields);s=r.has(i.key)?null:s;const l=NR(o,s);l!==null&&n.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ye.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Te())}isEqual(e){return this.batchId===e.batchId&&lc(this.mutations,e.mutations,(r,n)=>LA(r,n))&&lc(this.baseMutations,e.baseMutations,(r,n)=>LA(r,n))}}class V1{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){ze(e.mutations.length===n.length);let i=function(){return X7}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,n[o].version);return new V1(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uq{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dq{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt,Ie;function fq(t){switch(t){default:return ge();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function RR(t){if(t===void 0)return da("GRPC error has no .code"),B.UNKNOWN;switch(t){case Mt.OK:return B.OK;case Mt.CANCELLED:return B.CANCELLED;case Mt.UNKNOWN:return B.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return B.INTERNAL;case Mt.UNAVAILABLE:return B.UNAVAILABLE;case Mt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case Mt.NOT_FOUND:return B.NOT_FOUND;case Mt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case Mt.ABORTED:return B.ABORTED;case Mt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case Mt.DATA_LOSS:return B.DATA_LOSS;default:return ge()}}(Ie=Mt||(Mt={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hq(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pq=new bs([4294967295,4294967295],0);function VA(t){const e=hq().encode(t),r=new iR;return r.update(e),new Uint8Array(r.digest())}function FA(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new bs([r,n],0),new bs([i,a],0)]}class F1{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Bu(`Invalid padding: ${r}`);if(n<0)throw new Bu(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Bu(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Bu(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=bs.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(bs.fromNumber(n)));return i.compare(pq)===1&&(i=new bs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=VA(e),[n,i]=FA(r);for(let a=0;a<this.hashCount;a++){const o=this.Ee(n,i,a);if(!this.de(o))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new F1(a,i,r);return n.forEach(s=>o.insert(s)),o}insert(e){if(this.Ie===0)return;const r=VA(e),[n,i]=FA(r);for(let a=0;a<this.hashCount;a++){const o=this.Ee(n,i,a);this.Ae(o)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Bu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,_f.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Lg(ye.min(),i,new vt(Re),fa(),Te())}}class _f{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new _f(n,r,Te(),Te(),Te())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class MR{constructor(e,r){this.targetId=e,this.me=r}}class LR{constructor(e,r,n=vr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class UA{constructor(){this.fe=0,this.ge=zA(),this.pe=vr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Te(),r=Te(),n=Te();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:ge()}}),new _f(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=zA()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ze(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class mq{constructor(e){this.Le=e,this.Be=new Map,this.ke=fa(),this.qe=BA(),this.Qe=new vt(Re)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:ge()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const a=i.target;if(Gw(a))if(n===0){const o=new ue(a.path);this.Ue(r,o,Ar.newNoDocument(o,ye.min()))}else ze(n===1);else{const o=this.Ye(r);if(o!==n){const s=this.Ze(e),l=s?this.Xe(s,e,o):1;if(l!==0){this.je(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,c)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let o,s;try{o=Ls(n).toUint8Array()}catch(l){if(l instanceof hR)return sc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new F1(o,i,a)}catch(l){return sc(l instanceof Bu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.Ie===0?null:s}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const o=this.Le.tt(),s=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(s)||(this.Ue(r,a,null),i++)}),i}rt(e){const r=new Map;this.Be.forEach((a,o)=>{const s=this.Je(o);if(s){if(a.current&&Gw(s.target)){const l=new ue(s.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Ar.newNoDocument(l,e))}a.be&&(r.set(o,a.ve()),a.Ce())}});let n=Te();this.qe.forEach((a,o)=>{let s=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(n=n.add(a))}),this.ke.forEach((a,o)=>o.setReadTime(e));const i=new Lg(e,r,this.Qe,this.ke,n);return this.ke=fa(),this.qe=BA(),this.Qe=new vt(Re),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new UA,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new mr(Re),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||ae("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new UA),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function BA(){return new vt(ue.comparator)}function zA(){return new vt(ue.comparator)}const gq=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),vq=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),yq=(()=>({and:"AND",or:"OR"}))();class wq{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Xw(t,e){return t.useProto3Json||Og(e)?e:{value:e}}function mm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function bq(t,e){return mm(t,e.toTimestamp())}function Ei(t){return ze(!!t),ye.fromTimestamp(function(r){const n=ko(r);return new zt(n.seconds,n.nanos)}(t))}function U1(t,e){return Jw(t,e).canonicalString()}function Jw(t,e){const r=function(i){return new at(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function $R(t){const e=at.fromString(t);return ze(zR(e)),e}function Zw(t,e){return U1(t.databaseId,e.path)}function Wy(t,e){const r=$R(e);if(r.get(1)!==t.databaseId.projectId)throw new te(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new te(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new ue(FR(r))}function VR(t,e){return U1(t.databaseId,e)}function _q(t){const e=$R(t);return e.length===4?at.emptyPath():FR(e)}function eb(t){return new at(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function FR(t){return ze(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function WA(t,e,r){return{name:Zw(t,e),fields:r.value.mapValue.fields}}function xq(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ge()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(c,u){return c.useProto3Json?(ze(u===void 0||typeof u=="string"),vr.fromBase64String(u||"")):(ze(u===void 0||u instanceof Buffer||u instanceof Uint8Array),vr.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,s=o&&function(c){const u=c.code===void 0?B.UNKNOWN:RR(c.code);return new te(u,c.message||"")}(o);r=new LR(n,i,a,s||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Wy(t,n.document.name),a=Ei(n.document.updateTime),o=n.document.createTime?Ei(n.document.createTime):ye.min(),s=new Hr({mapValue:{fields:n.document.fields}}),l=Ar.newFoundDocument(i,a,o,s),c=n.targetIds||[],u=n.removedTargetIds||[];r=new kp(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Wy(t,n.document),a=n.readTime?Ei(n.readTime):ye.min(),o=Ar.newNoDocument(i,a),s=n.removedTargetIds||[];r=new kp([],s,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Wy(t,n.document),a=n.removedTargetIds||[];r=new kp([],a,i,null)}else{if(!("filter"in e))return ge();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,o=new dq(i,a),s=n.targetId;r=new MR(s,o)}}return r}function Eq(t,e){let r;if(e instanceof bf)r={update:WA(t,e.key,e.value)};else if(e instanceof $1)r={delete:Zw(t,e.key)};else if(e instanceof Vo)r={update:WA(t,e.key,e.data),updateMask:Nq(e.fieldMask)};else{if(!(e instanceof lq))return ge();r={verify:Zw(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(a,o){const s=o.transform;if(s instanceof hm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Vd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Fd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof pm)return{fieldPath:o.field.canonicalString(),increment:s.Pe};throw ge()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:bq(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ge()}(t,e.precondition)),r}function Sq(t,e){return t&&t.length>0?(ze(e!==void 0),t.map(r=>function(i,a){let o=i.updateTime?Ei(i.updateTime):Ei(a);return o.isEqual(ye.min())&&(o=Ei(a)),new aq(o,i.transformResults||[])}(r,e))):[]}function kq(t,e){return{documents:[VR(t,e.path)]}}function Tq(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=VR(t,i);const a=function(c){if(c.length!==0)return BR(ii.create(c,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const o=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:gl(h.field),direction:Iq(h.dir)}}(u))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const s=Xw(t,e.limit);return s!==null&&(r.structuredQuery.limit=s),e.startAt&&(r.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:r,parent:i}}function Aq(t){let e=_q(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){ze(n===1);const u=r.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let a=[];r.where&&(a=function(d){const h=UR(d);return h instanceof ii&&vR(h)?h.getFilters():[h]}(r.where));let o=[];r.orderBy&&(o=function(d){return d.map(h=>function(m){return new $d(vl(m.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(r.orderBy));let s=null;r.limit&&(s=function(d){let h;return h=typeof d=="object"?d.value:d,Og(h)?null:h}(r.limit));let l=null;r.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new fm(p,h)}(r.startAt));let c=null;return r.endAt&&(c=function(d){const h=!d.before,p=d.values||[];return new fm(p,h)}(r.endAt)),K7(e,i,o,a,s,"F",l,c)}function Pq(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function UR(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=vl(r.unaryFilter.field);return jt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=vl(r.unaryFilter.field);return jt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=vl(r.unaryFilter.field);return jt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=vl(r.unaryFilter.field);return jt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ge()}}(t):t.fieldFilter!==void 0?function(r){return jt.create(vl(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ge()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return ii.create(r.compositeFilter.filters.map(n=>UR(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ge()}}(r.compositeFilter.op))}(t):ge()}function Iq(t){return gq[t]}function Cq(t){return vq[t]}function Oq(t){return yq[t]}function gl(t){return{fieldPath:t.canonicalString()}}function vl(t){return hr.fromServerFormat(t.fieldPath)}function BR(t){return t instanceof jt?function(r){if(r.op==="=="){if(CA(r.value))return{unaryFilter:{field:gl(r.field),op:"IS_NAN"}};if(IA(r.value))return{unaryFilter:{field:gl(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(CA(r.value))return{unaryFilter:{field:gl(r.field),op:"IS_NOT_NAN"}};if(IA(r.value))return{unaryFilter:{field:gl(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gl(r.field),op:Cq(r.op),value:r.value}}}(t):t instanceof ii?function(r){const n=r.getFilters().map(i=>BR(i));return n.length===1?n[0]:{compositeFilter:{op:Oq(r.op),filters:n}}}(t):ge()}function Nq(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function zR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,r,n,i,a=ye.min(),o=ye.min(),s=vr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new ao(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new ao(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dq{constructor(e){this.ct=e}}function Rq(t){const e=Aq({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Qw(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mq{constructor(){this.un=new Lq}addToCollectionParentIndex(e,r){return this.un.add(r),K.resolve()}getCollectionParents(e,r){return K.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return K.resolve()}deleteFieldIndex(e,r){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,r){return K.resolve()}getDocumentsMatchingTarget(e,r){return K.resolve(null)}getIndexType(e,r){return K.resolve(0)}getFieldIndexes(e,r){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,r){return K.resolve(So.min())}getMinOffsetFromCollectionGroup(e,r){return K.resolve(So.min())}updateCollectionGroup(e,r,n){return K.resolve()}updateIndexEntries(e,r){return K.resolve()}}class Lq{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new mr(at.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new mr(at.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new dc(0)}static kn(){return new dc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jq{constructor(){this.changes=new Dc(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Ar.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?K.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $q{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vq{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&cd(n.mutation,i,un.empty(),zt.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Te()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Te()){const i=fs();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(a=>{let o=Uu();return a.forEach((s,l)=>{o=o.insert(s,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=fs();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Te()))}populateOverlays(e,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,s)=>{r.set(o,s)})})}computeViews(e,r,n,i){let a=fa();const o=ld(),s=function(){return ld()}();return r.forEach((l,c)=>{const u=n.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Vo)?a=a.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),cd(u.mutation,c,u.mutation.getFieldMask(),zt.now())):o.set(c.key,un.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((c,u)=>o.set(c,u)),r.forEach((c,u)=>{var d;return s.set(c,new $q(u,(d=o.get(c))!==null&&d!==void 0?d:null))}),s))}recalculateAndSaveOverlays(e,r){const n=ld();let i=new vt((o,s)=>o-s),a=Te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const s of o)s.keys().forEach(l=>{const c=r.get(l);if(c===null)return;let u=n.get(l)||un.empty();u=s.applyToLocalView(c,u),n.set(l,u);const d=(i.get(s.batchId)||Te()).add(l);i=i.insert(s.batchId,d)})}).next(()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),c=l.key,u=l.value,d=TR();u.forEach(h=>{if(!a.has(h)){const p=NR(r.get(h),n.get(h));p!==null&&d.set(h,p),a=a.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return K.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(o){return ue.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):_R(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):K.resolve(fs());let s=-1,l=a;return o.next(c=>K.forEach(c,(u,d)=>(s<d.largestBatchId&&(s=d.largestBatchId),a.get(u)?K.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,a)).next(()=>this.computeViews(e,l,c,Te())).next(u=>({batchId:s,changes:kR(u)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new ue(r)).next(n=>{let i=Uu();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let o=Uu();return this.indexManager.getCollectionParents(e,a).next(s=>K.forEach(s,l=>{const c=function(d,h){return new Nc(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(r,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,c,n,i).next(u=>{u.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i))).next(o=>{a.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Ar.newInvalidDocument(u)))});let s=Uu();return o.forEach((l,c)=>{const u=a.get(l);u!==void 0&&cd(u.mutation,c,un.empty(),zt.now()),Dg(r,c)&&(s=s.insert(l,c))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fq{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return K.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Ei(i.createTime)}}(r)),K.resolve()}getNamedQuery(e,r){return K.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:Rq(i.bundledQuery),readTime:Ei(i.readTime)}}(r)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uq{constructor(){this.overlays=new vt(ue.comparator),this.Ir=new Map}getOverlay(e,r){return K.resolve(this.overlays.get(r))}getOverlays(e,r){const n=fs();return K.forEach(r,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,a)=>{this.ht(e,r,a)}),K.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(n)),K.resolve()}getOverlaysForCollection(e,r,n){const i=fs(),a=r.length+1,o=new ue(r.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const l=s.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===a&&l.largestBatchId>n&&i.set(l.getKey(),l)}return K.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new vt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let u=a.get(c.largestBatchId);u===null&&(u=fs(),a=a.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const s=fs(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>s.set(c,u)),!(s.size()>=i)););return K.resolve(s)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new uq(r,n));let a=this.Ir.get(r);a===void 0&&(a=Te(),this.Ir.set(r,a)),this.Ir.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bq{constructor(){this.sessionToken=vr.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(){this.Tr=new mr(Zt.Er),this.dr=new mr(Zt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new Zt(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new Zt(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new ue(new at([])),n=new Zt(r,e),i=new Zt(r,e+1),a=[];return this.dr.forEachInRange([n,i],o=>{this.Vr(o),a.push(o.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new ue(new at([])),n=new Zt(r,e),i=new Zt(r,e+1);let a=Te();return this.dr.forEachInRange([n,i],o=>{a=a.add(o.key)}),a}containsKey(e){const r=new Zt(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Zt{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return ue.comparator(e.key,r.key)||Re(e.wr,r.wr)}static Ar(e,r){return Re(e.wr,r.wr)||ue.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zq{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new mr(Zt.Er)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new cq(a,r,n,i);this.mutationQueue.push(o);for(const s of i)this.br=this.br.add(new Zt(s.key,a)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return K.resolve(o)}lookupMutationBatch(e,r){return K.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),a=i<0?0:i;return K.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Zt(r,0),i=new Zt(r,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([n,i],o=>{const s=this.Dr(o.wr);a.push(s)}),K.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new mr(Re);return r.forEach(i=>{const a=new Zt(i,0),o=new Zt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,o],s=>{n=n.add(s.wr)})}),K.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;ue.isDocumentKey(a)||(a=a.child(""));const o=new Zt(new ue(a),0);let s=new mr(Re);return this.br.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===i&&(s=s.add(l.wr)),!0)},o),K.resolve(this.Cr(s))}Cr(e){const r=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){ze(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return K.forEach(r.mutations,i=>{const a=new Zt(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new Zt(r,0),i=this.br.firstAfterOrEqual(n);return K.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wq{constructor(e){this.Mr=e,this.docs=function(){return new vt(ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,o=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return K.resolve(n?n.document.mutableCopy():Ar.newInvalidDocument(r))}getEntries(e,r){let n=fa();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Ar.newInvalidDocument(i))}),K.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=fa();const o=r.path,s=new ue(o.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||A7(T7(u),n)<=0||(i.has(u.key)||Dg(r,u))&&(a=a.insert(u.key,u.mutableCopy()))}return K.resolve(a)}getAllFromCollectionGroup(e,r,n,i){ge()}Or(e,r){return K.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new qq(this)}getSize(e){return K.resolve(this.size)}}class qq extends jq{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),K.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kq{constructor(e){this.persistence=e,this.Nr=new Dc(r=>R1(r),M1),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.Lr=0,this.Br=new B1,this.targetCount=0,this.kr=dc.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,i)=>r(i)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),K.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new dc(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,K.resolve()}updateTargetData(e,r){return this.Kn(r),K.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.Nr.forEach((o,s)=>{s.sequenceNumber<=r&&n.get(s.targetId)===null&&(this.Nr.delete(o),a.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),K.waitFor(a).next(()=>i)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return K.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),K.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),K.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),K.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return K.resolve(n)}containsKey(e,r){return K.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hq{constructor(e,r){this.qr={},this.overlays={},this.Qr=new C1(0),this.Kr=!1,this.Kr=!0,this.$r=new Bq,this.referenceDelegate=e(this),this.Ur=new Kq(this),this.indexManager=new Mq,this.remoteDocumentCache=function(i){return new Wq(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new Dq(r),this.Gr=new Fq(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Uq,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new zq(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){ae("MemoryPersistence","Starting transaction:",e);const i=new Gq(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(a=>this.referenceDelegate.jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Hr(e,r){return K.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class Gq extends I7{constructor(e){super(),this.currentSequenceNumber=e}}class z1{constructor(e){this.persistence=e,this.Jr=new B1,this.Yr=null}static Zr(e){return new z1(e)}get Xr(){if(this.Yr)return this.Yr;throw ge()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),K.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),K.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),K.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(a=>this.Xr.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.Xr,n=>{const i=ue.fromPath(n);return this.ei(e,i).next(a=>{a||r.removeEntry(i,ye.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return K.or([()=>K.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=Te(),i=Te();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new W1(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yq{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qq{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return F9()?8:C7(Or())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.Yi(e,r).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.Zi(e,r,i,n).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new Yq;return this.Xi(e,r,o).next(s=>{if(a.result=s,this.zi)return this.es(e,r,o,s.size)})}).next(()=>a.result)}es(e,r,n,i){return n.documentReadCount<this.ji?(wu()<=Pe.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",ml(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),K.resolve()):(wu()<=Pe.DEBUG&&ae("QueryEngine","Query:",ml(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(wu()<=Pe.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",ml(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xi(r))):K.resolve())}Yi(e,r){if(RA(r))return K.resolve(null);let n=xi(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=Qw(r,null,"F"),n=xi(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const o=Te(...a);return this.Ji.getDocuments(e,o).next(s=>this.indexManager.getMinOffset(e,n).next(l=>{const c=this.ts(r,s);return this.ns(r,c,o,l.readTime)?this.Yi(e,Qw(r,null,"F")):this.rs(e,c,r,l)}))})))}Zi(e,r,n,i){return RA(r)||i.isEqual(ye.min())?K.resolve(null):this.Ji.getDocuments(e,n).next(a=>{const o=this.ts(r,a);return this.ns(r,o,n,i)?K.resolve(null):(wu()<=Pe.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ml(r)),this.rs(e,o,r,k7(i,-1)).next(s=>s))})}ts(e,r){let n=new mr(ER(e));return r.forEach((i,a)=>{Dg(e,a)&&(n=n.add(a))}),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,r,n){return wu()<=Pe.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",ml(r)),this.Ji.getDocumentsMatchingQuery(e,r,So.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(a=>(r.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xq{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new vt(Re),this._s=new Dc(a=>R1(a),M1),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Vq(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function Jq(t,e,r,n){return new Xq(t,e,r,n)}async function WR(t,e){const r=we(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const o=[],s=[];let l=Te();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of a){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return r.localDocuments.getDocuments(n,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:s}))})})}function Zq(t,e){const r=we(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=r.cs.newChangeBuffer({trackRemovals:!0});return function(s,l,c,u){const d=c.batch,h=d.keys();let p=K.resolve();return h.forEach(m=>{p=p.next(()=>u.getEntry(l,m)).next(g=>{const _=c.docVersions.get(m);ze(_!==null),g.version.compareTo(_)<0&&(d.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))})}),p.next(()=>s.mutationQueue.removeMutationBatch(l,d))}(r,n,e,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(s){let l=Te();for(let c=0;c<s.mutationResults.length;++c)s.mutationResults[c].transformResults.length>0&&(l=l.add(s.batch.mutations[c].key));return l}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function qR(t){const e=we(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function eK(t,e){const r=we(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const s=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;s.push(r.Ur.removeMatchingKeys(a,u.removedDocuments,d).next(()=>r.Ur.addMatchingKeys(a,u.addedDocuments,d)));let p=h.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(vr.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,n)),i=i.insert(d,p),function(g,_,b){return g.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(h,p,u)&&s.push(r.Ur.updateTargetData(a,p))});let l=fa(),c=Te();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&s.push(r.persistence.referenceDelegate.updateLimboDocument(a,u))}),s.push(tK(a,o,e.documentUpdates).next(u=>{l=u.Ps,c=u.Is})),!n.isEqual(ye.min())){const u=r.Ur.getLastRemoteSnapshotVersion(a).next(d=>r.Ur.setTargetsMetadata(a,a.currentSequenceNumber,n));s.push(u)}return K.waitFor(s).next(()=>o.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,l,c)).next(()=>l)}).then(a=>(r.os=i,a))}function tK(t,e,r){let n=Te(),i=Te();return r.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let o=fa();return r.forEach((s,l)=>{const c=a.get(s);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(ye.min())?(e.removeEntry(s,l.readTime),o=o.insert(s,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(s,l)):ae("LocalStore","Ignoring outdated watch update for ",s,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function rK(t,e){const r=we(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function nK(t,e){const r=we(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,e).next(a=>a?(i=a,K.resolve(i)):r.Ur.allocateTargetId(n).next(o=>(i=new ao(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function tb(t,e,r){const n=we(t),i=n.os.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,o=>n.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!wf(o))throw o;ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function qA(t,e,r){const n=we(t);let i=ye.min(),a=Te();return n.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const d=we(l),h=d._s.get(u);return h!==void 0?K.resolve(d.os.get(h)):d.Ur.getTargetData(c,u)}(n,o,xi(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(o,s.targetId).next(l=>{a=l})}).next(()=>n.ss.getDocumentsMatchingQuery(o,e,r?i:ye.min(),r?a:Te())).next(s=>(iK(n,G7(e),s),{documents:s,Ts:a})))}function iK(t,e,r){let n=t.us.get(e)||ye.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.us.set(e,n)}class KA{constructor(){this.activeTargetIds=eq()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aK{constructor(){this.so=new KA,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new KA,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oK{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lh=null;function qy(){return Lh===null?Lh=function(){return 268435456+Math.round(2147483648*Math.random())}():Lh++,"0x"+Lh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lK{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr="WebChannelConnection";class cK extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(r,n,i,a,o){const s=qy(),l=this.xo(r,n.toUriEncodedString());ae("RestConnection",`Sending RPC '${r}' ${s}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,a,o),this.No(r,l,c,i).then(u=>(ae("RestConnection",`Received RPC '${r}' ${s}: `,u),u),u=>{throw sc("RestConnection",`RPC '${r}' ${s} failed with error: `,u,"url: ",l,"request:",i),u})}Lo(r,n,i,a,o,s){return this.Mo(r,n,i,a,o)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Oc}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,o)=>r[o]=a),i&&i.headers.forEach((a,o)=>r[o]=a)}xo(r,n){const i=sK[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const a=qy();return new Promise((o,s)=>{const l=new aR;l.setWithCredentials(!0),l.listenOnce(oR.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case xp.NO_ERROR:const u=l.getResponseJson();ae(xr,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(u)),o(u);break;case xp.TIMEOUT:ae(xr,`RPC '${e}' ${a} timed out`),s(new te(B.DEADLINE_EXCEEDED,"Request time out"));break;case xp.HTTP_ERROR:const d=l.getStatus();if(ae(xr,`RPC '${e}' ${a} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const m=function(_){const b=_.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(b)>=0?b:B.UNKNOWN}(p.status);s(new te(m,p.message))}else s(new te(B.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new te(B.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{ae(xr,`RPC '${e}' ${a} completed.`)}});const c=JSON.stringify(i);ae(xr,`RPC '${e}' ${a} sending request:`,i),l.send(r,"POST",c,n,15)})}Bo(e,r,n){const i=qy(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=cR(),s=lR(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const u=a.join("");ae(xr,`Creating RPC '${e}' stream ${i}: ${u}`,l);const d=o.createWebChannel(u,l);let h=!1,p=!1;const m=new lK({Io:_=>{p?ae(xr,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(h||(ae(xr,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),ae(xr,`RPC '${e}' stream ${i} sending:`,_),d.send(_))},To:()=>d.close()}),g=(_,b,w)=>{_.listen(b,E=>{try{w(E)}catch(A){setTimeout(()=>{throw A},0)}})};return g(d,Fu.EventType.OPEN,()=>{p||(ae(xr,`RPC '${e}' stream ${i} transport opened.`),m.yo())}),g(d,Fu.EventType.CLOSE,()=>{p||(p=!0,ae(xr,`RPC '${e}' stream ${i} transport closed`),m.So())}),g(d,Fu.EventType.ERROR,_=>{p||(p=!0,sc(xr,`RPC '${e}' stream ${i} transport errored:`,_),m.So(new te(B.UNAVAILABLE,"The operation could not be completed")))}),g(d,Fu.EventType.MESSAGE,_=>{var b;if(!p){const w=_.data[0];ze(!!w);const E=w,A=E.error||((b=E[0])===null||b===void 0?void 0:b.error);if(A){ae(xr,`RPC '${e}' stream ${i} received error:`,A);const D=A.status;let L=function(I){const R=Mt[I];if(R!==void 0)return RR(R)}(D),T=A.message;L===void 0&&(L=B.INTERNAL,T="Unknown error status: "+D+" with message "+A.message),p=!0,m.So(new te(L,T)),d.close()}else ae(xr,`RPC '${e}' stream ${i} received:`,w),m.bo(w)}}),g(s,sR.STAT_EVENT,_=>{_.stat===Ww.PROXY?ae(xr,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===Ww.NOPROXY&&ae(xr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.wo()},0),m}}function Ky(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(t){return new wq(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e,r,n=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&ae("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,r,n,i,a,o,s,l){this.ui=e,this.Ho=n,this.Jo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new KR(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===B.RESOURCE_EXHAUSTED?(da(r.toString()),da("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{e(()=>{const i=new te(B.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uK extends HR{constructor(e,r,n,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=xq(this.serializer,e),n=function(a){if(!("targetChange"in a))return ye.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?ye.min():o.readTime?Ei(o.readTime):ye.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=eb(this.serializer),r.addTarget=function(a,o){let s;const l=o.target;if(s=Gw(l)?{documents:kq(a,l)}:{query:Tq(a,l)._t},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=jR(a,o.resumeToken);const c=Xw(a,o.expectedCount);c!==null&&(s.expectedCount=c)}else if(o.snapshotVersion.compareTo(ye.min())>0){s.readTime=mm(a,o.snapshotVersion.toTimestamp());const c=Xw(a,o.expectedCount);c!==null&&(s.expectedCount=c)}return s}(this.serializer,e);const n=Pq(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=eb(this.serializer),r.removeTarget=e,this.a_(r)}}class dK extends HR{constructor(e,r,n,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return ze(!!e.streamToken),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=Sq(e.writeResults,e.commitTime),n=Ei(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=eb(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>Eq(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fK extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new te(B.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Mo(e,Jw(r,n),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new te(B.UNKNOWN,a.toString())})}Lo(e,r,n,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Lo(e,Jw(r,n),i,o,s,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new te(B.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class hK{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(da(r),this.D_=!1):ae("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pK{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(o=>{n.enqueueAndForget(async()=>{Qs(this)&&(ae("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=we(l);c.L_.add(4),await xf(c),c.q_.set("Unknown"),c.L_.delete(4),await $g(c)}(this))})}),this.q_=new hK(n,i)}}async function $g(t){if(Qs(t))for(const e of t.B_)await e(!0)}async function xf(t){for(const e of t.B_)await e(!1)}function GR(t,e){const r=we(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),G1(r)?H1(r):Rc(r).r_()&&K1(r,e))}function q1(t,e){const r=we(t),n=Rc(r);r.N_.delete(e),n.r_()&&YR(r,e),r.N_.size===0&&(n.r_()?n.o_():Qs(r)&&r.q_.set("Unknown"))}function K1(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ye.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Rc(t).A_(e)}function YR(t,e){t.Q_.xe(e),Rc(t).R_(e)}function H1(t){t.Q_=new mq({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Rc(t).start(),t.q_.v_()}function G1(t){return Qs(t)&&!Rc(t).n_()&&t.N_.size>0}function Qs(t){return we(t).L_.size===0}function QR(t){t.Q_=void 0}async function mK(t){t.q_.set("Online")}async function gK(t){t.N_.forEach((e,r)=>{K1(t,e)})}async function vK(t,e){QR(t),G1(t)?(t.q_.M_(e),H1(t)):t.q_.set("Unknown")}async function yK(t,e,r){if(t.q_.set("Online"),e instanceof LR&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const s of a.targetIds)i.N_.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i.N_.delete(s),i.Q_.removeTarget(s))}(t,e)}catch(n){ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await gm(t,n)}else if(e instanceof kp?t.Q_.Ke(e):e instanceof MR?t.Q_.He(e):t.Q_.We(e),!r.isEqual(ye.min()))try{const n=await qR(t.localStore);r.compareTo(n)>=0&&await function(a,o){const s=a.Q_.rt(o);return s.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=a.N_.get(c);u&&a.N_.set(c,u.withResumeToken(l.resumeToken,o))}}),s.targetMismatches.forEach((l,c)=>{const u=a.N_.get(l);if(!u)return;a.N_.set(l,u.withResumeToken(vr.EMPTY_BYTE_STRING,u.snapshotVersion)),YR(a,l);const d=new ao(u.target,l,c,u.sequenceNumber);K1(a,d)}),a.remoteSyncer.applyRemoteEvent(s)}(t,r)}catch(n){ae("RemoteStore","Failed to raise snapshot:",n),await gm(t,n)}}async function gm(t,e,r){if(!wf(e))throw e;t.L_.add(1),await xf(t),t.q_.set("Offline"),r||(r=()=>qR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ae("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await $g(t)})}function XR(t,e){return e().catch(r=>gm(t,r,e))}async function Vg(t){const e=we(t),r=To(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;wK(e);)try{const i=await rK(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,bK(e,i)}catch(i){await gm(e,i)}JR(e)&&ZR(e)}function wK(t){return Qs(t)&&t.O_.length<10}function bK(t,e){t.O_.push(e);const r=To(t);r.r_()&&r.V_&&r.m_(e.mutations)}function JR(t){return Qs(t)&&!To(t).n_()&&t.O_.length>0}function ZR(t){To(t).start()}async function _K(t){To(t).p_()}async function xK(t){const e=To(t);for(const r of t.O_)e.m_(r.mutations)}async function EK(t,e,r){const n=t.O_.shift(),i=V1.from(n,e,r);await XR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Vg(t)}async function SK(t,e){e&&To(t).V_&&await async function(n,i){if(function(o){return fq(o)&&o!==B.ABORTED}(i.code)){const a=n.O_.shift();To(n).s_(),await XR(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Vg(n)}}(t,e),JR(t)&&ZR(t)}async function GA(t,e){const r=we(t);r.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");const n=Qs(r);r.L_.add(3),await xf(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await $g(r)}async function kK(t,e){const r=we(t);e?(r.L_.delete(2),await $g(r)):e||(r.L_.add(2),await xf(r),r.q_.set("Unknown"))}function Rc(t){return t.K_||(t.K_=function(r,n,i){const a=we(r);return a.w_(),new uK(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:mK.bind(null,t),Ro:gK.bind(null,t),mo:vK.bind(null,t),d_:yK.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),G1(t)?H1(t):t.q_.set("Unknown")):(await t.K_.stop(),QR(t))})),t.K_}function To(t){return t.U_||(t.U_=function(r,n,i){const a=we(r);return a.w_(),new dK(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:_K.bind(null,t),mo:SK.bind(null,t),f_:xK.bind(null,t),g_:EK.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Vg(t)):(await t.U_.stop(),t.O_.length>0&&(ae("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new ta,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const o=Date.now()+n,s=new Y1(e,r,o,i,a);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Q1(t,e){if(da("AsyncQueue",`${e}: ${t}`),wf(t))return new te(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e){this.comparator=e?(r,n)=>e(r,n)||ue.comparator(r.key,n.key):(r,n)=>ue.comparator(r.key,n.key),this.keyedMap=Uu(),this.sortedSet=new vt(this.comparator)}static emptySet(e){return new Gl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Gl)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Gl;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(){this.W_=new vt(ue.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):ge():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class fc{constructor(e,r,n,i,a,o,s,l,c){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,r,n,i,a){const o=[];return r.forEach(s=>{o.push({type:0,doc:s})}),new fc(e,r,Gl.emptySet(r),o,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ng(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TK{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class AK{constructor(){this.queries=QA(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=we(r),a=i.queries;i.queries=QA(),a.forEach((o,s)=>{for(const l of s.j_)l.onError(n)})})(this,new te(B.ABORTED,"Firestore shutting down"))}}function QA(){return new Dc(t=>xR(t),Ng)}async function eM(t,e){const r=we(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.H_()&&e.J_()&&(n=2):(a=new TK,n=e.J_()?0:1);try{switch(n){case 0:a.z_=await r.onListen(i,!0);break;case 1:a.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const s=Q1(o,`Initialization of query '${ml(e.query)}' failed`);return void e.onError(s)}r.queries.set(i,a),a.j_.push(e),e.Z_(r.onlineState),a.z_&&e.X_(a.z_)&&X1(r)}async function tM(t,e){const r=we(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const o=a.j_.indexOf(e);o>=0&&(a.j_.splice(o,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function PK(t,e){const r=we(t);let n=!1;for(const i of e){const a=i.query,o=r.queries.get(a);if(o){for(const s of o.j_)s.X_(i)&&(n=!0);o.z_=i}}n&&X1(r)}function IK(t,e,r){const n=we(t),i=n.queries.get(e);if(i)for(const a of i.j_)a.onError(r);n.queries.delete(e)}function X1(t){t.Y_.forEach(e=>{e.next()})}var rb,XA;(XA=rb||(rb={})).ea="default",XA.Cache="cache";class rM{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new fc(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=fc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==rb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e){this.key=e}}class iM{constructor(e){this.key=e}}class CK{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Te(),this.mutatedKeys=Te(),this.Aa=ER(e),this.Ra=new Gl(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new YA,i=r?r.Ra:this.Ra;let a=r?r.mutatedKeys:this.mutatedKeys,o=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),p=Dg(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let _=!1;h&&p?h.data.isEqual(p.data)?m!==g&&(n.track({type:3,doc:p}),_=!0):this.ga(h,p)||(n.track({type:2,doc:p}),_=!0,(l&&this.Aa(p,l)>0||c&&this.Aa(p,c)<0)&&(s=!0)):!h&&p?(n.track({type:0,doc:p}),_=!0):h&&!p&&(n.track({type:1,doc:h}),_=!0,(l||c)&&(s=!0)),_&&(p?(o=o.add(p),a=g?a.add(u):a.delete(u)):(o=o.delete(u),a=a.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),a=a.delete(u.key),n.track({type:1,doc:u})}return{Ra:o,fa:n,ns:s,mutatedKeys:a}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((u,d)=>function(p,m){const g=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return g(p)-g(m)}(u.type,d.type)||this.Aa(u.doc,d.doc)),this.pa(n),i=i!=null&&i;const s=r&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new fc(this.query,e.Ra,a,o,e.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new YA,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Te(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new iM(n))}),this.da.forEach(n=>{e.has(n)||r.push(new nM(n))}),r}ba(e){this.Ta=e.Ts,this.da=Te();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return fc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class OK{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class NK{constructor(e){this.key=e,this.va=!1}}class DK{constructor(e,r,n,i,a,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Dc(s=>xR(s),Ng),this.Ma=new Map,this.xa=new Set,this.Oa=new vt(ue.comparator),this.Na=new Map,this.La=new B1,this.Ba={},this.ka=new Map,this.qa=dc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function RK(t,e,r=!0){const n=uM(t);let i;const a=n.Fa.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await aM(n,e,r,!0),i}async function MK(t,e){const r=uM(t);await aM(r,e,!0,!1)}async function aM(t,e,r,n){const i=await nK(t.localStore,xi(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,r);let s;return n&&(s=await LK(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&r&&GR(t.remoteStore,i),s}async function LK(t,e,r,n,i){t.Ka=(d,h,p)=>async function(g,_,b,w){let E=_.view.ma(b);E.ns&&(E=await qA(g.localStore,_.query,!1).then(({documents:T})=>_.view.ma(T,E)));const A=w&&w.targetChanges.get(_.targetId),D=w&&w.targetMismatches.get(_.targetId)!=null,L=_.view.applyChanges(E,g.isPrimaryClient,A,D);return ZA(g,_.targetId,L.wa),L.snapshot}(t,d,h,p);const a=await qA(t.localStore,e,!0),o=new CK(e,a.Ts),s=o.ma(a.documents),l=_f.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),c=o.applyChanges(s,t.isPrimaryClient,l);ZA(t,r,c.wa);const u=new OK(e,r,o);return t.Fa.set(e,u),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),c.snapshot}async function jK(t,e,r){const n=we(t),i=n.Fa.get(e),a=n.Ma.get(i.targetId);if(a.length>1)return n.Ma.set(i.targetId,a.filter(o=>!Ng(o,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await tb(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&q1(n.remoteStore,i.targetId),nb(n,i.targetId)}).catch(yf)):(nb(n,i.targetId),await tb(n.localStore,i.targetId,!0))}async function $K(t,e){const r=we(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),q1(r.remoteStore,n.targetId))}async function VK(t,e,r){const n=KK(t);try{const i=await function(o,s){const l=we(o),c=zt.now(),u=s.reduce((p,m)=>p.add(m.key),Te());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=fa(),g=Te();return l.cs.getEntries(p,u).next(_=>{m=_,m.forEach((b,w)=>{w.isValidDocument()||(g=g.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(_=>{d=_;const b=[];for(const w of s){const E=sq(w,d.get(w.key).overlayedDocument);E!=null&&b.push(new Vo(w.key,E,pR(E.value.mapValue),jn.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,b,s)}).next(_=>{h=_;const b=_.applyToLocalDocumentSet(d,g);return l.documentOverlayCache.saveOverlays(p,_.batchId,b)})}).then(()=>({batchId:h.batchId,changes:kR(d)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(o,s,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new vt(Re)),c=c.insert(s,l),o.Ba[o.currentUser.toKey()]=c}(n,i.batchId,r),await Ef(n,i.changes),await Vg(n.remoteStore)}catch(i){const a=Q1(i,"Failed to persist write");r.reject(a)}}async function oM(t,e){const r=we(t);try{const n=await eK(r.localStore,e);e.targetChanges.forEach((i,a)=>{const o=r.Na.get(a);o&&(ze(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?ze(o.va):i.removedDocuments.size>0&&(ze(o.va),o.va=!1))}),await Ef(r,n,e)}catch(n){await yf(n)}}function JA(t,e,r){const n=we(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((a,o)=>{const s=o.view.Z_(e);s.snapshot&&i.push(s.snapshot)}),function(o,s){const l=we(o);l.onlineState=s;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.j_)h.Z_(s)&&(c=!0)}),c&&X1(l)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function FK(t,e,r){const n=we(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),a=i&&i.key;if(a){let o=new vt(ue.comparator);o=o.insert(a,Ar.newNoDocument(a,ye.min()));const s=Te().add(a),l=new Lg(ye.min(),new Map,new vt(Re),o,s);await oM(n,l),n.Oa=n.Oa.remove(a),n.Na.delete(e),J1(n)}else await tb(n.localStore,e,!1).then(()=>nb(n,e,r)).catch(yf)}async function UK(t,e){const r=we(t),n=e.batch.batchId;try{const i=await Zq(r.localStore,e);lM(r,n,null),sM(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Ef(r,i)}catch(i){await yf(i)}}async function BK(t,e,r){const n=we(t);try{const i=await function(o,s){const l=we(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,s).next(d=>(ze(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(n.localStore,e);lM(n,e,r),sM(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Ef(n,i)}catch(i){await yf(i)}}function sM(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function lM(t,e,r){const n=we(t);let i=n.Ba[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function nb(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||cM(t,n)})}function cM(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(q1(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),J1(t))}function ZA(t,e,r){for(const n of r)n instanceof nM?(t.La.addReference(n.key,e),zK(t,n)):n instanceof iM?(ae("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||cM(t,n.key)):ge()}function zK(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(ae("SyncEngine","New document in limbo: "+r),t.xa.add(n),J1(t))}function J1(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new ue(at.fromString(e)),n=t.qa.next();t.Na.set(n,new NK(r)),t.Oa=t.Oa.insert(r,n),GR(t.remoteStore,new ao(xi(L1(r.path)),n,"TargetPurposeLimboResolution",C1.oe))}}async function Ef(t,e,r){const n=we(t),i=[],a=[],o=[];n.Fa.isEmpty()||(n.Fa.forEach((s,l)=>{o.push(n.Ka(l,e,r).then(c=>{var u;if((c||r)&&n.isPrimaryClient){const d=c?!c.fromCache:(u=r==null?void 0:r.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;n.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=W1.Wi(l.targetId,c);a.push(d)}}))}),await Promise.all(o),n.Ca.d_(i),await async function(l,c){const u=we(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>K.forEach(c,h=>K.forEach(h.$i,p=>u.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>K.forEach(h.Ui,p=>u.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!wf(d))throw d;ae("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const p=u.os.get(h),m=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(m);u.os=u.os.insert(h,g)}}}(n.localStore,a))}async function WK(t,e){const r=we(t);if(!r.currentUser.isEqual(e)){ae("SyncEngine","User change. New user:",e.toKey());const n=await WR(r.localStore,e);r.currentUser=e,function(a,o){a.ka.forEach(s=>{s.forEach(l=>{l.reject(new te(B.CANCELLED,o))})}),a.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Ef(r,n.hs)}}function qK(t,e){const r=we(t),n=r.Na.get(e);if(n&&n.va)return Te().add(n.key);{let i=Te();const a=r.Ma.get(e);if(!a)return i;for(const o of a){const s=r.Fa.get(o);i=i.unionWith(s.view.Va)}return i}}function uM(t){const e=we(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=oM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=FK.bind(null,e),e.Ca.d_=PK.bind(null,e.eventManager),e.Ca.$a=IK.bind(null,e.eventManager),e}function KK(t){const e=we(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BK.bind(null,e),e}class vm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jg(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return Jq(this.persistence,new Qq,e.initialUser,this.serializer)}Ga(e){return new Hq(z1.Zr,this.serializer)}Wa(e){return new aK}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vm.provider={build:()=>new vm};class ib{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>JA(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=WK.bind(null,this.syncEngine),await kK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new AK}()}createDatastore(e){const r=jg(e.databaseInfo.databaseId),n=function(a){return new cK(a)}(e.databaseInfo);return function(a,o,s,l){return new fK(a,o,s,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,a,o,s){return new pK(n,i,a,o,s)}(this.localStore,this.datastore,e.asyncQueue,r=>JA(this.syncEngine,r,0),function(){return HA.D()?new HA:new oK}())}createSyncEngine(e,r){return function(i,a,o,s,l,c,u){const d=new DK(i,a,o,s,l,c);return u&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const a=we(i);ae("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await xf(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}ib.provider={build:()=>new ib};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):da("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HK{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=kr.UNAUTHENTICATED,this.clientId=dR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async o=>{ae("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(ae("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ta;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=Q1(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Hy(t,e){t.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await WR(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function eP(t,e){t.asyncQueue.verifyOperationInProgress();const r=await GK(t);ae("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>GA(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>GA(e.remoteStore,i)),t._onlineComponents=e}async function GK(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{await Hy(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===B.FAILED_PRECONDITION||i.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;sc("Error using user provided cache. Falling back to memory cache: "+r),await Hy(t,new vm)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),await Hy(t,new vm);return t._offlineComponents}async function fM(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),await eP(t,t._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),await eP(t,new ib))),t._onlineComponents}function YK(t){return fM(t).then(e=>e.syncEngine)}async function hM(t){const e=await fM(t),r=e.eventManager;return r.onListen=RK.bind(null,e.syncEngine),r.onUnlisten=jK.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=MK.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=$K.bind(null,e.syncEngine),r}function QK(t,e,r={}){const n=new ta;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,c){const u=new dM({next:h=>{u.Za(),o.enqueueAndForget(()=>tM(a,d));const p=h.docs.has(s);!p&&h.fromCache?c.reject(new te(B.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?c.reject(new te(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new rM(L1(s.path),u,{includeMetadataChanges:!0,_a:!0});return eM(a,d)}(await hM(t),t.asyncQueue,e,r,n)),n.promise}function XK(t,e,r={}){const n=new ta;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,c){const u=new dM({next:h=>{u.Za(),o.enqueueAndForget(()=>tM(a,d)),h.fromCache&&l.source==="server"?c.reject(new te(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new rM(s,u,{includeMetadataChanges:!0,_a:!0});return eM(a,d)}(await hM(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mM(t,e,r){if(!r)throw new te(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function JK(t,e,r,n){if(e===!0&&n===!0)throw new te(B.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function rP(t){if(!ue.isDocumentKey(t))throw new te(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function nP(t){if(ue.isDocumentKey(t))throw new te(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Fg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ge()}function ai(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Fg(t);throw new te(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new te(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new te(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JK("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pM((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new te(B.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new te(B.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new te(B.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ug{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iP({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new te(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new te(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iP(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new g7;switch(n.type){case"firstParty":return new b7(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new te(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=tP.get(r);n&&(ae("ComponentProvider","Removing Datastore"),tP.delete(r),n.terminate())}(this),Promise.resolve()}}function ZK(t,e,r,n={}){var i;const a=(t=ai(t,Ug))._getSettings(),o=`${e}:${r}`;if(a.host!=="firestore.googleapis.com"&&a.host!==o&&sc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),n.mockUserToken){let s,l;if(typeof n.mockUserToken=="string")s=n.mockUserToken,l=kr.MOCK_USER;else{s=yD(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=n.mockUserToken.sub||n.mockUserToken.user_id;if(!c)throw new te(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new kr(c)}t._authCredentials=new v7(new uR(s,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Xs(this.firestore,e,this._query)}}class Vr{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vr(this.firestore,e,this._key)}}class yo extends Xs{constructor(e,r,n){super(e,r,L1(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vr(this.firestore,null,new ue(e))}withConverter(e){return new yo(this.firestore,e,this._path)}}function Er(t,e,...r){if(t=Et(t),mM("collection","path",e),t instanceof Ug){const n=at.fromString(e,...r);return nP(n),new yo(t,null,n)}{if(!(t instanceof Vr||t instanceof yo))throw new te(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(at.fromString(e,...r));return nP(n),new yo(t.firestore,null,n)}}function Rt(t,e,...r){if(t=Et(t),arguments.length===1&&(e=dR.newId()),mM("doc","path",e),t instanceof Ug){const n=at.fromString(e,...r);return rP(n),new Vr(t,null,new ue(n))}{if(!(t instanceof Vr||t instanceof yo))throw new te(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(at.fromString(e,...r));return rP(n),new Vr(t.firestore,t instanceof yo?t.converter:null,new ue(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new KR(this,"async_queue_retry"),this.Vu=()=>{const n=Ky();n&&ae("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=Ky();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=Ky();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new ta;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!wf(e))throw e;ae("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const i=function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(n);throw da("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=Y1.createAndSchedule(this,e,r,n,a=>this.yu(a));return this.Tu.push(i),i}fu(){this.Eu&&ge()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}class Js extends Ug{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new aP,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new aP(e),this._firestoreClient=void 0,await e}}}function eH(t,e){const r=typeof t=="object"?t:w1(),n=typeof t=="string"?t:e||"(default)",i=Ag(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=mD("firestore");a&&ZK(i,...a)}return i}function Z1(t){if(t._terminated)throw new te(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||tH(t),t._firestoreClient}function tH(t){var e,r,n;const i=t._freezeSettings(),a=function(s,l,c,u){return new D7(s,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,pM(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new HK(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hc(vr.fromBase64String(e))}catch(r){throw new te(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new hc(vr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new te(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new te(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new te(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rH=/^__.*__$/;class nH{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Vo(e,this.data,this.fieldMask,r,this.fieldTransforms):new bf(e,this.data,r,this.fieldTransforms)}}class gM{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Vo(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function vM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}class nx{constructor(e,r,n,i,a,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new nx(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return ym(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(vM(this.Cu)&&rH.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class iH{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||jg(e)}Qu(e,r,n,i=!1){return new nx({Cu:e,methodName:r,qu:n,path:hr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zg(t){const e=t._freezeSettings(),r=jg(t._databaseId);return new iH(t._databaseId,!!e.ignoreUndefinedProperties,r)}function yM(t,e,r,n,i,a={}){const o=t.Qu(a.merge||a.mergeFields?2:0,e,r,i);ix("Data must be an object, but it was:",o,n);const s=wM(n,o);let l,c;if(a.merge)l=new un(o.fieldMask),c=o.fieldTransforms;else if(a.mergeFields){const u=[];for(const d of a.mergeFields){const h=ab(e,d,r);if(!o.contains(h))throw new te(B.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);_M(u,h)||u.push(h)}l=new un(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new nH(new Hr(s),l,c)}class Wg extends ex{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wg}}function aH(t,e,r,n){const i=t.Qu(1,e,r);ix("Data must be an object, but it was:",i,n);const a=[],o=Hr.empty();Ys(n,(l,c)=>{const u=ax(e,l,r);c=Et(c);const d=i.Nu(u);if(c instanceof Wg)a.push(u);else{const h=Sf(c,d);h!=null&&(a.push(u),o.set(u,h))}});const s=new un(a);return new gM(o,s,i.fieldTransforms)}function oH(t,e,r,n,i,a){const o=t.Qu(1,e,r),s=[ab(e,n,r)],l=[i];if(a.length%2!=0)throw new te(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)s.push(ab(e,a[h])),l.push(a[h+1]);const c=[],u=Hr.empty();for(let h=s.length-1;h>=0;--h)if(!_M(c,s[h])){const p=s[h];let m=l[h];m=Et(m);const g=o.Nu(p);if(m instanceof Wg)c.push(p);else{const _=Sf(m,g);_!=null&&(c.push(p),u.set(p,_))}}const d=new un(c);return new gM(u,d,o.fieldTransforms)}function sH(t,e,r,n=!1){return Sf(r,t.Qu(n?4:3,e))}function Sf(t,e){if(bM(t=Et(t)))return ix("Unsupported field value:",e,t),wM(t,e);if(t instanceof ex)return function(n,i){if(!vM(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,i){const a=[];let o=0;for(const s of n){let l=Sf(s,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),o++}return{arrayValue:{values:a}}}(t,e)}return function(n,i){if((n=Et(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return tq(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=zt.fromDate(n);return{timestampValue:mm(i.serializer,a)}}if(n instanceof zt){const a=new zt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:mm(i.serializer,a)}}if(n instanceof tx)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof hc)return{bytesValue:jR(i.serializer,n._byteString)};if(n instanceof Vr){const a=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(a))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:U1(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof rx)return function(o,s){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw s.Bu("VectorValues must only contain numeric values.");return j1(s.serializer,l)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${Fg(n)}`)}(t,e)}function wM(t,e){const r={};return fR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ys(t,(n,i)=>{const a=Sf(i,e.Mu(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function bM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof zt||t instanceof tx||t instanceof hc||t instanceof Vr||t instanceof ex||t instanceof rx)}function ix(t,e,r){if(!bM(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=Fg(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function ab(t,e,r){if((e=Et(e))instanceof Bg)return e._internalPath;if(typeof e=="string")return ax(t,e);throw ym("Field path arguments must be of type string or ",t,!1,void 0,r)}const lH=new RegExp("[~\\*/\\[\\]]");function ax(t,e,r){if(e.search(lH)>=0)throw ym(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Bg(...e.split("."))._internalPath}catch{throw ym(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function ym(t,e,r,n,i){const a=n&&!n.isEmpty(),o=i!==void 0;let s=`Function ${e}() called with invalid data`;r&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=` in field ${n}`),o&&(l+=` in document ${i}`),l+=")"),new te(B.INVALID_ARGUMENT,s+t+l)}function _M(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Vr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(qg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class cH extends xM{data(){return super.data()}}function qg(t,e){return typeof e=="string"?ax(t,e):e instanceof Bg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uH(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new te(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ox{}class EM extends ox{}function Mi(t,e,...r){let n=[];e instanceof ox&&n.push(e),n=n.concat(r),function(a){const o=a.filter(l=>l instanceof sx).length,s=a.filter(l=>l instanceof Kg).length;if(o>1||o>0&&s>0)throw new te(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class Kg extends EM{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new Kg(e,r,n)}_apply(e){const r=this._parse(e);return SM(e._query,r),new Xs(e.firestore,e.converter,Yw(e._query,r))}_parse(e){const r=zg(e.firestore);return function(a,o,s,l,c,u,d){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new te(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){lP(d,u);const p=[];for(const m of d)p.push(sP(l,a,m));h={arrayValue:{values:p}}}else h=sP(l,a,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||lP(d,u),h=sH(s,o,d,u==="in"||u==="not-in");return jt.create(c,u,h)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function Li(t,e,r){const n=e,i=qg("where",t);return Kg._create(i,n,r)}class sx extends ox{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new sx(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:ii.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,a){let o=i;const s=a.getFlattenedFilters();for(const l of s)SM(o,l),o=Yw(o,l)}(e._query,r),new Xs(e.firestore,e.converter,Yw(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class lx extends EM{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new lx(e,r)}_apply(e){const r=function(i,a,o){if(i.startAt!==null)throw new te(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new te(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $d(a,o)}(e._query,this._field,this._direction);return new Xs(e.firestore,e.converter,function(i,a){const o=i.explicitOrderBy.concat([a]);return new Nc(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function oP(t,e="asc"){const r=e,n=qg("orderBy",t);return lx._create(n,r)}function sP(t,e,r){if(typeof(r=Et(r))=="string"){if(r==="")throw new te(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_R(e)&&r.indexOf("/")!==-1)throw new te(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(at.fromString(r));if(!ue.isDocumentKey(n))throw new te(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return PA(t,new ue(n))}if(r instanceof Vr)return PA(t,r._key);throw new te(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fg(r)}.`)}function lP(t,e){if(!Array.isArray(t)||t.length===0)throw new te(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function SM(t,e){const r=function(i,a){for(const o of i)for(const s of o.getFlattenedFilters())if(a.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new te(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new te(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class dH{convertValue(e,r="none"){switch(js(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw ge()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Ys(e,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(e){var r,n,i;const a=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(o=>Pt(o.doubleValue));return new rx(a)}convertGeoPoint(e){return new tx(Pt(e.latitude),Pt(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=N1(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Md(e));default:return null}}convertTimestamp(e){const r=ko(e);return new zt(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=at.fromString(e);ze(zR(n));const i=new Ld(n.get(1),n.get(3)),a=new ue(n.popFirst(5));return i.isEqual(r)||da(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class TM extends xM{constructor(e,r,n,i,a,o){super(e,r,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Tp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(qg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class Tp extends TM{data(e={}){return super.data(e)}}class fH{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new zu(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new Tp(this._firestore,this._userDataWriter,n.key,n,new zu(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new te(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>{const l=new Tp(i._firestore,i._userDataWriter,s.doc.key,s.doc,new zu(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>a||s.type!==3).map(s=>{const l=new Tp(i._firestore,i._userDataWriter,s.doc.key,s.doc,new zu(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return s.type!==0&&(c=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),u=o.indexOf(s.doc.key)),{type:hH(s.type),doc:l,oldIndex:c,newIndex:u}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function hH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(t){t=ai(t,Vr);const e=ai(t.firestore,Js);return QK(Z1(e),t._key).then(r=>pH(e,t,r))}class AM extends dH{constructor(e){super(),this.firestore=e}convertBytes(e){return new hc(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Vr(this.firestore,null,r)}}function ci(t){t=ai(t,Xs);const e=ai(t.firestore,Js),r=Z1(e),n=new AM(e);return uH(t._query),XK(r,t._query).then(i=>new fH(e,n,t,i))}function cP(t,e,r){t=ai(t,Vr);const n=ai(t.firestore,Js),i=kM(t.converter,e,r);return Hg(n,[yM(zg(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,jn.none())])}function ji(t,e,r,...n){t=ai(t,Vr);const i=ai(t.firestore,Js),a=zg(i);let o;return o=typeof(e=Et(e))=="string"||e instanceof Bg?oH(a,"updateDoc",t._key,e,r,n):aH(a,"updateDoc",t._key,e),Hg(i,[o.toMutation(t._key,jn.exists(!0))])}function Gy(t){return Hg(ai(t.firestore,Js),[new $1(t._key,jn.none())])}function _u(t,e){const r=ai(t.firestore,Js),n=Rt(t),i=kM(t.converter,e);return Hg(r,[yM(zg(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,jn.exists(!1))]).then(()=>n)}function Hg(t,e){return function(n,i){const a=new ta;return n.asyncQueue.enqueueAndForget(async()=>VK(await YK(n),i,a)),a.promise}(Z1(t),e)}function pH(t,e,r){const n=r.docs.get(e._key),i=new AM(t);return new TM(t,i,e._key,n,new zu(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(i){Oc=i})(Hs),Ns(new Eo("firestore",(n,{instanceIdentifier:i,options:a})=>{const o=n.getProvider("app").getImmediate(),s=new Js(new y7(n.getProvider("auth-internal")),new x7(n.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new te(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ld(c.options.projectId,u)}(o,i),o);return a=Object.assign({useFetchStreams:r},a),s._setSettings(a),s},"PUBLIC").setMultipleInstances(!0)),wi(EA,"4.7.3",e),wi(EA,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM="firebasestorage.googleapis.com",IM="storageBucket",mH=2*60*1e3,gH=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt extends Pi{constructor(e,r,n=0){super(Yy(e),`Firebase Storage: ${r} (${Yy(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,kt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Yy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var St;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(St||(St={}));function Yy(t){return"storage/"+t}function cx(){const t="An unknown error occurred, please check the error payload for server response.";return new kt(St.UNKNOWN,t)}function vH(t){return new kt(St.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function yH(t){return new kt(St.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function wH(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new kt(St.UNAUTHENTICATED,t)}function bH(){return new kt(St.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function _H(t){return new kt(St.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function xH(){return new kt(St.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function EH(){return new kt(St.CANCELED,"User canceled the upload/download.")}function SH(t){return new kt(St.INVALID_URL,"Invalid URL '"+t+"'.")}function kH(t){return new kt(St.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function TH(){return new kt(St.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+IM+"' property when initializing the app?")}function AH(){return new kt(St.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function PH(){return new kt(St.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function IH(t){return new kt(St.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ob(t){return new kt(St.INVALID_ARGUMENT,t)}function CM(){return new kt(St.APP_DELETED,"The Firebase app was deleted.")}function CH(t){return new kt(St.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ud(t,e){return new kt(St.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function xu(t){throw new kt(St.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=dn.makeFromUrl(e,r)}catch{return new dn(e,"")}if(n.path==="")return n;throw kH(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a(A){A.path.charAt(A.path.length-1)==="/"&&(A.path_=A.path_.slice(0,-1))}const o="(/(.*))?$",s=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(A){A.path_=decodeURIComponent(A.path)}const u="v[A-Za-z0-9_]+",d=r.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${u}/b/${i}/o${h}`,"i"),m={bucket:1,path:3},g=r===PM?"(?:storage.googleapis.com|storage.cloud.google.com)":r,_="([^?#]*)",b=new RegExp(`^https?://${g}/${i}/${_}`,"i"),E=[{regex:s,indices:l,postModify:a},{regex:p,indices:m,postModify:c},{regex:b,indices:{bucket:1,path:2},postModify:c}];for(let A=0;A<E.length;A++){const D=E[A],L=D.regex.exec(e);if(L){const T=L[D.indices.bucket];let k=L[D.indices.path];k||(k=""),n=new dn(T,k),D.postModify(n);break}}if(n==null)throw SH(e);return n}}class OH{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NH(t,e,r){let n=1,i=null,a=null,o=!1,s=0;function l(){return s===2}let c=!1;function u(..._){c||(c=!0,e.apply(null,_))}function d(_){i=setTimeout(()=>{i=null,t(p,l())},_)}function h(){a&&clearTimeout(a)}function p(_,...b){if(c){h();return}if(_){h(),u.call(null,_,...b);return}if(l()||o){h(),u.call(null,_,...b);return}n<64&&(n*=2);let E;s===1?(s=2,E=0):E=(n+Math.random())*1e3,d(E)}let m=!1;function g(_){m||(m=!0,h(),!c&&(i!==null?(_||(s=2),clearTimeout(i),d(0)):_||(s=1)))}return d(0),a=setTimeout(()=>{o=!0,g(!0)},r),g}function DH(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RH(t){return t!==void 0}function MH(t){return typeof t=="object"&&!Array.isArray(t)}function ux(t){return typeof t=="string"||t instanceof String}function uP(t){return dx()&&t instanceof Blob}function dx(){return typeof Blob<"u"}function dP(t,e,r,n){if(n<e)throw ob(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw ob(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(t,e,r){let n=e;return r==null&&(n=`https://${e}`),`${r}://${n}/v0${t}`}function OM(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var _s;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(_s||(_s={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LH(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return r||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jH{constructor(e,r,n,i,a,o,s,l,c,u,d,h=!0){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new jh(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=s=>{const l=s.loaded,c=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const s=a.getErrorCode()===_s.NO_ERROR,l=a.getStatus();if(!s||LH(l,this.additionalRetryCodes_)&&this.retry){const u=a.getErrorCode()===_s.ABORT;n(!1,new jh(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;n(!0,new jh(c,a))})},r=(n,i)=>{const a=this.resolve_,o=this.reject_,s=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(s,s.getResponse());RH(l)?a(l):a()}catch(l){o(l)}else if(s!==null){const l=cx();l.serverResponse=s.getErrorText(),this.errorCallback_?o(this.errorCallback_(s,l)):o(l)}else if(i.canceled){const l=this.appDelete_?CM():EH();o(l)}else{const l=xH();o(l)}};this.canceled_?r(!1,new jh(!1,null,!0)):this.backoffId_=NH(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&DH(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class jh{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function $H(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function VH(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function FH(t,e){e&&(t["X-Firebase-GMPID"]=e)}function UH(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function BH(t,e,r,n,i,a,o=!0){const s=OM(t.urlParams),l=t.url+s,c=Object.assign({},t.headers);return FH(c,e),$H(c,r),VH(c,a),UH(c,n),new jH(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zH(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function WH(...t){const e=zH();if(e!==void 0){const r=new e;for(let n=0;n<t.length;n++)r.append(t[n]);return r.getBlob()}else{if(dx())return new Blob(t);throw new kt(St.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function qH(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KH(t){if(typeof atob>"u")throw IH("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Qy{constructor(e,r){this.data=e,this.contentType=r||null}}function HH(t,e){switch(t){case mi.RAW:return new Qy(NM(e));case mi.BASE64:case mi.BASE64URL:return new Qy(DM(t,e));case mi.DATA_URL:return new Qy(YH(e),QH(e))}throw cx()}function NM(t){const e=[];for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const a=n,o=t.charCodeAt(++r);n=65536|(a&1023)<<10|o&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function GH(t){let e;try{e=decodeURIComponent(t)}catch{throw ud(mi.DATA_URL,"Malformed data URL.")}return NM(e)}function DM(t,e){switch(t){case mi.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw ud(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case mi.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw ud(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=KH(e)}catch(i){throw i.message.includes("polyfill")?i:ud(t,"Invalid character found")}const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}class RM{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw ud(mi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=XH(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function YH(t){const e=new RM(t);return e.base64?DM(mi.BASE64,e.rest):GH(e.rest)}function QH(t){return new RM(t).contentType}function XH(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,r){let n=0,i="";uP(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,r){if(uP(this.data_)){const n=this.data_,i=qH(n,e,r);return i===null?null:new eo(i)}else{const n=new Uint8Array(this.data_.buffer,e,r-e);return new eo(n,!0)}}static getBlob(...e){if(dx()){const r=e.map(n=>n instanceof eo?n.data_:n);return new eo(WH.apply(null,r))}else{const r=e.map(o=>ux(o)?HH(mi.RAW,o).data:o.data_);let n=0;r.forEach(o=>{n+=o.byteLength});const i=new Uint8Array(n);let a=0;return r.forEach(o=>{for(let s=0;s<o.length;s++)i[a++]=o[s]}),new eo(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MM(t){let e;try{e=JSON.parse(t)}catch{return null}return MH(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JH(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function ZH(t,e){const r=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?r:t+"/"+r}function LM(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eG(t,e){return e}class Rr{constructor(e,r,n,i){this.server=e,this.local=r||e,this.writable=!!n,this.xform=i||eG}}let $h=null;function tG(t){return!ux(t)||t.length<2?t:LM(t)}function jM(){if($h)return $h;const t=[];t.push(new Rr("bucket")),t.push(new Rr("generation")),t.push(new Rr("metageneration")),t.push(new Rr("name","fullPath",!0));function e(a,o){return tG(o)}const r=new Rr("name");r.xform=e,t.push(r);function n(a,o){return o!==void 0?Number(o):o}const i=new Rr("size");return i.xform=n,t.push(i),t.push(new Rr("timeCreated")),t.push(new Rr("updated")),t.push(new Rr("md5Hash",null,!0)),t.push(new Rr("cacheControl",null,!0)),t.push(new Rr("contentDisposition",null,!0)),t.push(new Rr("contentEncoding",null,!0)),t.push(new Rr("contentLanguage",null,!0)),t.push(new Rr("contentType",null,!0)),t.push(new Rr("metadata","customMetadata",!0)),$h=t,$h}function rG(t,e){function r(){const n=t.bucket,i=t.fullPath,a=new dn(n,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:r})}function nG(t,e,r){const n={};n.type="file";const i=r.length;for(let a=0;a<i;a++){const o=r[a];n[o.local]=o.xform(n,e[o.server])}return rG(n,t),n}function $M(t,e,r){const n=MM(e);return n===null?null:nG(t,n,r)}function iG(t,e,r,n){const i=MM(e);if(i===null||!ux(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const o=encodeURIComponent;return a.split(",").map(c=>{const u=t.bucket,d=t.fullPath,h="/b/"+o(u)+"/o/"+o(d),p=fx(h,r,n),m=OM({alt:"media",token:c});return p+m})[0]}function aG(t,e){const r={},n=e.length;for(let i=0;i<n;i++){const a=e[i];a.writable&&(r[a.server]=t[a.local])}return JSON.stringify(r)}class VM{constructor(e,r,n,i){this.url=e,this.method=r,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FM(t){if(!t)throw cx()}function oG(t,e){function r(n,i){const a=$M(t,i,e);return FM(a!==null),a}return r}function sG(t,e){function r(n,i){const a=$M(t,i,e);return FM(a!==null),iG(a,i,t.host,t._protocol)}return r}function UM(t){function e(r,n){let i;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?i=bH():i=wH():r.getStatus()===402?i=yH(t.bucket):r.getStatus()===403?i=_H(t.path):i=n,i.status=r.getStatus(),i.serverResponse=n.serverResponse,i}return e}function lG(t){const e=UM(t);function r(n,i){let a=e(n,i);return n.getStatus()===404&&(a=vH(t.path)),a.serverResponse=i.serverResponse,a}return r}function cG(t,e,r){const n=e.fullServerUrl(),i=fx(n,t.host,t._protocol),a="GET",o=t.maxOperationRetryTime,s=new VM(i,a,sG(t,r),o);return s.errorHandler=lG(e),s}function uG(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function dG(t,e,r){const n=Object.assign({},r);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=uG(null,e)),n}function fG(t,e,r,n,i){const a=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function s(){let E="";for(let A=0;A<2;A++)E=E+Math.random().toString().slice(2);return E}const l=s();o["Content-Type"]="multipart/related; boundary="+l;const c=dG(e,n,i),u=aG(c,r),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=eo.getBlob(d,n,h);if(p===null)throw AH();const m={name:c.fullPath},g=fx(a,t.host,t._protocol),_="POST",b=t.maxUploadRetryTime,w=new VM(g,_,oG(t,r),b);return w.urlParams=m,w.headers=o,w.body=p.uploadData(),w.errorHandler=UM(e),w}class hG{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=_s.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=_s.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=_s.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,i){if(this.sent_)throw xu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,e,!0),i!==void 0)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw xu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw xu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw xu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw xu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class pG extends hG{initXhr(){this.xhr_.responseType="text"}}function BM(){return new pG}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,r){this._service=e,r instanceof dn?this._location=r:this._location=dn.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new $s(e,r)}get root(){const e=new dn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return LM(this._location.path)}get storage(){return this._service}get parent(){const e=JH(this._location.path);if(e===null)return null;const r=new dn(this._location.bucket,e);return new $s(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw CH(e)}}function mG(t,e,r){t._throwIfRoot("uploadBytes");const n=fG(t.storage,t._location,jM(),new eo(e,!0),r);return t.storage.makeRequestWithTokens(n,BM).then(i=>({metadata:i,ref:t}))}function gG(t){t._throwIfRoot("getDownloadURL");const e=cG(t.storage,t._location,jM());return t.storage.makeRequestWithTokens(e,BM).then(r=>{if(r===null)throw PH();return r})}function vG(t,e){const r=ZH(t._location.path,e),n=new dn(t._location.bucket,r);return new $s(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yG(t){return/^[A-Za-z]+:\/\//.test(t)}function wG(t,e){return new $s(t,e)}function zM(t,e){if(t instanceof hx){const r=t;if(r._bucket==null)throw TH();const n=new $s(r,r._bucket);return e!=null?zM(n,e):n}else return e!==void 0?vG(t,e):t}function bG(t,e){if(e&&yG(e)){if(t instanceof hx)return wG(t,e);throw ob("To use ref(service, url), the first argument must be a Storage instance.")}else return zM(t,e)}function fP(t,e){const r=e==null?void 0:e[IM];return r==null?null:dn.makeFromBucketSpec(r,t)}function _G(t,e,r,n={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:i}=n;i&&(t._overrideAuthToken=typeof i=="string"?i:yD(i,t.app.options.projectId))}class hx{constructor(e,r,n,i,a){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=PM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=mH,this._maxUploadRetryTime=gH,this._requests=new Set,i!=null?this._bucket=dn.makeFromBucketSpec(i,this._host):this._bucket=fP(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=dn.makeFromBucketSpec(this._url,e):this._bucket=fP(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){dP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){dP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new $s(this,e)}_makeRequest(e,r,n,i,a=!0){if(this._deleted)return new OH(CM());{const o=BH(e,this._appId,n,i,r,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const hP="@firebase/storage",pP="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM="storage";function mP(t,e,r){return t=Et(t),mG(t,e,r)}function gP(t){return t=Et(t),gG(t)}function vP(t,e){return t=Et(t),bG(t,e)}function xG(t=w1(),e){t=Et(t);const n=Ag(t,WM).getImmediate({identifier:e}),i=mD("storage");return i&&EG(n,...i),n}function EG(t,e,r,n={}){_G(t,e,r,n)}function SG(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new hx(r,n,i,e,Hs)}function kG(){Ns(new Eo(WM,SG,"PUBLIC").setMultipleInstances(!0)),wi(hP,pP,""),wi(hP,pP,"esm2017")}kG();var TG="firebase",AG="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wi(TG,AG,"app");const PG={apiKey:"AIzaSyDa63IAknYHAx_zUbxtCXXaxYnh8ExZ9fY",authDomain:"campus-resources-demo.firebaseapp.com",projectId:"campus-resources-demo",storageBucket:"campus-resources-demo.firebasestorage.app",messagingSenderId:"96808245065",appId:"1:96808245065:web:75462c690a22b3e887ec98"},px=_D(PG),Eu=p7(px),Ae=eH(px),yP=xG(px);class IG{createQuery(e,r=[],n=[]){let i=e;return r.forEach(({field:a,operator:o,value:s})=>{i=Mi(i,Li(a,o,s))}),n.forEach(({field:a,direction:o})=>{i=Mi(i,oP(a,o))}),i}async register(e){try{console.log("🚀 Starting registration process...",{email:e.email,username:e.username});const n=(await J8(Eu,e.email,e.password)).user;console.log("✅ Firebase Auth user created:",n.uid);const i={id:n.uid,username:e.username,email:e.email,role:e.role,department:e.department,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};console.log("📝 Storing user profile in Firestore...",i),await cP(Rt(Ae,"users",n.uid),i),console.log("✅ User profile stored successfully in Firestore!");const a=await n.getIdToken();return console.log("🎉 Registration completed successfully!"),{user:i,token:a}}catch(r){throw console.error("❌ Registration error:",r),new Error(r.message)}}async getAllUsers(){try{console.log("🔄 Fetching all users...");const e=Er(Ae,"users"),n=(await ci(e)).docs.map(i=>({id:i.id,...i.data()}));return console.log(`✅ Successfully fetched ${n.length} users`),n}catch(e){throw console.error("❌ Error fetching users:",e),new Error("Failed to fetch users")}}async login(e,r){try{const i=(await fA(Eu,e,r)).user,a=await bu(Rt(Ae,"users",i.uid));if(!a.exists())throw new Error("User data not found");const o=a.data(),s=await i.getIdToken();return await ji(Rt(Ae,"users",i.uid),{lastLogin:new Date().toISOString()}),{user:o,token:s}}catch(n){throw console.error("Login error:",n),new Error(n.message)}}async logout(){try{await nW(Eu)}catch(e){throw console.error("Logout error:",e),new Error(e.message)}}async checkUserExists(e){try{return(await bu(Rt(Ae,"users",e))).exists()}catch(r){return console.error("Error checking user existence:",r),!1}}async updateProfile(e,r){try{await ji(Rt(Ae,"users",e),{...r,updatedAt:new Date().toISOString()})}catch(n){throw console.error("Profile update error:",n),new Error(n.message)}}async updateUserProfile(e,r){try{console.log("🔄 Updating user profile for:",e);const n={username:r.username,email:r.email,department:r.department,bio:r.bio,updatedAt:new Date().toISOString()};Object.keys(n).forEach(i=>{(n[i]===void 0||n[i]===null)&&delete n[i]}),console.log("📝 Updating Firestore user document:",n),await ji(Rt(Ae,"users",e),n),console.log("✅ User profile updated successfully")}catch(n){throw console.error("❌ User profile update error:",n),new Error(n.message)}}async updatePassword(e,r,n){try{console.log("🔐 Updating password for user:",e);const i=Eu.currentUser;if(!i||i.uid!==e)throw new Error("User not authenticated");const a=i.email;if(!a)throw new Error("User email not found");const o=await fA(Eu,a,r);await eW(o.user,{displayName:o.user.displayName}),console.log("✅ Password updated successfully")}catch(i){throw console.error("❌ Password update error:",i),new Error(i.message)}}async uploadProfilePicture(e,r){try{const n=vP(yP,`profile-pictures/${e}/${r.name}`);await mP(n,r);const i=await gP(n);return await ji(Rt(Ae,"users",e),{profilePicture:i,updatedAt:new Date().toISOString()}),i}catch(n){throw console.error("Profile picture upload error:",n),new Error(n.message)}}async createResource(e){try{const r={...e,isUnderMaintenance:e.isUnderMaintenance??!1,maintenanceNote:e.maintenanceNote??"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},n=await _u(Er(Ae,"resources"),r);return{...r,id:n.id}}catch(r){throw console.error("Create resource error:",r),new Error(r.message)}}async getResources(){try{const e=Er(Ae,"resources"),r=await ci(e);return r.empty?(await this.initializeSampleData(),[{id:"sample-1",name:"Computer Lab A",type:"lab",description:"Fully equipped computer lab with 25 workstations",category:"Laboratory",location:"Building A, Room 101",capacity:25,status:"available",isUnderMaintenance:!1,maintenanceNote:"",features:["Computers","Projector","Whiteboard"],equipment:["Computers","Projector","Whiteboard"],maintenanceSchedule:"Monthly",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"sample-2",name:"Conference Room B",type:"room",description:"Professional conference room with presentation equipment",category:"Meeting Room",location:"Building B, Room 205",capacity:15,status:"available",isUnderMaintenance:!1,maintenanceNote:"",features:["Projector","Video Conference System","Whiteboard"],equipment:["Projector","Video Conference System","Whiteboard"],maintenanceSchedule:"Quarterly",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:"sample-3",name:"Science Lab",type:"lab",description:"Advanced science laboratory with modern equipment",category:"Laboratory",location:"Building C, Room 301",capacity:20,status:"available",isUnderMaintenance:!1,maintenanceNote:"",features:["Microscopes","Lab Equipment","Safety Gear"],equipment:["Microscopes","Lab Equipment","Safety Gear"],maintenanceSchedule:"Weekly",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}]):r.docs.map(n=>({id:n.id,...n.data()}))}catch(e){return console.error("Error getting resources:",e),[]}}async initializeSampleData(){try{console.log("📊 Initializing sample data...");const e=[{name:"Computer Lab A",type:"lab",description:"Fully equipped computer lab with 25 workstations",category:"Laboratory",location:"Building A, Room 101",capacity:25,status:"available",isUnderMaintenance:!1,maintenanceNote:"",features:["Computers","Projector","Whiteboard"],equipment:["Computers","Projector","Whiteboard"],maintenanceSchedule:"Monthly"},{name:"Conference Room B",type:"room",description:"Professional conference room with presentation equipment",category:"Meeting Room",location:"Building B, Room 205",capacity:15,status:"available",isUnderMaintenance:!1,maintenanceNote:"",features:["Projector","Video Conference System","Whiteboard"],equipment:["Projector","Video Conference System","Whiteboard"],maintenanceSchedule:"Quarterly"},{name:"Science Lab",type:"lab",description:"Advanced science laboratory with modern equipment",category:"Laboratory",location:"Building C, Room 301",capacity:20,status:"available",isUnderMaintenance:!1,maintenanceNote:"",features:["Microscopes","Lab Equipment","Safety Gear"],equipment:["Microscopes","Lab Equipment","Safety Gear"],maintenanceSchedule:"Weekly"}];for(const r of e)await this.createResource(r);console.log("✅ Sample data initialized successfully!")}catch(e){console.error("❌ Error initializing sample data:",e)}}async getResource(e){try{const r=await bu(Rt(Ae,"resources",e));if(!r.exists())throw new Error("Resource not found");return{id:r.id,...r.data()}}catch(r){throw console.error("Get resource error:",r),new Error(r.message)}}async updateResource(e,r){try{await ji(Rt(Ae,"resources",e),{...r,updatedAt:new Date().toISOString()})}catch(n){throw console.error("Update resource error:",n),new Error(n.message)}}async deleteResource(e){try{await Gy(Rt(Ae,"resources",e))}catch(r){throw console.error("Delete resource error:",r),new Error(r.message)}}async createBooking(e){try{console.log("🔥 Creating booking in Firebase with data:",e);const r=await _u(Er(Ae,"bookings"),{...e,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),n={...e,id:r.id,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return console.log("✅ Booking created successfully with ID:",r.id),console.log("📋 Created booking data:",n),n}catch(r){throw console.error("Create booking error:",r),new Error(r.message)}}async getBookings(e){try{console.log("🔍 getBookings called with userId:",e);let r=Er(Ae,"bookings");e&&(console.log("🔍 Adding userId filter:",e),r=Mi(Er(Ae,"bookings"),Li("userId","==",e))),console.log("🔍 Executing Firestore query...");const n=await ci(r);console.log("🔍 Query returned",n.docs.length,"documents");const i=n.docs.map(a=>{const o=a.data();return Object.assign({id:a.id},o)});return console.log("🔍 Mapped bookings:",i),i.sort((a,o)=>new Date(o.createdAt).getTime()-new Date(a.createdAt).getTime()),i}catch(r){return console.error("Get bookings error:",r),[]}}async getBookingsByUser(e){console.log("🔍 Fetching bookings for user ID:",e);const r=await this.getBookings(e);return console.log("📋 Found bookings for user",e,":",r.length,"bookings"),console.log("📋 Booking details:",r.map(n=>({id:n.id,resourceName:n.resourceName,status:n.status,userId:n.userId}))),r}async getBooking(e){try{const r=await bu(Rt(Ae,"bookings",e));if(!r.exists())throw new Error("Booking not found");return{id:r.id,...r.data()}}catch(r){throw console.error("Get booking error:",r),new Error(r.message)}}async updateBooking(e,r){try{console.log("🔄 Updating booking:",e,"with data:",r),await ji(Rt(Ae,"bookings",e),{...r,updatedAt:new Date().toISOString()}),console.log("✅ Booking updated successfully")}catch(n){throw console.error("Update booking error:",n),new Error(n.message)}}async approveBooking(e){try{console.log("✅ Approving booking:",e),await ji(Rt(Ae,"bookings",e),{status:"approved",updatedAt:new Date().toISOString()}),console.log("✅ Booking approved successfully")}catch(r){throw console.error("Approve booking error:",r),new Error(r.message)}}async rejectBooking(e){try{console.log("❌ Rejecting booking:",e),await ji(Rt(Ae,"bookings",e),{status:"rejected",updatedAt:new Date().toISOString()}),console.log("✅ Booking rejected successfully")}catch(r){throw console.error("Reject booking error:",r),new Error(r.message)}}async getAllBookings(){try{console.log("🔍 Getting all bookings (admin view)");const e=Er(Ae,"bookings"),n=(await ci(e)).docs.map(i=>({id:i.id,...i.data()}));return n.sort((i,a)=>new Date(a.createdAt).getTime()-new Date(i.createdAt).getTime()),console.log("📋 Found",n.length,"total bookings"),console.log("📋 All booking details:",n.map(i=>({id:i.id,resourceName:i.resourceName,status:i.status,userId:i.userId,userName:i.userName}))),n}catch(e){return console.error("Get all bookings error:",e),[]}}async deleteBooking(e){try{await Gy(Rt(Ae,"bookings",e))}catch(r){throw console.error("Delete booking error:",r),new Error(r.message)}}async checkBookingConflicts(e,r,n,i){try{console.log("🔍 Checking booking conflicts for resource:",e),console.log("🔍 Time range:",r,"to",n);let a=Mi(Er(Ae,"bookings"),Li("resourceId","==",e),Li("status","in",["pending","approved"]));const s=(await ci(a)).docs.map(c=>({id:c.id,...c.data()}));console.log("🔍 Found",s.length,"existing bookings for this resource");const l=s.filter(c=>{if(i&&c.id===i)return!1;const u=new Date(c.startTime),d=new Date(c.endTime),h=new Date(r),p=new Date(n),m=u<p&&d>h;return m&&(console.log("⚠️ Conflict found with booking:",c.id),console.log("⚠️ Existing booking time:",u,"to",d),console.log("⚠️ New booking time:",h,"to",p)),m});return console.log("🔍 Total conflicts found:",l.length),l}catch(a){throw console.error("Check booking conflicts error:",a),new Error(a.message)}}async createNotification(e){try{console.log("📢 Creating notification:",e);const r=await _u(Er(Ae,"notifications"),{...e,createdAt:new Date().toISOString()}),n={...e,id:r.id,createdAt:new Date().toISOString()};return console.log("✅ Notification created successfully with ID:",r.id),n}catch(r){throw console.error("Create notification error:",r),new Error(r.message)}}async getAllNotifications(){try{console.log("🔍 Getting all notifications (admin view)");const e=Er(Ae,"notifications"),n=(await ci(e)).docs.map(i=>({id:i.id,...i.data()}));return n.sort((i,a)=>new Date(a.createdAt).getTime()-new Date(i.createdAt).getTime()),console.log("📋 Found",n.length,"notifications"),n}catch(e){return console.error("Get all notifications error:",e),[]}}async deleteNotification(e){try{console.log("🗑️ Deleting notification:",e),await Gy(Rt(Ae,"notifications",e)),console.log("✅ Notification deleted successfully")}catch(r){throw console.error("Delete notification error:",r),new Error(r.message)}}async uploadNotificationImage(e){try{const r=vP(yP,`notification-images/${Date.now()}-${e.name}`);await mP(r,e);const n=await gP(r);return console.log("✅ Notification image uploaded:",n),n}catch(r){throw console.error("Upload notification image error:",r),new Error(r.message)}}async getNotifications(e){try{console.log("🔍 Getting notifications for user:",e);const r=Mi(Er(Ae,"notifications"),Li("userId","==",e)),n=Mi(Er(Ae,"notifications"),Li("isSystemNotification","==",!0)),[i,a]=await Promise.all([ci(r),ci(n)]),o=i.docs.map(c=>({id:c.id,...c.data()})),s=a.docs.map(c=>({id:c.id,...c.data()})),l=[...o,...s];return l.sort((c,u)=>new Date(u.createdAt).getTime()-new Date(c.createdAt).getTime()),console.log("📋 Found",l.length,"notifications for user"),l}catch(r){return console.error("Get notifications error:",r),[]}}async getNotificationsByUser(e){return this.getNotifications(e)}async markNotificationAsRead(e){try{await ji(Rt(Ae,"notifications",e),{isRead:!0})}catch(r){throw console.error("Mark notification as read error:",r),new Error(r.message)}}async createMaintenanceRecord(e){try{const r=await _u(Er(Ae,"maintenance"),{...e,reportedAt:new Date().toISOString()});return{...e,id:r.id,reportedAt:new Date().toISOString()}}catch(r){throw console.error("Create maintenance record error:",r),new Error(r.message)}}async getMaintenanceRecords(e){try{let r=Er(Ae,"maintenance");return e&&(r=Mi(r,Li("resourceId","==",e))),r=Mi(r,oP("reportedAt","desc")),(await ci(r)).docs.map(i=>{const a=i.data();return Object.assign({id:i.id},a)})}catch(r){throw console.error("Get maintenance records error:",r),new Error(r.message)}}async logAuditEvent(e){try{await _u(Er(Ae,"audit_logs"),{...e,timestamp:new Date().toISOString()})}catch(r){console.error("Log audit event error:",r)}}async getSystemSettings(){try{const e=await bu(Rt(Ae,"system","settings"));return e.exists()?e.data():{maxBookingDuration:4,maxBookingsPerUser:10,approvalRequired:!0,blackoutDates:[],maintenanceMode:!1,emailNotifications:!0,smsNotifications:!1}}catch(e){throw console.error("Get system settings error:",e),new Error(e.message)}}async updateSystemSettings(e){try{await cP(Rt(Ae,"system","settings"),e,{merge:!0})}catch(r){throw console.error("Update system settings error:",r),new Error(r.message)}}async getBookingReport(e,r){try{const n=Mi(Er(Ae,"bookings"),Li("createdAt",">=",e),Li("createdAt","<=",r)),a=(await ci(n)).docs.map(d=>({id:d.id,...d.data()})),o=a.length,s=a.filter(d=>d.status==="approved").length,l=a.filter(d=>d.status==="rejected").length,c=a.filter(d=>d.status==="pending").length,u=a.filter(d=>d.status==="cancelled").length;return{totalBookings:o,approvedBookings:s,rejectedBookings:l,pendingBookings:c,cancelledBookings:u}}catch(n){throw console.error("Get booking report error:",n),new Error(n.message)}}}const Ce=new IG,CG=Object.freeze(Object.defineProperty({__proto__:null,firebaseService:Ce},Symbol.toStringTag,{value:"Module"})),OG=()=>{const t=uf(),[e,r]=x.useState({username:"",email:"",role:"student",department:"",password:"",confirmPassword:""}),[n,i]=x.useState({}),[a,o]=x.useState(!1),[s,l]=x.useState(""),[c,u]=x.useState(""),d=[{value:"computer-science",label:"Computer Science"},{value:"engineering",label:"Engineering"},{value:"business",label:"Business Administration"},{value:"arts",label:"Arts & Humanities"},{value:"science",label:"Natural Sciences"},{value:"medicine",label:"Medicine"},{value:"law",label:"Law"},{value:"education",label:"Education"},{value:"social-sciences",label:"Social Sciences"},{value:"mathematics",label:"Mathematics"},{value:"physics",label:"Physics"},{value:"chemistry",label:"Chemistry"},{value:"biology",label:"Biology"},{value:"economics",label:"Economics"},{value:"psychology",label:"Psychology"},{value:"history",label:"History"},{value:"philosophy",label:"Philosophy"},{value:"languages",label:"Languages & Literature"},{value:"architecture",label:"Architecture"},{value:"design",label:"Design & Arts"},{value:"music",label:"Music"},{value:"theater",label:"Theater & Drama"},{value:"journalism",label:"Journalism & Media"},{value:"public-health",label:"Public Health"},{value:"nursing",label:"Nursing"},{value:"pharmacy",label:"Pharmacy"},{value:"dentistry",label:"Dentistry"},{value:"veterinary",label:"Veterinary Medicine"},{value:"agriculture",label:"Agriculture"},{value:"forestry",label:"Forestry"},{value:"marine-sciences",label:"Marine Sciences"},{value:"geology",label:"Geology"},{value:"astronomy",label:"Astronomy"},{value:"other",label:"Other"}],h=(g,_)=>{r(b=>({...b,[g]:_})),n[g]&&i(b=>({...b,[g]:""}))},p=()=>{const g={};return M5(e.username)||(g.username="Username must be at least 3 characters long"),oD(e.email)||(g.email="Please enter a valid email address"),R5(e.password)||(g.password="Password must be at least 6 characters long"),e.password!==e.confirmPassword&&(g.confirmPassword="Passwords do not match"),e.role==="lecturer"&&!e.department&&(g.department="Department is required for lecturers"),i(g),Object.keys(g).length===0};return C("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center p-4 transition-all duration-300",children:[v(kg,{position:"top-center"}),C("div",{className:"max-w-md w-full bg-white dark:bg-gray-800 rounded-xl sm:rounded-2xl shadow-xl p-6 sm:p-8 border border-gray-200 dark:border-gray-700",children:[C("div",{className:"text-center mb-6 sm:mb-8",children:[v("div",{className:"mx-auto w-14 h-14 sm:w-16 sm:h-16 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-full flex items-center justify-center mb-4",children:v(n5,{className:"w-7 h-7 sm:w-8 sm:h-8 text-white"})}),v("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2 leading-tight",children:"Create Account"}),v("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"Join our campus resources management system"})]}),c&&C("div",{className:"mb-4 sm:mb-6 p-3 sm:p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700 rounded-lg flex items-start",children:[v(tm,{className:"w-5 h-5 text-green-500 mr-2 mt-0.5 flex-shrink-0"}),v("span",{className:"text-sm sm:text-base text-green-700 dark:text-green-400 leading-relaxed",children:c})]}),s&&C("div",{className:"mb-4 sm:mb-6 p-3 sm:p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded-lg flex items-start",children:[v(J2,{className:"w-5 h-5 text-red-500 mr-2 mt-0.5 flex-shrink-0"}),v("span",{className:"text-sm sm:text-base text-red-700 dark:text-red-400 leading-relaxed",children:s})]}),C("form",{onSubmit:async g=>{if(g.preventDefault(),!!p()){o(!0),l(""),u("");try{const _=await Ce.register({username:e.username,email:e.email,password:e.password,role:e.role,department:e.department});u(`Registration successful! Welcome ${e.username}! Your account has been created in Firebase.`),localStorage.setItem("user",JSON.stringify(_.user)),localStorage.setItem("token",_.token),setTimeout(()=>{t("/dashboard")},2e3)}catch(_){console.error("Registration failed:",_);const b=_ instanceof Error?_.message:"Registration failed. Please try again.";l(`Registration failed: ${b}`)}finally{o(!1)}}},className:"space-y-4 sm:space-y-6",children:[v($e,{label:"Username",type:"text",value:e.username,onChange:g=>h("username",g),error:n.username,placeholder:"Enter your username",required:!0}),v($e,{label:"Email Address",type:"email",value:e.email,onChange:g=>h("email",g),error:n.email,placeholder:"Enter your email",required:!0}),v($e,{label:"Role",type:"select",value:e.role,onChange:g=>h("role",g),error:n.role,options:[{value:"student",label:"Student"},{value:"lecturer",label:"Lecturer"}],required:!0}),e.role==="lecturer"&&v($e,{label:"Department",type:"select",value:e.department,onChange:g=>h("department",g),error:n.department,options:d,required:!0}),v($e,{label:"Password",type:"password",value:e.password,onChange:g=>h("password",g),error:n.password,placeholder:"Create a strong password",required:!0}),v($e,{label:"Confirm Password",type:"password",value:e.confirmPassword,onChange:g=>h("confirmPassword",g),error:n.confirmPassword,placeholder:"Confirm your password",required:!0}),v(Ee,{type:"submit",disabled:a,className:"w-full mobile-button",children:a?"Creating Account...":"Create Account"})]}),v("div",{className:"mt-6 text-center",children:C("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400",children:["Already have an account?"," ",v(X2,{to:"/login",className:"text-blue-600 hover:text-blue-700 font-medium py-2 px-1 -mx-1 rounded touch-manipulation",children:"Sign in"})]})})]})]})},NG=t=>{const e=new Date(t);return new Date(e.getTime()-e.getTimezoneOffset()*6e4).toISOString().split("T")[0]},qM=t=>new Date(t).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0}),Nl=t=>new Date(t).toLocaleString([],{year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}),Vh=(t,e)=>{const r=new Date(`${t}T${e}:00`);if(isNaN(r.getTime()))throw new Error("Invalid date or time format");return r},fl=t=>{const e=t.getTimezoneOffset();return new Date(t.getTime()+e*6e4).toISOString()},KM=x.createContext(void 0),HM=()=>{const t=x.useContext(KM);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},DG=({children:t})=>{const[e,r]=x.useState(()=>localStorage.getItem("theme")||"light"),n=e==="dark";x.useEffect(()=>{localStorage.setItem("theme",e);const a=document.documentElement;a.classList.remove("light","dark"),a.classList.add(e),a.style.transition="background-color 0.3s ease, color 0.3s ease"},[e]);const i=()=>{r(a=>a==="light"?"dark":"light")};return v(KM.Provider,{value:{theme:e,toggleTheme:i,isDark:n},children:t})},RG=({isOpen:t,onClose:e,onResourceAdded:r})=>{const[n,i]=x.useState({name:"",description:"",category:"",location:"",capacity:"",status:"available",equipment:"",maintenanceSchedule:""}),[a,o]=x.useState(!1),s=[{value:"Laboratory",label:"Laboratory"},{value:"Meeting Room",label:"Meeting Room"},{value:"Classroom",label:"Classroom"},{value:"Auditorium",label:"Auditorium"},{value:"Computer Lab",label:"Computer Lab"},{value:"Equipment",label:"Equipment"},{value:"Vehicle",label:"Vehicle"},{value:"Sports Facility",label:"Sports Facility"},{value:"Library",label:"Library"},{value:"Other",label:"Other"}],l=[{value:"available",label:"Available"},{value:"booked",label:"Booked"},{value:"maintenance",label:"Under Maintenance"},{value:"unavailable",label:"Unavailable"}],c=[{value:"Weekly",label:"Weekly"},{value:"Monthly",label:"Monthly"},{value:"Quarterly",label:"Quarterly"},{value:"Annually",label:"Annually"},{value:"As Needed",label:"As Needed"}],u=(h,p)=>{i(m=>({...m,[h]:p}))},d=async h=>{if(h.preventDefault(),!n.name||!n.description||!n.category||!n.location){_e.error("Please fill in all required fields");return}o(!0);try{const p=n.equipment.split(",").map(m=>m.trim()).filter(m=>m.length>0);await Ce.createResource({name:n.name,description:n.description,category:n.category,location:n.location,capacity:parseInt(n.capacity)||0,status:n.status,equipment:p,maintenanceSchedule:n.maintenanceSchedule}),_e.success("Resource added successfully!"),r(),e(),i({name:"",description:"",category:"",location:"",capacity:"",status:"available",equipment:"",maintenanceSchedule:""})}catch(p){console.error("Error adding resource:",p),_e.error("Failed to add resource. Please try again.")}finally{o(!1)}};return t?v("div",{className:"fixed inset-0 bg-black bg-opacity-50 dark:bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm",children:C("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto border border-gray-200 dark:border-gray-700",children:[C("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[C("div",{className:"flex items-center space-x-3",children:[v("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg",children:v(nd,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),v("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Add New Resource"})]}),v("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-400 transition-colors",children:v(Lo,{className:"w-6 h-6"})})]}),C("form",{onSubmit:d,className:"p-6 space-y-6",children:[C("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v("div",{className:"md:col-span-2",children:v($e,{label:"Resource Name *",type:"text",value:n.name,onChange:h=>u("name",h),placeholder:"Enter resource name",required:!0,icon:v(Zi,{className:"w-4 h-4"})})}),v("div",{className:"md:col-span-2",children:C("div",{className:"space-y-2",children:[v("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Description *"}),v("textarea",{value:n.description,onChange:h=>u("description",h.target.value),placeholder:"Enter resource description",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",rows:3,required:!0})]})}),v("div",{children:v($e,{label:"Category *",type:"select",value:n.category,onChange:h=>u("category",h),options:s,required:!0,icon:v(Zi,{className:"w-4 h-4"})})}),v("div",{children:v($e,{label:"Location *",type:"text",value:n.location,onChange:h=>u("location",h),placeholder:"Building, Room number",required:!0,icon:v(h1,{className:"w-4 h-4"})})}),v("div",{children:v($e,{label:"Capacity",type:"text",value:n.capacity,onChange:h=>u("capacity",h),placeholder:"Number of people/items",icon:v(Ic,{className:"w-4 h-4"})})}),v("div",{children:v($e,{label:"Status",type:"select",value:n.status,onChange:h=>u("status",h),options:l,icon:v(Zi,{className:"w-4 h-4"})})}),v("div",{className:"md:col-span-2",children:v($e,{label:"Equipment (comma-separated)",type:"text",value:n.equipment,onChange:h=>u("equipment",h),placeholder:"Computers, Projector, Whiteboard",icon:v(m1,{className:"w-4 h-4"})})}),v("div",{className:"md:col-span-2",children:v($e,{label:"Maintenance Schedule",type:"select",value:n.maintenanceSchedule,onChange:h=>u("maintenanceSchedule",h),options:c,icon:v(hi,{className:"w-4 h-4"})})})]}),C("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[v(Ee,{type:"button",variant:"outline",onClick:e,disabled:a,children:"Cancel"}),v(Ee,{type:"submit",disabled:a,className:"flex items-center space-x-2",children:a?C(Jl,{children:[v("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),v("span",{children:"Adding..."})]}):C(Jl,{children:[v(nd,{className:"w-4 h-4"}),v("span",{children:"Add Resource"})]})})]})]})]})}):null},MG=({isOpen:t,onClose:e,onResourceUpdated:r,resource:n})=>{const[i,a]=x.useState({name:"",description:"",category:"",location:"",capacity:"",status:"available",equipment:"",maintenanceSchedule:""}),[o,s]=x.useState(!1),l=[{value:"Laboratory",label:"Laboratory"},{value:"Meeting Room",label:"Meeting Room"},{value:"Classroom",label:"Classroom"},{value:"Auditorium",label:"Auditorium"},{value:"Computer Lab",label:"Computer Lab"},{value:"Equipment",label:"Equipment"},{value:"Vehicle",label:"Vehicle"},{value:"Sports Facility",label:"Sports Facility"},{value:"Library",label:"Library"},{value:"Other",label:"Other"}],c=[{value:"available",label:"Available"},{value:"booked",label:"Booked"},{value:"maintenance",label:"Under Maintenance"},{value:"unavailable",label:"Unavailable"}],u=[{value:"Weekly",label:"Weekly"},{value:"Monthly",label:"Monthly"},{value:"Quarterly",label:"Quarterly"},{value:"Annually",label:"Annually"},{value:"As Needed",label:"As Needed"}];x.useEffect(()=>{var p;n&&a({name:n.name||"",description:n.description||"",category:n.category||"",location:n.location||"",capacity:((p=n.capacity)==null?void 0:p.toString())||"",status:n.status||"available",equipment:Array.isArray(n.equipment)?n.equipment.join(", "):"",maintenanceSchedule:n.maintenanceSchedule||""})},[n]);const d=(p,m)=>{a(g=>({...g,[p]:m}))},h=async p=>{if(p.preventDefault(),!n||!i.name||!i.description||!i.category||!i.location){_e.error("Please fill in all required fields");return}s(!0);try{const m=i.equipment.split(",").map(g=>g.trim()).filter(g=>g.length>0);await Ce.updateResource(n.id,{name:i.name,description:i.description,category:i.category,location:i.location,capacity:parseInt(i.capacity)||0,status:i.status,equipment:m,maintenanceSchedule:i.maintenanceSchedule}),_e.success("Resource updated successfully!"),r(),e()}catch(m){console.error("Error updating resource:",m),_e.error("Failed to update resource. Please try again.")}finally{s(!1)}};return!t||!n?null:v("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:C("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[C("div",{className:"flex items-center justify-between p-6 border-b",children:[C("div",{className:"flex items-center space-x-3",children:[v("div",{className:"p-2 bg-blue-100 rounded-lg",children:v(Iw,{className:"w-5 h-5 text-blue-600"})}),v("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Resource"})]}),v("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:v(Lo,{className:"w-6 h-6"})})]}),C("form",{onSubmit:h,className:"p-6 space-y-6",children:[C("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v("div",{className:"md:col-span-2",children:v($e,{label:"Resource Name *",type:"text",value:i.name,onChange:p=>d("name",p),placeholder:"Enter resource name",required:!0,icon:v(Zi,{className:"w-4 h-4"})})}),v("div",{className:"md:col-span-2",children:C("div",{className:"space-y-2",children:[v("label",{className:"block text-sm font-medium text-gray-700",children:"Description *"}),v("textarea",{value:i.description,onChange:p=>d("description",p.target.value),placeholder:"Enter resource description",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,required:!0})]})}),v("div",{children:v($e,{label:"Category *",type:"select",value:i.category,onChange:p=>d("category",p),options:l,required:!0,icon:v(Zi,{className:"w-4 h-4"})})}),v("div",{children:v($e,{label:"Location *",type:"text",value:i.location,onChange:p=>d("location",p),placeholder:"Building, Room number",required:!0,icon:v(h1,{className:"w-4 h-4"})})}),v("div",{children:v($e,{label:"Capacity",type:"text",value:i.capacity,onChange:p=>d("capacity",p),placeholder:"Number of people/items",icon:v(Ic,{className:"w-4 h-4"})})}),v("div",{children:v($e,{label:"Status",type:"select",value:i.status,onChange:p=>d("status",p),options:c,icon:v(Zi,{className:"w-4 h-4"})})}),v("div",{className:"md:col-span-2",children:v($e,{label:"Equipment (comma-separated)",type:"text",value:i.equipment,onChange:p=>d("equipment",p),placeholder:"Computers, Projector, Whiteboard",icon:v(m1,{className:"w-4 h-4"})})}),v("div",{className:"md:col-span-2",children:v($e,{label:"Maintenance Schedule",type:"select",value:i.maintenanceSchedule,onChange:p=>d("maintenanceSchedule",p),options:u,icon:v(hi,{className:"w-4 h-4"})})})]}),C("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[v(Ee,{type:"button",variant:"outline",onClick:e,disabled:o,children:"Cancel"}),v(Ee,{type:"submit",disabled:o,className:"flex items-center space-x-2",children:o?C(Jl,{children:[v("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),v("span",{children:"Updating..."})]}):C(Jl,{children:[v(Iw,{className:"w-4 h-4"}),v("span",{children:"Update Resource"})]})})]})]})]})})},LG=({isOpen:t,onClose:e,resource:r,currentUser:n,onBookingCreated:i})=>{const[a,o]=x.useState({startDate:"",startTime:"",endTime:"",purpose:"",attendees:"",notes:""}),[s,l]=x.useState({}),[c,u]=x.useState(!1),[d,h]=x.useState([]),[p,m]=x.useState(!1);x.useEffect(()=>{t&&(h([]),m(!1))},[t]);const g=(E,A)=>{o(D=>({...D,[E]:A})),s[E]&&l(D=>({...D,[E]:""})),["startDate","startTime","endTime"].includes(E)&&_()},_=async()=>{if(!r||!a.startDate||!a.startTime||!a.endTime){h([]);return}try{m(!0);const E=Vh(a.startDate,a.startTime),A=Vh(a.startDate,a.endTime),D=await Ce.checkBookingConflicts(r.id,fl(E),fl(A));h(D)}catch(E){console.error("Error checking conflicts:",E),h([])}finally{m(!1)}},b=()=>{const E={};if(a.startDate||(E.startDate="Start date is required"),a.startTime||(E.startTime="Start time is required"),a.endTime||(E.endTime="End time is required"),a.purpose||(E.purpose="Purpose is required"),a.startTime&&a.endTime){const A=new Date(`2000-01-01T${a.startTime}`);new Date(`2000-01-01T${a.endTime}`)<=A&&(E.endTime="End time must be after start time")}if(a.startDate){const A=new Date(a.startDate),D=new Date;D.setHours(0,0,0,0),A<D&&(E.startDate="Cannot book in the past")}return l(E),Object.keys(E).length===0},w=async E=>{if(E.preventDefault(),!(!b()||!r)){u(!0);try{const A=Vh(a.startDate,a.startTime),D=Vh(a.startDate,a.endTime);console.log("🔍 Checking for booking conflicts...");const L=await Ce.checkBookingConflicts(r.id,fl(A),fl(D));if(L.length>0){console.log("⚠️ Booking conflicts found:",L);const I=`⚠️ This resource is already booked for the selected time:

${L.map(R=>{const M=new Date(R.startTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),O=new Date(R.endTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),P=R.status==="approved"?"✅ Approved":"⏳ Pending";return`${M} - ${O} (${P})`}).join(`
`)}

Please choose a different time or date.`;_e.error(I,{duration:8e3,style:{maxWidth:"500px",whiteSpace:"pre-line",fontSize:"14px"}}),u(!1);return}console.log("✅ No conflicts found, creating booking...");const T={userId:n.id,userName:n.username,userRole:n.role,resourceId:r.id,resourceName:r.name,startTime:fl(A),endTime:fl(D),purpose:a.purpose,attendees:parseInt(a.attendees)||1,status:"pending",isRecurring:!1};console.log("📝 Creating booking with user ID:",n.id),console.log("📝 Booking data:",T),await Ce.createBooking(T),_e.success("Booking created successfully!"),i(),e(),o({startDate:"",startTime:"",endTime:"",purpose:"",attendees:"",notes:""})}catch(A){console.error("Booking creation failed:",A),_e.error(A.message||"Failed to create booking")}finally{u(!1)}}};return!t||!r?null:v("div",{className:"fixed inset-0 bg-black bg-opacity-50 dark:bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm p-4",children:C("div",{className:"bg-white dark:bg-gray-800 rounded-lg sm:rounded-xl shadow-xl w-full max-w-md sm:max-w-lg max-h-[95vh] sm:max-h-[90vh] overflow-y-auto border border-gray-200 dark:border-gray-700",children:[C("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-200 dark:border-gray-700 sticky top-0 bg-white dark:bg-gray-800 z-10",children:[C("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-gray-100 pr-4 leading-tight",children:["Book Resource: ",r.name]}),v("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-400 p-2 -mr-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",style:{minHeight:"44px",minWidth:"44px"},children:v(Lo,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),C("form",{onSubmit:w,className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[C("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3 sm:p-4 mb-4",children:[v("h3",{className:"font-medium text-gray-900 dark:text-gray-100 mb-3 text-sm sm:text-base",children:"Resource Details"}),C("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:[C("p",{children:[v("strong",{children:"Name:"})," ",r.name]}),C("p",{children:[v("strong",{children:"Category:"})," ",r.category]}),C("p",{children:[v("strong",{children:"Location:"})," ",r.location]}),C("p",{children:[v("strong",{children:"Capacity:"})," ",r.capacity||"N/A"]})]})]}),C("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[v($e,{label:"Start Date",type:"date",value:a.startDate,onChange:E=>g("startDate",E),error:s.startDate,required:!0}),v($e,{label:"Start Time",type:"time",value:a.startTime,onChange:E=>g("startTime",E),error:s.startTime,required:!0})]}),C("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[v($e,{label:"End Time",type:"time",value:a.endTime,onChange:E=>g("endTime",E),error:s.endTime,required:!0}),v($e,{label:"Number of Attendees",type:"number",value:a.attendees,onChange:E=>g("attendees",E),placeholder:"1",min:"1",max:String(r.capacity||100)})]}),p&&C("div",{className:"flex items-center space-x-2 text-blue-600 dark:text-blue-400 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[v("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 dark:border-blue-400"}),v("span",{className:"text-sm",children:"Checking availability..."})]}),d.length>0&&!p&&C("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded-lg p-3 sm:p-4",children:[C("div",{className:"flex items-center space-x-2 mb-3",children:[v("div",{className:"w-5 h-5 bg-red-100 dark:bg-red-800 rounded-full flex items-center justify-center flex-shrink-0",children:v("span",{className:"text-red-600 dark:text-red-400 text-xs",children:"⚠️"})}),v("h4",{className:"text-sm font-medium text-red-800 dark:text-red-300",children:"Time Conflict Detected"})]}),C("div",{className:"text-xs sm:text-sm text-red-700 dark:text-red-300 space-y-2",children:[v("p",{children:"This resource is already booked for the selected time:"}),v("div",{className:"space-y-1 ml-2",children:d.map((E,A)=>{const D=new Date(E.startTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),L=new Date(E.endTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),T=E.status==="approved"?"✅ Approved":"⏳ Pending";return C("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1",children:[C("span",{children:["• ",D," - ",L]}),C("span",{className:"text-xs opacity-75",children:["(",T,")"]})]},A)})}),v("p",{className:"mt-2 font-medium",children:"Please choose a different time or date."})]})]}),v($e,{label:"Purpose",type:"text",value:a.purpose,onChange:E=>g("purpose",E),error:s.purpose,placeholder:"e.g., Study session, Meeting, Lab work",required:!0}),C("div",{children:[v("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Additional Notes"}),v("textarea",{value:a.notes,onChange:E=>g("notes",E.target.value),className:"w-full px-3 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-base resize-none",rows:3,placeholder:"Any additional information..."})]}),C("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 pt-4 sticky bottom-0 bg-white dark:bg-gray-800 -mx-4 sm:-mx-6 px-4 sm:px-6 pb-4 sm:pb-6 border-t sm:border-t-0 border-gray-200 dark:border-gray-700",children:[v(Ee,{type:"button",variant:"outline",onClick:e,className:"w-full sm:flex-1 mobile-button",children:"Cancel"}),v(Ee,{type:"submit",loading:c,disabled:d.length>0||p,className:"w-full sm:flex-1 mobile-button",children:d.length>0?"Time Conflict - Cannot Book":"Create Booking"})]})]})]})})},jG=({isOpen:t,onClose:e,booking:r,currentUser:n,onBookingUpdated:i})=>{const[a,o]=x.useState(!1);if(!t||!r)return null;const s=h=>{switch(h){case"approved":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"rejected":return"bg-red-100 text-red-800";case"cancelled":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},l=async()=>{if(window.confirm("Are you sure you want to cancel this booking?")){o(!0);try{await Ce.updateBooking(r.id,{...r,status:"cancelled"}),_e.success("Booking cancelled successfully"),i(),e()}catch(h){console.error("Failed to cancel booking:",h),_e.error("Failed to cancel booking")}finally{o(!1)}}},c=()=>{var g;const h=new Date;return(new Date(r.startTime).getTime()-h.getTime())/(1e3*60*60)>2&&r.status!=="cancelled"&&r.status!=="rejected"&&(n.id===r.userId||((g=n.role)==null?void 0:g.toLowerCase())==="admin")},u=Nl(r.startTime),d=Nl(r.endTime);return v("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:C("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full mx-4 max-h-[90vh] overflow-y-auto",children:[C("div",{className:"flex items-center justify-between p-6 border-b",children:[v("h2",{className:"text-xl font-semibold text-gray-900",children:"Booking Details"}),v("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:v(Lo,{className:"w-6 h-6"})})]}),C("div",{className:"p-6 space-y-6",children:[C("div",{className:"flex items-center justify-between",children:[v("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${s(r.status)}`,children:r.status.charAt(0).toUpperCase()+r.status.slice(1)}),C("span",{className:"text-sm text-gray-500",children:["ID: ",r.id.slice(-8)]})]}),C("div",{className:"bg-blue-50 rounded-lg p-4",children:[C("h3",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[v(h1,{className:"w-5 h-5 mr-2 text-blue-600"}),"Resource Information"]}),C("div",{className:"space-y-2 text-sm",children:[C("p",{children:[v("strong",{children:"Name:"})," ",r.resourceName]}),C("p",{children:[v("strong",{children:"Category:"})," ",r.resourceCategory]}),C("p",{children:[v("strong",{children:"Department:"})," ",r.department]})]})]}),C("div",{className:"bg-gray-50 rounded-lg p-4",children:[C("h3",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[v(hi,{className:"w-5 h-5 mr-2 text-gray-600"}),"Booking Details"]}),C("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[C("div",{children:[v("p",{className:"text-gray-500 dark:text-gray-400",children:"Start Date & Time"}),v("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:u})]}),C("div",{children:[v("p",{className:"text-gray-500 dark:text-gray-400",children:"End Date & Time"}),v("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:d})]}),C("div",{children:[v("p",{className:"text-gray-600",children:"Attendees"}),C("p",{className:"font-medium",children:[r.attendees," people"]})]})]})]}),v("div",{className:"space-y-4",children:C("div",{children:[C("h3",{className:"font-medium text-gray-900 mb-2 flex items-center",children:[v(YB,{className:"w-5 h-5 mr-2 text-gray-600"}),"Purpose"]}),v("p",{className:"text-gray-700 bg-gray-50 rounded p-3",children:r.purpose})]})}),C("div",{className:"bg-green-50 rounded-lg p-4",children:[C("h3",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[v(Cl,{className:"w-5 h-5 mr-2 text-green-600"}),"Booked By"]}),C("div",{className:"space-y-2 text-sm",children:[C("p",{children:[v("strong",{children:"Name:"})," ",r.userName]}),C("p",{children:[v("strong",{children:"Role:"})," ",r.userRole]})]})]}),C("div",{className:"text-xs text-gray-500 space-y-1",children:[C("p",{children:["Created: ",new Date(r.createdAt).toLocaleString()]}),r.updatedAt&&r.updatedAt!==r.createdAt&&C("p",{children:["Last Updated: ",new Date(r.updatedAt).toLocaleString()]})]}),c()&&C("div",{className:"flex space-x-3 pt-4 border-t",children:[v(Ee,{type:"button",variant:"outline",onClick:e,className:"flex-1",children:"Close"}),v(Ee,{type:"button",variant:"outline",onClick:l,loading:a,className:"flex-1 text-red-600 hover:text-red-700",children:"Cancel Booking"})]}),!c()&&v("div",{className:"flex justify-center pt-4 border-t",children:v(Ee,{type:"button",variant:"outline",onClick:e,className:"px-8",children:"Close"})})]})]})})};var GM={exports:{}},$G="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",VG=$G,FG=VG;function YM(){}function QM(){}QM.resetWarningCache=YM;var UG=function(){function t(n,i,a,o,s,l){if(l!==FG){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:QM,resetWarningCache:YM};return r.PropTypes=r,r};GM.exports=UG();var BG=GM.exports;const U=wn(BG);function XM(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=XM(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Gg(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=XM(t))&&(n&&(n+=" "),n+=e);return n}const zG=(t,e,r,n)=>{if(r==="length"||r==="prototype"||r==="arguments"||r==="caller")return;const i=Object.getOwnPropertyDescriptor(t,r),a=Object.getOwnPropertyDescriptor(e,r);!WG(i,a)&&n||Object.defineProperty(t,r,a)},WG=function(t,e){return t===void 0||t.configurable||t.writable===e.writable&&t.enumerable===e.enumerable&&t.configurable===e.configurable&&(t.writable||t.value===e.value)},qG=(t,e)=>{const r=Object.getPrototypeOf(e);r!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,r)},KG=(t,e)=>`/* Wrapped ${t}*/
${e}`,HG=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),GG=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),YG=(t,e,r)=>{const n=r===""?"":`with ${r.trim()}() `,i=KG.bind(null,n,e.toString());Object.defineProperty(i,"name",GG),Object.defineProperty(t,"toString",{...HG,value:i})},QG=(t,e,{ignoreNonConfigurable:r=!1}={})=>{const{name:n}=t;for(const i of Reflect.ownKeys(e))zG(t,e,i,r);return qG(t,e),YG(t,e,n),t};var XG=QG,sb={exports:{}},JG=()=>{const t={};return t.promise=new Promise((e,r)=>{t.resolve=e,t.reject=r}),t};(function(t,e){var r=fh&&fh.__awaiter||function(o,s,l,c){return new(l||(l=Promise))(function(u,d){function h(g){try{m(c.next(g))}catch(_){d(_)}}function p(g){try{m(c.throw(g))}catch(_){d(_)}}function m(g){g.done?u(g.value):new l(function(_){_(g.value)}).then(h,p)}m((c=c.apply(o,s||[])).next())})},n=fh&&fh.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});const i=n(JG);function a(o,s="maxAge"){let l,c,u;const d=()=>r(this,void 0,void 0,function*(){if(l!==void 0)return;const m=g=>r(this,void 0,void 0,function*(){u=i.default();const _=g[1][s]-Date.now();if(_<=0){o.delete(g[0]),u.resolve();return}return l=g[0],c=setTimeout(()=>{o.delete(g[0]),u&&u.resolve()},_),typeof c.unref=="function"&&c.unref(),u.promise});try{for(const g of o)yield m(g)}catch{}l=void 0}),h=()=>{l=void 0,c!==void 0&&(clearTimeout(c),c=void 0),u!==void 0&&(u.reject(void 0),u=void 0)},p=o.set.bind(o);return o.set=(m,g)=>{o.has(m)&&o.delete(m);const _=p(m,g);return l&&l===m&&h(),d(),_},d(),o}e.default=a,t.exports=a,t.exports.default=a})(sb,sb.exports);var ZG=sb.exports;const eY=XG,tY=ZG,Xy=new WeakMap,JM=new WeakMap,wm=(t,{cacheKey:e,cache:r=new Map,maxAge:n}={})=>{typeof n=="number"&&tY(r);const i=function(...a){const o=e?e(a):a[0],s=r.get(o);if(s)return s.data;const l=t.apply(this,a);return r.set(o,{data:l,maxAge:n?Date.now()+n:Number.POSITIVE_INFINITY}),l};return eY(i,t,{ignoreNonConfigurable:!0}),JM.set(i,r),i};wm.decorator=(t={})=>(e,r,n)=>{const i=e[r];if(typeof i!="function")throw new TypeError("The decorated value must be a function");delete n.value,delete n.writable,n.get=function(){if(!Xy.has(this)){const a=wm(i,t);return Xy.set(this,a),a}return Xy.get(this)}};wm.clear=t=>{const e=JM.get(t);if(!e)throw new TypeError("Can't clear a function that was not memoized!");if(typeof e.clear!="function")throw new TypeError("The cache Map can't be cleared!");e.clear()};var rY=wm;const ZM=wn(rY);function nY(t){return typeof t=="string"}function iY(t,e,r){return r.indexOf(t)===e}function aY(t){return t.toLowerCase()===t}function wP(t){return t.indexOf(",")===-1?t:t.split(",")}function lb(t){if(!t)return t;if(t==="C"||t==="posix"||t==="POSIX")return"en-US";if(t.indexOf(".")!==-1){var e=t.split(".")[0],r=e===void 0?"":e;return lb(r)}if(t.indexOf("@")!==-1){var n=t.split("@")[0],r=n===void 0?"":n;return lb(r)}if(t.indexOf("-")===-1||!aY(t))return t;var i=t.split("-"),a=i[0],o=i[1],s=o===void 0?"":o;return"".concat(a,"-").concat(s.toUpperCase())}function oY(t){var e=t===void 0?{}:t,r=e.useFallbackLocale,n=r===void 0?!0:r,i=e.fallbackLocale,a=i===void 0?"en-US":i,o=[];if(typeof navigator<"u"){for(var s=navigator.languages||[],l=[],c=0,u=s;c<u.length;c++){var d=u[c];l=l.concat(wP(d))}var h=navigator.language,p=h&&wP(h);o=o.concat(l,p)}return n&&o.push(a),o.filter(nY).map(lb).filter(iY)}var sY=ZM(oY,{cacheKey:JSON.stringify});function lY(t){return sY(t)[0]||null}var eL=ZM(lY,{cacheKey:JSON.stringify});function ba(t,e,r){return function(i,a){a===void 0&&(a=r);var o=t(i)+a;return e(o)}}function kf(t){return function(r){return new Date(t(r).getTime()-1)}}function Tf(t,e){return function(n){return[t(n),e(n)]}}function ft(t){if(t instanceof Date)return t.getFullYear();if(typeof t=="number")return t;var e=parseInt(t,10);if(typeof t=="string"&&!isNaN(e))return e;throw new Error("Failed to get year from date: ".concat(t,"."))}function Fo(t){if(t instanceof Date)return t.getMonth();throw new Error("Failed to get month from date: ".concat(t,"."))}function Yg(t){if(t instanceof Date)return t.getDate();throw new Error("Failed to get year from date: ".concat(t,"."))}function Mc(t){var e=ft(t),r=e+(-e+1)%100,n=new Date;return n.setFullYear(r,0,1),n.setHours(0,0,0,0),n}var cY=ba(ft,Mc,-100),tL=ba(ft,Mc,100),mx=kf(tL),uY=ba(ft,mx,-100),rL=Tf(Mc,mx);function Uo(t){var e=ft(t),r=e+(-e+1)%10,n=new Date;return n.setFullYear(r,0,1),n.setHours(0,0,0,0),n}var nL=ba(ft,Uo,-10),gx=ba(ft,Uo,10),Qg=kf(gx),iL=ba(ft,Qg,-10),aL=Tf(Uo,Qg);function Lc(t){var e=ft(t),r=new Date;return r.setFullYear(e,0,1),r.setHours(0,0,0,0),r}var oL=ba(ft,Lc,-1),vx=ba(ft,Lc,1),Xg=kf(vx),sL=ba(ft,Xg,-1),dY=Tf(Lc,Xg);function yx(t,e){return function(n,i){i===void 0&&(i=e);var a=ft(n),o=Fo(n)+i,s=new Date;return s.setFullYear(a,o,1),s.setHours(0,0,0,0),t(s)}}function Zs(t){var e=ft(t),r=Fo(t),n=new Date;return n.setFullYear(e,r,1),n.setHours(0,0,0,0),n}var lL=yx(Zs,-1),wx=yx(Zs,1),Af=kf(wx),cL=yx(Af,-1),fY=Tf(Zs,Af);function hY(t,e){return function(n,i){i===void 0&&(i=e);var a=ft(n),o=Fo(n),s=Yg(n)+i,l=new Date;return l.setFullYear(a,o,s),l.setHours(0,0,0,0),t(l)}}function Pf(t){var e=ft(t),r=Fo(t),n=Yg(t),i=new Date;return i.setFullYear(e,r,n),i.setHours(0,0,0,0),i}var pY=hY(Pf,1),bx=kf(pY),mY=Tf(Pf,bx);function uL(t){return Yg(Af(t))}var Su,ot={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},Dl={ARABIC:"Arabic",HEBREW:"Hebrew",ISO_8601:"ISO 8601",US:"US"},gY=(Su={},Su[ot.GREGORY]=["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],Su[ot.HEBREW]=["he","he-IL"],Su[ot.ISLAMIC]=["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"],Su),_x=[0,1,2,3,4,5,6],Jy=new Map;function vY(t){return function(r,n){var i=r||eL();Jy.has(i)||Jy.set(i,new Map);var a=Jy.get(i);return a.has(t)||a.set(t,new Intl.DateTimeFormat(i||void 0,t).format),a.get(t)(n)}}function yY(t){var e=new Date(t);return new Date(e.setHours(12))}function el(t){return function(e,r){return vY(t)(e,yY(r))}}var wY={day:"numeric"},bY={day:"numeric",month:"long",year:"numeric"},_Y={month:"long"},xY={month:"long",year:"numeric"},EY={weekday:"short"},SY={weekday:"long"},kY={year:"numeric"},TY=el(wY),AY=el(bY),PY=el(_Y),dL=el(xY),IY=el(EY),CY=el(SY),Jg=el(kY),OY=_x[0],NY=_x[5],bP=_x[6];function Ud(t,e){e===void 0&&(e=ot.ISO_8601);var r=t.getDay();switch(e){case ot.ISO_8601:return(r+6)%7;case ot.ISLAMIC:return(r+1)%7;case ot.HEBREW:case ot.GREGORY:return r;default:throw new Error("Unsupported calendar type.")}}function DY(t){var e=Mc(t);return ft(e)}function RY(t){var e=Uo(t);return ft(e)}function cb(t,e){e===void 0&&(e=ot.ISO_8601);var r=ft(t),n=Fo(t),i=t.getDate()-Ud(t,e);return new Date(r,n,i)}function MY(t,e){e===void 0&&(e=ot.ISO_8601);var r=e===ot.GREGORY?ot.GREGORY:ot.ISO_8601,n=cb(t,e),i=ft(t)+1,a,o;do a=new Date(i,0,r===ot.ISO_8601?4:1),o=cb(a,e),i-=1;while(t<o);return Math.round((n.getTime()-o.getTime())/(864e5*7))+1}function xs(t,e){switch(t){case"century":return Mc(e);case"decade":return Uo(e);case"year":return Lc(e);case"month":return Zs(e);case"day":return Pf(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function LY(t,e){switch(t){case"century":return cY(e);case"decade":return nL(e);case"year":return oL(e);case"month":return lL(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function fL(t,e){switch(t){case"century":return tL(e);case"decade":return gx(e);case"year":return vx(e);case"month":return wx(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function jY(t,e){switch(t){case"decade":return nL(e,-100);case"year":return oL(e,-10);case"month":return lL(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function $Y(t,e){switch(t){case"decade":return gx(e,100);case"year":return vx(e,10);case"month":return wx(e,12);default:throw new Error("Invalid rangeType: ".concat(t))}}function hL(t,e){switch(t){case"century":return mx(e);case"decade":return Qg(e);case"year":return Xg(e);case"month":return Af(e);case"day":return bx(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function VY(t,e){switch(t){case"century":return uY(e);case"decade":return iL(e);case"year":return sL(e);case"month":return cL(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function FY(t,e){switch(t){case"decade":return iL(e,-100);case"year":return sL(e,-10);case"month":return cL(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function _P(t,e){switch(t){case"century":return rL(e);case"decade":return aL(e);case"year":return dY(e);case"month":return fY(e);case"day":return mY(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function UY(t,e,r){var n=[e,r].sort(function(i,a){return i.getTime()-a.getTime()});return[xs(t,n[0]),hL(t,n[1])]}function pL(t,e,r){return e===void 0&&(e=Jg),r.map(function(n){return e(t,n)}).join(" – ")}function BY(t,e,r){return pL(t,e,rL(r))}function mL(t,e,r){return pL(t,e,aL(r))}function zY(t){return t.getDay()===new Date().getDay()}function gL(t,e){e===void 0&&(e=ot.ISO_8601);var r=t.getDay();switch(e){case ot.ISLAMIC:case ot.HEBREW:return r===NY||r===bP;case ot.ISO_8601:case ot.GREGORY:return r===bP||r===OY;default:throw new Error("Unsupported calendar type.")}}var ui="react-calendar__navigation";function WY(t){var e=t.activeStartDate,r=t.drillUp,n=t.formatMonthYear,i=n===void 0?dL:n,a=t.formatYear,o=a===void 0?Jg:a,s=t.locale,l=t.maxDate,c=t.minDate,u=t.navigationAriaLabel,d=u===void 0?"":u,h=t.navigationAriaLive,p=t.navigationLabel,m=t.next2AriaLabel,g=m===void 0?"":m,_=t.next2Label,b=_===void 0?"»":_,w=t.nextAriaLabel,E=w===void 0?"":w,A=t.nextLabel,D=A===void 0?"›":A,L=t.prev2AriaLabel,T=L===void 0?"":L,k=t.prev2Label,I=k===void 0?"«":k,R=t.prevAriaLabel,M=R===void 0?"":R,O=t.prevLabel,P=O===void 0?"‹":O,z=t.setActiveStartDate,ie=t.showDoubleView,G=t.view,fe=t.views,W=fe.indexOf(G)>0,X=G!=="century",Q=LY(G,e),ce=X?jY(G,e):void 0,Y=fL(G,e),he=X?$Y(G,e):void 0,Nt=function(){if(Q.getFullYear()<0)return!0;var de=VY(G,e);return c&&c>=de}(),qe=X&&function(){if(ce.getFullYear()<0)return!0;var de=FY(G,e);return c&&c>=de}(),Gt=l&&l<Y,Tt=X&&l&&l<he;function en(){z(Q,"prev")}function Z(){z(ce,"prev2")}function me(){z(Y,"next")}function ve(){z(he,"next2")}function q(de){var et=function(){switch(G){case"century":return BY(s,o,de);case"decade":return mL(s,o,de);case"year":return o(s,de);case"month":return i(s,de);default:throw new Error("Invalid view: ".concat(G,"."))}}();return p?p({date:de,label:et,locale:s||eL()||void 0,view:G}):et}function Qe(){var de="".concat(ui,"__label");return le.createElement("button",{"aria-label":d,"aria-live":h,className:de,disabled:!W,onClick:r,style:{flexGrow:1},type:"button"},le.createElement("span",{className:"".concat(de,"__labelText ").concat(de,"__labelText--from")},q(e)),ie?le.createElement(le.Fragment,null,le.createElement("span",{className:"".concat(de,"__divider")}," – "),le.createElement("span",{className:"".concat(de,"__labelText ").concat(de,"__labelText--to")},q(Y))):null)}return le.createElement("div",{className:ui},I!==null&&X?le.createElement("button",{"aria-label":T,className:"".concat(ui,"__arrow ").concat(ui,"__prev2-button"),disabled:qe,onClick:Z,type:"button"},I):null,P!==null&&le.createElement("button",{"aria-label":M,className:"".concat(ui,"__arrow ").concat(ui,"__prev-button"),disabled:Nt,onClick:en,type:"button"},P),Qe(),D!==null&&le.createElement("button",{"aria-label":E,className:"".concat(ui,"__arrow ").concat(ui,"__next-button"),disabled:Gt,onClick:me,type:"button"},D),b!==null&&X?le.createElement("button",{"aria-label":g,className:"".concat(ui,"__arrow ").concat(ui,"__next2-button"),disabled:Tt,onClick:ve,type:"button"},b):null)}var Rl=globalThis&&globalThis.__assign||function(){return Rl=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Rl.apply(this,arguments)},qY=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function xP(t){return"".concat(t,"%")}function xx(t){var e=t.children,r=t.className,n=t.count,i=t.direction,a=t.offset,o=t.style,s=t.wrap,l=qY(t,["children","className","count","direction","offset","style","wrap"]);return le.createElement("div",Rl({className:r,style:Rl({display:"flex",flexDirection:i,flexWrap:s?"wrap":"nowrap"},o)},l),le.Children.map(e,function(c,u){var d=a&&u===0?xP(100*a/n):null;return le.cloneElement(c,Rl(Rl({},c.props),{style:{flexBasis:xP(100/n),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:d,marginInlineStart:d,marginInlineEnd:0}}))}))}var KY=function(){},HY=KY;const GY=wn(HY);var hl;function YY(t,e,r){return e&&e>t?e:r&&r<t?r:t}function Bd(t,e){return e[0]<=t&&e[1]>=t}function QY(t,e){return t[0]<=e[0]&&t[1]>=e[1]}function vL(t,e){return Bd(t[0],e)||Bd(t[1],e)}function EP(t,e,r){var n=vL(e,t),i=[];if(n){i.push(r);var a=Bd(t[0],e),o=Bd(t[1],e);a&&i.push("".concat(r,"Start")),o&&i.push("".concat(r,"End")),a&&o&&i.push("".concat(r,"BothEnds"))}return i}function XY(t){return Array.isArray(t)?t[0]!==null&&t[1]!==null:t!==null}function JY(t){if(!t)throw new Error("args is required");var e=t.value,r=t.date,n=t.hover,i="react-calendar__tile",a=[i];if(!r)return a;var o=new Date,s=function(){if(Array.isArray(r))return r;var p=t.dateType;if(!p)throw new Error("dateType is required when date is not an array of two dates");return _P(p,r)}();if(Bd(o,s)&&a.push("".concat(i,"--now")),!e||!XY(e))return a;var l=function(){if(Array.isArray(e))return e;var p=t.valueType;if(!p)throw new Error("valueType is required when value is not an array of two dates");return _P(p,e)}();QY(l,s)?a.push("".concat(i,"--active")):vL(l,s)&&a.push("".concat(i,"--hasActive"));var c=EP(l,s,"".concat(i,"--range"));a.push.apply(a,c);var u=Array.isArray(e)?e:[e];if(n&&u.length===1){var d=n>l[0]?[l[0],n]:[n,l[0]],h=EP(d,s,"".concat(i,"--hover"));a.push.apply(a,h)}return a}var ZY=(hl={},hl[Dl.ARABIC]=ot.ISLAMIC,hl[Dl.HEBREW]=ot.HEBREW,hl[Dl.ISO_8601]=ot.ISO_8601,hl[Dl.US]=ot.GREGORY,hl);function eQ(t){return t!==void 0&&t in Dl}var SP=!1;function Zg(t){if(eQ(t)){var e=ZY[t];return GY(SP,'Specifying calendarType="'.concat(t,'" is deprecated. Use calendarType="').concat(e,'" instead.')),SP=!0,e}return t}function ev(t){for(var e=t.className,r=t.count,n=r===void 0?3:r,i=t.dateTransform,a=t.dateType,o=t.end,s=t.hover,l=t.offset,c=t.renderTile,u=t.start,d=t.step,h=d===void 0?1:d,p=t.value,m=t.valueType,g=[],_=u;_<=o;_+=h){var b=i(_);g.push(c({classes:JY({date:b,dateType:a,hover:s,value:p,valueType:m}),date:b}))}return le.createElement(xx,{className:e,count:n,offset:l,wrap:!0},g)}function tv(t){var e=t.activeStartDate,r=t.children,n=t.classes,i=t.date,a=t.formatAbbr,o=t.locale,s=t.maxDate,l=t.maxDateTransform,c=t.minDate,u=t.minDateTransform,d=t.onClick,h=t.onMouseOver,p=t.style,m=t.tileClassName,g=t.tileContent,_=t.tileDisabled,b=t.view,w=x.useMemo(function(){var A={activeStartDate:e,date:i,view:b};return typeof m=="function"?m(A):m},[e,i,m,b]),E=x.useMemo(function(){var A={activeStartDate:e,date:i,view:b};return typeof g=="function"?g(A):g},[e,i,g,b]);return le.createElement("button",{className:Gg(n,w),disabled:c&&u(c)>i||s&&l(s)<i||_&&_({activeStartDate:e,date:i,view:b}),onClick:d?function(A){return d(i,A)}:void 0,onFocus:h?function(){return h(i)}:void 0,onMouseOver:h?function(){return h(i)}:void 0,style:p,type:"button"},a?le.createElement("abbr",{"aria-label":a(o,i)},r):r,E)}var ub=globalThis&&globalThis.__assign||function(){return ub=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ub.apply(this,arguments)},tQ=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},Zy="react-calendar__century-view__decades__decade";function rQ(t){var e=t.classes,r=e===void 0?[]:e,n=t.currentCentury,i=t.formatYear,a=i===void 0?Jg:i,o=tQ(t,["classes","currentCentury","formatYear"]),s=o.date,l=o.locale,c=[];return r&&c.push.apply(c,r),Zy&&c.push(Zy),Mc(s).getFullYear()!==n&&c.push("".concat(Zy,"--neighboringCentury")),le.createElement(tv,ub({},o,{classes:c,maxDateTransform:Qg,minDateTransform:Uo,view:"century"}),mL(l,a,s))}var db=globalThis&&globalThis.__assign||function(){return db=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},db.apply(this,arguments)},kP=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function nQ(t){var e=t.activeStartDate,r=t.hover,n=t.showNeighboringCentury,i=t.value,a=t.valueType,o=kP(t,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),s=DY(e),l=s+(n?119:99);return le.createElement(ev,{className:"react-calendar__century-view__decades",dateTransform:Uo,dateType:"decade",end:l,hover:r,renderTile:function(c){var u=c.date,d=kP(c,["date"]);return le.createElement(rQ,db({key:u.getTime()},o,d,{activeStartDate:e,currentCentury:s,date:u}))},start:s,step:10,value:i,valueType:a})}var TP=globalThis&&globalThis.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))},iQ=Object.values(ot),aQ=Object.values(Dl),fb=["century","decade","year","month"],yL=U.oneOf(TP(TP([],iQ,!0),aQ,!0)),bm=U.oneOfType([U.string,U.arrayOf(U.string)]),Ex=function(e,r,n){var i=e,a=r,o=i[a];if(!o)return null;if(!(o instanceof Date))return new Error("Invalid prop `".concat(r,"` of type `").concat(typeof o,"` supplied to `").concat(n,"`, expected instance of `Date`."));var s=e.maxDate;return s&&o>s?new Error("Invalid prop `".concat(r,"` of type `").concat(typeof o,"` supplied to `").concat(n,"`, minDate cannot be larger than maxDate.")):null},Sx=function(e,r,n){var i=e,a=r,o=i[a];if(!o)return null;if(!(o instanceof Date))return new Error("Invalid prop `".concat(r,"` of type `").concat(typeof o,"` supplied to `").concat(n,"`, expected instance of `Date`."));var s=e.minDate;return s&&o<s?new Error("Invalid prop `".concat(r,"` of type `").concat(typeof o,"` supplied to `").concat(n,"`, maxDate cannot be smaller than minDate.")):null},oQ=U.oneOfType([U.func,U.exact({current:U.any})]),sQ=U.arrayOf(U.oneOfType([U.instanceOf(Date),U.oneOf([null])]).isRequired),lQ=U.oneOfType([U.instanceOf(Date),U.oneOf([null]),sQ]);U.arrayOf(U.oneOf(fb));var _m=function(e,r,n){var i=e,a=r,o=i[a];return o!==void 0&&(typeof o!="string"||fb.indexOf(o)===-1)?new Error("Invalid prop `".concat(r,"` of value `").concat(o,"` supplied to `").concat(n,"`, expected one of [").concat(fb.map(function(s){return'"'.concat(s,'"')}).join(", "),"].")):null};_m.isRequired=function(e,r,n,i,a){var o=e,s=r,l=o[s];return l?_m(e,r,n):new Error("The prop `".concat(r,"` is marked as required in `").concat(n,"`, but its value is `").concat(l,"`."))};var cQ=function(t){return U.arrayOf(t)},rv={activeStartDate:U.instanceOf(Date).isRequired,hover:U.instanceOf(Date),locale:U.string,maxDate:Sx,minDate:Ex,onClick:U.func,onMouseOver:U.func,tileClassName:U.oneOfType([U.func,bm]),tileContent:U.oneOfType([U.func,U.node]),value:lQ,valueType:U.oneOf(["century","decade","year","month","day"]).isRequired};U.instanceOf(Date).isRequired,U.arrayOf(U.string.isRequired).isRequired,U.instanceOf(Date).isRequired,U.string,U.func,U.func,U.objectOf(U.oneOfType([U.string,U.number])),U.oneOfType([U.func,bm]),U.oneOfType([U.func,U.node]),U.func;var zd=globalThis&&globalThis.__assign||function(){return zd=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},zd.apply(this,arguments)},wL=function(e){function r(){return le.createElement(nQ,zd({},e))}return le.createElement("div",{className:"react-calendar__century-view"},r())};wL.propTypes=zd(zd({},rv),{showNeighboringCentury:U.bool});const uQ=wL;var hb=globalThis&&globalThis.__assign||function(){return hb=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},hb.apply(this,arguments)},dQ=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},e0="react-calendar__decade-view__years__year";function fQ(t){var e=t.classes,r=e===void 0?[]:e,n=t.currentDecade,i=t.formatYear,a=i===void 0?Jg:i,o=dQ(t,["classes","currentDecade","formatYear"]),s=o.date,l=o.locale,c=[];return r&&c.push.apply(c,r),e0&&c.push(e0),Uo(s).getFullYear()!==n&&c.push("".concat(e0,"--neighboringDecade")),le.createElement(tv,hb({},o,{classes:c,maxDateTransform:Xg,minDateTransform:Lc,view:"decade"}),a(l,s))}var pb=globalThis&&globalThis.__assign||function(){return pb=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},pb.apply(this,arguments)},AP=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function hQ(t){var e=t.activeStartDate,r=t.hover,n=t.showNeighboringDecade,i=t.value,a=t.valueType,o=AP(t,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),s=RY(e),l=s+(n?11:9);return le.createElement(ev,{className:"react-calendar__decade-view__years",dateTransform:Lc,dateType:"year",end:l,hover:r,renderTile:function(c){var u=c.date,d=AP(c,["date"]);return le.createElement(fQ,pb({key:u.getTime()},o,d,{activeStartDate:e,currentDecade:s,date:u}))},start:s,value:i,valueType:a})}var Wd=globalThis&&globalThis.__assign||function(){return Wd=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Wd.apply(this,arguments)},bL=function(e){function r(){return le.createElement(hQ,Wd({},e))}return le.createElement("div",{className:"react-calendar__decade-view"},r())};bL.propTypes=Wd(Wd({},rv),{showNeighboringDecade:U.bool});const pQ=bL;var mb=globalThis&&globalThis.__assign||function(){return mb=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},mb.apply(this,arguments)},mQ=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},PP=globalThis&&globalThis.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))},gQ="react-calendar__year-view__months__month";function vQ(t){var e=t.classes,r=e===void 0?[]:e,n=t.formatMonth,i=n===void 0?PY:n,a=t.formatMonthYear,o=a===void 0?dL:a,s=mQ(t,["classes","formatMonth","formatMonthYear"]),l=s.date,c=s.locale;return le.createElement(tv,mb({},s,{classes:PP(PP([],r,!0),[gQ],!1),formatAbbr:o,maxDateTransform:Af,minDateTransform:Zs,view:"year"}),i(c,l))}var gb=globalThis&&globalThis.__assign||function(){return gb=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},gb.apply(this,arguments)},IP=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function yQ(t){var e=t.activeStartDate,r=t.hover,n=t.value,i=t.valueType,a=IP(t,["activeStartDate","hover","value","valueType"]),o=0,s=11,l=ft(e);return le.createElement(ev,{className:"react-calendar__year-view__months",dateTransform:function(c){var u=new Date;return u.setFullYear(l,c,1),Zs(u)},dateType:"month",end:s,hover:r,renderTile:function(c){var u=c.date,d=IP(c,["date"]);return le.createElement(vQ,gb({key:u.getTime()},a,d,{activeStartDate:e,date:u}))},start:o,value:n,valueType:i})}var xm=globalThis&&globalThis.__assign||function(){return xm=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},xm.apply(this,arguments)},_L=function(e){function r(){return le.createElement(yQ,xm({},e))}return le.createElement("div",{className:"react-calendar__year-view"},r())};_L.propTypes=xm({},rv);const wQ=_L;var vb=globalThis&&globalThis.__assign||function(){return vb=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},vb.apply(this,arguments)},bQ=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},Fh="react-calendar__month-view__days__day";function _Q(t){var e=t.calendarType,r=t.classes,n=r===void 0?[]:r,i=t.currentMonthIndex,a=t.formatDay,o=a===void 0?TY:a,s=t.formatLongDate,l=s===void 0?AY:s,c=bQ(t,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),u=Zg(e),d=c.date,h=c.locale,p=[];return n&&p.push.apply(p,n),Fh&&p.push(Fh),gL(d,u)&&p.push("".concat(Fh,"--weekend")),d.getMonth()!==i&&p.push("".concat(Fh,"--neighboringMonth")),le.createElement(tv,vb({},c,{classes:p,formatAbbr:l,maxDateTransform:bx,minDateTransform:Pf,view:"month"}),o(h,d))}var yb=globalThis&&globalThis.__assign||function(){return yb=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},yb.apply(this,arguments)},CP=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function xQ(t){var e=t.activeStartDate,r=t.calendarType,n=t.hover,i=t.showFixedNumberOfWeeks,a=t.showNeighboringMonth,o=t.value,s=t.valueType,l=CP(t,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),c=Zg(r),u=ft(e),d=Fo(e),h=i||a,p=Ud(e,c),m=h?0:p,g=(h?-p:0)+1,_=function(){if(i)return g+6*7-1;var b=uL(e);if(a){var w=new Date;w.setFullYear(u,d,b),w.setHours(0,0,0,0);var E=7-Ud(w,c)-1;return b+E}return b}();return le.createElement(ev,{className:"react-calendar__month-view__days",count:7,dateTransform:function(b){var w=new Date;return w.setFullYear(u,d,b),Pf(w)},dateType:"day",hover:n,end:_,renderTile:function(b){var w=b.date,E=CP(b,["date"]);return le.createElement(_Q,yb({key:w.getTime()},l,E,{activeStartDate:e,calendarType:r,currentMonthIndex:d,date:w}))},offset:m,start:g,value:o,valueType:s})}var xL="react-calendar__month-view__weekdays",t0="".concat(xL,"__weekday");function EQ(t){for(var e=t.calendarType,r=t.formatShortWeekday,n=r===void 0?IY:r,i=t.formatWeekday,a=i===void 0?CY:i,o=t.locale,s=t.onMouseLeave,l=Zg(e),c=new Date,u=Zs(c),d=ft(u),h=Fo(u),p=[],m=1;m<=7;m+=1){var g=new Date(d,h,m-Ud(u,l)),_=a(o,g);p.push(le.createElement("div",{key:m,className:Gg(t0,zY(g)&&"".concat(t0,"--current"),gL(g,l)&&"".concat(t0,"--weekend"))},le.createElement("abbr",{"aria-label":_,title:_},n(o,g).replace(".",""))))}return le.createElement(xx,{className:xL,count:7,onFocus:s,onMouseOver:s},p)}var Em=globalThis&&globalThis.__assign||function(){return Em=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Em.apply(this,arguments)},OP=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},NP="react-calendar__tile";function SQ(t){var e=t.onClickWeekNumber,r=t.weekNumber,n=le.createElement("span",null,r);if(e){var i=t.date,a=t.onClickWeekNumber,o=t.weekNumber,s=OP(t,["date","onClickWeekNumber","weekNumber"]);return le.createElement("button",Em({},s,{className:NP,onClick:function(l){return a(o,i,l)},type:"button"}),n)}else{t.date,t.onClickWeekNumber,t.weekNumber;var s=OP(t,["date","onClickWeekNumber","weekNumber"]);return le.createElement("div",Em({},s,{className:NP}),n)}}function kQ(t){var e=t.activeStartDate,r=t.calendarType,n=t.onClickWeekNumber,i=t.onMouseLeave,a=t.showFixedNumberOfWeeks,o=Zg(r),s=function(){if(a)return 6;var u=uL(e),d=Ud(e,o),h=u-(7-d);return 1+Math.ceil(h/7)}(),l=function(){for(var u=ft(e),d=Fo(e),h=Yg(e),p=[],m=0;m<s;m+=1)p.push(cb(new Date(u,d,h+m*7),o));return p}(),c=l.map(function(u){return MY(u,o)});return le.createElement(xx,{className:"react-calendar__month-view__weekNumbers",count:s,direction:"column",onFocus:i,onMouseOver:i,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0}},c.map(function(u,d){var h=l[d];if(!h)throw new Error("date is not defined");return le.createElement(SQ,{key:u,date:h,onClickWeekNumber:n,weekNumber:u})}))}var qd=globalThis&&globalThis.__assign||function(){return qd=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},qd.apply(this,arguments)},TQ=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function AQ(t){if(t)for(var e=0,r=Object.entries(gY);e<r.length;e++){var n=r[e],i=n[0],a=n[1];if(a.includes(t))return i}return ot.ISO_8601}var EL=function(e){var r=e.activeStartDate,n=e.locale,i=e.onMouseLeave,a=e.showFixedNumberOfWeeks,o=e.calendarType,s=o===void 0?AQ(n):o,l=e.formatShortWeekday,c=e.formatWeekday,u=e.onClickWeekNumber,d=e.showWeekNumbers,h=TQ(e,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function p(){return le.createElement(EQ,{calendarType:s,formatShortWeekday:l,formatWeekday:c,locale:n,onMouseLeave:i})}function m(){return d?le.createElement(kQ,{activeStartDate:r,calendarType:s,onClickWeekNumber:u,onMouseLeave:i,showFixedNumberOfWeeks:a}):null}function g(){return le.createElement(xQ,qd({calendarType:s},h))}var _="react-calendar__month-view";return le.createElement("div",{className:Gg(_,d?"".concat(_,"--weekNumbers"):"")},le.createElement("div",{style:{display:"flex",alignItems:"flex-end"}},m(),le.createElement("div",{style:{flexGrow:1,width:"100%"}},p(),g())))};EL.propTypes=qd(qd({},rv),{calendarType:yL,formatDay:U.func,formatLongDate:U.func,formatShortWeekday:U.func,formatWeekday:U.func,onClickWeekNumber:U.func,onMouseLeave:U.func,showFixedNumberOfWeeks:U.bool,showNeighboringMonth:U.bool,showWeekNumbers:U.bool});const PQ=EL;var Ml=globalThis&&globalThis.__assign||function(){return Ml=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ml.apply(this,arguments)},Uh="react-calendar",Yl=["century","decade","year","month"],IQ=["decade","year","month","day"],kx=new Date;kx.setFullYear(1,0,1);kx.setHours(0,0,0,0);var CQ=new Date(864e13);function Wu(t){return t instanceof Date?t:new Date(t)}function SL(t,e){return Yl.slice(Yl.indexOf(t),Yl.indexOf(e)+1)}function OQ(t,e,r){var n=SL(e,r);return n.indexOf(t)!==-1}function Tx(t,e,r){return t&&OQ(t,e,r)?t:r}function kL(t){var e=Yl.indexOf(t);return IQ[e]}function NQ(t,e){var r=Array.isArray(t)?t[e]:t;if(!r)return null;var n=Wu(r);if(isNaN(n.getTime()))throw new Error("Invalid date: ".concat(t));return n}function TL(t,e){var r=t.value,n=t.minDate,i=t.maxDate,a=t.maxDetail,o=NQ(r,e);if(!o)return null;var s=kL(a),l=function(){switch(e){case 0:return xs(s,o);case 1:return hL(s,o);default:throw new Error("Invalid index value: ".concat(e))}}();return YY(l,n,i)}var Ax=function(t){return TL(t,0)},AL=function(t){return TL(t,1)},DQ=function(t){return[Ax,AL].map(function(e){return e(t)})};function PL(t){var e=t.maxDate,r=t.maxDetail,n=t.minDate,i=t.minDetail,a=t.value,o=t.view,s=Tx(o,i,r),l=Ax({value:a,minDate:n,maxDate:e,maxDetail:r})||new Date;return xs(s,l)}function RQ(t){var e=t.activeStartDate,r=t.defaultActiveStartDate,n=t.defaultValue,i=t.defaultView,a=t.maxDate,o=t.maxDetail,s=t.minDate,l=t.minDetail,c=t.value,u=t.view,d=Tx(u,l,o),h=e||r;return h?xs(d,h):PL({maxDate:a,maxDetail:o,minDate:s,minDetail:l,value:c||n,view:u||i})}function r0(t){return t&&(!Array.isArray(t)||t.length===1)}function Bh(t,e){return t instanceof Date&&e instanceof Date&&t.getTime()===e.getTime()}var IL=x.forwardRef(function(e,r){var n=e.activeStartDate,i=e.allowPartialRange,a=e.calendarType,o=e.className,s=e.defaultActiveStartDate,l=e.defaultValue,c=e.defaultView,u=e.formatDay,d=e.formatLongDate,h=e.formatMonth,p=e.formatMonthYear,m=e.formatShortWeekday,g=e.formatWeekday,_=e.formatYear,b=e.goToRangeStartOnSelect,w=b===void 0?!0:b,E=e.inputRef,A=e.locale,D=e.maxDate,L=D===void 0?CQ:D,T=e.maxDetail,k=T===void 0?"month":T,I=e.minDate,R=I===void 0?kx:I,M=e.minDetail,O=M===void 0?"century":M,P=e.navigationAriaLabel,z=e.navigationAriaLive,ie=e.navigationLabel,G=e.next2AriaLabel,fe=e.next2Label,W=e.nextAriaLabel,X=e.nextLabel,Q=e.onActiveStartDateChange,ce=e.onChange,Y=e.onClickDay,he=e.onClickDecade,Nt=e.onClickMonth,qe=e.onClickWeekNumber,Gt=e.onClickYear,Tt=e.onDrillDown,en=e.onDrillUp,Z=e.onViewChange,me=e.prev2AriaLabel,ve=e.prev2Label,q=e.prevAriaLabel,Qe=e.prevLabel,de=e.returnValue,et=de===void 0?"start":de,je=e.selectRange,or=e.showDoubleView,Ii=e.showFixedNumberOfWeeks,Aa=e.showNavigation,Go=Aa===void 0?!0:Aa,Pa=e.showNeighboringCentury,Yo=e.showNeighboringDecade,Qo=e.showNeighboringMonth,Ia=Qo===void 0?!0:Qo,Ca=e.showWeekNumbers,Oa=e.tileClassName,At=e.tileContent,Dt=e.tileDisabled,V=e.value,se=e.view,Ve=x.useState(s),kn=Ve[0],sr=Ve[1],zn=x.useState(null),Hf=zn[0],al=zn[1],Gf=x.useState(Array.isArray(l)?l.map(function(be){return be!==null?Wu(be):null}):l!=null?Wu(l):null),Hc=Gf[0],Gc=Gf[1],Yc=x.useState(c),Yf=Yc[0],Na=Yc[1],Yt=n||kn||RQ({activeStartDate:n,defaultActiveStartDate:s,defaultValue:l,defaultView:c,maxDate:L,maxDetail:k,minDate:R,minDetail:O,value:V,view:se}),Qt=function(){var be=function(){return je&&r0(Hc)?Hc:V!==void 0?V:Hc}();return be?Array.isArray(be)?be.map(function(Ke){return Ke!==null?Wu(Ke):null}):be!==null?Wu(be):null:null}(),Tn=kL(k),Xe=Tx(se||Yf,O,k),Dr=SL(O,k),Qf=je?Hf:null,Ci=Dr.indexOf(Xe)<Dr.length-1,Qc=Dr.indexOf(Xe)>0,Xt=x.useCallback(function(be){var Ke=function(){switch(et){case"start":return Ax;case"end":return AL;case"range":return DQ;default:throw new Error("Invalid returnValue.")}}();return Ke({maxDate:L,maxDetail:k,minDate:R,value:be})},[L,k,R,et]),ol=x.useCallback(function(be,Ke){sr(be);var Fe={action:Ke,activeStartDate:be,value:Qt,view:Xe};Q&&!Bh(Yt,be)&&Q(Fe)},[Yt,Q,Qt,Xe]),si=x.useCallback(function(be,Ke){var Fe=function(){switch(Xe){case"century":return he;case"decade":return Gt;case"year":return Nt;case"month":return Y;default:throw new Error("Invalid view: ".concat(Xe,"."))}}();Fe&&Fe(be,Ke)},[Y,he,Nt,Gt,Xe]),Oi=x.useCallback(function(be,Ke){if(Ci){si(be,Ke);var Fe=Dr[Dr.indexOf(Xe)+1];if(!Fe)throw new Error("Attempted to drill down from the lowest view.");sr(be),Na(Fe);var zr={action:"drillDown",activeStartDate:be,value:Qt,view:Fe};Q&&!Bh(Yt,be)&&Q(zr),Z&&Xe!==Fe&&Z(zr),Tt&&Tt(zr)}},[Yt,Ci,Q,si,Tt,Z,Qt,Xe,Dr]),Xc=x.useCallback(function(){if(Qc){var be=Dr[Dr.indexOf(Xe)-1];if(!be)throw new Error("Attempted to drill up from the highest view.");var Ke=xs(be,Yt);sr(Ke),Na(be);var Fe={action:"drillUp",activeStartDate:Ke,value:Qt,view:be};Q&&!Bh(Yt,Ke)&&Q(Fe),Z&&Xe!==be&&Z(Fe),en&&en(Fe)}},[Yt,Qc,Q,en,Z,Qt,Xe,Dr]),Jc=x.useCallback(function(be,Ke){var Fe=Qt;si(be,Ke);var zr=je&&!r0(Fe),Wr;if(je)if(zr)Wr=xs(Tn,be);else{if(!Fe)throw new Error("previousValue is required");if(Array.isArray(Fe))throw new Error("previousValue must not be an array");Wr=UY(Tn,Fe,be)}else Wr=Xt(be);var Xo=!je||zr||w?PL({maxDate:L,maxDetail:k,minDate:R,minDetail:O,value:Wr,view:Xe}):null;Ke.persist(),sr(Xo),Gc(Wr);var eu={action:"onChange",activeStartDate:Xo,value:Wr,view:Xe};if(Q&&!Bh(Yt,Xo)&&Q(eu),ce)if(je){var Zf=r0(Wr);if(!Zf)ce(Wr||null,Ke);else if(i){if(Array.isArray(Wr))throw new Error("value must not be an array");ce([Wr||null,null],Ke)}}else ce(Wr||null,Ke)},[Yt,i,Xt,w,L,k,R,O,Q,ce,si,je,Qt,Tn,Xe]);function Da(be){al(be)}function Zc(){al(null)}x.useImperativeHandle(r,function(){return{activeStartDate:Yt,drillDown:Oi,drillUp:Xc,onChange:Jc,setActiveStartDate:ol,value:Qt,view:Xe}},[Yt,Oi,Xc,Jc,ol,Qt,Xe]);function Xf(be){var Ke=be?fL(Xe,Yt):xs(Xe,Yt),Fe=Ci?Oi:Jc,zr={activeStartDate:Ke,hover:Qf,locale:A,maxDate:L,minDate:R,onClick:Fe,onMouseOver:je?Da:void 0,tileClassName:Oa,tileContent:At,tileDisabled:Dt,value:Qt,valueType:Tn};switch(Xe){case"century":return le.createElement(uQ,Ml({formatYear:_,showNeighboringCentury:Pa},zr));case"decade":return le.createElement(pQ,Ml({formatYear:_,showNeighboringDecade:Yo},zr));case"year":return le.createElement(wQ,Ml({formatMonth:h,formatMonthYear:p},zr));case"month":return le.createElement(PQ,Ml({calendarType:a,formatDay:u,formatLongDate:d,formatShortWeekday:m,formatWeekday:g,onClickWeekNumber:qe,onMouseLeave:je?Zc:void 0,showFixedNumberOfWeeks:typeof Ii<"u"?Ii:or,showNeighboringMonth:Ia,showWeekNumbers:Ca},zr));default:throw new Error("Invalid view: ".concat(Xe,"."))}}function sl(){return Go?le.createElement(WY,{activeStartDate:Yt,drillUp:Xc,formatMonthYear:p,formatYear:_,locale:A,maxDate:L,minDate:R,navigationAriaLabel:P,navigationAriaLive:z,navigationLabel:ie,next2AriaLabel:G,next2Label:fe,nextAriaLabel:W,nextLabel:X,prev2AriaLabel:me,prev2Label:ve,prevAriaLabel:q,prevLabel:Qe,setActiveStartDate:ol,showDoubleView:or,view:Xe,views:Dr}):null}var Jf=Array.isArray(Qt)?Qt:[Qt];return le.createElement("div",{className:Gg(Uh,je&&Jf.length===1&&"".concat(Uh,"--selectRange"),or&&"".concat(Uh,"--doubleView"),o),ref:E},sl(),le.createElement("div",{className:"".concat(Uh,"__viewContainer"),onBlur:je?Zc:void 0,onMouseLeave:je?Zc:void 0},Xf(),or?Xf(!0):null))}),DP=U.instanceOf(Date),RP=U.oneOfType([U.string,U.instanceOf(Date)]),MP=U.oneOfType([RP,cQ(RP)]);IL.propTypes={activeStartDate:DP,allowPartialRange:U.bool,calendarType:yL,className:bm,defaultActiveStartDate:DP,defaultValue:MP,defaultView:_m,formatDay:U.func,formatLongDate:U.func,formatMonth:U.func,formatMonthYear:U.func,formatShortWeekday:U.func,formatWeekday:U.func,formatYear:U.func,goToRangeStartOnSelect:U.bool,inputRef:oQ,locale:U.string,maxDate:Sx,maxDetail:U.oneOf(Yl),minDate:Ex,minDetail:U.oneOf(Yl),navigationAriaLabel:U.string,navigationAriaLive:U.oneOf(["off","polite","assertive"]),navigationLabel:U.func,next2AriaLabel:U.string,next2Label:U.node,nextAriaLabel:U.string,nextLabel:U.node,onActiveStartDateChange:U.func,onChange:U.func,onClickDay:U.func,onClickDecade:U.func,onClickMonth:U.func,onClickWeekNumber:U.func,onClickYear:U.func,onDrillDown:U.func,onDrillUp:U.func,onViewChange:U.func,prev2AriaLabel:U.string,prev2Label:U.node,prevAriaLabel:U.string,prevLabel:U.node,returnValue:U.oneOf(["start","end","range"]),selectRange:U.bool,showDoubleView:U.bool,showFixedNumberOfWeeks:U.bool,showNavigation:U.bool,showNeighboringCentury:U.bool,showNeighboringDecade:U.bool,showNeighboringMonth:U.bool,showWeekNumbers:U.bool,tileClassName:U.oneOfType([U.func,bm]),tileContent:U.oneOfType([U.func,U.node]),tileDisabled:U.func,value:MP,view:_m};const MQ=IL;const LQ=({isOpen:t,onClose:e,currentUser:r})=>{const[n,i]=x.useState(null),[a,o]=x.useState([]),[s,l]=x.useState({}),[c,u]=x.useState(!1);x.useEffect(()=>{t&&d()},[t]);const d=async()=>{u(!0);try{console.log("🔄 Loading all bookings for calendar..."),console.log("👤 Current user role:",r==null?void 0:r.role);const w=await Ce.getAllBookings();console.log("📋 Total bookings loaded:",w.length),console.log("📋 Sample booking:",w[0]),o(w);const E={};w.forEach(A=>{const D=NG(A.startTime);E[D]||(E[D]=[]),E[D].push(A)}),console.log("📅 Grouped bookings by date:",Object.keys(E)),console.log("📅 Sample date bookings:",Object.values(E)[0]),l(E)}catch(w){console.error("❌ Error loading bookings for calendar:",w)}finally{u(!1)}},h=w=>{console.log("📅 Date clicked:",w),console.log("📅 Date string:",w.toISOString().split("T")[0]),console.log("📅 Available dates with bookings:",Object.keys(s)),console.log("📅 Bookings for selected date:",s[w.toISOString().split("T")[0]]||[]),i(w)},p=({date:w})=>{const E=w.toISOString().split("T")[0],A=s[E]||[];return A.length===0?null:v("div",{className:"text-xs",children:v("div",{className:"bg-blue-500 text-white rounded-full w-5 h-5 flex items-center justify-center mx-auto mb-1",children:A.length})})},m=({date:w})=>{const E=w.toISOString().split("T")[0],A=s[E]||[];if(A.length===0)return"";const D=A.some(k=>k.status==="approved"),L=A.some(k=>k.status==="pending"),T=A.some(k=>k.status==="rejected");return D?"react-calendar__tile--has-approved":L?"react-calendar__tile--has-pending":T?"react-calendar__tile--has-rejected":"react-calendar__tile--has-bookings"},g=w=>qM(w),_=w=>{switch(w){case"approved":return"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-300";case"pending":return"bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-300";case"rejected":return"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-300";default:return"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-300"}},b=()=>{if(!n)return[];const w=n.toISOString().split("T")[0],E=s[w]||[];return console.log("🔍 Getting bookings for date:",w),console.log("🔍 Available dates:",Object.keys(s)),console.log("🔍 Found bookings:",E.length),console.log("🔍 Bookings:",E),E};return t?v("div",{className:"fixed inset-0 bg-black bg-opacity-50 dark:bg-opacity-70 flex items-center justify-center z-50",children:C("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto border border-gray-200 dark:border-gray-700",children:[C("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[v("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Booking Calendar"}),v("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-400",children:v(Lo,{className:"w-6 h-6"})})]}),v("div",{className:"p-6",children:c?C("div",{className:"flex items-center justify-center py-8",children:[v("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 dark:border-blue-400"}),v("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:"Loading bookings..."})]}):C("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[C("div",{children:[v("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Calendar View"}),v("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:v(MQ,{onChange:h,value:n,tileContent:p,tileClassName:m,className:"w-full"})}),C("div",{className:"mt-4 space-y-2 text-sm",children:[C("div",{className:"flex items-center space-x-2",children:[v("div",{className:"w-4 h-4 bg-green-100 dark:bg-green-900 rounded"}),v("span",{className:"text-gray-900 dark:text-gray-100",children:"Approved Bookings"})]}),C("div",{className:"flex items-center space-x-2",children:[v("div",{className:"w-4 h-4 bg-yellow-100 dark:bg-yellow-900 rounded"}),v("span",{className:"text-gray-900 dark:text-gray-100",children:"Pending Bookings"})]}),C("div",{className:"flex items-center space-x-2",children:[v("div",{className:"w-4 h-4 bg-red-100 dark:bg-red-900 rounded"}),v("span",{className:"text-gray-900 dark:text-gray-100",children:"Rejected Bookings"})]})]})]}),C("div",{children:[v("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:n?`Bookings for ${n.toLocaleDateString()}`:"Select a date to view bookings"}),n&&v("div",{className:"space-y-3",children:b().length>0?b().sort((w,E)=>new Date(w.startTime).getTime()-new Date(E.startTime).getTime()).map(w=>C("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[C("div",{className:"flex items-center justify-between mb-2",children:[v("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:w.resourceName}),v("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${_(w.status)}`,children:w.status})]}),C("div",{className:"space-y-2 text-sm",children:[C("div",{className:"flex items-center space-x-2",children:[v(Wl,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"}),C("span",{className:"text-gray-900 dark:text-gray-100",children:[g(w.startTime)," - ",g(w.endTime)]})]}),C("div",{className:"flex items-center space-x-2",children:[v(Ic,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"}),C("span",{className:"text-gray-900 dark:text-gray-100",children:[w.attendees," people"]})]}),C("div",{className:"flex items-center space-x-2",children:[v(MapPin,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"}),v("span",{className:"text-gray-900 dark:text-gray-100",children:w.purpose})]}),C("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Booked by: ",w.userName," (",w.userRole,")"]})]})]},w.id)):v("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No bookings for this date"})}),!n&&v("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"Click on a date in the calendar to view bookings"})]})]})})]})}):null},jQ=({isOpen:t,onClose:e,currentUser:r,onNotificationCreated:n})=>{const[i,a]=x.useState({title:"",message:"",type:"admin_announcement"}),[o,s]=x.useState({}),[l,c]=x.useState(!1),u=(p,m)=>{a(g=>({...g,[p]:m})),o[p]&&s(g=>({...g,[p]:""}))},d=()=>{const p={};return i.title.trim()||(p.title="Title is required"),i.message.trim()||(p.message="Message is required"),i.title.length>100&&(p.title="Title must be less than 100 characters"),i.message.length>1e3&&(p.message="Message must be less than 1000 characters"),s(p),Object.keys(p).length===0},h=async p=>{if(p.preventDefault(),!!d()){c(!0);try{const m={title:i.title.trim(),message:i.message.trim(),type:i.type,isRead:!1,createdBy:r.username,isSystemNotification:!0};console.log("📢 Creating system notification:",m),await Ce.createNotification(m),_e.success("Notification sent successfully to all users!"),n(),e(),a({title:"",message:"",type:"admin_announcement"})}catch(m){console.error("Notification creation failed:",m),_e.error(m.message||"Failed to create notification")}finally{c(!1)}}};return t?v("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:C("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[C("div",{className:"flex items-center justify-between p-6 border-b",children:[v("h2",{className:"text-xl font-semibold text-gray-900",children:"Create System Notification"}),v("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:v(Lo,{className:"w-6 h-6"})})]}),C("form",{onSubmit:h,className:"p-6 space-y-6",children:[C("div",{children:[v("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notification Type"}),C("select",{value:i.type,onChange:p=>u("type",p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[v("option",{value:"admin_announcement",children:"Announcement"}),v("option",{value:"maintenance_alert",children:"Maintenance Alert"}),v("option",{value:"system_announcement",children:"System Update"})]})]}),v($e,{label:"Notification Title",type:"text",value:i.title,onChange:p=>u("title",p),error:o.title,placeholder:"Enter notification title...",required:!0}),C("div",{children:[v("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),v("textarea",{value:i.message,onChange:p=>u("message",p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:4,placeholder:"Enter notification message...",required:!0}),o.message&&v("p",{className:"text-red-500 text-sm mt-1",children:o.message})]}),(i.title||i.message)&&C("div",{className:"bg-gray-50 rounded-lg p-4",children:[v("h4",{className:"font-medium text-gray-900 mb-2",children:"Preview"}),C("div",{className:"border border-gray-200 rounded-lg p-4 bg-white",children:[i.title&&v("h5",{className:"font-semibold text-gray-900 mb-2",children:i.title}),i.message&&v("p",{className:"text-gray-700 text-sm",children:i.message})]})]}),C("div",{className:"flex space-x-3 pt-4",children:[v(Ee,{type:"button",variant:"outline",onClick:e,className:"flex-1",children:"Cancel"}),C(Ee,{type:"submit",loading:l,className:"flex-1",children:[v(Cw,{className:"w-4 h-4 mr-2"}),"Send Notification"]})]})]})]})}):null},$Q=({isOpen:t,onClose:e,currentUser:r,onProfileUpdated:n})=>{const[i,a]=x.useState({username:(r==null?void 0:r.username)||"",email:(r==null?void 0:r.email)||"",department:(r==null?void 0:r.department)||"",bio:(r==null?void 0:r.bio)||""}),[o,s]=x.useState({}),[l,c]=x.useState(!1),u=(p,m)=>{a(g=>({...g,[p]:m})),o[p]&&s(g=>({...g,[p]:""}))},d=()=>{const p={};return i.username.trim()?i.username.length<3?p.username="Username must be at least 3 characters":i.username.length>30&&(p.username="Username must be less than 30 characters"):p.username="Username is required",i.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email)||(p.email="Please enter a valid email address"):p.email="Email is required",i.department&&i.department.trim()&&i.department.trim().length>50&&(p.department="Department must be less than 50 characters"),i.bio.length>500&&(p.bio="Bio must be less than 500 characters"),s(p),Object.keys(p).length===0},h=async p=>{if(p.preventDefault(),!!d()){c(!0);try{const m={username:i.username.trim(),email:i.email.trim(),department:i.department.trim(),bio:i.bio.trim(),updatedAt:new Date().toISOString()};if(i.newPassword){_e.error('Password changes are not supported in profile settings. Please use the "Forgot Password" feature on the login page.'),c(!1);return}console.log("🔄 Updating user profile:",{...m,password:i.newPassword?"[HIDDEN]":"unchanged"}),await Ce.updateUserProfile(r.id,m);const g={...r,...m};localStorage.setItem("user",JSON.stringify(g)),_e.success("Profile updated successfully!"),n(),e()}catch(m){console.error("Profile update failed:",m),_e.error(m.message||"Failed to update profile")}finally{c(!1)}}};return t?v("div",{className:"fixed inset-0 bg-black bg-opacity-50 dark:bg-opacity-70 flex items-center justify-center z-50 backdrop-blur-sm",children:C("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto border border-gray-200 dark:border-gray-700",children:[C("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[v("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Profile Settings"}),v("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-400",children:v(Lo,{className:"w-6 h-6"})})]}),C("form",{onSubmit:h,className:"p-6 space-y-6",children:[C("div",{className:"space-y-4",children:[C("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 flex items-center",children:[v(Cl,{className:"w-5 h-5 mr-2"}),"Basic Information"]}),v($e,{label:"Username",type:"text",value:i.username,onChange:p=>u("username",p),error:o.username,placeholder:"Enter your username",required:!0}),v($e,{label:"Email Address",type:"email",value:i.email,onChange:p=>u("email",p),error:o.email,placeholder:"Enter your email address",required:!0}),C("div",{children:[v("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Department (Optional)"}),C("select",{value:i.department,onChange:p=>u("department",p.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[v("option",{value:"",children:"Select Department (Optional)"}),v("option",{value:"Computer Science",children:"Computer Science"}),v("option",{value:"Engineering",children:"Engineering"}),v("option",{value:"Business",children:"Business"}),v("option",{value:"Arts",children:"Arts"}),v("option",{value:"Science",children:"Science"}),v("option",{value:"Medicine",children:"Medicine"}),v("option",{value:"Law",children:"Law"}),v("option",{value:"Education",children:"Education"}),v("option",{value:"Other",children:"Other"})]}),o.department&&v("p",{className:"text-red-500 text-sm mt-1",children:o.department})]}),C("div",{children:[v("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Bio"}),v("textarea",{value:i.bio,onChange:p=>u("bio",p.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",rows:3,placeholder:"Tell us about yourself..."}),C("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[i.bio.length,"/500 characters"]}),o.bio&&v("p",{className:"text-red-500 text-sm mt-1",children:o.bio})]})]}),C("div",{className:"space-y-4 pt-6 border-t",children:[C("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 flex items-center",children:[v(XB,{className:"w-5 h-5 mr-2"}),"Password Management"]}),v("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg p-4",children:C("p",{className:"text-sm text-blue-800 dark:text-blue-400",children:[v("strong",{children:"Note:"}),' Password changes are not available in profile settings for security reasons. If you need to change your password, please use the "Forgot Password" feature on the login page.']})})]}),C("div",{className:"flex space-x-3 pt-6 border-t",children:[v(Ee,{type:"button",variant:"outline",onClick:e,className:"flex-1",children:"Cancel"}),v(Ee,{type:"submit",loading:l,className:"flex-1",children:"Save Changes"})]})]})]})}):null},LP=()=>{const{theme:t,toggleTheme:e,isDark:r}=HM();return C("button",{onClick:e,className:"relative inline-flex items-center justify-center w-12 h-12 rounded-lg bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-all duration-300 transform hover:scale-105 active:scale-95 group","aria-label":`Switch to ${r?"light":"dark"} mode`,children:[C("div",{className:"relative w-6 h-6",children:[v(r5,{className:`absolute inset-0 w-6 h-6 text-yellow-500 transition-all duration-300 ${r?"opacity-0 rotate-90 scale-0":"opacity-100 rotate-0 scale-100"}`}),v(e5,{className:`absolute inset-0 w-6 h-6 text-blue-400 transition-all duration-300 ${r?"opacity-100 rotate-0 scale-100":"opacity-0 -rotate-90 scale-0"}`})]}),v("div",{className:"absolute inset-0 rounded-lg bg-blue-500 opacity-0 group-hover:opacity-10 transition-opacity duration-300"})]})},VQ=({className:t=""})=>{const[e,r]=x.useState(0),[n,i]=x.useState(!0),[a,o]=x.useState(!0);return x.useEffect(()=>{const s=async()=>{try{i(!0);const c=await Ce.getAllUsers();r(c.length)}catch(c){console.error("Error fetching user count:",c),r(0)}finally{i(!1)}};s();const l=setInterval(s,3e4);return()=>clearInterval(l)},[]),C("div",{className:`card p-6 animate-fade-in ${t}`,children:[C("div",{className:"flex items-center justify-between mb-4",children:[C("div",{className:"flex items-center space-x-3",children:[v("div",{className:"p-3 bg-blue-100 dark:bg-blue-900 rounded-lg",children:v(Ic,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),C("div",{children:[v("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Active Users"}),v("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Real-time count"})]})]}),C("div",{className:"flex items-center space-x-2",children:[v("div",{className:`w-2 h-2 rounded-full ${a?"bg-green-500":"bg-red-500"} animate-pulse`}),v("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:a?"Online":"Offline"})]})]}),C("div",{className:"flex items-end justify-between",children:[v("div",{children:n?v("div",{className:"h-8 w-16 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"}):C("div",{className:"flex items-baseline space-x-2",children:[v("span",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:e}),v("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"users"})]})}),C("div",{className:"flex items-center space-x-1 text-green-500",children:[v(p1,{className:"w-4 h-4"}),v("span",{className:"text-sm font-medium",children:"+12%"})]})]}),C("div",{className:"mt-4 flex items-center space-x-2",children:[v(WB,{className:"w-4 h-4 text-blue-500"}),C("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Last updated: ",new Date().toLocaleTimeString()]})]})]})},FQ=({resourceId:t,resourceName:e,isUnderMaintenance:r,onToggle:n,className:i=""})=>{const[a,o]=x.useState(!1),[s,l]=x.useState(!1),[c,u]=x.useState(""),d=async()=>{if(r){o(!0);try{await Ce.updateResource(t,{isUnderMaintenance:!1,maintenanceNote:"",status:"available"}),n(!1),_e.success(`${e} is now available for booking`)}catch(m){console.error("Error updating resource:",m),_e.error("Failed to update resource status")}finally{o(!1)}}else l(!0)},h=async()=>{if(!c.trim()){_e.error("Please enter a maintenance note");return}o(!0);try{await Ce.updateResource(t,{isUnderMaintenance:!0,maintenanceNote:c.trim(),status:"maintenance"}),n(!0),l(!1),u(""),_e.success(`${e} is now under maintenance`)}catch(m){console.error("Error updating resource:",m),_e.error("Failed to update resource status")}finally{o(!1)}},p=()=>{l(!1),u("")};return C("div",{className:`relative ${i}`,children:[C("button",{onClick:d,disabled:a,className:`relative inline-flex items-center justify-center px-4 py-2 rounded-lg font-medium transition-all duration-300 transform hover:scale-105 active:scale-95 ${r?"bg-orange-100 hover:bg-orange-200 text-orange-700 dark:bg-orange-900 dark:hover:bg-orange-800 dark:text-orange-300":"bg-green-100 hover:bg-green-200 text-green-700 dark:bg-green-900 dark:hover:bg-green-800 dark:text-green-300"} ${a?"opacity-50 cursor-not-allowed":""}`,children:[v("div",{className:"flex items-center space-x-2",children:r?C(Jl,{children:[v(m1,{className:"w-4 h-4"}),v("span",{children:"Under Maintenance"})]}):C(Jl,{children:[v(tm,{className:"w-4 h-4"}),v("span",{children:"Available"})]})}),a&&v("div",{className:"absolute inset-0 flex items-center justify-center",children:v("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"})})]}),s&&C("div",{className:"absolute top-full left-0 mt-2 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 p-4 z-10 animate-slide-up",children:[C("div",{className:"flex items-center space-x-2 mb-3",children:[v(qB,{className:"w-5 h-5 text-orange-500"}),v("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Set Maintenance Note"})]}),v("textarea",{value:c,onChange:m=>u(m.target.value),placeholder:"Enter maintenance reason...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 resize-none",rows:3}),C("div",{className:"flex space-x-2 mt-3",children:[v("button",{onClick:h,disabled:a||!c.trim(),className:"flex-1 bg-orange-500 hover:bg-orange-600 disabled:bg-gray-300 text-white font-medium py-2 px-3 rounded-md transition-colors duration-200",children:"Set Maintenance"}),v("button",{onClick:p,className:"flex-1 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 font-medium py-2 px-3 rounded-md transition-colors duration-200",children:"Cancel"})]})]})]})},zh=({title:t,value:e,icon:r,description:n})=>C("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:[C("div",{className:"flex items-center justify-between mb-4",children:[v("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:t}),v("div",{className:"text-blue-500",children:r})]}),v("div",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:e}),n&&v("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:n})]}),UQ=({bookings:t,resources:e,totalUsers:r})=>{console.log("Analytics Props:",{bookingsCount:(t==null?void 0:t.length)||0,resourcesCount:(e==null?void 0:e.length)||0,totalUsers:r});const n=()=>{var d,h;if(!Array.isArray(t)||!Array.isArray(e)||t.length===0||e.length===0)return{name:"No bookings yet",count:0};const s=t.reduce((p,m)=>(m.resourceId&&(p[m.resourceId]=(p[m.resourceId]||0)+1),p),{}),l=(d=Object.entries(s).sort(([,p],[,m])=>m-p)[0])==null?void 0:d[0],c=((h=e.find(p=>p.id===l))==null?void 0:h.name)||"N/A",u=s[l]||0;return{name:c,count:u}},i=()=>{var c;if(!(t!=null&&t.length))return"No bookings yet";const s={};t.forEach(u=>{const d=new Date(u.startTime).getHours();s[d]=(s[d]||0)+1});const l=(c=Object.entries(s).sort(([,u],[,d])=>d-u)[0])==null?void 0:c[0];return`${l}:00 - ${Number(l)+1}:00`},a=()=>{const s=new Date;return s.setDate(s.getDate()-30),`${t.filter(c=>new Date(c.startTime)>=s).length} in last 30 days`},o=n();return C("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[v(zh,{title:"Total Users",value:r,icon:v(Ic,{size:24}),description:"Registered users in the system"}),v(zh,{title:"Most Booked Resource",value:o.name,icon:v(Tw,{size:24}),description:`${o.count} bookings`}),v(zh,{title:"Peak Booking Time",value:i(),icon:v(Wl,{size:24}),description:"Most active booking hour"}),v(zh,{title:"Booking Trend",value:a(),icon:v(p1,{size:24}),description:"Recent booking activity"})]})};function CL(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=CL(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Me(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=CL(t))&&(n&&(n+=" "),n+=e);return n}var nv={},OL={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==="__proto__"}t.isUnsafeProperty=e})(OL);var Px={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}t.isDeepKey=e})(Px);var Ix={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}t.toKey=e})(Ix);var iv={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){const n=[],i=r.length;if(i===0)return n;let a=0,o="",s="",l=!1;for(r.charCodeAt(0)===46&&(n.push(""),a++);a<i;){const c=r[a];s?c==="\\"&&a+1<i?(a++,o+=r[a]):c===s?s="":o+=c:l?c==='"'||c==="'"?s=c:c==="]"?(l=!1,n.push(o),o=""):o+=c:c==="["?(l=!0,o&&(n.push(o),o="")):c==="."?o&&(n.push(o),o=""):o+=c,a++}return o&&n.push(o),n}t.toPath=e})(iv);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OL,r=Px,n=Ix,i=iv;function a(s,l,c){if(s==null)return c;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return c;const u=s[l];return u===void 0?r.isDeepKey(l)?a(s,i.toPath(l),c):c:u}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const u=s[l];return u===void 0?c:u}default:{if(Array.isArray(l))return o(s,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return c;const u=s[l];return u===void 0?c:u}}}function o(s,l,c){if(l.length===0)return c;let u=s;for(let d=0;d<l.length;d++){if(u==null||e.isUnsafeProperty(l[d]))return c;u=u[l[d]]}return u===void 0?c:u}t.get=a})(nv);var BQ=nv.get;const Ao=wn(BQ);var NL={exports:{}},We={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ir=typeof Symbol=="function"&&Symbol.for,Cx=ir?Symbol.for("react.element"):60103,Ox=ir?Symbol.for("react.portal"):60106,av=ir?Symbol.for("react.fragment"):60107,ov=ir?Symbol.for("react.strict_mode"):60108,sv=ir?Symbol.for("react.profiler"):60114,lv=ir?Symbol.for("react.provider"):60109,cv=ir?Symbol.for("react.context"):60110,Nx=ir?Symbol.for("react.async_mode"):60111,uv=ir?Symbol.for("react.concurrent_mode"):60111,dv=ir?Symbol.for("react.forward_ref"):60112,fv=ir?Symbol.for("react.suspense"):60113,zQ=ir?Symbol.for("react.suspense_list"):60120,hv=ir?Symbol.for("react.memo"):60115,pv=ir?Symbol.for("react.lazy"):60116,WQ=ir?Symbol.for("react.block"):60121,qQ=ir?Symbol.for("react.fundamental"):60117,KQ=ir?Symbol.for("react.responder"):60118,HQ=ir?Symbol.for("react.scope"):60119;function xn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Cx:switch(t=t.type,t){case Nx:case uv:case av:case sv:case ov:case fv:return t;default:switch(t=t&&t.$$typeof,t){case cv:case dv:case pv:case hv:case lv:return t;default:return e}}case Ox:return e}}}function DL(t){return xn(t)===uv}We.AsyncMode=Nx;We.ConcurrentMode=uv;We.ContextConsumer=cv;We.ContextProvider=lv;We.Element=Cx;We.ForwardRef=dv;We.Fragment=av;We.Lazy=pv;We.Memo=hv;We.Portal=Ox;We.Profiler=sv;We.StrictMode=ov;We.Suspense=fv;We.isAsyncMode=function(t){return DL(t)||xn(t)===Nx};We.isConcurrentMode=DL;We.isContextConsumer=function(t){return xn(t)===cv};We.isContextProvider=function(t){return xn(t)===lv};We.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Cx};We.isForwardRef=function(t){return xn(t)===dv};We.isFragment=function(t){return xn(t)===av};We.isLazy=function(t){return xn(t)===pv};We.isMemo=function(t){return xn(t)===hv};We.isPortal=function(t){return xn(t)===Ox};We.isProfiler=function(t){return xn(t)===sv};We.isStrictMode=function(t){return xn(t)===ov};We.isSuspense=function(t){return xn(t)===fv};We.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===av||t===uv||t===sv||t===ov||t===fv||t===zQ||typeof t=="object"&&t!==null&&(t.$$typeof===pv||t.$$typeof===hv||t.$$typeof===lv||t.$$typeof===cv||t.$$typeof===dv||t.$$typeof===qQ||t.$$typeof===KQ||t.$$typeof===HQ||t.$$typeof===WQ)};We.typeOf=xn;NL.exports=We;var GQ=NL.exports,rr=t=>t===0?0:t>0?1:-1,mn=t=>typeof t=="number"&&t!=+t,hs=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,ee=t=>(typeof t=="number"||t instanceof Number)&&!mn(t),Ti=t=>ee(t)||typeof t=="string",YQ=0,Kd=t=>{var e=++YQ;return"".concat(t||"").concat(e)},Fr=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ee(e)&&typeof e!="string")return n;var a;if(hs(e)){if(r==null)return n;var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return mn(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},RL=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,r={},n=0;n<e;n++)if(!r[t[n]])r[t[n]]=!0;else return!0;return!1},jP=(t,e)=>ee(t)&&ee(e)?r=>t+r*(e-t):()=>e;function Qn(t,e,r){return ee(t)&&ee(e)?t+r*(e-t):e}function ML(t,e,r){if(!(!t||!t.length))return t.find(n=>n&&(typeof e=="function"?e(n):Ao(n,e))===r)}var lt=t=>t===null||typeof t>"u",If=t=>lt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),QQ=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Dx(t){if(typeof t!="string")return!1;var e=QQ;return e.includes(t)}var XQ=["viewBox","children"],$P=["points","pathLength"],n0={svg:XQ,polygon:$P,polyline:$P},Rx=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(x.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{Dx(i)&&(n[i]=e||(a=>r[i](r,a)))}),n},JQ=(t,e,r)=>n=>(t(e,r,n),null),Cf=(t,e,r)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var n=null;return Object.keys(t).forEach(i=>{var a=t[i];Dx(i)&&typeof a=="function"&&(n||(n={}),n[i]=JQ(a,e,r))}),n},ZQ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function LL(t){if(typeof t!="string")return!1;var e=ZQ;return e.includes(t)}function _a(t){var e=Object.entries(t).filter(r=>{var[n]=r;return LL(n)});return Object.fromEntries(e)}var VP=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",FP=null,i0=null,jL=t=>{if(t===FP&&Array.isArray(i0))return i0;var e=[];return x.Children.forEach(t,r=>{lt(r)||(GQ.isFragment(r)?e=e.concat(jL(r.props.children)):e.push(r))}),i0=e,FP=t,e};function Of(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(i=>VP(i)):n=[VP(e)],jL(t).forEach(i=>{var a=Ao(i,"type.displayName")||Ao(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}var $L=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,eX=(t,e,r,n)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var a=(i=n&&(n0==null?void 0:n0[n]))!==null&&i!==void 0?i:[],o=e.startsWith("data-"),s=typeof t!="function"&&(!!n&&a.includes(e)||LL(e)),l=!!r&&Dx(e);return o||s||l},ut=(t,e,r)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(x.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(a=>{var o;eX((o=n)===null||o===void 0?void 0:o[a],a,e,r)&&(i[a]=n[a])}),i},tX=["children","width","height","viewBox","className","style","title","desc"];function wb(){return wb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wb.apply(null,arguments)}function rX(t,e){if(t==null)return{};var r,n,i=nX(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function nX(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Mx=x.forwardRef((t,e)=>{var{children:r,width:n,height:i,viewBox:a,className:o,style:s,title:l,desc:c}=t,u=rX(t,tX),d=a||{width:n,height:i,x:0,y:0},h=Me("recharts-surface",o);return x.createElement("svg",wb({},ut(u,!0,"svg"),{className:h,width:n,height:i,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:e}),x.createElement("title",null,l),x.createElement("desc",null,c),r)}),iX=["children","className"];function bb(){return bb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bb.apply(null,arguments)}function aX(t,e){if(t==null)return{};var r,n,i=oX(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function oX(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Nr=x.forwardRef((t,e)=>{var{children:r,className:n}=t,i=aX(t,iX),a=Me("recharts-layer",n);return x.createElement("g",bb({className:a},ut(i,!0),{ref:e}),r)}),VL=x.createContext(null),sX=()=>x.useContext(VL);function Je(t){return function(){return t}}const FL=Math.cos,Sm=Math.sin,oi=Math.sqrt,km=Math.PI,mv=2*km,_b=Math.PI,xb=2*_b,is=1e-6,lX=xb-is;function UL(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function cX(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return UL;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class uX{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?UL:cX(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=n-e,c=i-r,u=o-e,d=s-r,h=u*u+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>is)if(!(Math.abs(d*l-c*u)>is)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-o,m=i-s,g=l*l+c*c,_=p*p+m*m,b=Math.sqrt(g),w=Math.sqrt(h),E=a*Math.tan((_b-Math.acos((g+h-_)/(2*b*w)))/2),A=E/w,D=E/b;Math.abs(A-1)>is&&this._append`L${e+A*u},${r+A*d}`,this._append`A${a},${a},0,0,${+(d*p>u*m)},${this._x1=e+D*l},${this._y1=r+D*c}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),c=e+s,u=r+l,d=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>is||Math.abs(this._y1-u)>is)&&this._append`L${c},${u}`,n&&(h<0&&(h=h%xb+xb),h>lX?this._append`A${n},${n},0,1,${d},${e-s},${r-l}A${n},${n},0,1,${d},${this._x1=c},${this._y1=u}`:h>is&&this._append`A${n},${n},0,${+(h>=_b)},${d},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Lx(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new uX(e)}function jx(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function BL(t){this._context=t}BL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function gv(t){return new BL(t)}function zL(t){return t[0]}function WL(t){return t[1]}function qL(t,e){var r=Je(!0),n=null,i=gv,a=null,o=Lx(s);t=typeof t=="function"?t:t===void 0?zL:Je(t),e=typeof e=="function"?e:e===void 0?WL:Je(e);function s(l){var c,u=(l=jx(l)).length,d,h=!1,p;for(n==null&&(a=i(p=o())),c=0;c<=u;++c)!(c<u&&r(d=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(d,c,l),+e(d,c,l));if(p)return a=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Je(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Je(+l),s):e},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Je(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),s):n},s}function Wh(t,e,r){var n=null,i=Je(!0),a=null,o=gv,s=null,l=Lx(c);t=typeof t=="function"?t:t===void 0?zL:Je(+t),e=typeof e=="function"?e:Je(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?WL:Je(+r);function c(d){var h,p,m,g=(d=jx(d)).length,_,b=!1,w,E=new Array(g),A=new Array(g);for(a==null&&(s=o(w=l())),h=0;h<=g;++h){if(!(h<g&&i(_=d[h],h,d))===b)if(b=!b)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=h-1;m>=p;--m)s.point(E[m],A[m]);s.lineEnd(),s.areaEnd()}b&&(E[h]=+t(_,h,d),A[h]=+e(_,h,d),s.point(n?+n(_,h,d):E[h],r?+r(_,h,d):A[h]))}if(w)return s=null,w+""||null}function u(){return qL().defined(i).curve(o).context(a)}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:Je(+d),n=null,c):t},c.x0=function(d){return arguments.length?(t=typeof d=="function"?d:Je(+d),c):t},c.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Je(+d),c):n},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:Je(+d),r=null,c):e},c.y0=function(d){return arguments.length?(e=typeof d=="function"?d:Je(+d),c):e},c.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Je(+d),c):r},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(r)},c.lineX1=function(){return u().x(n).y(e)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Je(!!d),c):i},c.curve=function(d){return arguments.length?(o=d,a!=null&&(s=o(a)),c):o},c.context=function(d){return arguments.length?(d==null?a=s=null:s=o(a=d),c):a},c}class KL{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function dX(t){return new KL(t,!0)}function fX(t){return new KL(t,!1)}const $x={draw(t,e){const r=oi(e/km);t.moveTo(r,0),t.arc(0,0,r,0,mv)}},hX={draw(t,e){const r=oi(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},HL=oi(1/3),pX=HL*2,mX={draw(t,e){const r=oi(e/pX),n=r*HL;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},gX={draw(t,e){const r=oi(e),n=-r/2;t.rect(n,n,r,r)}},vX=.8908130915292852,GL=Sm(km/10)/Sm(7*km/10),yX=Sm(mv/10)*GL,wX=-FL(mv/10)*GL,bX={draw(t,e){const r=oi(e*vX),n=yX*r,i=wX*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const o=mv*a/5,s=FL(o),l=Sm(o);t.lineTo(l*r,-s*r),t.lineTo(s*n-l*i,l*n+s*i)}t.closePath()}},a0=oi(3),_X={draw(t,e){const r=-oi(e/(a0*3));t.moveTo(0,r*2),t.lineTo(-a0*r,-r),t.lineTo(a0*r,-r),t.closePath()}},An=-.5,Pn=oi(3)/2,Eb=1/oi(12),xX=(Eb/2+1)*3,EX={draw(t,e){const r=oi(e/xX),n=r/2,i=r*Eb,a=n,o=r*Eb+r,s=-a,l=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(An*n-Pn*i,Pn*n+An*i),t.lineTo(An*a-Pn*o,Pn*a+An*o),t.lineTo(An*s-Pn*l,Pn*s+An*l),t.lineTo(An*n+Pn*i,An*i-Pn*n),t.lineTo(An*a+Pn*o,An*o-Pn*a),t.lineTo(An*s+Pn*l,An*l-Pn*s),t.closePath()}};function SX(t,e){let r=null,n=Lx(i);t=typeof t=="function"?t:Je(t||$x),e=typeof e=="function"?e:Je(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Je(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Je(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Tm(){}function Am(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function YL(t){this._context=t}YL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Am(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Am(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function kX(t){return new YL(t)}function QL(t){this._context=t}QL.prototype={areaStart:Tm,areaEnd:Tm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Am(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function TX(t){return new QL(t)}function XL(t){this._context=t}XL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Am(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function AX(t){return new XL(t)}function JL(t){this._context=t}JL.prototype={areaStart:Tm,areaEnd:Tm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function PX(t){return new JL(t)}function UP(t){return t<0?-1:1}function BP(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(UP(a)+UP(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function zP(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function o0(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-n)/3;t._context.bezierCurveTo(n+s,i+s*e,a-s,o-s*r,a,o)}function Pm(t){this._context=t}Pm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:o0(this,this._t0,zP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,o0(this,zP(this,r=BP(this,t,e)),r);break;default:o0(this,this._t0,r=BP(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function ZL(t){this._context=new ej(t)}(ZL.prototype=Object.create(Pm.prototype)).point=function(t,e){Pm.prototype.point.call(this,e,t)};function ej(t){this._context=t}ej.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function IX(t){return new Pm(t)}function CX(t){return new ZL(t)}function tj(t){this._context=t}tj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=WP(t),i=WP(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function WP(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function OX(t){return new tj(t)}function vv(t,e){this._context=t,this._t=e}vv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function NX(t){return new vv(t,.5)}function DX(t){return new vv(t,0)}function RX(t){return new vv(t,1)}function pc(t,e){if((o=t.length)>1)for(var r=1,n,i,a=t[e[0]],o,s=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Sb(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function MX(t,e){return t[e]}function LX(t){const e=[];return e.key=t,e}function jX(){var t=Je([]),e=Sb,r=pc,n=MX;function i(a){var o=Array.from(t.apply(this,arguments),LX),s,l=o.length,c=-1,u;for(const d of a)for(s=0,++c;s<l;++s)(o[s][c]=[0,+n(d,o[s].key,c,a)]).data=d;for(s=0,u=jx(e(o));s<l;++s)o[u[s]].index=s;return r(o,u),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Je(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Je(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?Sb:typeof a=="function"?a:Je(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??pc,i):r},i}function $X(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}pc(t,e)}}function VX(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=t[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}pc(t,e)}}function FX(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,l=0,c=0;s<o;++s){for(var u=t[e[s]],d=u[n][1]||0,h=u[n-1][1]||0,p=(d-h)/2,m=0;m<s;++m){var g=t[e[m]],_=g[n][1]||0,b=g[n-1][1]||0;p+=_-b}l+=d,c+=p*d}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,pc(t,e)}}var UX=["type","size","sizeType"];function kb(){return kb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kb.apply(null,arguments)}function qP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function KP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qP(Object(r),!0).forEach(function(n){BX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BX(t,e,r){return(e=zX(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zX(t){var e=WX(t,"string");return typeof e=="symbol"?e:e+""}function WX(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qX(t,e){if(t==null)return{};var r,n,i=KX(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function KX(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var rj={symbolCircle:$x,symbolCross:hX,symbolDiamond:mX,symbolSquare:gX,symbolStar:bX,symbolTriangle:_X,symbolWye:EX},HX=Math.PI/180,GX=t=>{var e="symbol".concat(If(t));return rj[e]||$x},YX=(t,e,r)=>{if(e==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var n=18*HX;return 1.25*t*t*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},QX=(t,e)=>{rj["symbol".concat(If(t))]=e},Vx=t=>{var{type:e="circle",size:r=64,sizeType:n="area"}=t,i=qX(t,UX),a=KP(KP({},i),{},{type:e,size:r,sizeType:n}),o=()=>{var d=GX(e),h=SX().type(d).size(YX(r,n,e));return h()},{className:s,cx:l,cy:c}=a,u=ut(a,!0);return l===+l&&c===+c&&r===+r?x.createElement("path",kb({},u,{className:Me("recharts-symbols",s),transform:"translate(".concat(l,", ").concat(c,")"),d:o()})):null};Vx.registerSymbol=QX;function Tb(){return Tb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tb.apply(null,arguments)}function HP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function XX(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HP(Object(r),!0).forEach(function(n){Fx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fx(t,e,r){return(e=JX(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JX(t){var e=ZX(t,"string");return typeof e=="symbol"?e:e+""}function ZX(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var In=32;class Ux extends x.PureComponent{renderIcon(e,r){var{inactiveColor:n}=this.props,i=In/2,a=In/6,o=In/3,s=e.inactive?n:e.color,l=r??e.type;if(l==="none")return null;if(l==="plainline")return x.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:In,y2:i,className:"recharts-legend-icon"});if(l==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(In,"M").concat(2*o,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return x.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(In/8,"h").concat(In,"v").concat(In*3/4,"h").concat(-In,"z"),className:"recharts-legend-icon"});if(x.isValidElement(e.legendIcon)){var c=XX({},e);return delete c.legendIcon,x.cloneElement(e.legendIcon,c)}return x.createElement(Vx,{fill:s,cx:i,cy:i,size:In,sizeType:"diameter",type:l})}renderItems(){var{payload:e,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:o}=this.props,s={x:0,y:0,width:In,height:In},l={display:n==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((u,d)=>{var h=u.formatter||i,p=Me({"recharts-legend-item":!0,["legend-item-".concat(d)]:!0,inactive:u.inactive});if(u.type==="none")return null;var m=u.inactive?a:u.color,g=h?h(u.value,u,d):u.value;return x.createElement("li",Tb({className:p,style:l,key:"legend-item-".concat(d)},Cf(this.props,u,d)),x.createElement(Mx,{width:r,height:r,viewBox:s,style:c,"aria-label":"".concat(g," legend icon")},this.renderIcon(u,o)),x.createElement("span",{className:"recharts-legend-item-text",style:{color:m}},g))})}render(){var{payload:e,layout:r,align:n}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}Fx(Ux,"displayName","Legend");Fx(Ux,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var nj={},ij={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){const i=new Map;for(let a=0;a<r.length;a++){const o=r[a],s=n(o);i.has(s)||i.set(s,o)}return Array.from(i.values())}t.uniqBy=e})(ij);var Bx={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r}t.identity=e})(Bx);var aj={},yv={},oj={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Number.isSafeInteger(r)&&r>=0}t.isLength=e})(oj);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oj;function r(n){return n!=null&&typeof n!="function"&&e.isLength(n.length)}t.isArrayLike=r})(yv);var sj={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="object"&&r!==null}t.isObjectLike=e})(sj);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yv,r=sj;function n(i){return r.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=n})(aj);var lj={},cj={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nv;function r(n){return function(i){return e.get(i,n)}}t.property=r})(cj);var uj={},s0={},l0={},zx={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r!==null&&(typeof r=="object"||typeof r=="function")}t.isObject=e})(zx);var Wx={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null||typeof r!="object"&&typeof r!="function"}t.isPrimitive=e})(Wx);var wv={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}t.eq=e})(wv);var GP;function eJ(){return GP||(GP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qx(),r=zx,n=Wx,i=wv;function a(d,h,p){return typeof p!="function"?e.isMatch(d,h):o(d,h,function m(g,_,b,w,E,A){const D=p(g,_,b,w,E,A);return D!==void 0?!!D:o(g,_,m,A)},new Map)}function o(d,h,p,m){if(h===d)return!0;switch(typeof h){case"object":return s(d,h,p,m);case"function":return Object.keys(h).length>0?o(d,{...h},p,m):i.eq(d,h);default:return r.isObject(d)?typeof h=="string"?h==="":!0:i.eq(d,h)}}function s(d,h,p,m){if(h==null)return!0;if(Array.isArray(h))return c(d,h,p,m);if(h instanceof Map)return l(d,h,p,m);if(h instanceof Set)return u(d,h,p,m);const g=Object.keys(h);if(d==null)return g.length===0;if(g.length===0)return!0;if(m&&m.has(h))return m.get(h)===d;m&&m.set(h,d);try{for(let _=0;_<g.length;_++){const b=g[_];if(!n.isPrimitive(d)&&!(b in d)||h[b]===void 0&&d[b]!==void 0||h[b]===null&&d[b]!==null||!p(d[b],h[b],b,d,h,m))return!1}return!0}finally{m&&m.delete(h)}}function l(d,h,p,m){if(h.size===0)return!0;if(!(d instanceof Map))return!1;for(const[g,_]of h.entries()){const b=d.get(g);if(p(b,_,g,d,h,m)===!1)return!1}return!0}function c(d,h,p,m){if(h.length===0)return!0;if(!Array.isArray(d))return!1;const g=new Set;for(let _=0;_<h.length;_++){const b=h[_];let w=!1;for(let E=0;E<d.length;E++){if(g.has(E))continue;const A=d[E];let D=!1;if(p(A,b,_,d,h,m)&&(D=!0),D){g.add(E),w=!0;break}}if(!w)return!1}return!0}function u(d,h,p,m){return h.size===0?!0:d instanceof Set?c([...d],[...h],p,m):!1}t.isMatchWith=a,t.isSetMatch=u}(l0)),l0}var YP;function qx(){return YP||(YP=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eJ();function r(n,i){return e.isMatchWith(n,i,()=>{})}t.isMatch=r}(s0)),s0}var dj={},Kx={},Hx={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}t.getSymbols=e})(Hx);var bv={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}t.getTag=e})(bv);var _v={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",s="[object Date]",l="[object Map]",c="[object Set]",u="[object Array]",d="[object Function]",h="[object ArrayBuffer]",p="[object Object]",m="[object Error]",g="[object DataView]",_="[object Uint8Array]",b="[object Uint8ClampedArray]",w="[object Uint16Array]",E="[object Uint32Array]",A="[object BigUint64Array]",D="[object Int8Array]",L="[object Int16Array]",T="[object Int32Array]",k="[object BigInt64Array]",I="[object Float32Array]",R="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=h,t.arrayTag=u,t.bigInt64ArrayTag=k,t.bigUint64ArrayTag=A,t.booleanTag=i,t.dataViewTag=g,t.dateTag=s,t.errorTag=m,t.float32ArrayTag=I,t.float64ArrayTag=R,t.functionTag=d,t.int16ArrayTag=L,t.int32ArrayTag=T,t.int8ArrayTag=D,t.mapTag=l,t.numberTag=n,t.objectTag=p,t.regexpTag=e,t.setTag=c,t.stringTag=r,t.symbolTag=o,t.uint16ArrayTag=w,t.uint32ArrayTag=E,t.uint8ArrayTag=_,t.uint8ClampedArrayTag=b})(_v);var fj={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}t.isTypedArray=e})(fj);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Hx,r=bv,n=_v,i=Wx,a=fj;function o(u,d){return s(u,void 0,u,new Map,d)}function s(u,d,h,p=new Map,m=void 0){const g=m==null?void 0:m(u,d,h,p);if(g!==void 0)return g;if(i.isPrimitive(u))return u;if(p.has(u))return p.get(u);if(Array.isArray(u)){const _=new Array(u.length);p.set(u,_);for(let b=0;b<u.length;b++)_[b]=s(u[b],b,h,p,m);return Object.hasOwn(u,"index")&&(_.index=u.index),Object.hasOwn(u,"input")&&(_.input=u.input),_}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const _=new RegExp(u.source,u.flags);return _.lastIndex=u.lastIndex,_}if(u instanceof Map){const _=new Map;p.set(u,_);for(const[b,w]of u)_.set(b,s(w,b,h,p,m));return _}if(u instanceof Set){const _=new Set;p.set(u,_);for(const b of u)_.add(s(b,void 0,h,p,m));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(a.isTypedArray(u)){const _=new(Object.getPrototypeOf(u)).constructor(u.length);p.set(u,_);for(let b=0;b<u.length;b++)_[b]=s(u[b],b,h,p,m);return _}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const _=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return p.set(u,_),l(_,u,h,p,m),_}if(typeof File<"u"&&u instanceof File){const _=new File([u],u.name,{type:u.type});return p.set(u,_),l(_,u,h,p,m),_}if(u instanceof Blob){const _=new Blob([u],{type:u.type});return p.set(u,_),l(_,u,h,p,m),_}if(u instanceof Error){const _=new u.constructor;return p.set(u,_),_.message=u.message,_.name=u.name,_.stack=u.stack,_.cause=u.cause,l(_,u,h,p,m),_}if(typeof u=="object"&&c(u)){const _=Object.create(Object.getPrototypeOf(u));return p.set(u,_),l(_,u,h,p,m),_}return u}function l(u,d,h=u,p,m){const g=[...Object.keys(d),...e.getSymbols(d)];for(let _=0;_<g.length;_++){const b=g[_],w=Object.getOwnPropertyDescriptor(u,b);(w==null||w.writable)&&(u[b]=s(d[b],b,h,p,m))}}function c(u){switch(r.getTag(u)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=o,t.cloneDeepWithImpl=s,t.copyProperties=l})(Kx);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Kx;function r(n){return e.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}t.cloneDeep=r})(dj);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qx(),r=dj;function n(i){return i=r.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=n})(uj);var hj={},pj={},mj={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Kx,r=_v;function n(i,a){return e.cloneDeepWith(i,(o,s,l,c)=>{const u=a==null?void 0:a(o,s,l,c);if(u!==void 0)return u;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const d=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(d,i),d}case r.argumentsTag:{const d={};return e.copyProperties(d,i),d.length=i.length,d[Symbol.iterator]=i[Symbol.iterator],d}default:return}})}t.cloneDeepWith=n})(mj);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mj;function r(n){return e.cloneDeepWith(n)}t.cloneDeep=r})(pj);var gj={},Gx={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return e.test(n)}}t.isIndex=r})(Gx);var vj={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bv;function r(n){return n!==null&&typeof n=="object"&&e.getTag(n)==="[object Arguments]"}t.isArguments=r})(vj);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Px,r=Gx,n=vj,i=iv;function a(o,s){let l;if(Array.isArray(s)?l=s:typeof s=="string"&&e.isDeepKey(s)&&(o==null?void 0:o[s])==null?l=i.toPath(s):l=[s],l.length===0)return!1;let c=o;for(let u=0;u<l.length;u++){const d=l[u];if((c==null||!Object.hasOwn(c,d))&&!((Array.isArray(c)||n.isArguments(c))&&r.isIndex(d)&&d<c.length))return!1;c=c[d]}return!0}t.has=a})(gj);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qx(),r=Ix,n=pj,i=nv,a=gj;function o(s,l){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=r.toKey(s);break}}return l=n.cloneDeep(l),function(c){const u=i.get(c,s);return u===void 0?a.has(c,s):l===void 0?u===void 0:e.isMatch(u,l)}}t.matchesProperty=o})(hj);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Bx,r=cj,n=uj,i=hj;function a(o){if(o==null)return e.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}t.iteratee=a})(lj);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ij,r=Bx,n=aj,i=lj;function a(o,s=r.identity){return n.isArrayLikeObject(o)?e.uniqBy(Array.from(o),i.iteratee(s)):[]}t.uniqBy=a})(nj);var tJ=nj.uniqBy;const QP=wn(tJ);function yj(t,e,r){return e===!0?QP(t,r):typeof e=="function"?QP(t,e):t}var wj={exports:{}},bj={},_j={exports:{}},xj={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mc=x;function rJ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var nJ=typeof Object.is=="function"?Object.is:rJ,iJ=mc.useState,aJ=mc.useEffect,oJ=mc.useLayoutEffect,sJ=mc.useDebugValue;function lJ(t,e){var r=e(),n=iJ({inst:{value:r,getSnapshot:e}}),i=n[0].inst,a=n[1];return oJ(function(){i.value=r,i.getSnapshot=e,c0(i)&&a({inst:i})},[t,r,e]),aJ(function(){return c0(i)&&a({inst:i}),t(function(){c0(i)&&a({inst:i})})},[t]),sJ(r),r}function c0(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!nJ(t,r)}catch{return!0}}function cJ(t,e){return e()}var uJ=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?cJ:lJ;xj.useSyncExternalStore=mc.useSyncExternalStore!==void 0?mc.useSyncExternalStore:uJ;_j.exports=xj;var dJ=_j.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv=x,fJ=dJ;function hJ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var pJ=typeof Object.is=="function"?Object.is:hJ,mJ=fJ.useSyncExternalStore,gJ=xv.useRef,vJ=xv.useEffect,yJ=xv.useMemo,wJ=xv.useDebugValue;bj.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var a=gJ(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=yJ(function(){function l(p){if(!c){if(c=!0,u=p,p=n(p),i!==void 0&&o.hasValue){var m=o.value;if(i(m,p))return d=m}return d=p}if(m=d,pJ(u,p))return m;var g=n(p);return i!==void 0&&i(m,g)?(u=p,m):(u=p,d=g)}var c=!1,u,d,h=r===void 0?null:r;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,r,n,i]);var s=mJ(t,a[0],a[1]);return vJ(function(){o.hasValue=!0,o.value=s},[s]),wJ(s),s};wj.exports=bj;var bJ=wj.exports,Yx=x.createContext(null),_J=t=>t,yt=()=>{var t=x.useContext(Yx);return t?t.store.dispatch:_J},Ap=()=>{},xJ=()=>Ap,EJ=(t,e)=>t===e;function oe(t){var e=x.useContext(Yx);return bJ.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:xJ,e?e.store.getState:Ap,e?e.store.getState:Ap,e?t:Ap,EJ)}function SJ(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function kJ(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function TJ(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var XP=t=>Array.isArray(t)?t:[t];function AJ(t){const e=Array.isArray(t[0])?t[0]:t;return TJ(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function PJ(t,e){const r=[],{length:n}=t;for(let i=0;i<n;i++)r.push(t[i].apply(null,e));return r}var IJ=class{constructor(t){this.value=t}deref(){return this.value}},CJ=typeof WeakRef<"u"?WeakRef:IJ,OJ=0,JP=1;function qh(){return{s:OJ,v:void 0,o:null,p:null}}function Ej(t,e={}){let r=qh();const{resultEqualityCheck:n}=e;let i,a=0;function o(){var d;let s=r;const{length:l}=arguments;for(let h=0,p=l;h<p;h++){const m=arguments[h];if(typeof m=="function"||typeof m=="object"&&m!==null){let g=s.o;g===null&&(s.o=g=new WeakMap);const _=g.get(m);_===void 0?(s=qh(),g.set(m,s)):s=_}else{let g=s.p;g===null&&(s.p=g=new Map);const _=g.get(m);_===void 0?(s=qh(),g.set(m,s)):s=_}}const c=s;let u;if(s.s===JP)u=s.v;else if(u=t.apply(null,arguments),a++,n){const h=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;h!=null&&n(h,u)&&(u=h,a!==0&&a--),i=typeof u=="object"&&u!==null||typeof u=="function"?new CJ(u):u}return c.s=JP,c.v=u,u}return o.clearCache=()=>{r=qh(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function NJ(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...i)=>{let a=0,o=0,s,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),SJ(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...r,...l},{memoize:d,memoizeOptions:h=[],argsMemoize:p=Ej,argsMemoizeOptions:m=[],devModeChecks:g={}}=u,_=XP(h),b=XP(m),w=AJ(i),E=d(function(){return a++,c.apply(null,arguments)},..._),A=p(function(){o++;const L=PJ(w,arguments);return s=E.apply(null,L),s},...b);return Object.assign(A,{resultFunc:c,memoizedResultFunc:E,dependencies:w,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:d,argsMemoize:p})};return Object.assign(n,{withTypes:()=>n}),n}var $=NJ(Ej),DJ=Object.assign((t,e=$)=>{kJ(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(a=>t[a]);return e(n,(...a)=>a.reduce((o,s,l)=>(o[r[l]]=s,o),{}))},{withTypes:()=>DJ}),Sj={},kj={},Tj={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const o=e(n),s=e(i);if(o===s&&o===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?s-o:o-s}return 0};t.compareValues=r})(Tj);var Aj={},Qx={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"||r instanceof Symbol}t.isSymbol=e})(Qx);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Qx,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||o!=null&&Object.hasOwn(o,a)}t.isKey=i})(Aj);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Tj,r=Aj,n=iv;function i(a,o,s,l){if(a==null)return[];s=l?void 0:s,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(p=>String(p));const c=(p,m)=>{let g=p;for(let _=0;_<m.length&&g!=null;++_)g=g[m[_]];return g},u=(p,m)=>m==null||p==null?m:typeof p=="object"&&"key"in p?Object.hasOwn(m,p.key)?m[p.key]:c(m,p.path):typeof p=="function"?p(m):Array.isArray(p)?c(m,p):typeof m=="object"?m[p]:m,d=o.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||r.isKey(p)?p:{key:p,path:n.toPath(p)}));return a.map(p=>({original:p,criteria:d.map(m=>u(m,p))})).slice().sort((p,m)=>{for(let g=0;g<d.length;g++){const _=e.compareValues(p.criteria[g],m.criteria[g],s[g]);if(_!==0)return _}return 0}).map(p=>p.original)}t.orderBy=i})(kj);var Pj={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n=1){const i=[],a=Math.floor(n),o=(s,l)=>{for(let c=0;c<s.length;c++){const u=s[c];Array.isArray(u)&&l<a?o(u,l+1):i.push(u)}};return o(r,0),i}t.flatten=e})(Pj);var Xx={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Gx,r=yv,n=zx,i=wv;function a(o,s,l){return n.isObject(l)&&(typeof s=="number"&&r.isArrayLike(l)&&e.isIndex(s)&&s<l.length||typeof s=="string"&&s in l)?i.eq(l[s],o):!1}t.isIterateeCall=a})(Xx);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kj,r=Pj,n=Xx;function i(a,...o){const s=o.length;return s>1&&n.isIterateeCall(a,o[0],o[1])?o=[]:s>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),e.orderBy(a,r.flatten(o),["asc"])}t.sortBy=i})(Sj);var RJ=Sj.sortBy;const Ev=wn(RJ);var Ij=t=>t.legend.settings,MJ=t=>t.legend.size,LJ=t=>t.legend.payload,jJ=$([LJ,Ij],(t,e)=>{var{itemSorter:r}=e,n=t.flat(1);return r?Ev(n,r):n});function $J(){return oe(jJ)}var Kh=1;function Cj(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,r]=x.useState({height:0,left:0,top:0,width:0}),n=x.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-e.height)>Kh||Math.abs(o.left-e.left)>Kh||Math.abs(o.top-e.top)>Kh||Math.abs(o.width-e.width)>Kh)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,n]}function cr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var VJ=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")(),ZP=VJ,u0=()=>Math.random().toString(36).substring(7).split("").join("."),FJ={INIT:`@@redux/INIT${u0()}`,REPLACE:`@@redux/REPLACE${u0()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${u0()}`},Im=FJ;function Jx(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function Oj(t,e,r){if(typeof t!="function")throw new Error(cr(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(cr(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(cr(1));return r(Oj)(t,e)}let n=t,i=e,a=new Map,o=a,s=0,l=!1;function c(){o===a&&(o=new Map,a.forEach((_,b)=>{o.set(b,_)}))}function u(){if(l)throw new Error(cr(3));return i}function d(_){if(typeof _!="function")throw new Error(cr(4));if(l)throw new Error(cr(5));let b=!0;c();const w=s++;return o.set(w,_),function(){if(b){if(l)throw new Error(cr(6));b=!1,c(),o.delete(w),a=null}}}function h(_){if(!Jx(_))throw new Error(cr(7));if(typeof _.type>"u")throw new Error(cr(8));if(typeof _.type!="string")throw new Error(cr(17));if(l)throw new Error(cr(9));try{l=!0,i=n(i,_)}finally{l=!1}return(a=o).forEach(w=>{w()}),_}function p(_){if(typeof _!="function")throw new Error(cr(10));n=_,h({type:Im.REPLACE})}function m(){const _=d;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(cr(11));function w(){const A=b;A.next&&A.next(u())}return w(),{unsubscribe:_(w)}},[ZP](){return this}}}return h({type:Im.INIT}),{dispatch:h,subscribe:d,getState:u,replaceReducer:p,[ZP]:m}}function UJ(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:Im.INIT})>"u")throw new Error(cr(12));if(typeof r(void 0,{type:Im.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(cr(13))})}function Nj(t){const e=Object.keys(t),r={};for(let a=0;a<e.length;a++){const o=e[a];typeof t[o]=="function"&&(r[o]=t[o])}const n=Object.keys(r);let i;try{UJ(r)}catch(a){i=a}return function(o={},s){if(i)throw i;let l=!1;const c={};for(let u=0;u<n.length;u++){const d=n[u],h=r[d],p=o[d],m=h(p,s);if(typeof m>"u")throw s&&s.type,new Error(cr(14));c[d]=m,l=l||m!==p}return l=l||n.length!==Object.keys(o).length,l?c:o}}function Cm(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function BJ(...t){return e=>(r,n)=>{const i=e(r,n);let a=()=>{throw new Error(cr(15))};const o={getState:i.getState,dispatch:(l,...c)=>a(l,...c)},s=t.map(l=>l(o));return a=Cm(...s)(i.dispatch),{...i,dispatch:a}}}function Dj(t){return Jx(t)&&"type"in t&&typeof t.type=="string"}var Rj=Symbol.for("immer-nothing"),eI=Symbol.for("immer-draftable"),gn=Symbol.for("immer-state");function Jn(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var gc=Object.getPrototypeOf;function Vs(t){return!!t&&!!t[gn]}function ha(t){var e;return t?Mj(t)||Array.isArray(t)||!!t[eI]||!!((e=t.constructor)!=null&&e[eI])||kv(t)||Tv(t):!1}var zJ=Object.prototype.constructor.toString();function Mj(t){if(!t||typeof t!="object")return!1;const e=gc(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===zJ}function Om(t,e){Sv(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function Sv(t){const e=t[gn];return e?e.type_:Array.isArray(t)?1:kv(t)?2:Tv(t)?3:0}function Ab(t,e){return Sv(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Lj(t,e,r){const n=Sv(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function WJ(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function kv(t){return t instanceof Map}function Tv(t){return t instanceof Set}function as(t){return t.copy_||t.base_}function Pb(t,e){if(kv(t))return new Map(t);if(Tv(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=Mj(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[gn];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const o=i[a],s=n[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(n[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[o]})}return Object.create(gc(t),n)}else{const n=gc(t);if(n!==null&&r)return{...t};const i=Object.create(n);return Object.assign(i,t)}}function Zx(t,e=!1){return Av(t)||Vs(t)||!ha(t)||(Sv(t)>1&&(t.set=t.add=t.clear=t.delete=qJ),Object.freeze(t),e&&Object.entries(t).forEach(([r,n])=>Zx(n,!0))),t}function qJ(){Jn(2)}function Av(t){return Object.isFrozen(t)}var KJ={};function Fs(t){const e=KJ[t];return e||Jn(0,t),e}var Hd;function jj(){return Hd}function HJ(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function tI(t,e){e&&(Fs("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Ib(t){Cb(t),t.drafts_.forEach(GJ),t.drafts_=null}function Cb(t){t===Hd&&(Hd=t.parent_)}function rI(t){return Hd=HJ(Hd,t)}function GJ(t){const e=t[gn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function nI(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[gn].modified_&&(Ib(e),Jn(4)),ha(t)&&(t=Nm(e,t),e.parent_||Dm(e,t)),e.patches_&&Fs("Patches").generateReplacementPatches_(r[gn].base_,t,e.patches_,e.inversePatches_)):t=Nm(e,r,[]),Ib(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Rj?t:void 0}function Nm(t,e,r){if(Av(e))return e;const n=e[gn];if(!n)return Om(e,(i,a)=>iI(t,n,e,i,a,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return Dm(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let a=i,o=!1;n.type_===3&&(a=new Set(i),i.clear(),o=!0),Om(a,(s,l)=>iI(t,n,i,s,l,r,o)),Dm(t,i,!1),r&&t.patches_&&Fs("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function iI(t,e,r,n,i,a,o){if(Vs(i)){const s=a&&e&&e.type_!==3&&!Ab(e.assigned_,n)?a.concat(n):void 0,l=Nm(t,i,s);if(Lj(r,n,l),Vs(l))t.canAutoFreeze_=!1;else return}else o&&r.add(i);if(ha(i)&&!Av(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Nm(t,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&Dm(t,i)}}function Dm(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Zx(e,r)}function YJ(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:jj(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=eE;r&&(i=[n],a=Gd);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return n.draft_=s,n.revoke_=o,s}var eE={get(t,e){if(e===gn)return t;const r=as(t);if(!Ab(r,e))return QJ(t,r,e);const n=r[e];return t.finalized_||!ha(n)?n:n===d0(t.base_,e)?(f0(t),t.copy_[e]=Nb(n,t)):n},has(t,e){return e in as(t)},ownKeys(t){return Reflect.ownKeys(as(t))},set(t,e,r){const n=$j(as(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=d0(as(t),e),a=i==null?void 0:i[gn];if(a&&a.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(WJ(r,i)&&(r!==void 0||Ab(t.base_,e)))return!0;f0(t),Ob(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return d0(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,f0(t),Ob(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=as(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){Jn(11)},getPrototypeOf(t){return gc(t.base_)},setPrototypeOf(){Jn(12)}},Gd={};Om(eE,(t,e)=>{Gd[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Gd.deleteProperty=function(t,e){return Gd.set.call(this,t,e,void 0)};Gd.set=function(t,e,r){return eE.set.call(this,t[0],e,r,t[0])};function d0(t,e){const r=t[gn];return(r?as(r):t)[e]}function QJ(t,e,r){var i;const n=$j(e,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(t.draft_):void 0}function $j(t,e){if(!(e in t))return;let r=gc(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=gc(r)}}function Ob(t){t.modified_||(t.modified_=!0,t.parent_&&Ob(t.parent_))}function f0(t){t.copy_||(t.copy_=Pb(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var XJ=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const a=r;r=e;const o=this;return function(l=a,...c){return o.produce(l,u=>r.call(this,u,...c))}}typeof r!="function"&&Jn(6),n!==void 0&&typeof n!="function"&&Jn(7);let i;if(ha(e)){const a=rI(this),o=Nb(e,void 0);let s=!0;try{i=r(o),s=!1}finally{s?Ib(a):Cb(a)}return tI(a,n),nI(i,a)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===Rj&&(i=void 0),this.autoFreeze_&&Zx(i,!0),n){const a=[],o=[];Fs("Patches").generateReplacementPatches_(e,i,a,o),n(a,o)}return i}else Jn(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(o,...s)=>this.produceWithPatches(o,l=>e(l,...s));let n,i;return[this.produce(e,r,(o,s)=>{n=o,i=s}),n,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){ha(t)||Jn(8),Vs(t)&&(t=ra(t));const e=rI(this),r=Nb(t,void 0);return r[gn].isManual_=!0,Cb(e),r}finishDraft(t,e){const r=t&&t[gn];(!r||!r.isManual_)&&Jn(9);const{scope_:n}=r;return tI(n,e),nI(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=Fs("Patches").applyPatches_;return Vs(t)?n(t,e):this.produce(t,i=>n(i,e))}};function Nb(t,e){const r=kv(t)?Fs("MapSet").proxyMap_(t,e):Tv(t)?Fs("MapSet").proxySet_(t,e):YJ(t,e);return(e?e.scope_:jj()).drafts_.push(r),r}function ra(t){return Vs(t)||Jn(10,t),Vj(t)}function Vj(t){if(!ha(t)||Av(t))return t;const e=t[gn];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=Pb(t,e.scope_.immer_.useStrictShallowCopy_)}else r=Pb(t,!0);return Om(r,(n,i)=>{Lj(r,n,Vj(i))}),e&&(e.finalized_=!1),r}var vn=new XJ,Fj=vn.produce;vn.produceWithPatches.bind(vn);vn.setAutoFreeze.bind(vn);vn.setUseStrictShallowCopy.bind(vn);vn.applyPatches.bind(vn);vn.createDraft.bind(vn);vn.finishDraft.bind(vn);function Uj(t){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,t):i(a)}var JJ=Uj(),ZJ=Uj,eZ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Cm:Cm.apply(null,arguments)};function Fn(t,e){function r(...n){if(e){let i=e(...n);if(!i)throw new Error(hn(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>Dj(n)&&n.type===t,r}var Bj=class qu extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,qu.prototype)}static get[Symbol.species](){return qu}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new qu(...e[0].concat(this)):new qu(...e.concat(this))}};function aI(t){return ha(t)?Fj(t,()=>{}):t}function Hh(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function tZ(t){return typeof t=="boolean"}var rZ=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let o=new Bj;return r&&(tZ(r)?o.push(JJ):o.push(ZJ(r.extraArgument))),o},nZ="RTK_autoBatch",oI=t=>e=>{setTimeout(e,t)},iZ=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let i=!0,a=!1,o=!1;const s=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:oI(10):t.type==="callback"?t.queueNotification:oI(t.timeout),c=()=>{o=!1,a&&(a=!1,s.forEach(u=>u()))};return Object.assign({},n,{subscribe(u){const d=()=>i&&u(),h=n.subscribe(d);return s.add(u),()=>{h(),s.delete(u)}},dispatch(u){var d;try{return i=!((d=u==null?void 0:u.meta)!=null&&d[nZ]),a=!i,a&&(o||(o=!0,l(c))),n.dispatch(u)}finally{i=!0}}})},aZ=t=>function(r){const{autoBatch:n=!0}=r??{};let i=new Bj(t);return n&&i.push(iZ(typeof n=="object"?n:void 0)),i};function oZ(t){const e=rZ(),{reducer:r=void 0,middleware:n,devTools:i=!0,duplicateMiddlewareCheck:a=!0,preloadedState:o=void 0,enhancers:s=void 0}=t||{};let l;if(typeof r=="function")l=r;else if(Jx(r))l=Nj(r);else throw new Error(hn(1));let c;typeof n=="function"?c=n(e):c=e();let u=Cm;i&&(u=eZ({trace:!1,...typeof i=="object"&&i}));const d=BJ(...c),h=aZ(d);let p=typeof s=="function"?s(h):h();const m=u(...p);return Oj(l,o,m)}function zj(t){const e={},r=[];let n;const i={addCase(a,o){const s=typeof a=="string"?a:a.type;if(!s)throw new Error(hn(28));if(s in e)throw new Error(hn(29));return e[s]=o,i},addMatcher(a,o){return r.push({matcher:a,reducer:o}),i},addDefaultCase(a){return n=a,i}};return t(i),[e,r,n]}function sZ(t){return typeof t=="function"}function lZ(t,e){let[r,n,i]=zj(e),a;if(sZ(t))a=()=>aI(t());else{const s=aI(t);a=()=>s}function o(s=a(),l){let c=[r[l.type],...n.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[i]),c.reduce((u,d)=>{if(d)if(Vs(u)){const p=d(u,l);return p===void 0?u:p}else{if(ha(u))return Fj(u,h=>d(h,l));{const h=d(u,l);if(h===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return u},s)}return o.getInitialState=a,o}var cZ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",uZ=(t=21)=>{let e="",r=t;for(;r--;)e+=cZ[Math.random()*64|0];return e},dZ=Symbol.for("rtk-slice-createasyncthunk");function fZ(t,e){return`${t}/${e}`}function hZ({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[dZ];return function(i){const{name:a,reducerPath:o=a}=i;if(!a)throw new Error(hn(11));typeof process<"u";const s=(typeof i.reducers=="function"?i.reducers(mZ()):i.reducers)||{},l=Object.keys(s),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(A,D){const L=typeof A=="string"?A:A.type;if(!L)throw new Error(hn(12));if(L in c.sliceCaseReducersByType)throw new Error(hn(13));return c.sliceCaseReducersByType[L]=D,u},addMatcher(A,D){return c.sliceMatchers.push({matcher:A,reducer:D}),u},exposeAction(A,D){return c.actionCreators[A]=D,u},exposeCaseReducer(A,D){return c.sliceCaseReducersByName[A]=D,u}};l.forEach(A=>{const D=s[A],L={reducerName:A,type:fZ(a,A),createNotation:typeof i.reducers=="function"};vZ(D)?wZ(L,D,u,e):gZ(L,D,u)});function d(){const[A={},D=[],L=void 0]=typeof i.extraReducers=="function"?zj(i.extraReducers):[i.extraReducers],T={...A,...c.sliceCaseReducersByType};return lZ(i.initialState,k=>{for(let I in T)k.addCase(I,T[I]);for(let I of c.sliceMatchers)k.addMatcher(I.matcher,I.reducer);for(let I of D)k.addMatcher(I.matcher,I.reducer);L&&k.addDefaultCase(L)})}const h=A=>A,p=new Map,m=new WeakMap;let g;function _(A,D){return g||(g=d()),g(A,D)}function b(){return g||(g=d()),g.getInitialState()}function w(A,D=!1){function L(k){let I=k[A];return typeof I>"u"&&D&&(I=Hh(m,L,b)),I}function T(k=h){const I=Hh(p,D,()=>new WeakMap);return Hh(I,k,()=>{const R={};for(const[M,O]of Object.entries(i.selectors??{}))R[M]=pZ(O,k,()=>Hh(m,k,b),D);return R})}return{reducerPath:A,getSelectors:T,get selectors(){return T(L)},selectSlice:L}}const E={name:a,reducer:_,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:b,...w(o),injectInto(A,{reducerPath:D,...L}={}){const T=D??o;return A.inject({reducerPath:T,reducer:_},L),{...E,...w(T,!0)}}};return E}}function pZ(t,e,r,n){function i(a,...o){let s=e(a);return typeof s>"u"&&n&&(s=r()),t(s,...o)}return i.unwrapped=t,i}var En=hZ();function mZ(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function gZ({type:t,reducerName:e,createNotation:r},n,i){let a,o;if("reducer"in n){if(r&&!yZ(n))throw new Error(hn(17));a=n.reducer,o=n.prepare}else a=n;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,o?Fn(t,o):Fn(t))}function vZ(t){return t._reducerDefinitionType==="asyncThunk"}function yZ(t){return t._reducerDefinitionType==="reducerWithPrepare"}function wZ({type:t,reducerName:e},r,n,i){if(!i)throw new Error(hn(18));const{payloadCreator:a,fulfilled:o,pending:s,rejected:l,settled:c,options:u}=r,d=i(t,a,u);n.exposeAction(e,d),o&&n.addCase(d.fulfilled,o),s&&n.addCase(d.pending,s),l&&n.addCase(d.rejected,l),c&&n.addMatcher(d.settled,c),n.exposeCaseReducer(e,{fulfilled:o||Gh,pending:s||Gh,rejected:l||Gh,settled:c||Gh})}function Gh(){}var bZ="task",Wj="listener",qj="completed",tE="cancelled",_Z=`task-${tE}`,xZ=`task-${qj}`,Db=`${Wj}-${tE}`,EZ=`${Wj}-${qj}`,Pv=class{constructor(t){sy(this,"name","TaskAbortError");sy(this,"message");this.code=t,this.message=`${bZ} ${tE} (reason: ${t})`}},rE=(t,e)=>{if(typeof t!="function")throw new TypeError(hn(32))},Rm=()=>{},Kj=(t,e=Rm)=>(t.catch(e),t),Hj=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Es=(t,e)=>{const r=t.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Ss=t=>{if(t.aborted){const{reason:e}=t;throw new Pv(e)}};function Gj(t,e){let r=Rm;return new Promise((n,i)=>{const a=()=>i(new Pv(t.reason));if(t.aborted){a();return}r=Hj(t,a),e.finally(()=>r()).then(n,i)}).finally(()=>{r=Rm})}var SZ=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(r){return{status:r instanceof Pv?"cancelled":"rejected",error:r}}finally{e==null||e()}},Mm=t=>e=>Kj(Gj(t,e).then(r=>(Ss(t),r))),Yj=t=>{const e=Mm(t);return r=>e(new Promise(n=>setTimeout(n,r)))},{assign:Ql}=Object,sI={},Iv="listenerMiddleware",kZ=(t,e)=>{const r=n=>Hj(t,()=>Es(n,t.reason));return(n,i)=>{rE(n);const a=new AbortController;r(a);const o=SZ(async()=>{Ss(t),Ss(a.signal);const s=await n({pause:Mm(a.signal),delay:Yj(a.signal),signal:a.signal});return Ss(a.signal),s},()=>Es(a,xZ));return i!=null&&i.autoJoin&&e.push(o.catch(Rm)),{result:Mm(t)(o),cancel(){Es(a,_Z)}}}},TZ=(t,e)=>{const r=async(n,i)=>{Ss(e);let a=()=>{};const s=[new Promise((l,c)=>{let u=t({predicate:n,effect:(d,h)=>{h.unsubscribe(),l([d,h.getState(),h.getOriginalState()])}});a=()=>{u(),c()}})];i!=null&&s.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await Gj(e,Promise.race(s));return Ss(e),l}finally{a()}};return(n,i)=>Kj(r(n,i))},Qj=t=>{let{type:e,actionCreator:r,matcher:n,predicate:i,effect:a}=t;if(e)i=Fn(e).match;else if(r)e=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(hn(21));return rE(a),{predicate:i,type:e,effect:a}},Xj=Ql(t=>{const{type:e,predicate:r,effect:n}=Qj(t);return{id:uZ(),effect:n,type:e,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(hn(22))}}},{withTypes:()=>Xj}),lI=(t,e)=>{const{type:r,effect:n,predicate:i}=Qj(e);return Array.from(t.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},Rb=t=>{t.pending.forEach(e=>{Es(e,Db)})},AZ=t=>()=>{t.forEach(Rb),t.clear()},cI=(t,e,r)=>{try{t(e,r)}catch(n){setTimeout(()=>{throw n},0)}},Jj=Ql(Fn(`${Iv}/add`),{withTypes:()=>Jj}),PZ=Fn(`${Iv}/removeAll`),Zj=Ql(Fn(`${Iv}/remove`),{withTypes:()=>Zj}),IZ=(...t)=>{console.error(`${Iv}/error`,...t)},Nf=(t={})=>{const e=new Map,{extra:r,onError:n=IZ}=t;rE(n);const i=u=>(u.unsubscribe=()=>e.delete(u.id),e.set(u.id,u),d=>{u.unsubscribe(),d!=null&&d.cancelActive&&Rb(u)}),a=u=>{const d=lI(e,u)??Xj(u);return i(d)};Ql(a,{withTypes:()=>a});const o=u=>{const d=lI(e,u);return d&&(d.unsubscribe(),u.cancelActive&&Rb(d)),!!d};Ql(o,{withTypes:()=>o});const s=async(u,d,h,p)=>{const m=new AbortController,g=TZ(a,m.signal),_=[];try{u.pending.add(m),await Promise.resolve(u.effect(d,Ql({},h,{getOriginalState:p,condition:(b,w)=>g(b,w).then(Boolean),take:g,delay:Yj(m.signal),pause:Mm(m.signal),extra:r,signal:m.signal,fork:kZ(m.signal,_),unsubscribe:u.unsubscribe,subscribe:()=>{e.set(u.id,u)},cancelActiveListeners:()=>{u.pending.forEach((b,w,E)=>{b!==m&&(Es(b,Db),E.delete(b))})},cancel:()=>{Es(m,Db),u.pending.delete(m)},throwIfCancelled:()=>{Ss(m.signal)}})))}catch(b){b instanceof Pv||cI(n,b,{raisedBy:"effect"})}finally{await Promise.all(_),Es(m,EZ),u.pending.delete(m)}},l=AZ(e);return{middleware:u=>d=>h=>{if(!Dj(h))return d(h);if(Jj.match(h))return a(h.payload);if(PZ.match(h)){l();return}if(Zj.match(h))return o(h.payload);let p=u.getState();const m=()=>{if(p===sI)throw new Error(hn(23));return p};let g;try{if(g=d(h),e.size>0){const _=u.getState(),b=Array.from(e.values());for(const w of b){let E=!1;try{E=w.predicate(h,_,p)}catch(A){E=!1,cI(n,A,{raisedBy:"predicate"})}E&&s(w,h,u,m)}}}finally{p=sI}return g},startListening:a,stopListening:o,clearListeners:l}};function hn(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var CZ={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},e4=En({name:"chartLayout",initialState:CZ,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){t.margin.top=e.payload.top,t.margin.right=e.payload.right,t.margin.bottom=e.payload.bottom,t.margin.left=e.payload.left},setScale(t,e){t.scale=e.payload}}}),{setMargin:OZ,setLayout:NZ,setChartSize:DZ,setScale:RZ}=e4.actions,MZ=e4.reducer;function uI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uI(Object(r),!0).forEach(function(n){LZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LZ(t,e,r){return(e=jZ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jZ(t){var e=$Z(t,"string");return typeof e=="symbol"?e:e+""}function $Z(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lm=Math.PI/180,VZ=t=>t*180/Math.PI,$t=(t,e,r,n)=>({x:t+Math.cos(-Lm*n)*r,y:e+Math.sin(-Lm*n)*r}),t4=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},FZ=(t,e)=>{var{x:r,y:n}=t,{x:i,y:a}=e;return Math.sqrt((r-i)**2+(n-a)**2)},UZ=(t,e)=>{var{x:r,y:n}=t,{cx:i,cy:a}=e,o=FZ({x:r,y:n},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var s=(r-i)/o,l=Math.acos(s);return n>a&&(l=2*Math.PI-l),{radius:o,angle:VZ(l),angleInRadian:l}},BZ=t=>{var{startAngle:e,endAngle:r}=t,n=Math.floor(e/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:e-a*360,endAngle:r-a*360}},zZ=(t,e)=>{var{startAngle:r,endAngle:n}=e,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return t+o*360},WZ=(t,e)=>{var{x:r,y:n}=t,{radius:i,angle:a}=UZ({x:r,y:n},e),{innerRadius:o,outerRadius:s}=e;if(i<o||i>s||i===0)return null;var{startAngle:l,endAngle:c}=BZ(e),u=a,d;if(l<=c){for(;u>c;)u-=360;for(;u<l;)u+=360;d=u>=l&&u<=c}else{for(;u>l;)u-=360;for(;u<c;)u+=360;d=u>=c&&u<=l}return d?dI(dI({},e),{},{radius:i,angle:zZ(u,e)}):null};function r4(t,e,r){return Array.isArray(t)&&t&&e+r!==0?t.slice(e,r+1):t}function fI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fI(Object(r),!0).forEach(function(n){qZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qZ(t,e,r){return(e=KZ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KZ(t){var e=HZ(t,"string");return typeof e=="symbol"?e:e+""}function HZ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ge(t,e,r){return lt(t)||lt(e)?r:Ti(e)?Ao(t,e,r):typeof e=="function"?e(t):r}var GZ=(t,e,r,n,i)=>{var a,o=-1,s=(a=e==null?void 0:e.length)!==null&&a!==void 0?a:0;if(s<=1||t==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<s;l++){var c=l>0?r[l-1].coordinate:r[s-1].coordinate,u=r[l].coordinate,d=l>=s-1?r[0].coordinate:r[l+1].coordinate,h=void 0;if(rr(u-c)!==rr(d-u)){var p=[];if(rr(d-u)===rr(i[1]-i[0])){h=d;var m=u+i[1]-i[0];p[0]=Math.min(m,(m+c)/2),p[1]=Math.max(m,(m+c)/2)}else{h=c;var g=d+i[1]-i[0];p[0]=Math.min(u,(g+u)/2),p[1]=Math.max(u,(g+u)/2)}var _=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(t>_[0]&&t<=_[1]||t>=p[0]&&t<=p[1]){({index:o}=r[l]);break}}else{var b=Math.min(c,d),w=Math.max(c,d);if(t>(b+u)/2&&t<=(w+u)/2){({index:o}=r[l]);break}}}else if(e){for(var E=0;E<s;E++)if(E===0&&t<=(e[E].coordinate+e[E+1].coordinate)/2||E>0&&E<s-1&&t>(e[E].coordinate+e[E-1].coordinate)/2&&t<=(e[E].coordinate+e[E+1].coordinate)/2||E===s-1&&t>(e[E].coordinate+e[E-1].coordinate)/2){({index:o}=e[E]);break}}return o},YZ=(t,e,r)=>{if(e&&r){var{width:n,height:i}=r,{align:a,verticalAlign:o,layout:s}=e;if((s==="vertical"||s==="horizontal"&&o==="middle")&&a!=="center"&&ee(t[a]))return Dn(Dn({},t),{},{[a]:t[a]+(n||0)});if((s==="horizontal"||s==="vertical"&&a==="center")&&o!=="middle"&&ee(t[o]))return Dn(Dn({},t),{},{[o]:t[o]+(i||0)})}return t},Bo=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",n4=(t,e,r,n)=>{if(n)return t.map(s=>s.coordinate);var i,a,o=t.map(s=>(s.coordinate===e&&(i=!0),s.coordinate===r&&(a=!0),s.coordinate));return i||o.push(e),a||o.push(r),o},i4=(t,e,r)=>{if(!t)return null;var{duplicateDomain:n,type:i,range:a,scale:o,realScaleType:s,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:d,niceTicks:h,axisType:p}=t;if(!o)return null;var m=s==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,g=(e||r)&&i==="category"&&o.bandwidth?o.bandwidth()/m:0;if(g=p==="angleAxis"&&a&&a.length>=2?rr(a[0]-a[1])*2*g:g,e&&(d||h)){var _=(d||h||[]).map((b,w)=>{var E=n?n.indexOf(b):b;return{coordinate:o(E)+g,value:b,offset:g,index:w}});return _.filter(b=>!mn(b.coordinate))}return l&&c?c.map((b,w)=>({coordinate:o(b)+g,value:b,index:w,offset:g})):o.ticks&&!r&&u!=null?o.ticks(u).map((b,w)=>({coordinate:o(b)+g,value:b,offset:g,index:w})):o.domain().map((b,w)=>({coordinate:o(b)+g,value:n?n[b]:b,index:w,offset:g}))},hI=1e-4,QZ=t=>{var e=t.domain();if(!(!e||e.length<=2)){var r=e.length,n=t.range(),i=Math.min(n[0],n[1])-hI,a=Math.max(n[0],n[1])+hI,o=t(e[0]),s=t(e[r-1]);(o<i||o>a||s<i||s>a)&&t.domain([e[0],e[r-1]])}},XZ=(t,e)=>{if(!e||e.length!==2||!ee(e[0])||!ee(e[1]))return t;var r=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!ee(t[0])||t[0]<r)&&(i[0]=r),(!ee(t[1])||t[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},JZ=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var i=0,a=0,o=0;o<e;++o){var s=mn(t[o][r][1])?t[o][r][0]:t[o][r][1];s>=0?(t[o][r][0]=i,t[o][r][1]=i+s,i=t[o][r][1]):(t[o][r][0]=a,t[o][r][1]=a+s,a=t[o][r][1])}},ZZ=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var i=0,a=0;a<e;++a){var o=mn(t[a][r][1])?t[a][r][0]:t[a][r][1];o>=0?(t[a][r][0]=i,t[a][r][1]=i+o,i=t[a][r][1]):(t[a][r][0]=0,t[a][r][1]=0)}},eee={sign:JZ,expand:$X,none:pc,silhouette:VX,wiggle:FX,positive:ZZ},tee=(t,e,r)=>{var n=eee[r],i=jX().keys(e).value((a,o)=>+Ge(a,o,0)).order(Sb).offset(n);return i(t)};function ree(t){return t==null?void 0:String(t)}function pI(t){var{axis:e,ticks:r,bandSize:n,entry:i,index:a,dataKey:o}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!lt(i[e.dataKey])){var s=ML(r,"value",i[e.dataKey]);if(s)return s.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=Ge(i,lt(o)?e.dataKey:o);return lt(l)?null:e.scale(l)}var mI=t=>{var{axis:e,ticks:r,offset:n,bandSize:i,entry:a,index:o}=t;if(e.type==="category")return r[o]?r[o].coordinate+n:null;var s=Ge(a,e.dataKey,e.scale.domain()[o]);return lt(s)?null:e.scale(s)-i/2+n},nee=t=>{var{numericAxis:e}=t,r=e.scale.domain();if(e.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},iee=t=>{var e=t.flat(2).filter(ee);return[Math.min(...e),Math.max(...e)]},aee=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],oee=(t,e,r)=>{if(t!=null)return aee(Object.keys(t).reduce((n,i)=>{var a=t[i],{stackedData:o}=a,s=o.reduce((l,c)=>{var u=r4(c,e,r),d=iee(u);return[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]);return[Math.min(s[0],n[0]),Math.max(s[1],n[1])]},[1/0,-1/0]))},gI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,vI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Yd=(t,e,r)=>{if(t&&t.scale&&t.scale.bandwidth){var n=t.scale.bandwidth();if(!r||n>0)return n}if(t&&e&&e.length>=2){for(var i=Ev(e,u=>u.coordinate),a=1/0,o=1,s=i.length;o<s;o++){var l=i[o],c=i[o-1];a=Math.min((l.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function yI(t){var{tooltipEntrySettings:e,dataKey:r,payload:n,value:i,name:a}=t;return Dn(Dn({},e),{},{dataKey:r,payload:n,value:i,name:a})}function jc(t,e){if(t)return String(t);if(typeof e=="string")return e}function see(t,e,r,n,i){if(r==="horizontal"||r==="vertical"){var a=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return a?{x:t,y:e}:null}return n?WZ({x:t,y:e},n):null}var lee=(t,e,r,n)=>{var i=e.find(c=>c&&c.index===r);if(i){if(t==="horizontal")return{x:i.coordinate,y:n.y};if(t==="vertical")return{x:n.x,y:i.coordinate};if(t==="centric"){var a=i.coordinate,{radius:o}=n;return Dn(Dn(Dn({},n),$t(n.cx,n.cy,o,a)),{},{angle:a,radius:o})}var s=i.coordinate,{angle:l}=n;return Dn(Dn(Dn({},n),$t(n.cx,n.cy,s,l)),{},{angle:l,radius:s})}return{x:0,y:0}},cee=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,xa=t=>t.layout.width,Ea=t=>t.layout.height,uee=t=>t.layout.scale,a4=t=>t.layout.margin,nE=$(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),iE=$(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),o4="data-recharts-item-index",s4="data-recharts-item-data-key",Cv=60;function wI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Va(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wI(Object(r),!0).forEach(function(n){dee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dee(t,e,r){return(e=fee(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fee(t){var e=hee(t,"string");return typeof e=="symbol"?e:e+""}function hee(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pee=t=>t.brush.height,Wt=$([xa,Ea,a4,pee,nE,iE,Ij,MJ],(t,e,r,n,i,a,o,s)=>{var l=a.reduce((m,g)=>{var{orientation:_}=g;if(!g.mirror&&!g.hide){var b=typeof g.width=="number"?g.width:Cv;return Va(Va({},m),{},{[_]:m[_]+b})}return m},{left:r.left||0,right:r.right||0}),c=i.reduce((m,g)=>{var{orientation:_}=g;return!g.mirror&&!g.hide?Va(Va({},m),{},{[_]:Ao(m,"".concat(_))+g.height}):m},{top:r.top||0,bottom:r.bottom||0}),u=Va(Va({},c),l),d=u.bottom;u.bottom+=n,u=YZ(u,o,s);var h=t-u.left-u.right,p=e-u.top-u.bottom;return Va(Va({brushBottom:d},u),{},{width:Math.max(h,0),height:Math.max(p,0)})}),mee=$(Wt,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),l4=$(xa,Ea,(t,e)=>({x:0,y:0,width:t,height:e})),gee=x.createContext(null),Zr=()=>x.useContext(gee)!=null,Ov=t=>t.brush,Nv=$([Ov,Wt,a4],(t,e,r)=>({height:t.height,x:ee(t.x)?t.x:e.left,y:ee(t.y)?t.y:e.top+e.height+e.brushBottom-((r==null?void 0:r.bottom)||0),width:ee(t.width)?t.width:e.width})),aE=()=>{var t,e=Zr(),r=oe(mee),n=oe(Nv),i=(t=oe(Ov))===null||t===void 0?void 0:t.padding;return!e||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},vee={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},c4=()=>{var t;return(t=oe(Wt))!==null&&t!==void 0?t:vee},oE=()=>oe(xa),sE=()=>oe(Ea),yee={top:0,right:0,bottom:0,left:0},wee=()=>{var t;return(t=oe(e=>e.layout.margin))!==null&&t!==void 0?t:yee},Oe=t=>t.layout.layoutType,Dv=()=>oe(Oe),bee={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},u4=En({name:"legend",initialState:bee,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var r=ra(t).payload.indexOf(e.payload);r>-1&&t.payload.splice(r,1)}}}),{setLegendSize:bI,setLegendSettings:_ee,addLegendPayload:d4,removeLegendPayload:f4}=u4.actions,xee=u4.reducer,Eee=["contextPayload"];function Mb(){return Mb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mb.apply(null,arguments)}function _I(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_I(Object(r),!0).forEach(function(n){lE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_I(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lE(t,e,r){return(e=See(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function See(t){var e=kee(t,"string");return typeof e=="symbol"?e:e+""}function kee(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tee(t,e){if(t==null)return{};var r,n,i=Aee(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Aee(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Pee(t){return t.value}function Iee(t){var{contextPayload:e}=t,r=Tee(t,Eee),n=yj(e,t.payloadUniqBy,Pee),i=vc(vc({},r),{},{payload:n});return x.isValidElement(t.content)?x.cloneElement(t.content,i):typeof t.content=="function"?x.createElement(t.content,i):x.createElement(Ux,i)}function Cee(t,e,r,n,i,a){var{layout:o,align:s,verticalAlign:l}=e,c,u;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(s==="center"&&o==="vertical"?c={left:((n||0)-a.width)/2}:c=s==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(l==="middle"?u={top:((i||0)-a.height)/2}:u=l==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),vc(vc({},c),u)}function Oee(t){var e=yt();return x.useEffect(()=>{e(_ee(t))},[e,t]),null}function Nee(t){var e=yt();return x.useEffect(()=>(e(bI(t)),()=>{e(bI({width:0,height:0}))}),[e,t]),null}function Dee(t){var e=$J(),r=sX(),n=wee(),{width:i,height:a,wrapperStyle:o,portal:s}=t,[l,c]=Cj([e]),u=oE(),d=sE(),h=u-(n.left||0)-(n.right||0),p=Bi.getWidthOrHeight(t.layout,a,i,h),m=s?o:vc(vc({position:"absolute",width:(p==null?void 0:p.width)||i||"auto",height:(p==null?void 0:p.height)||a||"auto"},Cee(o,t,n,u,d,l)),o),g=s??r;if(g==null)return null;var _=x.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:c},x.createElement(Oee,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),x.createElement(Nee,{width:l.width,height:l.height}),x.createElement(Iee,Mb({},t,p,{margin:n,chartWidth:u,chartHeight:d,contextPayload:e})));return l1.createPortal(_,g)}class Bi extends x.PureComponent{static getWidthOrHeight(e,r,n,i){return e==="vertical"&&ee(r)?{height:r}:e==="horizontal"?{width:n||i}:null}render(){return x.createElement(Dee,this.props)}}lE(Bi,"displayName","Legend");lE(Bi,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Lb(){return Lb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lb.apply(null,arguments)}function xI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function h0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xI(Object(r),!0).forEach(function(n){Ree(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ree(t,e,r){return(e=Mee(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mee(t){var e=Lee(t,"string");return typeof e=="symbol"?e:e+""}function Lee(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jee(t){return Array.isArray(t)&&Ti(t[0])&&Ti(t[1])?t.join(" ~ "):t}var $ee=t=>{var{separator:e=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:o,itemSorter:s,wrapperClassName:l,labelClassName:c,label:u,labelFormatter:d,accessibilityLayer:h=!1}=t,p=()=>{if(a&&a.length){var D={padding:0,margin:0},L=(s?Ev(a,s):a).map((T,k)=>{if(T.type==="none")return null;var I=T.formatter||o||jee,{value:R,name:M}=T,O=R,P=M;if(I){var z=I(R,M,T,k,a);if(Array.isArray(z))[O,P]=z;else if(z!=null)O=z;else return null}var ie=h0({display:"block",paddingTop:4,paddingBottom:4,color:T.color||"#000"},n);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(k),style:ie},Ti(P)?x.createElement("span",{className:"recharts-tooltip-item-name"},P):null,Ti(P)?x.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,x.createElement("span",{className:"recharts-tooltip-item-value"},O),x.createElement("span",{className:"recharts-tooltip-item-unit"},T.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:D},L)}return null},m=h0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),g=h0({margin:0},i),_=!lt(u),b=_?u:"",w=Me("recharts-default-tooltip",l),E=Me("recharts-tooltip-label",c);_&&d&&a!==void 0&&a!==null&&(b=d(u,a));var A=h?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",Lb({className:w,style:m},A),x.createElement("p",{className:E,style:g},x.isValidElement(b)?b:"".concat(b)),p())},ku="recharts-tooltip-wrapper",Vee={visibility:"hidden"};function Fee(t){var{coordinate:e,translateX:r,translateY:n}=t;return Me(ku,{["".concat(ku,"-right")]:ee(r)&&e&&ee(e.x)&&r>=e.x,["".concat(ku,"-left")]:ee(r)&&e&&ee(e.x)&&r<e.x,["".concat(ku,"-bottom")]:ee(n)&&e&&ee(e.y)&&n>=e.y,["".concat(ku,"-top")]:ee(n)&&e&&ee(e.y)&&n<e.y})}function EI(t){var{allowEscapeViewBox:e,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:s,viewBox:l,viewBoxDimension:c}=t;if(a&&ee(a[n]))return a[n];var u=r[n]-s-(i>0?i:0),d=r[n]+i;if(e[n])return o[n]?u:d;var h=l[n];if(h==null)return 0;if(o[n]){var p=u,m=h;return p<m?Math.max(d,h):Math.max(u,h)}if(c==null)return 0;var g=d+s,_=h+c;return g>_?Math.max(u,h):Math.max(d,h)}function Uee(t){var{translateX:e,translateY:r,useTranslate3d:n}=t;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Bee(t){var{allowEscapeViewBox:e,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:s,viewBox:l}=t,c,u,d;return o.height>0&&o.width>0&&r?(u=EI({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),d=EI({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=Uee({translateX:u,translateY:d,useTranslate3d:s})):c=Vee,{cssProperties:c,cssClasses:Fee({translateX:u,translateY:d,coordinate:r})}}function SI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SI(Object(r),!0).forEach(function(n){jb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jb(t,e,r){return(e=zee(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zee(t){var e=Wee(t,"string");return typeof e=="symbol"?e:e+""}function Wee(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class qee extends x.PureComponent{constructor(){super(...arguments),jb(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),jb(this,"handleKeyDown",e=>{if(e.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,r;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:o,hasPayload:s,isAnimationActive:l,offset:c,position:u,reverseDirection:d,useTranslate3d:h,viewBox:p,wrapperStyle:m,lastBoundingBox:g,innerRef:_,hasPortalFromProps:b}=this.props,{cssClasses:w,cssProperties:E}=Bee({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:c,position:u,reverseDirection:d,tooltipBox:{height:g.height,width:g.width},useTranslate3d:h,viewBox:p}),A=b?{}:Yh(Yh({transition:l&&e?"transform ".concat(n,"ms ").concat(i):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&s?"visible":"hidden",position:"absolute",top:0,left:0}),D=Yh(Yh({},A),{},{visibility:!this.state.dismissed&&e&&s?"visible":"hidden"},m);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:w,style:D,ref:_},a)}}var Kee=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),tl={isSsr:Kee()},h4=()=>oe(t=>t.rootProps.accessibilityLayer);function yn(t){return Number.isFinite(t)}function yc(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function $b(){return $b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$b.apply(null,arguments)}function kI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function TI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kI(Object(r),!0).forEach(function(n){Hee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hee(t,e,r){return(e=Gee(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gee(t){var e=Yee(t,"string");return typeof e=="symbol"?e:e+""}function Yee(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AI={curveBasisClosed:TX,curveBasisOpen:AX,curveBasis:kX,curveBumpX:dX,curveBumpY:fX,curveLinearClosed:PX,curveLinear:gv,curveMonotoneX:IX,curveMonotoneY:CX,curveNatural:OX,curveStep:NX,curveStepAfter:RX,curveStepBefore:DX},Qh=t=>yn(t.x)&&yn(t.y),Tu=t=>t.x,Au=t=>t.y,Qee=(t,e)=>{if(typeof t=="function")return t;var r="curve".concat(If(t));return(r==="curveMonotone"||r==="curveBump")&&e?AI["".concat(r).concat(e==="vertical"?"Y":"X")]:AI[r]||gv},Xee=t=>{var{type:e="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=t,o=Qee(e,i),s=a?r.filter(Qh):r,l;if(Array.isArray(n)){var c=a?n.filter(d=>Qh(d)):n,u=s.map((d,h)=>TI(TI({},d),{},{base:c[h]}));return i==="vertical"?l=Wh().y(Au).x1(Tu).x0(d=>d.base.x):l=Wh().x(Tu).y1(Au).y0(d=>d.base.y),l.defined(Qh).curve(o),l(u)}return i==="vertical"&&ee(n)?l=Wh().y(Au).x1(Tu).x0(n):ee(n)?l=Wh().x(Tu).y1(Au).y0(n):l=qL().x(Tu).y(Au),l.defined(Qh).curve(o),l(s)},cE=t=>{var{className:e,points:r,path:n,pathRef:i}=t;if((!r||!r.length)&&!n)return null;var a=r&&r.length?Xee(t):n;return x.createElement("path",$b({},_a(t),Rx(t),{className:Me("recharts-curve",e),d:a===null?void 0:a,ref:i}))},Jee=["x","y","top","left","width","height","className"];function Vb(){return Vb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vb.apply(null,arguments)}function PI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zee(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PI(Object(r),!0).forEach(function(n){ete(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ete(t,e,r){return(e=tte(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tte(t){var e=rte(t,"string");return typeof e=="symbol"?e:e+""}function rte(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nte(t,e){if(t==null)return{};var r,n,i=ite(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function ite(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var ate=(t,e,r,n,i,a)=>"M".concat(t,",").concat(i,"v").concat(n,"M").concat(a,",").concat(e,"h").concat(r),ote=t=>{var{x:e=0,y:r=0,top:n=0,left:i=0,width:a=0,height:o=0,className:s}=t,l=nte(t,Jee),c=Zee({x:e,y:r,top:n,left:i,width:a,height:o},l);return!ee(e)||!ee(r)||!ee(a)||!ee(o)||!ee(n)||!ee(i)?null:x.createElement("path",Vb({},ut(c,!0),{className:Me("recharts-cross",s),d:ate(e,r,a,o,n,i)}))};function ste(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function II(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lte(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?II(Object(r),!0).forEach(function(n){cte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):II(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cte(t,e,r){return(e=ute(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ute(t){var e=dte(t,"string");return typeof e=="symbol"?e:e+""}function dte(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sn(t,e){var r=lte({},t),n=e,i=Object.keys(e),a=i.reduce((o,s)=>(o[s]===void 0&&n[s]!==void 0&&(o[s]=n[s]),o),r);return a}var p4={},m4={},g4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}t.isPlainObject=e})(g4);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=g4,r=Hx,n=bv,i=_v,a=wv;function o(c,u,d){return s(c,u,void 0,void 0,void 0,void 0,d)}function s(c,u,d,h,p,m,g){const _=g(c,u,d,h,p,m);if(_!==void 0)return _;if(typeof c==typeof u)switch(typeof c){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return c===u;case"number":return c===u||Object.is(c,u);case"function":return c===u;case"object":return l(c,u,m,g)}return l(c,u,m,g)}function l(c,u,d,h){if(Object.is(c,u))return!0;let p=n.getTag(c),m=n.getTag(u);if(p===i.argumentsTag&&(p=i.objectTag),m===i.argumentsTag&&(m=i.objectTag),p!==m)return!1;switch(p){case i.stringTag:return c.toString()===u.toString();case i.numberTag:{const b=c.valueOf(),w=u.valueOf();return a.eq(b,w)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(c.valueOf(),u.valueOf());case i.regexpTag:return c.source===u.source&&c.flags===u.flags;case i.functionTag:return c===u}d=d??new Map;const g=d.get(c),_=d.get(u);if(g!=null&&_!=null)return g===u;d.set(c,u),d.set(u,c);try{switch(p){case i.mapTag:{if(c.size!==u.size)return!1;for(const[b,w]of c.entries())if(!u.has(b)||!s(w,u.get(b),b,c,u,d,h))return!1;return!0}case i.setTag:{if(c.size!==u.size)return!1;const b=Array.from(c.values()),w=Array.from(u.values());for(let E=0;E<b.length;E++){const A=b[E],D=w.findIndex(L=>s(A,L,void 0,c,u,d,h));if(D===-1)return!1;w.splice(D,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(c)!==Buffer.isBuffer(u)||c.length!==u.length)return!1;for(let b=0;b<c.length;b++)if(!s(c[b],u[b],b,c,u,d,h))return!1;return!0}case i.arrayBufferTag:return c.byteLength!==u.byteLength?!1:l(new Uint8Array(c),new Uint8Array(u),d,h);case i.dataViewTag:return c.byteLength!==u.byteLength||c.byteOffset!==u.byteOffset?!1:l(new Uint8Array(c),new Uint8Array(u),d,h);case i.errorTag:return c.name===u.name&&c.message===u.message;case i.objectTag:{if(!(l(c.constructor,u.constructor,d,h)||e.isPlainObject(c)&&e.isPlainObject(u)))return!1;const w=[...Object.keys(c),...r.getSymbols(c)],E=[...Object.keys(u),...r.getSymbols(u)];if(w.length!==E.length)return!1;for(let A=0;A<w.length;A++){const D=w[A],L=c[D];if(!Object.hasOwn(u,D))return!1;const T=u[D];if(!s(L,T,D,c,u,d,h))return!1}return!0}default:return!1}}finally{d.delete(c),d.delete(u)}}t.isEqualWith=o})(m4);var v4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(){}t.noop=e})(v4);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=m4,r=v4;function n(i,a){return e.isEqualWith(i,a,r.noop)}t.isEqual=n})(p4);var fte=p4.isEqual;const hte=wn(fte);var jm=1e-4,y4=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],w4=(t,e)=>t.map((r,n)=>r*e**n).reduce((r,n)=>r+n),CI=(t,e)=>r=>{var n=y4(t,e);return w4(n,r)},pte=(t,e)=>r=>{var n=y4(t,e),i=[...n.map((a,o)=>a*o).slice(1),0];return w4(i,r)},OI=function(){for(var e,r,n,i,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];if(o.length===1)switch(o[0]){case"linear":[e,n,r,i]=[0,0,1,1];break;case"ease":[e,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[e,n,r,i]=[.42,0,1,1];break;case"ease-out":[e,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[e,n,r,i]=[0,0,.58,1];break;default:{var l=o[0].split("(");l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4&&([e,n,r,i]=l[1].split(")")[0].split(",").map(m=>parseFloat(m)))}}else o.length===4&&([e,n,r,i]=o);var c=CI(e,r),u=CI(n,i),d=pte(e,r),h=m=>m>1?1:m<0?0:m,p=m=>{for(var g=m>1?1:m,_=g,b=0;b<8;++b){var w=c(_)-g,E=d(_);if(Math.abs(w-g)<jm||E<jm)return u(_);_=h(_-w/E)}return u(_)};return p.isStepper=!1,p},mte=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=e,a=(o,s,l)=>{var c=-(o-s)*r,u=l*n,d=l+(c-u)*i/1e3,h=l*i/1e3+o;return Math.abs(h-s)<jm&&Math.abs(d)<jm?[s,0]:[h,d]};return a.isStepper=!0,a.dt=i,a},b4=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return OI(t);case"spring":return mte();default:if(t.split("(")[0]==="cubic-bezier")return OI(t)}return typeof t=="function"?t:null};function NI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function DI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NI(Object(r),!0).forEach(function(n){gte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gte(t,e,r){return(e=vte(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vte(t){var e=yte(t,"string");return typeof e=="symbol"?e:e+""}function yte(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wte=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),bte=(t,e,r)=>t.map(n=>"".concat(wte(n)," ").concat(e,"ms ").concat(r)).join(","),_te=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((r,n)=>r.filter(i=>n.includes(i))),Qd=(t,e)=>Object.keys(e).reduce((r,n)=>DI(DI({},r),{},{[n]:t(n,e[n])}),{});function RI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RI(Object(r),!0).forEach(function(n){xte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xte(t,e,r){return(e=Ete(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ete(t){var e=Ste(t,"string");return typeof e=="symbol"?e:e+""}function Ste(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $m=(t,e,r)=>t+(e-t)*r,Fb=t=>{var{from:e,to:r}=t;return e!==r},_4=(t,e,r)=>{var n=Qd((i,a)=>{if(Fb(a)){var[o,s]=t(a.from,a.to,a.velocity);return fr(fr({},a),{},{from:o,velocity:s})}return a},e);return r<1?Qd((i,a)=>Fb(a)?fr(fr({},a),{},{velocity:$m(a.velocity,n[i].velocity,r),from:$m(a.from,n[i].from,r)}):a,e):_4(t,n,r-1)};function kte(t,e,r,n,i,a){var o,s=n.reduce((h,p)=>fr(fr({},h),{},{[p]:{from:t[p],velocity:0,to:e[p]}}),{}),l=()=>Qd((h,p)=>p.from,s),c=()=>!Object.values(s).filter(Fb).length,u=null,d=h=>{o||(o=h);var p=h-o,m=p/r.dt;s=_4(r,s,m),i(fr(fr(fr({},t),e),l())),o=h,c()||(u=a.setTimeout(d))};return()=>(u=a.setTimeout(d),()=>{u()})}function Tte(t,e,r,n,i,a,o){var s=null,l=i.reduce((d,h)=>fr(fr({},d),{},{[h]:[t[h],e[h]]}),{}),c,u=d=>{c||(c=d);var h=(d-c)/n,p=Qd((g,_)=>$m(..._,r(h)),l);if(a(fr(fr(fr({},t),e),p)),h<1)s=o.setTimeout(u);else{var m=Qd((g,_)=>$m(..._,r(1)),l);a(fr(fr(fr({},t),e),m))}};return()=>(s=o.setTimeout(u),()=>{s()})}const x4=(t,e,r,n,i,a)=>{var o=_te(t,e);return r.isStepper===!0?kte(t,e,r,o,i,a):Tte(t,e,r,n,o,i,a)};function Ate(t){var e,r=()=>null,n=!1,i=null,a=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,[l,...c]=s;if(typeof l=="number"){i=t.setTimeout(a.bind(null,c),l);return}a(l),i=t.setTimeout(a.bind(null,c));return}typeof o=="string"&&(e=o,r(e)),typeof o=="object"&&(e=o,r(e)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,i&&(i(),i=null),a(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>t}}class Pte{setTimeout(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=o=>{o-n>=r?e(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function Ite(){return Ate(new Pte)}var Cte=x.createContext(Ite);function E4(t,e){var r=x.useContext(Cte);return x.useMemo(()=>e??r(t),[t,e,r])}var Ote=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function Ub(){return Ub=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ub.apply(null,arguments)}function Nte(t,e){if(t==null)return{};var r,n,i=Dte(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Dte(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function MI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MI(Object(r),!0).forEach(function(n){ps(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ps(t,e,r){return(e=Rte(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rte(t){var e=Mte(t,"string");return typeof e=="symbol"?e:e+""}function Mte(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class uE extends x.PureComponent{constructor(e,r){super(e,r),ps(this,"mounted",!1),ps(this,"manager",void 0),ps(this,"stopJSAnimation",null),ps(this,"unSubscribe",null);var{isActive:n,attributeName:i,from:a,to:o,children:s,duration:l,animationManager:c}=this.props;if(this.manager=c,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||l<=0){this.state={style:{}},typeof s=="function"&&(this.state={style:o});return}if(a){if(typeof s=="function"){this.state={style:a};return}this.state={style:i?{[i]:a}:a}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:r}=this.props;this.mounted=!0,!(!e||!r)&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:r,canBegin:n,attributeName:i,shouldReAnimate:a,to:o,from:s}=this.props,{style:l}=this.state;if(n){if(!r){var c={style:i?{[i]:o}:o};this.state&&l&&(i&&l[i]!==o||!i&&l!==o)&&this.setState(c);return}if(!(hte(e.to,o)&&e.canBegin&&e.isActive)){var u=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var d=u||a?s:e.to;if(this.state&&l){var h={style:i?{[i]:d}:d};(i&&l[i]!==d||!i&&l!==d)&&this.setState(h)}this.runAnimation(Fa(Fa({},this.props),{},{from:d,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:r,to:n,duration:i,easing:a,begin:o,onAnimationEnd:s,onAnimationStart:l}=e,c=x4(r,n,b4(a),i,this.changeStyle,this.manager.getTimeoutController()),u=()=>{this.stopJSAnimation=c()};this.manager.start([l,o,u,i,s])}runAnimation(e){var{begin:r,duration:n,attributeName:i,to:a,easing:o,onAnimationStart:s,onAnimationEnd:l,children:c}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof o=="function"||typeof c=="function"||o==="spring"){this.runJSAnimation(e);return}var u=i?{[i]:a}:a,d=bte(Object.keys(u),n,o);this.manager.start([s,r,Fa(Fa({},u),{},{transition:d}),n,l])}render(){var e=this.props,{children:r,begin:n,duration:i,attributeName:a,easing:o,isActive:s,from:l,to:c,canBegin:u,onAnimationEnd:d,shouldReAnimate:h,onAnimationReStart:p,animationManager:m}=e,g=Nte(e,Ote),_=x.Children.count(r),b=this.state.style;if(typeof r=="function")return r(b);if(!s||_===0||i<=0)return r;var w=E=>{var{style:A={},className:D}=E.props,L=x.cloneElement(E,Fa(Fa({},g),{},{style:Fa(Fa({},A),b),className:D}));return L};return _===1?w(x.Children.only(r)):x.createElement("div",null,x.Children.map(r,E=>w(E)))}}ps(uE,"displayName","Animate");ps(uE,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function Vm(t){var e,r=E4((e=t.attributeName)!==null&&e!==void 0?e:Object.keys(t.to).join(","),t.animationManager);return x.createElement(uE,Ub({},t,{animationManager:r}))}function Fm(){return Fm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fm.apply(null,arguments)}var LI=(t,e,r,n,i)=>{var a=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,s=r>=0?1:-1,l=n>=0&&r>=0||n<0&&r<0?1:0,c;if(a>0&&i instanceof Array){for(var u=[0,0,0,0],d=0,h=4;d<h;d++)u[d]=i[d]>a?a:i[d];c="M".concat(t,",").concat(e+o*u[0]),u[0]>0&&(c+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(l,",").concat(t+s*u[0],",").concat(e)),c+="L ".concat(t+r-s*u[1],",").concat(e),u[1]>0&&(c+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(l,`,
        `).concat(t+r,",").concat(e+o*u[1])),c+="L ".concat(t+r,",").concat(e+n-o*u[2]),u[2]>0&&(c+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(l,`,
        `).concat(t+r-s*u[2],",").concat(e+n)),c+="L ".concat(t+s*u[3],",").concat(e+n),u[3]>0&&(c+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(l,`,
        `).concat(t,",").concat(e+n-o*u[3])),c+="Z"}else if(a>0&&i===+i&&i>0){var p=Math.min(a,i);c="M ".concat(t,",").concat(e+o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(t+s*p,",").concat(e,`
            L `).concat(t+r-s*p,",").concat(e,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(t+r,",").concat(e+o*p,`
            L `).concat(t+r,",").concat(e+n-o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(t+r-s*p,",").concat(e+n,`
            L `).concat(t+s*p,",").concat(e+n,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(t,",").concat(e+n-o*p," Z")}else c="M ".concat(t,",").concat(e," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return c},Lte={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},S4=t=>{var e=Sn(t,Lte),r=x.useRef(null),[n,i]=x.useState(-1);x.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var b=r.current.getTotalLength();b&&i(b)}catch{}},[]);var{x:a,y:o,width:s,height:l,radius:c,className:u}=e,{animationEasing:d,animationDuration:h,animationBegin:p,isAnimationActive:m,isUpdateAnimationActive:g}=e;if(a!==+a||o!==+o||s!==+s||l!==+l||s===0||l===0)return null;var _=Me("recharts-rectangle",u);return g?x.createElement(Vm,{canBegin:n>0,from:{width:s,height:l,x:a,y:o},to:{width:s,height:l,x:a,y:o},duration:h,animationEasing:d,isActive:g},b=>{var{width:w,height:E,x:A,y:D}=b;return x.createElement(Vm,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:h,isActive:m,easing:d},x.createElement("path",Fm({},ut(e,!0),{className:_,d:LI(A,D,w,E,c),ref:r})))}):x.createElement("path",Fm({},ut(e,!0),{className:_,d:LI(a,o,s,l,c)}))};function k4(t){var{cx:e,cy:r,radius:n,startAngle:i,endAngle:a}=t,o=$t(e,r,n,i),s=$t(e,r,n,a);return{points:[o,s],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function Bb(){return Bb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bb.apply(null,arguments)}var jte=(t,e)=>{var r=rr(e-t),n=Math.min(Math.abs(e-t),359.999);return r*n},Xh=t=>{var{cx:e,cy:r,radius:n,angle:i,sign:a,isExternal:o,cornerRadius:s,cornerIsExternal:l}=t,c=s*(o?1:-1)+n,u=Math.asin(s/c)/Lm,d=l?i:i+a*u,h=$t(e,r,c,d),p=$t(e,r,n,d),m=l?i-a*u:i,g=$t(e,r,c*Math.cos(u*Lm),m);return{center:h,circleTangency:p,lineTangency:g,theta:u}},T4=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:o}=t,s=jte(a,o),l=a+s,c=$t(e,r,i,a),u=$t(e,r,i,l),d="M ".concat(c.x,",").concat(c.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(s)>180),",").concat(+(a>l),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(n>0){var h=$t(e,r,n,a),p=$t(e,r,n,l);d+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(s)>180),",").concat(+(a<=l),`,
            `).concat(h.x,",").concat(h.y," Z")}else d+="L ".concat(e,",").concat(r," Z");return d},$te=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:s,startAngle:l,endAngle:c}=t,u=rr(c-l),{circleTangency:d,lineTangency:h,theta:p}=Xh({cx:e,cy:r,radius:i,angle:l,sign:u,cornerRadius:a,cornerIsExternal:s}),{circleTangency:m,lineTangency:g,theta:_}=Xh({cx:e,cy:r,radius:i,angle:c,sign:-u,cornerRadius:a,cornerIsExternal:s}),b=s?Math.abs(l-c):Math.abs(l-c)-p-_;if(b<0)return o?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):T4({cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:l,endAngle:c});var w="M ".concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(d.x,",").concat(d.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(b>180),",").concat(+(u<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(g.x,",").concat(g.y,`
  `);if(n>0){var{circleTangency:E,lineTangency:A,theta:D}=Xh({cx:e,cy:r,radius:n,angle:l,sign:u,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),{circleTangency:L,lineTangency:T,theta:k}=Xh({cx:e,cy:r,radius:n,angle:c,sign:-u,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),I=s?Math.abs(l-c):Math.abs(l-c)-D-k;if(I<0&&a===0)return"".concat(w,"L").concat(e,",").concat(r,"Z");w+="L".concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(I>180),",").concat(+(u>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(A.x,",").concat(A.y,"Z")}else w+="L".concat(e,",").concat(r,"Z");return w},Vte={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},A4=t=>{var e=Sn(t,Vte),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:u,className:d}=e;if(a<i||c===u)return null;var h=Me("recharts-sector",d),p=a-i,m=Fr(o,p,0,!0),g;return m>0&&Math.abs(c-u)<360?g=$te({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(m,p/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:u}):g=T4({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u}),x.createElement("path",Bb({},ut(e,!0),{className:h,d:g}))};function Fte(t,e,r){var n,i,a,o;if(t==="horizontal")n=e.x,a=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:s,cy:l,innerRadius:c,outerRadius:u,angle:d}=e,h=$t(s,l,c,d),p=$t(s,l,u,d);n=h.x,i=h.y,a=p.x,o=p.y}else return k4(e);return[{x:n,y:i},{x:a,y:o}]}var P4={},I4={},C4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Qx;function r(n){return e.isSymbol(n)?NaN:Number(n)}t.toNumber=r})(C4);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=C4;function r(n){return n?(n=e.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}t.toFinite=r})(I4);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Xx,r=I4;function n(i,a,o){o&&typeof o!="number"&&e.isIterateeCall(i,a,o)&&(a=o=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),o=o===void 0?i<a?1:-1:r.toFinite(o);const s=Math.max(Math.ceil((a-i)/(o||1)),0),l=new Array(s);for(let c=0;c<s;c++)l[c]=i,i+=o;return l}t.range=n})(P4);var Ute=P4.range;const O4=wn(Ute);function wo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Bte(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function dE(t){let e,r,n;t.length!==2?(e=wo,r=(s,l)=>wo(t(s),l),n=(s,l)=>t(s)-l):(e=t===wo||t===Bte?t:zte,r=t,n=t);function i(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;r(s[d],l)<0?c=d+1:u=d}while(c<u)}return c}function a(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;r(s[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function o(s,l,c=0,u=s.length){const d=i(s,l,c,u-1);return d>c&&n(s[d-1],l)>-n(s[d],l)?d-1:d}return{left:i,center:o,right:a}}function zte(){return 0}function N4(t){return t===null?NaN:+t}function*Wte(t,e){if(e===void 0)for(let r of t)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of t)(n=e(n,++r,t))!=null&&(n=+n)>=n&&(yield n)}}const qte=dE(wo),Kte=qte.right;dE(N4).center;const Df=Kte;class jI extends Map{constructor(e,r=Yte){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get($I(this,e))}has(e){return super.has($I(this,e))}set(e,r){return super.set(Hte(this,e),r)}delete(e){return super.delete(Gte(this,e))}}function $I({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Hte({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function Gte({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Yte(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Qte(t=wo){if(t===wo)return D4;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function D4(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Xte=Math.sqrt(50),Jte=Math.sqrt(10),Zte=Math.sqrt(2);function Um(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=Xte?10:a>=Jte?5:a>=Zte?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=r&&r<2?Um(t,e,r*2):[s,l,c]}function zb(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?Um(e,t,r):Um(t,e,r);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(n)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}function Wb(t,e,r){return e=+e,t=+t,r=+r,Um(t,e,r)[2]}function qb(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?Wb(e,t,r):Wb(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function VI(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function FI(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function R4(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?D4:Qte(i);n>r;){if(n-r>600){const l=n-r+1,c=e-r+1,u=Math.log(l),d=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(e-c*d/l+h)),m=Math.min(n,Math.floor(e+(l-c)*d/l+h));R4(t,e,p,m,i)}const a=t[e];let o=r,s=n;for(Pu(t,r,e),i(t[n],a)>0&&Pu(t,r,n);o<s;){for(Pu(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[r],a)===0?Pu(t,r,s):(++s,Pu(t,s,n)),s<=e&&(r=s+1),e<=s&&(n=s-1)}return t}function Pu(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function ere(t,e,r){if(t=Float64Array.from(Wte(t,r)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return FI(t);if(e>=1)return VI(t);var n,i=(n-1)*e,a=Math.floor(i),o=VI(R4(t,a).subarray(0,a+1)),s=FI(t.subarray(a+1));return o+(s-o)*(i-a)}}function tre(t,e,r=N4){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),s=+r(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function rre(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function Bn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Sa(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Kb=Symbol("implicit");function fE(){var t=new jI,e=[],r=[],n=Kb;function i(a){let o=t.get(a);if(o===void 0){if(n!==Kb)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new jI;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return fE(e,r).unknown(n)},Bn.apply(i,arguments),i}function hE(){var t=fE().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,o,s=!1,l=0,c=0,u=.5;delete t.unknown;function d(){var h=e().length,p=i<n,m=p?i:n,g=p?n:i;a=(g-m)/Math.max(1,h-l+c*2),s&&(a=Math.floor(a)),m+=(g-m-a*(h-l))*u,o=a*(1-l),s&&(m=Math.round(m),o=Math.round(o));var _=rre(h).map(function(b){return m+a*b});return r(p?_.reverse():_)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,d()):[n,i]},t.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,s=!0,d()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(h){return arguments.length?(s=!!h,d()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),d()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},t.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),d()):u},t.copy=function(){return hE(e(),[n,i]).round(s).paddingInner(l).paddingOuter(c).align(u)},Bn.apply(d(),arguments)}function M4(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return M4(e())},t}function nre(){return M4(hE.apply(null,arguments).paddingInner(1))}function pE(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function L4(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Rf(){}var Xd=.7,Bm=1/Xd,Xl="\\s*([+-]?\\d+)\\s*",Jd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Si="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ire=/^#([0-9a-f]{3,8})$/,are=new RegExp(`^rgb\\(${Xl},${Xl},${Xl}\\)$`),ore=new RegExp(`^rgb\\(${Si},${Si},${Si}\\)$`),sre=new RegExp(`^rgba\\(${Xl},${Xl},${Xl},${Jd}\\)$`),lre=new RegExp(`^rgba\\(${Si},${Si},${Si},${Jd}\\)$`),cre=new RegExp(`^hsl\\(${Jd},${Si},${Si}\\)$`),ure=new RegExp(`^hsla\\(${Jd},${Si},${Si},${Jd}\\)$`),UI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};pE(Rf,Zd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:BI,formatHex:BI,formatHex8:dre,formatHsl:fre,formatRgb:zI,toString:zI});function BI(){return this.rgb().formatHex()}function dre(){return this.rgb().formatHex8()}function fre(){return j4(this).formatHsl()}function zI(){return this.rgb().formatRgb()}function Zd(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=ire.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?WI(e):r===3?new Yr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Jh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Jh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=are.exec(t))?new Yr(e[1],e[2],e[3],1):(e=ore.exec(t))?new Yr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=sre.exec(t))?Jh(e[1],e[2],e[3],e[4]):(e=lre.exec(t))?Jh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=cre.exec(t))?HI(e[1],e[2]/100,e[3]/100,1):(e=ure.exec(t))?HI(e[1],e[2]/100,e[3]/100,e[4]):UI.hasOwnProperty(t)?WI(UI[t]):t==="transparent"?new Yr(NaN,NaN,NaN,0):null}function WI(t){return new Yr(t>>16&255,t>>8&255,t&255,1)}function Jh(t,e,r,n){return n<=0&&(t=e=r=NaN),new Yr(t,e,r,n)}function hre(t){return t instanceof Rf||(t=Zd(t)),t?(t=t.rgb(),new Yr(t.r,t.g,t.b,t.opacity)):new Yr}function Hb(t,e,r,n){return arguments.length===1?hre(t):new Yr(t,e,r,n??1)}function Yr(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}pE(Yr,Hb,L4(Rf,{brighter(t){return t=t==null?Bm:Math.pow(Bm,t),new Yr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Xd:Math.pow(Xd,t),new Yr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Yr(ks(this.r),ks(this.g),ks(this.b),zm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qI,formatHex:qI,formatHex8:pre,formatRgb:KI,toString:KI}));function qI(){return`#${ms(this.r)}${ms(this.g)}${ms(this.b)}`}function pre(){return`#${ms(this.r)}${ms(this.g)}${ms(this.b)}${ms((isNaN(this.opacity)?1:this.opacity)*255)}`}function KI(){const t=zm(this.opacity);return`${t===1?"rgb(":"rgba("}${ks(this.r)}, ${ks(this.g)}, ${ks(this.b)}${t===1?")":`, ${t})`}`}function zm(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ks(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ms(t){return t=ks(t),(t<16?"0":"")+t.toString(16)}function HI(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Zn(t,e,r,n)}function j4(t){if(t instanceof Zn)return new Zn(t.h,t.s,t.l,t.opacity);if(t instanceof Rf||(t=Zd(t)),!t)return new Zn;if(t instanceof Zn)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-e)/s+2:o=(e-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Zn(o,s,l,t.opacity)}function mre(t,e,r,n){return arguments.length===1?j4(t):new Zn(t,e,r,n??1)}function Zn(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}pE(Zn,mre,L4(Rf,{brighter(t){return t=t==null?Bm:Math.pow(Bm,t),new Zn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Xd:Math.pow(Xd,t),new Zn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Yr(p0(t>=240?t-240:t+120,i,n),p0(t,i,n),p0(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Zn(GI(this.h),Zh(this.s),Zh(this.l),zm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=zm(this.opacity);return`${t===1?"hsl(":"hsla("}${GI(this.h)}, ${Zh(this.s)*100}%, ${Zh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function GI(t){return t=(t||0)%360,t<0?t+360:t}function Zh(t){return Math.max(0,Math.min(1,t||0))}function p0(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const mE=t=>()=>t;function gre(t,e){return function(r){return t+r*e}}function vre(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function yre(t){return(t=+t)==1?$4:function(e,r){return r-e?vre(e,r,t):mE(isNaN(e)?r:e)}}function $4(t,e){var r=e-t;return r?gre(t,r):mE(isNaN(t)?e:t)}const YI=function t(e){var r=yre(e);function n(i,a){var o=r((i=Hb(i)).r,(a=Hb(a)).r),s=r(i.g,a.g),l=r(i.b,a.b),c=$4(i.opacity,a.opacity);return function(u){return i.r=o(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=t,n}(1);function wre(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function bre(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function _re(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=$c(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function xre(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Wm(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Ere(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=$c(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Gb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,m0=new RegExp(Gb.source,"g");function Sre(t){return function(){return t}}function kre(t){return function(e){return t(e)+""}}function Tre(t,e){var r=Gb.lastIndex=m0.lastIndex=0,n,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(n=Gb.exec(t))&&(i=m0.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:Wm(n,i)})),r=m0.lastIndex;return r<e.length&&(a=e.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?kre(l[0].x):Sre(e):(e=l.length,function(c){for(var u=0,d;u<e;++u)s[(d=l[u]).i]=d.x(c);return s.join("")})}function $c(t,e){var r=typeof e,n;return e==null||r==="boolean"?mE(e):(r==="number"?Wm:r==="string"?(n=Zd(e))?(e=n,YI):Tre:e instanceof Zd?YI:e instanceof Date?xre:bre(e)?wre:Array.isArray(e)?_re:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Ere:Wm)(t,e)}function gE(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Are(t,e){e===void 0&&(e=t,t=$c);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function Pre(t){return function(){return t}}function qm(t){return+t}var QI=[0,1];function jr(t){return t}function Yb(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Pre(isNaN(e)?NaN:.5)}function Ire(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Cre(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return i<n?(n=Yb(i,n),a=r(o,a)):(n=Yb(n,i),a=r(a,o)),function(s){return a(n(s))}}function Ore(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=Yb(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(s){var l=Df(t,s,1,n)-1;return a[l](i[l](s))}}function Mf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Rv(){var t=QI,e=QI,r=$c,n,i,a,o=jr,s,l,c;function u(){var h=Math.min(t.length,e.length);return o!==jr&&(o=Ire(t[0],t[h-1])),s=h>2?Ore:Cre,l=c=null,d}function d(h){return h==null||isNaN(h=+h)?a:(l||(l=s(t.map(n),e,r)))(n(o(h)))}return d.invert=function(h){return o(i((c||(c=s(e,t.map(n),Wm)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,qm),u()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),u()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),r=gE,u()},d.clamp=function(h){return arguments.length?(o=h?!0:jr,u()):o!==jr},d.interpolate=function(h){return arguments.length?(r=h,u()):r},d.unknown=function(h){return arguments.length?(a=h,d):a},function(h,p){return n=h,i=p,u()}}function vE(){return Rv()(jr,jr)}function Nre(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Km(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function wc(t){return t=Km(Math.abs(t)),t?t[1]:NaN}function Dre(t,e){return function(r,n){for(var i=r.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Rre(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Mre=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ef(t){if(!(e=Mre.exec(t)))throw new Error("invalid format: "+t);var e;return new yE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ef.prototype=yE.prototype;function yE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}yE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Lre(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var V4;function jre(t,e){var r=Km(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(V4=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Km(t,Math.max(0,e+a-1))[0]}function XI(t,e){var r=Km(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const JI={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Nre,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>XI(t*100,e),r:XI,s:jre,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ZI(t){return t}var eC=Array.prototype.map,tC=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function $re(t){var e=t.grouping===void 0||t.thousands===void 0?ZI:Dre(eC.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?ZI:Rre(eC.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(d){d=ef(d);var h=d.fill,p=d.align,m=d.sign,g=d.symbol,_=d.zero,b=d.width,w=d.comma,E=d.precision,A=d.trim,D=d.type;D==="n"?(w=!0,D="g"):JI[D]||(E===void 0&&(E=12),A=!0,D="g"),(_||h==="0"&&p==="=")&&(_=!0,h="0",p="=");var L=g==="$"?r:g==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",T=g==="$"?n:/[%p]/.test(D)?o:"",k=JI[D],I=/[defgprs%]/.test(D);E=E===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function R(M){var O=L,P=T,z,ie,G;if(D==="c")P=k(M)+P,M="";else{M=+M;var fe=M<0||1/M<0;if(M=isNaN(M)?l:k(Math.abs(M),E),A&&(M=Lre(M)),fe&&+M==0&&m!=="+"&&(fe=!1),O=(fe?m==="("?m:s:m==="-"||m==="("?"":m)+O,P=(D==="s"?tC[8+V4/3]:"")+P+(fe&&m==="("?")":""),I){for(z=-1,ie=M.length;++z<ie;)if(G=M.charCodeAt(z),48>G||G>57){P=(G===46?i+M.slice(z+1):M.slice(z))+P,M=M.slice(0,z);break}}}w&&!_&&(M=e(M,1/0));var W=O.length+M.length+P.length,X=W<b?new Array(b-W+1).join(h):"";switch(w&&_&&(M=e(X+M,X.length?b-P.length:1/0),X=""),p){case"<":M=O+M+P+X;break;case"=":M=O+X+M+P;break;case"^":M=X.slice(0,W=X.length>>1)+O+M+P+X.slice(W);break;default:M=X+O+M+P;break}return a(M)}return R.toString=function(){return d+""},R}function u(d,h){var p=c((d=ef(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(wc(h)/3)))*3,g=Math.pow(10,-m),_=tC[8+m/3];return function(b){return p(g*b)+_}}return{format:c,formatPrefix:u}}var ep,wE,F4;Vre({thousands:",",grouping:[3],currency:["$",""]});function Vre(t){return ep=$re(t),wE=ep.format,F4=ep.formatPrefix,ep}function Fre(t){return Math.max(0,-wc(Math.abs(t)))}function Ure(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(wc(e)/3)))*3-wc(Math.abs(t)))}function Bre(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,wc(e)-wc(t))+1}function U4(t,e,r,n){var i=qb(t,e,r),a;switch(n=ef(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=Ure(i,o))&&(n.precision=a),F4(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=Bre(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=Fre(i))&&(n.precision=a-(n.type==="%")*2);break}}return wE(n)}function zo(t){var e=t.domain;return t.ticks=function(r){var n=e();return zb(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return U4(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,o=n[i],s=n[a],l,c,u=10;for(s<o&&(c=o,o=s,s=c,c=i,i=a,a=c);u-- >0;){if(c=Wb(o,s,r),c===l)return n[i]=o,n[a]=s,e(n);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return t},t}function B4(){var t=vE();return t.copy=function(){return Mf(t,B4())},Bn.apply(t,arguments),zo(t)}function z4(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,qm),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return z4(t).unknown(e)},t=arguments.length?Array.from(t,qm):[0,1],zo(r)}function W4(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),t[r]=e.floor(i),t[n]=e.ceil(a),t}function rC(t){return Math.log(t)}function nC(t){return Math.exp(t)}function zre(t){return-Math.log(-t)}function Wre(t){return-Math.exp(-t)}function qre(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Kre(t){return t===10?qre:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Hre(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function iC(t){return(e,r)=>-t(-e,r)}function bE(t){const e=t(rC,nC),r=e.domain;let n=10,i,a;function o(){return i=Hre(n),a=Kre(n),r()[0]<0?(i=iC(i),a=iC(a),t(zre,Wre)):t(rC,nC),e}return e.base=function(s){return arguments.length?(n=+s,o()):n},e.domain=function(s){return arguments.length?(r(s),o()):r()},e.ticks=s=>{const l=r();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let h=i(c),p=i(u),m,g;const _=s==null?10:+s;let b=[];if(!(n%1)&&p-h<_){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(m=1;m<n;++m)if(g=h<0?m/a(-h):m*a(h),!(g<c)){if(g>u)break;b.push(g)}}else for(;h<=p;++h)for(m=n-1;m>=1;--m)if(g=h>0?m/a(-h):m*a(h),!(g<c)){if(g>u)break;b.push(g)}b.length*2<_&&(b=zb(c,u,_))}else b=zb(h,p,Math.min(p-h,_)).map(a);return d?b.reverse():b},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=ef(l)).precision==null&&(l.trim=!0),l=wE(l)),s===1/0)return l;const c=Math.max(1,n*s/e.ticks().length);return u=>{let d=u/a(Math.round(i(u)));return d*n<n-.5&&(d*=n),d<=c?l(u):""}},e.nice=()=>r(W4(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function q4(){const t=bE(Rv()).domain([1,10]);return t.copy=()=>Mf(t,q4()).base(t.base()),Bn.apply(t,arguments),t}function aC(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function oC(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function _E(t){var e=1,r=t(aC(e),oC(e));return r.constant=function(n){return arguments.length?t(aC(e=+n),oC(e)):e},zo(r)}function K4(){var t=_E(Rv());return t.copy=function(){return Mf(t,K4()).constant(t.constant())},Bn.apply(t,arguments)}function sC(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Gre(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Yre(t){return t<0?-t*t:t*t}function xE(t){var e=t(jr,jr),r=1;function n(){return r===1?t(jr,jr):r===.5?t(Gre,Yre):t(sC(r),sC(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},zo(e)}function EE(){var t=xE(Rv());return t.copy=function(){return Mf(t,EE()).exponent(t.exponent())},Bn.apply(t,arguments),t}function Qre(){return EE.apply(null,arguments).exponent(.5)}function lC(t){return Math.sign(t)*t*t}function Xre(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function H4(){var t=vE(),e=[0,1],r=!1,n;function i(a){var o=Xre(t(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return t.invert(lC(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,qm)).map(lC)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return H4(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Bn.apply(i,arguments),zo(i)}function G4(){var t=[],e=[],r=[],n;function i(){var o=0,s=Math.max(1,e.length);for(r=new Array(s-1);++o<s;)r[o-1]=tre(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:e[Df(r,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:t[0],s<r.length?r[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(wo),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return G4().domain(t).range(e).unknown(n)},Bn.apply(a,arguments)}function Y4(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[Df(n,l,0,r)]:a}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,n[0]]:c>=r?[n[r-1],e]:[n[c-1],n[c]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return Y4().domain([t,e]).range(i).unknown(a)},Bn.apply(zo(o),arguments)}function Q4(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[Df(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Q4().domain(t).range(e).unknown(r)},Bn.apply(i,arguments)}const g0=new Date,v0=new Date;function qt(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let c;do l.push(c=new Date(+a)),e(a,s),t(a);while(c<a&&a<o);return l},i.filter=a=>qt(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),r&&(i.count=(a,o)=>(g0.setTime(+a),v0.setTime(+o),t(g0),t(v0),Math.floor(r(g0,v0))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Hm=qt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Hm.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?qt(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Hm);Hm.range;const Qi=1e3,Mn=Qi*60,Xi=Mn*60,pa=Xi*24,SE=pa*7,cC=pa*30,y0=pa*365,gs=qt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Qi)},(t,e)=>(e-t)/Qi,t=>t.getUTCSeconds());gs.range;const kE=qt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Qi)},(t,e)=>{t.setTime(+t+e*Mn)},(t,e)=>(e-t)/Mn,t=>t.getMinutes());kE.range;const TE=qt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Mn)},(t,e)=>(e-t)/Mn,t=>t.getUTCMinutes());TE.range;const AE=qt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Qi-t.getMinutes()*Mn)},(t,e)=>{t.setTime(+t+e*Xi)},(t,e)=>(e-t)/Xi,t=>t.getHours());AE.range;const PE=qt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Xi)},(t,e)=>(e-t)/Xi,t=>t.getUTCHours());PE.range;const Lf=qt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Mn)/pa,t=>t.getDate()-1);Lf.range;const Mv=qt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/pa,t=>t.getUTCDate()-1);Mv.range;const X4=qt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/pa,t=>Math.floor(t/pa));X4.range;function rl(t){return qt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Mn)/SE)}const Lv=rl(0),Gm=rl(1),Jre=rl(2),Zre=rl(3),bc=rl(4),ene=rl(5),tne=rl(6);Lv.range;Gm.range;Jre.range;Zre.range;bc.range;ene.range;tne.range;function nl(t){return qt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/SE)}const jv=nl(0),Ym=nl(1),rne=nl(2),nne=nl(3),_c=nl(4),ine=nl(5),ane=nl(6);jv.range;Ym.range;rne.range;nne.range;_c.range;ine.range;ane.range;const IE=qt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());IE.range;const CE=qt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());CE.range;const ma=qt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ma.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:qt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});ma.range;const ga=qt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ga.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:qt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});ga.range;function J4(t,e,r,n,i,a){const o=[[gs,1,Qi],[gs,5,5*Qi],[gs,15,15*Qi],[gs,30,30*Qi],[a,1,Mn],[a,5,5*Mn],[a,15,15*Mn],[a,30,30*Mn],[i,1,Xi],[i,3,3*Xi],[i,6,6*Xi],[i,12,12*Xi],[n,1,pa],[n,2,2*pa],[r,1,SE],[e,1,cC],[e,3,3*cC],[t,1,y0]];function s(c,u,d){const h=u<c;h&&([c,u]=[u,c]);const p=d&&typeof d.range=="function"?d:l(c,u,d),m=p?p.range(c,+u+1):[];return h?m.reverse():m}function l(c,u,d){const h=Math.abs(u-c)/d,p=dE(([,,_])=>_).right(o,h);if(p===o.length)return t.every(qb(c/y0,u/y0,d));if(p===0)return Hm.every(Math.max(qb(c,u,d),1));const[m,g]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return m.every(g)}return[s,l]}const[one,sne]=J4(ga,CE,jv,X4,PE,TE),[lne,cne]=J4(ma,IE,Lv,Lf,AE,kE);function w0(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function b0(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Iu(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function une(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,c=Cu(i),u=Ou(i),d=Cu(a),h=Ou(a),p=Cu(o),m=Ou(o),g=Cu(s),_=Ou(s),b=Cu(l),w=Ou(l),E={a:fe,A:W,b:X,B:Q,c:null,d:mC,e:mC,f:Dne,g:zne,G:qne,H:Cne,I:One,j:Nne,L:Z4,m:Rne,M:Mne,p:ce,q:Y,Q:yC,s:wC,S:Lne,u:jne,U:$ne,V:Vne,w:Fne,W:Une,x:null,X:null,y:Bne,Y:Wne,Z:Kne,"%":vC},A={a:he,A:Nt,b:qe,B:Gt,c:null,d:gC,e:gC,f:Qne,g:oie,G:lie,H:Hne,I:Gne,j:Yne,L:t$,m:Xne,M:Jne,p:Tt,q:en,Q:yC,s:wC,S:Zne,u:eie,U:tie,V:rie,w:nie,W:iie,x:null,X:null,y:aie,Y:sie,Z:cie,"%":vC},D={a:R,A:M,b:O,B:P,c:z,d:hC,e:hC,f:Tne,g:fC,G:dC,H:pC,I:pC,j:xne,L:kne,m:_ne,M:Ene,p:I,q:bne,Q:Pne,s:Ine,S:Sne,u:mne,U:gne,V:vne,w:pne,W:yne,x:ie,X:G,y:fC,Y:dC,Z:wne,"%":Ane};E.x=L(r,E),E.X=L(n,E),E.c=L(e,E),A.x=L(r,A),A.X=L(n,A),A.c=L(e,A);function L(Z,me){return function(ve){var q=[],Qe=-1,de=0,et=Z.length,je,or,Ii;for(ve instanceof Date||(ve=new Date(+ve));++Qe<et;)Z.charCodeAt(Qe)===37&&(q.push(Z.slice(de,Qe)),(or=uC[je=Z.charAt(++Qe)])!=null?je=Z.charAt(++Qe):or=je==="e"?" ":"0",(Ii=me[je])&&(je=Ii(ve,or)),q.push(je),de=Qe+1);return q.push(Z.slice(de,Qe)),q.join("")}}function T(Z,me){return function(ve){var q=Iu(1900,void 0,1),Qe=k(q,Z,ve+="",0),de,et;if(Qe!=ve.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(me&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(de=b0(Iu(q.y,0,1)),et=de.getUTCDay(),de=et>4||et===0?Ym.ceil(de):Ym(de),de=Mv.offset(de,(q.V-1)*7),q.y=de.getUTCFullYear(),q.m=de.getUTCMonth(),q.d=de.getUTCDate()+(q.w+6)%7):(de=w0(Iu(q.y,0,1)),et=de.getDay(),de=et>4||et===0?Gm.ceil(de):Gm(de),de=Lf.offset(de,(q.V-1)*7),q.y=de.getFullYear(),q.m=de.getMonth(),q.d=de.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),et="Z"in q?b0(Iu(q.y,0,1)).getUTCDay():w0(Iu(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(et+5)%7:q.w+q.U*7-(et+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,b0(q)):w0(q)}}function k(Z,me,ve,q){for(var Qe=0,de=me.length,et=ve.length,je,or;Qe<de;){if(q>=et)return-1;if(je=me.charCodeAt(Qe++),je===37){if(je=me.charAt(Qe++),or=D[je in uC?me.charAt(Qe++):je],!or||(q=or(Z,ve,q))<0)return-1}else if(je!=ve.charCodeAt(q++))return-1}return q}function I(Z,me,ve){var q=c.exec(me.slice(ve));return q?(Z.p=u.get(q[0].toLowerCase()),ve+q[0].length):-1}function R(Z,me,ve){var q=p.exec(me.slice(ve));return q?(Z.w=m.get(q[0].toLowerCase()),ve+q[0].length):-1}function M(Z,me,ve){var q=d.exec(me.slice(ve));return q?(Z.w=h.get(q[0].toLowerCase()),ve+q[0].length):-1}function O(Z,me,ve){var q=b.exec(me.slice(ve));return q?(Z.m=w.get(q[0].toLowerCase()),ve+q[0].length):-1}function P(Z,me,ve){var q=g.exec(me.slice(ve));return q?(Z.m=_.get(q[0].toLowerCase()),ve+q[0].length):-1}function z(Z,me,ve){return k(Z,e,me,ve)}function ie(Z,me,ve){return k(Z,r,me,ve)}function G(Z,me,ve){return k(Z,n,me,ve)}function fe(Z){return o[Z.getDay()]}function W(Z){return a[Z.getDay()]}function X(Z){return l[Z.getMonth()]}function Q(Z){return s[Z.getMonth()]}function ce(Z){return i[+(Z.getHours()>=12)]}function Y(Z){return 1+~~(Z.getMonth()/3)}function he(Z){return o[Z.getUTCDay()]}function Nt(Z){return a[Z.getUTCDay()]}function qe(Z){return l[Z.getUTCMonth()]}function Gt(Z){return s[Z.getUTCMonth()]}function Tt(Z){return i[+(Z.getUTCHours()>=12)]}function en(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var me=L(Z+="",E);return me.toString=function(){return Z},me},parse:function(Z){var me=T(Z+="",!1);return me.toString=function(){return Z},me},utcFormat:function(Z){var me=L(Z+="",A);return me.toString=function(){return Z},me},utcParse:function(Z){var me=T(Z+="",!0);return me.toString=function(){return Z},me}}}var uC={"-":"",_:" ",0:"0"},ar=/^\s*\d+/,dne=/^%/,fne=/[\\^$*+?|[\]().{}]/g;function Le(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function hne(t){return t.replace(fne,"\\$&")}function Cu(t){return new RegExp("^(?:"+t.map(hne).join("|")+")","i")}function Ou(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function pne(t,e,r){var n=ar.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function mne(t,e,r){var n=ar.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function gne(t,e,r){var n=ar.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function vne(t,e,r){var n=ar.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function yne(t,e,r){var n=ar.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function dC(t,e,r){var n=ar.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function fC(t,e,r){var n=ar.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function wne(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function bne(t,e,r){var n=ar.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function _ne(t,e,r){var n=ar.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function hC(t,e,r){var n=ar.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function xne(t,e,r){var n=ar.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function pC(t,e,r){var n=ar.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Ene(t,e,r){var n=ar.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function Sne(t,e,r){var n=ar.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function kne(t,e,r){var n=ar.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function Tne(t,e,r){var n=ar.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Ane(t,e,r){var n=dne.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function Pne(t,e,r){var n=ar.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function Ine(t,e,r){var n=ar.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function mC(t,e){return Le(t.getDate(),e,2)}function Cne(t,e){return Le(t.getHours(),e,2)}function One(t,e){return Le(t.getHours()%12||12,e,2)}function Nne(t,e){return Le(1+Lf.count(ma(t),t),e,3)}function Z4(t,e){return Le(t.getMilliseconds(),e,3)}function Dne(t,e){return Z4(t,e)+"000"}function Rne(t,e){return Le(t.getMonth()+1,e,2)}function Mne(t,e){return Le(t.getMinutes(),e,2)}function Lne(t,e){return Le(t.getSeconds(),e,2)}function jne(t){var e=t.getDay();return e===0?7:e}function $ne(t,e){return Le(Lv.count(ma(t)-1,t),e,2)}function e$(t){var e=t.getDay();return e>=4||e===0?bc(t):bc.ceil(t)}function Vne(t,e){return t=e$(t),Le(bc.count(ma(t),t)+(ma(t).getDay()===4),e,2)}function Fne(t){return t.getDay()}function Une(t,e){return Le(Gm.count(ma(t)-1,t),e,2)}function Bne(t,e){return Le(t.getFullYear()%100,e,2)}function zne(t,e){return t=e$(t),Le(t.getFullYear()%100,e,2)}function Wne(t,e){return Le(t.getFullYear()%1e4,e,4)}function qne(t,e){var r=t.getDay();return t=r>=4||r===0?bc(t):bc.ceil(t),Le(t.getFullYear()%1e4,e,4)}function Kne(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Le(e/60|0,"0",2)+Le(e%60,"0",2)}function gC(t,e){return Le(t.getUTCDate(),e,2)}function Hne(t,e){return Le(t.getUTCHours(),e,2)}function Gne(t,e){return Le(t.getUTCHours()%12||12,e,2)}function Yne(t,e){return Le(1+Mv.count(ga(t),t),e,3)}function t$(t,e){return Le(t.getUTCMilliseconds(),e,3)}function Qne(t,e){return t$(t,e)+"000"}function Xne(t,e){return Le(t.getUTCMonth()+1,e,2)}function Jne(t,e){return Le(t.getUTCMinutes(),e,2)}function Zne(t,e){return Le(t.getUTCSeconds(),e,2)}function eie(t){var e=t.getUTCDay();return e===0?7:e}function tie(t,e){return Le(jv.count(ga(t)-1,t),e,2)}function r$(t){var e=t.getUTCDay();return e>=4||e===0?_c(t):_c.ceil(t)}function rie(t,e){return t=r$(t),Le(_c.count(ga(t),t)+(ga(t).getUTCDay()===4),e,2)}function nie(t){return t.getUTCDay()}function iie(t,e){return Le(Ym.count(ga(t)-1,t),e,2)}function aie(t,e){return Le(t.getUTCFullYear()%100,e,2)}function oie(t,e){return t=r$(t),Le(t.getUTCFullYear()%100,e,2)}function sie(t,e){return Le(t.getUTCFullYear()%1e4,e,4)}function lie(t,e){var r=t.getUTCDay();return t=r>=4||r===0?_c(t):_c.ceil(t),Le(t.getUTCFullYear()%1e4,e,4)}function cie(){return"+0000"}function vC(){return"%"}function yC(t){return+t}function wC(t){return Math.floor(+t/1e3)}var pl,n$,i$;uie({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function uie(t){return pl=une(t),n$=pl.format,pl.parse,i$=pl.utcFormat,pl.utcParse,pl}function die(t){return new Date(t)}function fie(t){return t instanceof Date?+t:+new Date(+t)}function OE(t,e,r,n,i,a,o,s,l,c){var u=vE(),d=u.invert,h=u.domain,p=c(".%L"),m=c(":%S"),g=c("%I:%M"),_=c("%I %p"),b=c("%a %d"),w=c("%b %d"),E=c("%B"),A=c("%Y");function D(L){return(l(L)<L?p:s(L)<L?m:o(L)<L?g:a(L)<L?_:n(L)<L?i(L)<L?b:w:r(L)<L?E:A)(L)}return u.invert=function(L){return new Date(d(L))},u.domain=function(L){return arguments.length?h(Array.from(L,fie)):h().map(die)},u.ticks=function(L){var T=h();return t(T[0],T[T.length-1],L??10)},u.tickFormat=function(L,T){return T==null?D:c(T)},u.nice=function(L){var T=h();return(!L||typeof L.range!="function")&&(L=e(T[0],T[T.length-1],L??10)),L?h(W4(T,L)):u},u.copy=function(){return Mf(u,OE(t,e,r,n,i,a,o,s,l,c))},u}function hie(){return Bn.apply(OE(lne,cne,ma,IE,Lv,Lf,AE,kE,gs,n$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function pie(){return Bn.apply(OE(one,sne,ga,CE,jv,Mv,PE,TE,gs,i$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function $v(){var t=0,e=1,r,n,i,a,o=jr,s=!1,l;function c(d){return d==null||isNaN(d=+d)?l:o(i===0?.5:(d=(a(d)-r)*i,s?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([t,e]=d,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),c):[t,e]},c.clamp=function(d){return arguments.length?(s=!!d,c):s},c.interpolator=function(d){return arguments.length?(o=d,c):o};function u(d){return function(h){var p,m;return arguments.length?([p,m]=h,o=d(p,m),c):[o(0),o(1)]}}return c.range=u($c),c.rangeRound=u(gE),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return a=d,r=d(t),n=d(e),i=r===n?0:1/(n-r),c}}function Wo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function a$(){var t=zo($v()(jr));return t.copy=function(){return Wo(t,a$())},Sa.apply(t,arguments)}function o$(){var t=bE($v()).domain([1,10]);return t.copy=function(){return Wo(t,o$()).base(t.base())},Sa.apply(t,arguments)}function s$(){var t=_E($v());return t.copy=function(){return Wo(t,s$()).constant(t.constant())},Sa.apply(t,arguments)}function NE(){var t=xE($v());return t.copy=function(){return Wo(t,NE()).exponent(t.exponent())},Sa.apply(t,arguments)}function mie(){return NE.apply(null,arguments).exponent(.5)}function l$(){var t=[],e=jr;function r(n){if(n!=null&&!isNaN(n=+n))return e((Df(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(wo),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>ere(t,a/n))},r.copy=function(){return l$(e).domain(t)},Sa.apply(r,arguments)}function Vv(){var t=0,e=.5,r=1,n=1,i,a,o,s,l,c=jr,u,d=!1,h;function p(g){return isNaN(g=+g)?h:(g=.5+((g=+u(g))-a)*(n*g<n*a?s:l),c(d?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,r]=g,i=u(t=+t),a=u(e=+e),o=u(r=+r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,p):[t,e,r]},p.clamp=function(g){return arguments.length?(d=!!g,p):d},p.interpolator=function(g){return arguments.length?(c=g,p):c};function m(g){return function(_){var b,w,E;return arguments.length?([b,w,E]=_,c=Are(g,[b,w,E]),p):[c(0),c(.5),c(1)]}}return p.range=m($c),p.rangeRound=m(gE),p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return u=g,i=g(t),a=g(e),o=g(r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,p}}function c$(){var t=zo(Vv()(jr));return t.copy=function(){return Wo(t,c$())},Sa.apply(t,arguments)}function u$(){var t=bE(Vv()).domain([.1,1,10]);return t.copy=function(){return Wo(t,u$()).base(t.base())},Sa.apply(t,arguments)}function d$(){var t=_E(Vv());return t.copy=function(){return Wo(t,d$()).constant(t.constant())},Sa.apply(t,arguments)}function DE(){var t=xE(Vv());return t.copy=function(){return Wo(t,DE()).exponent(t.exponent())},Sa.apply(t,arguments)}function gie(){return DE.apply(null,arguments).exponent(.5)}const Ku=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:hE,scaleDiverging:c$,scaleDivergingLog:u$,scaleDivergingPow:DE,scaleDivergingSqrt:gie,scaleDivergingSymlog:d$,scaleIdentity:z4,scaleImplicit:Kb,scaleLinear:B4,scaleLog:q4,scaleOrdinal:fE,scalePoint:nre,scalePow:EE,scaleQuantile:G4,scaleQuantize:Y4,scaleRadial:H4,scaleSequential:a$,scaleSequentialLog:o$,scaleSequentialPow:NE,scaleSequentialQuantile:l$,scaleSequentialSqrt:mie,scaleSequentialSymlog:s$,scaleSqrt:Qre,scaleSymlog:K4,scaleThreshold:Q4,scaleTime:hie,scaleUtc:pie,tickFormat:U4},Symbol.toStringTag,{value:"Module"}));var qo=t=>t.chartData,RE=$([qo],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),Fv=(t,e,r,n)=>n?RE(t):qo(t);function xc(t){if(Array.isArray(t)&&t.length===2){var[e,r]=t;if(yn(e)&&yn(r))return!0}return!1}function bC(t,e,r){return r?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function vie(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[r,n]=t,i,a;if(yn(r))i=r;else if(typeof r=="function")return;if(yn(n))a=n;else if(typeof n=="function")return;var o=[i,a];if(xc(o))return o}}function yie(t,e,r){if(!(!r&&e==null)){if(typeof t=="function"&&e!=null)try{var n=t(e,r);if(xc(n))return bC(n,e,r)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,o,s;if(i==="auto")e!=null&&(o=Math.min(...e));else if(ee(i))o=i;else if(typeof i=="function")try{e!=null&&(o=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&gI.test(i)){var l=gI.exec(i);if(l==null||e==null)o=void 0;else{var c=+l[1];o=e[0]-c}}else o=e==null?void 0:e[0];if(a==="auto")e!=null&&(s=Math.max(...e));else if(ee(a))s=a;else if(typeof a=="function")try{e!=null&&(s=a(e==null?void 0:e[1]))}catch{}else if(typeof a=="string"&&vI.test(a)){var u=vI.exec(a);if(u==null||e==null)s=void 0;else{var d=+u[1];s=e[1]+d}}else s=e==null?void 0:e[1];var h=[o,s];if(xc(h))return e==null?h:bC(h,e,r)}}}var Vc=1e9,wie={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},LE,dt=!0,Un="[DecimalError] ",Ts=Un+"Invalid argument: ",ME=Un+"Exponent out of range: ",Fc=Math.floor,os=Math.pow,bie=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ln,er=1e7,it=7,f$=9007199254740991,Qm=Fc(f$/it),ne={};ne.absoluteValue=ne.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ne.comparedTo=ne.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};ne.decimalPlaces=ne.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*it;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};ne.dividedBy=ne.div=function(t){return na(this,new this.constructor(t))};ne.dividedToIntegerBy=ne.idiv=function(t){var e=this,r=e.constructor;return Ye(na(e,new r(t),0,1),r.precision)};ne.equals=ne.eq=function(t){return!this.cmp(t)};ne.exponent=function(){return Vt(this)};ne.greaterThan=ne.gt=function(t){return this.cmp(t)>0};ne.greaterThanOrEqualTo=ne.gte=function(t){return this.cmp(t)>=0};ne.isInteger=ne.isint=function(){return this.e>this.d.length-2};ne.isNegative=ne.isneg=function(){return this.s<0};ne.isPositive=ne.ispos=function(){return this.s>0};ne.isZero=function(){return this.s===0};ne.lessThan=ne.lt=function(t){return this.cmp(t)<0};ne.lessThanOrEqualTo=ne.lte=function(t){return this.cmp(t)<1};ne.logarithm=ne.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(ln))throw Error(Un+"NaN");if(r.s<1)throw Error(Un+(r.s?"NaN":"-Infinity"));return r.eq(ln)?new n(0):(dt=!1,e=na(tf(r,a),tf(t,a),a),dt=!0,Ye(e,i))};ne.minus=ne.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?m$(e,t):h$(e,(t.s=-t.s,t))};ne.modulo=ne.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Un+"NaN");return r.s?(dt=!1,e=na(r,t,0,1).times(t),dt=!0,r.minus(e)):Ye(new n(r),i)};ne.naturalExponential=ne.exp=function(){return p$(this)};ne.naturalLogarithm=ne.ln=function(){return tf(this)};ne.negated=ne.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ne.plus=ne.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?h$(e,t):m$(e,(t.s=-t.s,t))};ne.precision=ne.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ts+t);if(e=Vt(i)+1,n=i.d.length-1,r=n*it+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};ne.squareRoot=ne.sqrt=function(){var t,e,r,n,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Un+"NaN")}for(t=Vt(s),dt=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=gi(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Fc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=o=r+3;;)if(a=n,n=a.plus(na(s,a,o+2)).times(.5),gi(a.d).slice(0,o)===(e=gi(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Ye(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(e!="9999")break;o+=4}return dt=!0,Ye(n,r)};ne.times=ne.mul=function(t){var e,r,n,i,a,o,s,l,c,u=this,d=u.constructor,h=u.d,p=(t=new d(t)).d;if(!u.s||!t.s)return new d(0);for(t.s*=u.s,r=u.e+t.e,l=h.length,c=p.length,l<c&&(a=h,h=p,p=a,o=l,l=c,c=o),a=[],o=l+c,n=o;n--;)a.push(0);for(n=c;--n>=0;){for(e=0,i=l+n;i>n;)s=a[i]+p[n]*h[i-n-1]+e,a[i--]=s%er|0,e=s/er|0;a[i]=(a[i]+e)%er|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,dt?Ye(t,d.precision):t};ne.toDecimalPlaces=ne.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Ai(t,0,Vc),e===void 0?e=n.rounding:Ai(e,0,8),Ye(r,t+Vt(r)+1,e))};ne.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Us(n,!0):(Ai(t,0,Vc),e===void 0?e=i.rounding:Ai(e,0,8),n=Ye(new i(n),t+1,e),r=Us(n,!0,t+1)),r};ne.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?Us(i):(Ai(t,0,Vc),e===void 0?e=a.rounding:Ai(e,0,8),n=Ye(new a(i),t+Vt(i)+1,e),r=Us(n.abs(),!1,t+Vt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ne.toInteger=ne.toint=function(){var t=this,e=t.constructor;return Ye(new e(t),Vt(t)+1,e.rounding)};ne.toNumber=function(){return+this};ne.toPower=ne.pow=function(t){var e,r,n,i,a,o,s=this,l=s.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(ln);if(s=new l(s),!s.s){if(t.s<1)throw Error(Un+"Infinity");return s}if(s.eq(ln))return s;if(n=l.precision,t.eq(ln))return Ye(s,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=s.s,o){if((r=u<0?-u:u)<=f$){for(i=new l(ln),e=Math.ceil(n/it+4),dt=!1;r%2&&(i=i.times(s),xC(i.d,e)),r=Fc(r/2),r!==0;)s=s.times(s),xC(s.d,e);return dt=!0,t.s<0?new l(ln).div(i):Ye(i,n)}}else if(a<0)throw Error(Un+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,s.s=1,dt=!1,i=t.times(tf(s,n+c)),dt=!0,i=p$(i),i.s=a,i};ne.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=Vt(i),n=Us(i,r<=a.toExpNeg||r>=a.toExpPos)):(Ai(t,1,Vc),e===void 0?e=a.rounding:Ai(e,0,8),i=Ye(new a(i),t,e),r=Vt(i),n=Us(i,t<=r||r<=a.toExpNeg,t)),n};ne.toSignificantDigits=ne.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Ai(t,1,Vc),e===void 0?e=n.rounding:Ai(e,0,8)),Ye(new n(r),t,e)};ne.toString=ne.valueOf=ne.val=ne.toJSON=ne[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Vt(t),r=t.constructor;return Us(t,e<=r.toExpNeg||e>=r.toExpPos)};function h$(t,e){var r,n,i,a,o,s,l,c,u=t.constructor,d=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),dt?Ye(e,d):e;if(l=t.d,c=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(n=l,a=-a,s=c.length):(n=c,i=o,s=l.length),o=Math.ceil(d/it),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=l.length,a=c.length,s-a<0&&(a=s,n=c,c=l,l=n),r=0;a;)r=(l[--a]=l[a]+c[a]+r)/er|0,l[a]%=er;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,dt?Ye(e,d):e}function Ai(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Ts+t)}function gi(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=it-n.length,r&&(a+=Ka(r)),a+=n;o=t[e],n=o+"",r=it-n.length,r&&(a+=Ka(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var na=function(){function t(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%er|0,o=a/er|0;return o&&n.unshift(o),n}function e(n,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*er+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,l,c,u,d,h,p,m,g,_,b,w,E,A,D,L,T,k,I=n.constructor,R=n.s==i.s?1:-1,M=n.d,O=i.d;if(!n.s)return new I(n);if(!i.s)throw Error(Un+"Division by zero");for(l=n.e-i.e,T=O.length,D=M.length,p=new I(R),m=p.d=[],c=0;O[c]==(M[c]||0);)++c;if(O[c]>(M[c]||0)&&--l,a==null?w=a=I.precision:o?w=a+(Vt(n)-Vt(i))+1:w=a,w<0)return new I(0);if(w=w/it+2|0,c=0,T==1)for(u=0,O=O[0],w++;(c<D||u)&&w--;c++)E=u*er+(M[c]||0),m[c]=E/O|0,u=E%O|0;else{for(u=er/(O[0]+1)|0,u>1&&(O=t(O,u),M=t(M,u),T=O.length,D=M.length),A=T,g=M.slice(0,T),_=g.length;_<T;)g[_++]=0;k=O.slice(),k.unshift(0),L=O[0],O[1]>=er/2&&++L;do u=0,s=e(O,g,T,_),s<0?(b=g[0],T!=_&&(b=b*er+(g[1]||0)),u=b/L|0,u>1?(u>=er&&(u=er-1),d=t(O,u),h=d.length,_=g.length,s=e(d,g,h,_),s==1&&(u--,r(d,T<h?k:O,h))):(u==0&&(s=u=1),d=O.slice()),h=d.length,h<_&&d.unshift(0),r(g,d,_),s==-1&&(_=g.length,s=e(O,g,T,_),s<1&&(u++,r(g,T<_?k:O,_))),_=g.length):s===0&&(u++,g=[0]),m[c++]=u,s&&g[0]?g[_++]=M[A]||0:(g=[M[A]],_=1);while((A++<D||g[0]!==void 0)&&w--)}return m[0]||m.shift(),p.e=l,Ye(p,o?a+Vt(p)+1:a)}}();function p$(t,e){var r,n,i,a,o,s,l=0,c=0,u=t.constructor,d=u.precision;if(Vt(t)>16)throw Error(ME+Vt(t));if(!t.s)return new u(ln);for(e==null?(dt=!1,s=d):s=e,o=new u(.03125);t.abs().gte(.1);)t=t.times(o),c+=5;for(n=Math.log(os(2,c))/Math.LN10*2+5|0,s+=n,r=i=a=new u(ln),u.precision=s;;){if(i=Ye(i.times(t),s),r=r.times(++l),o=a.plus(na(i,r,s)),gi(o.d).slice(0,s)===gi(a.d).slice(0,s)){for(;c--;)a=Ye(a.times(a),s);return u.precision=d,e==null?(dt=!0,Ye(a,d)):a}a=o}}function Vt(t){for(var e=t.e*it,r=t.d[0];r>=10;r/=10)e++;return e}function _0(t,e,r){if(e>t.LN10.sd())throw dt=!0,r&&(t.precision=r),Error(Un+"LN10 precision limit exceeded");return Ye(new t(t.LN10),e)}function Ka(t){for(var e="";t--;)e+="0";return e}function tf(t,e){var r,n,i,a,o,s,l,c,u,d=1,h=10,p=t,m=p.d,g=p.constructor,_=g.precision;if(p.s<1)throw Error(Un+(p.s?"NaN":"-Infinity"));if(p.eq(ln))return new g(0);if(e==null?(dt=!1,c=_):c=e,p.eq(10))return e==null&&(dt=!0),_0(g,c);if(c+=h,g.precision=c,r=gi(m),n=r.charAt(0),a=Vt(p),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=gi(p.d),n=r.charAt(0),d++;a=Vt(p),n>1?(p=new g("0."+r),a++):p=new g(n+"."+r.slice(1))}else return l=_0(g,c+2,_).times(a+""),p=tf(new g(n+"."+r.slice(1)),c-h).plus(l),g.precision=_,e==null?(dt=!0,Ye(p,_)):p;for(s=o=p=na(p.minus(ln),p.plus(ln),c),u=Ye(p.times(p),c),i=3;;){if(o=Ye(o.times(u),c),l=s.plus(na(o,new g(i),c)),gi(l.d).slice(0,c)===gi(s.d).slice(0,c))return s=s.times(2),a!==0&&(s=s.plus(_0(g,c+2,_).times(a+""))),s=na(s,new g(d),c),g.precision=_,e==null?(dt=!0,Ye(s,_)):s;s=l,i+=2}}function _C(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Fc(r/it),t.d=[],n=(r+1)%it,r<0&&(n+=it),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=it;n<i;)t.d.push(+e.slice(n,n+=it));e=e.slice(n),n=it-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),dt&&(t.e>Qm||t.e<-Qm))throw Error(ME+r)}else t.s=0,t.e=0,t.d=[0];return t}function Ye(t,e,r){var n,i,a,o,s,l,c,u,d=t.d;for(o=1,a=d[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=it,i=e,c=d[u=0];else{if(u=Math.ceil((n+1)/it),a=d.length,u>=a)return t;for(c=a=d[u],o=1;a>=10;a/=10)o++;n%=it,i=n-it+o}if(r!==void 0&&(a=os(10,o-i-1),s=c/a%10|0,l=e<0||d[u+1]!==void 0||c%a,l=r<4?(s||l)&&(r==0||r==(t.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?c/os(10,o-i):0:d[u-1])%10&1||r==(t.s<0?8:7))),e<1||!d[0])return l?(a=Vt(t),d.length=1,e=e-a-1,d[0]=os(10,(it-e%it)%it),t.e=Fc(-e/it)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(n==0?(d.length=u,a=1,u--):(d.length=u+1,a=os(10,it-n),d[u]=i>0?(c/os(10,o-i)%os(10,i)|0)*a:0),l)for(;;)if(u==0){(d[0]+=a)==er&&(d[0]=1,++t.e);break}else{if(d[u]+=a,d[u]!=er)break;d[u--]=0,a=1}for(n=d.length;d[--n]===0;)d.pop();if(dt&&(t.e>Qm||t.e<-Qm))throw Error(ME+Vt(t));return t}function m$(t,e){var r,n,i,a,o,s,l,c,u,d,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),dt?Ye(e,p):e;if(l=t.d,d=e.d,n=e.e,c=t.e,l=l.slice(),o=c-n,o){for(u=o<0,u?(r=l,o=-o,s=d.length):(r=d,n=c,s=l.length),i=Math.max(Math.ceil(p/it),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=d.length,u=i<s,u&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){u=l[i]<d[i];break}o=0}for(u&&(r=l,l=d,d=r,e.s=-e.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>o;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=er-1;--l[a],l[i]+=er}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,dt?Ye(e,p):e):new h(0)}function Us(t,e,r){var n,i=Vt(t),a=gi(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+Ka(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ka(-i-1)+a,r&&(n=r-o)>0&&(a+=Ka(n))):i>=o?(a+=Ka(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+Ka(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=Ka(n))),t.s<0?"-"+a:a}function xC(t,e){if(t.length>e)return t.length=e,!0}function g$(t){var e,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Ts+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return _C(o,a.toString())}else if(typeof a!="string")throw Error(Ts+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,bie.test(a))_C(o,a);else throw Error(Ts+a)}if(i.prototype=ne,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=g$,i.config=i.set=_ie,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function _ie(t){if(!t||typeof t!="object")throw Error(Un+"Object expected");var e,r,n,i=["precision",1,Vc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Fc(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Ts+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ts+r+": "+n);return this}var LE=g$(wie);ln=new LE(1);const Ue=LE;var xie=t=>t,v$={"@@functional/placeholder":!0},y$=t=>t===v$,EC=t=>function e(){return arguments.length===0||arguments.length===1&&y$(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},w$=(t,e)=>t===1?e:EC(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(o=>o!==v$).length;return a>=t?e(...n):w$(t-a,EC(function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];var c=n.map(u=>y$(u)?s.shift():u);return e(...c,...s)}))}),Uv=t=>w$(t.length,t),Qb=(t,e)=>{for(var r=[],n=t;n<e;++n)r[n-t]=n;return r},Eie=Uv((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(r=>e[r]).map(t)),Sie=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return xie;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((s,l)=>l(s),a(...arguments))}},Xb=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),b$=t=>{var e=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e&&i.every((o,s)=>{var l;return o===((l=e)===null||l===void 0?void 0:l[s])})||(e=i,r=t(...i)),r}};function _$(t){var e;return t===0?e=1:e=Math.floor(new Ue(t).abs().log(10).toNumber())+1,e}function x$(t,e,r){for(var n=new Ue(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}Uv((t,e,r)=>{var n=+t,i=+e;return n+r*(i-n)});Uv((t,e,r)=>{var n=e-+t;return n=n||1/0,(r-t)/n});Uv((t,e,r)=>{var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});var E$=t=>{var[e,r]=t,[n,i]=[e,r];return e>r&&([n,i]=[r,e]),[n,i]},S$=(t,e,r)=>{if(t.lte(0))return new Ue(0);var n=_$(t.toNumber()),i=new Ue(10).pow(n),a=t.div(i),o=n!==1?.05:.1,s=new Ue(Math.ceil(a.div(o).toNumber())).add(r).mul(o),l=s.mul(i);return e?new Ue(l.toNumber()):new Ue(Math.ceil(l.toNumber()))},kie=(t,e,r)=>{var n=new Ue(1),i=new Ue(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new Ue(10).pow(_$(t)-1),i=new Ue(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Ue(Math.floor(t)))}else t===0?i=new Ue(Math.floor((e-1)/2)):r||(i=new Ue(Math.floor(t)));var o=Math.floor((e-1)/2),s=Sie(Eie(l=>i.add(new Ue(l-o).mul(n)).toNumber()),Qb);return s(0,e)},k$=function(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-e)/(n-1)))return{step:new Ue(0),tickMin:new Ue(0),tickMax:new Ue(0)};var o=S$(new Ue(r).sub(e).div(n-1),i,a),s;e<=0&&r>=0?s=new Ue(0):(s=new Ue(e).add(r).div(2),s=s.sub(new Ue(s).mod(o)));var l=Math.ceil(s.sub(e).div(o).toNumber()),c=Math.ceil(new Ue(r).sub(s).div(o).toNumber()),u=l+c+1;return u>n?k$(e,r,n,i,a+1):(u<n&&(c=r>0?c+(n-u):c,l=r>0?l:l+(n-u)),{step:o,tickMin:s.sub(new Ue(l).mul(o)),tickMax:s.add(new Ue(c).mul(o))})};function Tie(t){var[e,r]=t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(n,2),[o,s]=E$([e,r]);if(o===-1/0||s===1/0){var l=s===1/0?[o,...Qb(0,n-1).map(()=>1/0)]:[...Qb(0,n-1).map(()=>-1/0),s];return e>r?Xb(l):l}if(o===s)return kie(o,n,i);var{step:c,tickMin:u,tickMax:d}=k$(o,s,a,i,0),h=x$(u,d.add(new Ue(.1).mul(c)),c);return e>r?Xb(h):h}function Aie(t,e){var[r,n]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=E$([r,n]);if(a===-1/0||o===1/0)return[r,n];if(a===o)return[a];var s=Math.max(e,2),l=S$(new Ue(o).sub(a).div(s-1),i,0),c=[...x$(new Ue(a),new Ue(o),l),o];return i===!1&&(c=c.map(u=>Math.round(u))),r>n?Xb(c):c}var Pie=b$(Tie),Iie=b$(Aie),T$=t=>t.rootProps.maxBarSize,Cie=t=>t.rootProps.barGap,A$=t=>t.rootProps.barCategoryGap,Oie=t=>t.rootProps.barSize,jf=t=>t.rootProps.stackOffset,jE=t=>t.options.chartName,$E=t=>t.rootProps.syncId,P$=t=>t.rootProps.syncMethod,VE=t=>t.options.eventEmitter,zi={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},on={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},Bv=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},Nie={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:zi.angleAxisId,includeHidden:!1,name:void 0,reversed:zi.reversed,scale:zi.scale,tick:zi.tick,tickCount:void 0,ticks:void 0,type:zi.type,unit:void 0},Die={allowDataOverflow:on.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:on.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:on.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:on.scale,tick:on.tick,tickCount:on.tickCount,ticks:void 0,type:on.type,unit:void 0},Rie={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:zi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:zi.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:zi.scale,tick:zi.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Mie={allowDataOverflow:on.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:on.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:on.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:on.scale,tick:on.tick,tickCount:on.tickCount,ticks:void 0,type:"category",unit:void 0},FE=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?Rie:Nie,UE=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?Mie:Die,zv=t=>t.polarOptions,BE=$([xa,Ea,Wt],t4),I$=$([zv,BE],(t,e)=>{if(t!=null)return Fr(t.innerRadius,e,0)}),C$=$([zv,BE],(t,e)=>{if(t!=null)return Fr(t.outerRadius,e,e*.8)}),Lie=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:r}=t;return[e,r]},O$=$([zv],Lie);$([FE,O$],Bv);var N$=$([BE,I$,C$],(t,e,r)=>{if(!(t==null||e==null||r==null))return[e,r]});$([UE,N$],Bv);var D$=$([Oe,zv,I$,C$,xa,Ea],(t,e,r,n,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||r==null||n==null)){var{cx:o,cy:s,startAngle:l,endAngle:c}=e;return{cx:Fr(o,i,i/2),cy:Fr(s,a,a/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:c,clockWise:!1}}}),ht=(t,e)=>e,$f=(t,e,r)=>r;function zE(t){return t==null?void 0:t.id}var Kt=t=>{var e=Oe(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Uc=t=>t.tooltip.settings.axisId,Ht=t=>{var e=Kt(t),r=Uc(t);return Vf(t,e,r)};function R$(t,e,r){var{chartData:n=[]}=e,i=r==null?void 0:r.dataKey,a=new Map;return t.forEach(o=>{var s,l=(s=o.data)!==null&&s!==void 0?s:n;if(!(l==null||l.length===0)){var c=zE(o);l.forEach((u,d)=>{var h=i==null?d:String(Ge(u,i,null)),p=Ge(u,o.dataKey,0),m;a.has(h)?m=a.get(h):m={},Object.assign(m,{[c]:p}),a.set(h,m)})}}),Array.from(a.values())}function Wv(t){return t.stackId!=null&&t.dataKey!=null}function SC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SC(Object(r),!0).forEach(function(n){jie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jie(t,e,r){return(e=$ie(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $ie(t){var e=Vie(t,"string");return typeof e=="symbol"?e:e+""}function Vie(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jb=[0,"auto"],rn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},ka=(t,e)=>{var r=t.cartesianAxis.xAxis[e];return r??rn},nn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Jb,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Cv},Ko=(t,e)=>{var r=t.cartesianAxis.yAxis[e];return r??nn},Fie={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},WE=(t,e)=>{var r=t.cartesianAxis.zAxis[e];return r??Fie},Ot=(t,e,r)=>{switch(e){case"xAxis":return ka(t,r);case"yAxis":return Ko(t,r);case"zAxis":return WE(t,r);case"angleAxis":return FE(t,r);case"radiusAxis":return UE(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},Uie=(t,e,r)=>{switch(e){case"xAxis":return ka(t,r);case"yAxis":return Ko(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},Vf=(t,e,r)=>{switch(e){case"xAxis":return ka(t,r);case"yAxis":return Ko(t,r);case"angleAxis":return FE(t,r);case"radiusAxis":return UE(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},M$=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function qE(t,e){return r=>{switch(t){case"xAxis":return"xAxisId"in r&&r.xAxisId===e;case"yAxis":return"yAxisId"in r&&r.yAxisId===e;case"zAxis":return"zAxisId"in r&&r.zAxisId===e;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===e;default:return!1}}}var qv=t=>t.graphicalItems.cartesianItems,Bie=$([ht,$f],qE),KE=(t,e,r)=>t.filter(r).filter(n=>(e==null?void 0:e.includeHidden)===!0?!0:!n.hide),Ff=$([qv,Ot,Bie],KE),L$=$([Ff],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Wv)),j$=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),$$=$([Ff],j$),HE=t=>t.map(e=>e.data).filter(Boolean).flat(1),zie=$([Ff],HE),GE=(t,e)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=e;return t.length>0?t:r.slice(n,i+1)},YE=$([zie,Fv],GE),QE=(t,e,r)=>(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:Ge(n,e.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>t.map(i=>({value:Ge(i,n)}))):t.map(n=>({value:n})),Kv=$([YE,Ot,Ff],QE);function V$(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function il(t){return t.filter(e=>Ti(e)||e instanceof Date).map(Number).filter(e=>mn(e)===!1)}function Wie(t,e,r){return!r||typeof e!="number"||mn(e)?[]:r.length?il(r.flatMap(n=>{var i=Ge(t,n.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!yn(a)||!yn(o)))return[e-a,e+o]})):[]}var qie=$([L$,Fv,Ht],R$),F$=(t,e,r)=>{var n={},i=e.reduce((a,o)=>(o.stackId==null||(a[o.stackId]==null&&(a[o.stackId]=[]),a[o.stackId].push(o)),a),n);return Object.fromEntries(Object.entries(i).map(a=>{var[o,s]=a,l=s.map(zE);return[o,{stackedData:tee(t,l,r),graphicalItems:s}]}))},Zb=$([qie,L$,jf],F$),U$=(t,e,r)=>{var{dataStartIndex:n,dataEndIndex:i}=e;if(r!=="zAxis"){var a=oee(t,n,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},Kie=$([Zb,qo,ht],U$),B$=(t,e,r,n,i)=>r.length>0?t.flatMap(a=>r.flatMap(o=>{var s,l,c=(s=n[o.id])===null||s===void 0?void 0:s.filter(d=>V$(i,d)),u=Ge(a,(l=e.dataKey)!==null&&l!==void 0?l:o.dataKey);return{value:u,errorDomain:Wie(a,u,c)}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(a=>({value:Ge(a,e.dataKey),errorDomain:[]})):t.map(a=>({value:a,errorDomain:[]})),Hv=t=>t.errorBars,z$=(t,e,r)=>t.flatMap(n=>e[n.id]).filter(Boolean).filter(n=>V$(r,n));$([$$,Hv,ht],z$);var Hie=$([YE,Ot,$$,Hv,ht],B$);function Gie(t){var{value:e}=t;if(Ti(e)||e instanceof Date)return e}var kC=t=>{var e=t.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=il(e);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Yie=(t,e,r)=>{var n=t.map(Gie).filter(i=>i!=null);return r&&(e.dataKey==null||e.allowDuplicatedCategory&&RL(n))?O4(0,t.length):e.allowDuplicatedCategory?n:Array.from(new Set(n))},XE=t=>{var e;if(t==null||!("domain"in t))return Jb;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var r=il(t.ticks);return[Math.min(...r),Math.max(...r)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:Jb},Jm=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),s=Math.max(...a);return[o,s]}},W$=t=>t.referenceElements.dots,Bc=(t,e,r)=>t.filter(n=>n.ifOverflow==="extendDomain").filter(n=>e==="xAxis"?n.xAxisId===r:n.yAxisId===r),Qie=$([W$,ht,$f],Bc),q$=t=>t.referenceElements.areas,Xie=$([q$,ht,$f],Bc),K$=t=>t.referenceElements.lines,Jie=$([K$,ht,$f],Bc),H$=(t,e)=>{var r=il(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Zie=$(Qie,ht,H$),G$=(t,e)=>{var r=il(t.flatMap(n=>[e==="xAxis"?n.x1:n.y1,e==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},eae=$([Xie,ht],G$),Y$=(t,e)=>{var r=il(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},tae=$(Jie,ht,Y$),rae=$(Zie,tae,eae,(t,e,r)=>Jm(t,r,e)),Q$=$([Ot],XE),JE=(t,e,r,n,i,a,o)=>{var s=vie(e,t.allowDataOverflow);if(s!=null)return s;var l=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",c=l?Jm(r,i,kC(n)):Jm(i,kC(n));return yie(e,c,t.allowDataOverflow)},nae=$([Ot,Q$,Kie,Hie,rae,Oe,ht],JE),iae=[0,1],ZE=(t,e,r,n,i,a,o)=>{if(!((t==null||r==null||r.length===0)&&o===void 0)){var{dataKey:s,type:l}=t,c=Bo(e,a);return c&&s==null?O4(0,r.length):l==="category"?Yie(n,t,c):i==="expand"?iae:o}},eS=$([Ot,Oe,YE,Kv,jf,ht,nae],ZE),X$=(t,e,r,n,i)=>{if(t!=null){var{scale:a,type:o}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var s="scale".concat(If(a));return s in Ku?s:"point"}}},zc=$([Ot,Oe,M$,jE,ht],X$);function aae(t){if(t!=null){if(t in Ku)return Ku[t]();var e="scale".concat(If(t));if(e in Ku)return Ku[e]()}}function tS(t,e,r,n){if(!(r==null||n==null)){if(typeof t.scale=="function")return t.scale.copy().domain(r).range(n);var i=aae(e);if(i!=null){var a=i.domain(r).range(n);return QZ(a),a}}}var rS=(t,e,r)=>{var n=XE(e);if(!(r!=="auto"&&r!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&xc(t))return Pie(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&xc(t))return Iie(t,e.tickCount,e.allowDecimals)}},nS=$([eS,Vf,zc],rS),iS=(t,e,r,n)=>{if(n!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&xc(e)&&Array.isArray(r)&&r.length>0){var i=e[0],a=r[0],o=e[1],s=r[r.length-1];return[Math.min(i,a),Math.max(o,s)]}return e},oae=$([Ot,eS,nS,ht],iS),sae=$(Kv,Ot,(t,e)=>{if(!(!e||e.type!=="number")){var r=1/0,n=Array.from(il(t.map(s=>s.value))).sort((s,l)=>s-l);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var a=0;a<n.length-1;a++){var o=n[a+1]-n[a];r=Math.min(r,o)}return r/i}}),J$=$(sae,Oe,A$,Wt,(t,e,r,n)=>n,(t,e,r,n,i)=>{if(!yn(t))return 0;var a=e==="vertical"?n.height:n.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var o=Fr(r,t*a),s=t*a/2;return s-o-(s-o)/a*o}return 0}),lae=(t,e)=>{var r=ka(t,e);return r==null||typeof r.padding!="string"?0:J$(t,"xAxis",e,r.padding)},cae=(t,e)=>{var r=Ko(t,e);return r==null||typeof r.padding!="string"?0:J$(t,"yAxis",e,r.padding)},uae=$(ka,lae,(t,e)=>{var r,n;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((r=i.left)!==null&&r!==void 0?r:0)+e,right:((n=i.right)!==null&&n!==void 0?n:0)+e}}),dae=$(Ko,cae,(t,e)=>{var r,n;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((r=i.top)!==null&&r!==void 0?r:0)+e,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+e}}),fae=$([Wt,uae,Nv,Ov,(t,e,r)=>r],(t,e,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),hae=$([Wt,Oe,dae,Nv,Ov,(t,e,r)=>r],(t,e,r,n,i,a)=>{var{padding:o}=i;return a?[n.height-o.bottom,o.top]:e==="horizontal"?[t.top+t.height-r.bottom,t.top+r.top]:[t.top+r.top,t.top+t.height-r.bottom]}),Uf=(t,e,r,n)=>{var i;switch(e){case"xAxis":return fae(t,r,n);case"yAxis":return hae(t,r,n);case"zAxis":return(i=WE(t,r))===null||i===void 0?void 0:i.range;case"angleAxis":return O$(t);case"radiusAxis":return N$(t,r);default:return}},Z$=$([Ot,Uf],Bv),Wc=$([Ot,zc,oae,Z$],tS);$([Ff,Hv,ht],z$);function e3(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Gv=(t,e)=>e,Yv=(t,e,r)=>r,pae=$(nE,Gv,Yv,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(e3)),mae=$(iE,Gv,Yv,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(e3)),t3=(t,e)=>({width:t.width,height:e.height}),gae=(t,e)=>{var r=typeof e.width=="number"?e.width:Cv;return{width:r,height:t.height}},r3=$(Wt,ka,t3),vae=(t,e,r)=>{switch(e){case"top":return t.top;case"bottom":return r-t.bottom;default:return 0}},yae=(t,e,r)=>{switch(e){case"left":return t.left;case"right":return r-t.right;default:return 0}},wae=$(Ea,Wt,pae,Gv,Yv,(t,e,r,n,i)=>{var a={},o;return r.forEach(s=>{var l=t3(e,s);o==null&&(o=vae(e,n,t));var c=n==="top"&&!i||n==="bottom"&&i;a[s.id]=o-Number(c)*l.height,o+=(c?-1:1)*l.height}),a}),bae=$(xa,Wt,mae,Gv,Yv,(t,e,r,n,i)=>{var a={},o;return r.forEach(s=>{var l=gae(e,s);o==null&&(o=yae(e,n,t));var c=n==="left"&&!i||n==="right"&&i;a[s.id]=o-Number(c)*l.width,o+=(c?-1:1)*l.width}),a}),_ae=(t,e)=>{var r=Wt(t),n=ka(t,e);if(n!=null){var i=wae(t,n.orientation,n.mirror),a=i[e];return a==null?{x:r.left,y:0}:{x:r.left,y:a}}},xae=(t,e)=>{var r=Wt(t),n=Ko(t,e);if(n!=null){var i=bae(t,n.orientation,n.mirror),a=i[e];return a==null?{x:0,y:r.top}:{x:a,y:r.top}}},n3=$(Wt,Ko,(t,e)=>{var r=typeof e.width=="number"?e.width:Cv;return{width:r,height:t.height}}),TC=(t,e,r)=>{switch(e){case"xAxis":return r3(t,r).width;case"yAxis":return n3(t,r).height;default:return}},i3=(t,e,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=r,s=Bo(t,n),l=e.map(c=>c.value);if(o&&s&&a==="category"&&i&&RL(l))return l}},aS=$([Oe,Kv,Ot,ht],i3),a3=(t,e,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,o=Bo(t,n);if(o&&(i==="number"||a!=="auto"))return e.map(s=>s.value)}},oS=$([Oe,Kv,Vf,ht],a3),AC=$([Oe,Uie,zc,Wc,aS,oS,Uf,nS,ht],(t,e,r,n,i,a,o,s,l)=>{if(e==null)return null;var c=Bo(t,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:s,range:o,realScaleType:r,scale:n}}),Eae=(t,e,r,n,i,a,o,s,l)=>{if(!(e==null||n==null)){var c=Bo(t,l),{type:u,ticks:d,tickCount:h}=e,p=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,m=u==="category"&&n.bandwidth?n.bandwidth()/p:0;m=l==="angleAxis"&&a!=null&&a.length>=2?rr(a[0]-a[1])*2*m:m;var g=d||i;if(g){var _=g.map((b,w)=>{var E=o?o.indexOf(b):b;return{index:w,coordinate:n(E)+m,value:b,offset:m}});return _.filter(b=>!mn(b.coordinate))}return c&&s?s.map((b,w)=>({coordinate:n(b)+m,value:b,index:w,offset:m})):n.ticks?n.ticks(h).map(b=>({coordinate:n(b)+m,value:b,offset:m})):n.domain().map((b,w)=>({coordinate:n(b)+m,value:o?o[b]:b,index:w,offset:m}))}},o3=$([Oe,Vf,zc,Wc,nS,Uf,aS,oS,ht],Eae),Sae=(t,e,r,n,i,a,o)=>{if(!(e==null||r==null||n==null||n[0]===n[1])){var s=Bo(t,o),{tickCount:l}=e,c=0;return c=o==="angleAxis"&&(n==null?void 0:n.length)>=2?rr(n[0]-n[1])*2*c:c,s&&a?a.map((u,d)=>({coordinate:r(u)+c,value:u,index:d,offset:c})):r.ticks?r.ticks(l).map(u=>({coordinate:r(u)+c,value:u,offset:c})):r.domain().map((u,d)=>({coordinate:r(u)+c,value:i?i[u]:u,index:d,offset:c}))}},Po=$([Oe,Vf,Wc,Uf,aS,oS,ht],Sae),Io=$(Ot,Wc,(t,e)=>{if(!(t==null||e==null))return Xm(Xm({},t),{},{scale:e})}),kae=$([Ot,zc,eS,Z$],tS);$((t,e,r)=>WE(t,r),kae,(t,e)=>{if(!(t==null||e==null))return Xm(Xm({},t),{},{scale:e})});var Tae=$([Oe,nE,iE],(t,e,r)=>{switch(t){case"horizontal":return e.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),s3=t=>t.options.defaultTooltipEventType,l3=t=>t.options.validateTooltipEventTypes;function c3(t,e,r){if(t==null)return e;var n=t?"axis":"item";return r==null?e:r.includes(n)?n:e}function sS(t,e){var r=s3(t),n=l3(t);return c3(e,r,n)}function Aae(t){return oe(e=>sS(e,t))}var u3=(t,e)=>{var r,n=Number(e);if(!(mn(n)||e==null))return n>=0?t==null||(r=t[n])===null||r===void 0?void 0:r.value:void 0},Pae=t=>t.tooltip.settings,to={active:!1,index:null,dataKey:void 0,coordinate:void 0},Iae={itemInteraction:{click:to,hover:to},axisInteraction:{click:to,hover:to},keyboardInteraction:to,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},d3=En({name:"tooltip",initialState:Iae,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var r=ra(t).tooltipItemPayloads.indexOf(e.payload);r>-1&&t.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:Cae,removeTooltipEntrySettings:Oae,setTooltipSettingsState:Nae,setActiveMouseOverItemIndex:f3,mouseLeaveItem:Dae,mouseLeaveChart:h3,setActiveClickItemIndex:Rae,setMouseOverAxisIndex:p3,setMouseClickAxisIndex:Mae,setSyncInteraction:e_,setKeyboardInteraction:t_}=d3.actions,Lae=d3.reducer;function PC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PC(Object(r),!0).forEach(function(n){jae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jae(t,e,r){return(e=$ae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $ae(t){var e=Vae(t,"string");return typeof e=="symbol"?e:e+""}function Vae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fae(t,e,r){return e==="axis"?r==="click"?t.axisInteraction.click:t.axisInteraction.hover:r==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Uae(t){return t.index!=null}var m3=(t,e,r,n)=>{if(e==null)return to;var i=Fae(t,e,r);if(i==null)return to;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(Uae(i)){if(a)return tp(tp({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return tp(tp({},to),{},{coordinate:i.coordinate})},lS=(t,e)=>{var r=t==null?void 0:t.index;if(r==null)return null;var n=Number(r);if(!yn(n))return r;var i=0,a=1/0;return e.length>0&&(a=e.length-1),String(Math.max(i,Math.min(n,a)))},g3=(t,e,r,n,i,a,o,s)=>{if(!(a==null||s==null)){var l=o[0],c=l==null?void 0:s(l.positions,a);if(c!=null)return c;var u=i==null?void 0:i[Number(a)];if(u)switch(r){case"horizontal":return{x:u.coordinate,y:(n.top+e)/2};default:return{x:(n.left+t)/2,y:u.coordinate}}}},v3=(t,e,r,n)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&n!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},Bf=t=>t.options.tooltipPayloadSearcher,qc=t=>t.tooltip;function IC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function CC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IC(Object(r),!0).forEach(function(n){Bae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bae(t,e,r){return(e=zae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zae(t){var e=Wae(t,"string");return typeof e=="symbol"?e:e+""}function Wae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qae(t,e){return t??e}var y3=(t,e,r,n,i,a,o)=>{if(!(e==null||a==null)){var{chartData:s,computedData:l,dataStartIndex:c,dataEndIndex:u}=r,d=[];return t.reduce((h,p)=>{var m,{dataDefinedOnItem:g,settings:_}=p,b=qae(g,s),w=Array.isArray(b)?r4(b,c,u):b,E=(m=_==null?void 0:_.dataKey)!==null&&m!==void 0?m:n==null?void 0:n.dataKey,A=_==null?void 0:_.nameKey,D;if(n!=null&&n.dataKey&&Array.isArray(w)&&!Array.isArray(w[0])&&o==="axis"?D=ML(w,n.dataKey,i):D=a(w,e,l,A),Array.isArray(D))D.forEach(T=>{var k=CC(CC({},_),{},{name:T.name,unit:T.unit,color:void 0,fill:void 0});h.push(yI({tooltipEntrySettings:k,dataKey:T.dataKey,payload:T.payload,value:Ge(T.payload,T.dataKey),name:T.name}))});else{var L;h.push(yI({tooltipEntrySettings:_,dataKey:E,payload:D,value:Ge(D,E),name:(L=Ge(D,A))!==null&&L!==void 0?L:_==null?void 0:_.name}))}return h},d)}},cS=$([Ht,Oe,M$,jE,Kt],X$),Kae=$([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Hae=$([Kt,Uc],qE),zf=$([Kae,Ht,Hae],KE),Gae=$([zf],t=>t.filter(Wv)),Yae=$([zf],HE),Kc=$([Yae,qo],GE),Qae=$([Gae,qo,Ht],R$),uS=$([Kc,Ht,zf],QE),Xae=$([Ht],XE),Jae=$([zf],t=>t.filter(Wv)),Zae=$([Qae,Jae,jf],F$),eoe=$([Zae,qo,Kt],U$),toe=$([zf],j$),roe=$([Kc,Ht,toe,Hv,Kt],B$),noe=$([W$,Kt,Uc],Bc),ioe=$([noe,Kt],H$),aoe=$([q$,Kt,Uc],Bc),ooe=$([aoe,Kt],G$),soe=$([K$,Kt,Uc],Bc),loe=$([soe,Kt],Y$),coe=$([ioe,loe,ooe],Jm),uoe=$([Ht,Xae,eoe,roe,coe,Oe,Kt],JE),w3=$([Ht,Oe,Kc,uS,jf,Kt,uoe],ZE),doe=$([w3,Ht,cS],rS),foe=$([Ht,w3,doe,Kt],iS),b3=t=>{var e=Kt(t),r=Uc(t),n=!1;return Uf(t,e,r,n)},_3=$([Ht,b3],Bv),x3=$([Ht,cS,foe,_3],tS),hoe=$([Oe,uS,Ht,Kt],i3),poe=$([Oe,uS,Ht,Kt],a3),moe=(t,e,r,n,i,a,o,s)=>{if(e){var{type:l}=e,c=Bo(t,s);if(n){var u=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,d=l==="category"&&n.bandwidth?n.bandwidth()/u:0;return d=s==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?rr(i[0]-i[1])*2*d:d,c&&o?o.map((h,p)=>({coordinate:n(h)+d,value:h,index:p,offset:d})):n.domain().map((h,p)=>({coordinate:n(h)+d,value:a?a[h]:h,index:p,offset:d}))}}},Ta=$([Oe,Ht,cS,x3,b3,hoe,poe,Kt],moe),dS=$([s3,l3,Pae],(t,e,r)=>c3(r.shared,t,e)),E3=t=>t.tooltip.settings.trigger,fS=t=>t.tooltip.settings.defaultIndex,Qv=$([qc,dS,E3,fS],m3),Co=$([Qv,Kc],lS),S3=$([Ta,Co],u3),k3=$([Qv],t=>{if(t)return t.dataKey}),T3=$([qc,dS,E3,fS],v3),goe=$([xa,Ea,Oe,Wt,Ta,fS,T3,Bf],g3),voe=$([Qv,goe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),yoe=$([Qv],t=>t.active),woe=$([T3,Co,qo,Ht,S3,Bf,dS],y3),boe=$([woe],t=>{if(t!=null){var e=t.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(e))}});function OC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function NC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OC(Object(r),!0).forEach(function(n){_oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _oe(t,e,r){return(e=xoe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xoe(t){var e=Eoe(t,"string");return typeof e=="symbol"?e:e+""}function Eoe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Soe=()=>oe(Ht),koe=()=>{var t=Soe(),e=oe(Ta),r=oe(x3);return Yd(NC(NC({},t),{},{scale:r}),e)},Toe=()=>oe(jE),hS=(t,e)=>e,A3=(t,e,r)=>r,pS=(t,e,r,n)=>n,Aoe=$(Ta,t=>Ev(t,e=>e.coordinate)),mS=$([qc,hS,A3,pS],m3),P3=$([mS,Kc],lS),Poe=(t,e,r)=>{if(e!=null){var n=qc(t);return e==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},I3=$([qc,hS,A3,pS],v3),Zm=$([xa,Ea,Oe,Wt,Ta,pS,I3,Bf],g3),Ioe=$([mS,Zm],(t,e)=>{var r;return(r=t.coordinate)!==null&&r!==void 0?r:e}),C3=$(Ta,P3,u3),Coe=$([I3,P3,qo,Ht,C3,Bf,hS],y3),Ooe=$([mS],t=>({isActive:t.active,activeIndex:t.index})),Noe=(t,e,r,n,i,a,o,s)=>{if(!(!t||!e||!n||!i||!a)){var l=see(t.chartX,t.chartY,e,r,s);if(l){var c=cee(l,e),u=GZ(c,o,a,n,i),d=lee(e,a,u,l);return{activeIndex:String(u),activeCoordinate:d}}}};function r_(){return r_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},r_.apply(null,arguments)}function DC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DC(Object(r),!0).forEach(function(n){Doe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Doe(t,e,r){return(e=Roe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Roe(t){var e=Moe(t,"string");return typeof e=="symbol"?e:e+""}function Moe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Loe(t){var{coordinate:e,payload:r,index:n,offset:i,tooltipAxisBandSize:a,layout:o,cursor:s,tooltipEventType:l,chartName:c}=t,u=e,d=r,h=n;if(!s||!u||c!=="ScatterChart"&&l!=="axis")return null;var p,m;if(c==="ScatterChart")p=u,m=ote;else if(c==="BarChart")p=ste(o,u,i,a),m=S4;else if(o==="radial"){var{cx:g,cy:_,radius:b,startAngle:w,endAngle:E}=k4(u);p={cx:g,cy:_,startAngle:w,endAngle:E,innerRadius:b,outerRadius:b},m=A4}else p={points:Fte(o,u,i)},m=cE;var A=typeof s=="object"&&"className"in s?s.className:void 0,D=rp(rp(rp(rp({stroke:"#ccc",pointerEvents:"none"},i),p),ut(s,!1)),{},{payload:d,payloadIndex:h,className:Me("recharts-tooltip-cursor",A)});return x.isValidElement(s)?x.cloneElement(s,D):x.createElement(m,D)}function joe(t){var e=koe(),r=c4(),n=Dv(),i=Toe();return x.createElement(Loe,r_({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:r,layout:n,tooltipAxisBandSize:e,chartName:i}))}var O3=x.createContext(null),$oe=()=>x.useContext(O3),N3={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,d||l,h),m=r?r+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=r?r+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,m=new Array(p);h<p;h++)m[h]=d[h].fn;return m},s.prototype.listenerCount=function(c){var u=r?r+c:c,d=this._events[u];return d?d.fn?1:d.length:0},s.prototype.emit=function(c,u,d,h,p,m){var g=r?r+c:c;if(!this._events[g])return!1;var _=this._events[g],b=arguments.length,w,E;if(_.fn){switch(_.once&&this.removeListener(c,_.fn,void 0,!0),b){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,u),!0;case 3:return _.fn.call(_.context,u,d),!0;case 4:return _.fn.call(_.context,u,d,h),!0;case 5:return _.fn.call(_.context,u,d,h,p),!0;case 6:return _.fn.call(_.context,u,d,h,p,m),!0}for(E=1,w=new Array(b-1);E<b;E++)w[E-1]=arguments[E];_.fn.apply(_.context,w)}else{var A=_.length,D;for(E=0;E<A;E++)switch(_[E].once&&this.removeListener(c,_[E].fn,void 0,!0),b){case 1:_[E].fn.call(_[E].context);break;case 2:_[E].fn.call(_[E].context,u);break;case 3:_[E].fn.call(_[E].context,u,d);break;case 4:_[E].fn.call(_[E].context,u,d,h);break;default:if(!w)for(D=1,w=new Array(b-1);D<b;D++)w[D-1]=arguments[D];_[E].fn.apply(_[E].context,w)}}return!0},s.prototype.on=function(c,u,d){return a(this,c,u,d,!1)},s.prototype.once=function(c,u,d){return a(this,c,u,d,!0)},s.prototype.removeListener=function(c,u,d,h){var p=r?r+c:c;if(!this._events[p])return this;if(!u)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===u&&(!h||m.once)&&(!d||m.context===d)&&o(this,p);else{for(var g=0,_=[],b=m.length;g<b;g++)(m[g].fn!==u||h&&!m[g].once||d&&m[g].context!==d)&&_.push(m[g]);_.length?this._events[p]=_.length===1?_[0]:_:o(this,p)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s})(N3);var Voe=N3.exports;const Foe=wn(Voe);var rf=new Foe,n_="recharts.syncEvent.tooltip",RC="recharts.syncEvent.brush";function gS(t,e){if(e){var r=Number.parseInt(e,10);if(!mn(r))return t==null?void 0:t[r]}}var Uoe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},D3=En({name:"options",initialState:Uoe,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Boe=D3.reducer,{createEventEmitter:zoe}=D3.actions;function Woe(t){return t.tooltip.syncInteraction}var qoe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},R3=En({name:"chartData",initialState:qoe,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:r,endIndex:n}=e.payload;r!=null&&(t.dataStartIndex=r),n!=null&&(t.dataEndIndex=n)}}}),{setChartData:MC,setDataStartEndIndexes:Koe,setComputedData:Nhe}=R3.actions,Hoe=R3.reducer,M3=()=>{};function Goe(){var t=oe($E),e=oe(VE),r=yt(),n=oe(P$),i=oe(Ta),a=Dv(),o=aE(),s=oe(l=>l.rootProps.className);x.useEffect(()=>{if(t==null)return M3;var l=(c,u,d)=>{if(e!==d&&t===c){if(n==="index"){r(u);return}if(i!=null){var h;if(typeof n=="function"){var p={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},m=n(i,p);h=i[m]}else n==="value"&&(h=i.find(L=>String(L.value)===u.payload.label));var{coordinate:g}=u.payload;if(h==null||u.payload.active===!1||g==null||o==null){r(e_({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:_,y:b}=g,w=Math.min(_,o.x+o.width),E=Math.min(b,o.y+o.height),A={x:a==="horizontal"?h.coordinate:w,y:a==="horizontal"?E:h.coordinate},D=e_({active:u.payload.active,coordinate:A,dataKey:u.payload.dataKey,index:String(h.index),label:u.payload.label});r(D)}}};return rf.on(n_,l),()=>{rf.off(n_,l)}},[s,r,e,t,n,i,a,o])}function Yoe(){var t=oe($E),e=oe(VE),r=yt();x.useEffect(()=>{if(t==null)return M3;var n=(i,a,o)=>{e!==o&&t===i&&r(Koe(a))};return rf.on(RC,n),()=>{rf.off(RC,n)}},[r,e,t])}function Qoe(){var t=yt();x.useEffect(()=>{t(zoe())},[t]),Goe(),Yoe()}function Xoe(t,e,r,n,i,a){var o=oe(h=>Poe(h,t,e)),s=oe(VE),l=oe($E),c=oe(P$),u=oe(Woe),d=u==null?void 0:u.active;x.useEffect(()=>{if(!d&&l!=null&&s!=null){var h=e_({active:a,coordinate:r,dataKey:o,index:i,label:typeof n=="number"?String(n):n});rf.emit(n_,l,h,s)}},[d,r,o,i,n,s,l,c,a])}function LC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LC(Object(r),!0).forEach(function(n){Joe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Joe(t,e,r){return(e=Zoe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zoe(t){var e=ese(t,"string");return typeof e=="symbol"?e:e+""}function ese(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tse(t){return t.dataKey}function rse(t,e){return x.isValidElement(t)?x.cloneElement(t,e):typeof t=="function"?x.createElement(t,e):x.createElement($ee,e)}var $C=[],nse={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!tl.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Ua(t){var e=Sn(t,nse),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:a,content:o,filterNull:s,isAnimationActive:l,offset:c,payloadUniqBy:u,position:d,reverseDirection:h,useTranslate3d:p,wrapperStyle:m,cursor:g,shared:_,trigger:b,defaultIndex:w,portal:E,axisId:A}=e,D=yt(),L=typeof w=="number"?String(w):w;x.useEffect(()=>{D(Nae({shared:_,trigger:b,axisId:A,active:r,defaultIndex:L}))},[D,_,b,A,r,L]);var T=aE(),k=h4(),I=Aae(_),{activeIndex:R,isActive:M}=oe(qe=>Ooe(qe,I,b,L)),O=oe(qe=>Coe(qe,I,b,L)),P=oe(qe=>C3(qe,I,b,L)),z=oe(qe=>Ioe(qe,I,b,L)),ie=O,G=$oe(),fe=r??M,[W,X]=Cj([ie,fe]),Q=I==="axis"?P:void 0;Xoe(I,b,z,Q,R,fe);var ce=E??G;if(ce==null)return null;var Y=ie??$C;fe||(Y=$C),s&&Y.length&&(Y=yj(ie.filter(qe=>qe.value!=null&&(qe.hide!==!0||e.includeHidden)),u,tse));var he=Y.length>0,Nt=x.createElement(qee,{allowEscapeViewBox:n,animationDuration:i,animationEasing:a,isAnimationActive:l,active:fe,coordinate:z,hasPayload:he,offset:c,position:d,reverseDirection:h,useTranslate3d:p,viewBox:T,wrapperStyle:m,lastBoundingBox:W,innerRef:X,hasPortalFromProps:!!E},rse(o,jC(jC({},e),{},{payload:Y,label:Q,active:fe,coordinate:z,accessibilityLayer:k})));return x.createElement(x.Fragment,null,l1.createPortal(Nt,ce),fe&&x.createElement(joe,{cursor:g,tooltipEventType:I,coordinate:z,payload:ie,index:R}))}var L3={},j3={},$3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n,{signal:i,edges:a}={}){let o,s=null;const l=a!=null&&a.includes("leading"),c=a==null||a.includes("trailing"),u=()=>{s!==null&&(r.apply(o,s),o=void 0,s=null)},d=()=>{c&&u(),g()};let h=null;const p=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,d()},n)},m=()=>{h!==null&&(clearTimeout(h),h=null)},g=()=>{m(),o=void 0,s=null},_=()=>{u()},b=function(...w){if(i!=null&&i.aborted)return;o=this,s=w;const E=h==null;p(),l&&E&&u()};return b.schedule=p,b.cancel=g,b.flush=_,i==null||i.addEventListener("abort",g,{once:!0}),b}t.debounce=e})($3);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$3;function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:s=!0,maxWait:l}=a,c=Array(2);o&&(c[0]="leading"),s&&(c[1]="trailing");let u,d=null;const h=e.debounce(function(...g){u=n.apply(this,g),d=null},i,{edges:c}),p=function(...g){return l!=null&&(d===null&&(d=Date.now()),Date.now()-d>=l)?(u=n.apply(this,g),d=Date.now(),h.cancel(),h.schedule(),u):(h.apply(this,g),u)},m=()=>(h.flush(),u);return p.cancel=h.cancel,p.flush=m,p}t.debounce=r})(j3);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=j3;function r(n,i=0,a={}){const{leading:o=!0,trailing:s=!0}=a;return e.debounce(n,i,{leading:o,maxWait:i,trailing:s})}t.throttle=r})(L3);var ise=L3.throttle;const ase=wn(ise);var dd=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function VC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function x0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VC(Object(r),!0).forEach(function(n){ose(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ose(t,e,r){return(e=sse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sse(t){var e=lse(t,"string");return typeof e=="symbol"?e:e+""}function lse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ba=x.forwardRef((t,e)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:o=0,minHeight:s,maxHeight:l,children:c,debounce:u=0,id:d,className:h,onResize:p,style:m={}}=t,g=x.useRef(null),_=x.useRef();_.current=p,x.useImperativeHandle(e,()=>g.current);var[b,w]=x.useState({containerWidth:n.width,containerHeight:n.height}),E=x.useCallback((D,L)=>{w(T=>{var k=Math.round(D),I=Math.round(L);return T.containerWidth===k&&T.containerHeight===I?T:{containerWidth:k,containerHeight:I}})},[]);x.useEffect(()=>{var D=I=>{var R,{width:M,height:O}=I[0].contentRect;E(M,O),(R=_.current)===null||R===void 0||R.call(_,M,O)};u>0&&(D=ase(D,u,{trailing:!0,leading:!1}));var L=new ResizeObserver(D),{width:T,height:k}=g.current.getBoundingClientRect();return E(T,k),L.observe(g.current),()=>{L.disconnect()}},[E,u]);var A=x.useMemo(()=>{var{containerWidth:D,containerHeight:L}=b;if(D<0||L<0)return null;dd(hs(i)||hs(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),dd(!r||r>0,"The aspect(%s) must be greater than zero.",r);var T=hs(i)?D:i,k=hs(a)?L:a;return r&&r>0&&(T?k=T/r:k&&(T=k*r),l&&k>l&&(k=l)),dd(T>0||k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,k,i,a,o,s,r),x.Children.map(c,I=>x.cloneElement(I,{width:T,height:k,style:x0({width:T,height:k},I.props.style)}))},[r,c,a,l,s,o,b,i]);return x.createElement("div",{id:d?"".concat(d):void 0,className:Me("recharts-responsive-container",h),style:x0(x0({},m),{},{width:i,height:a,minWidth:o,minHeight:s,maxHeight:l}),ref:g},x.createElement("div",{style:{width:0,height:0,overflow:"visible"}},A))}),Wf=t=>null;Wf.displayName="Cell";function cse(t,e,r){return(e=use(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function use(t){var e=dse(t,"string");return typeof e=="symbol"?e:e+""}function dse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class fse{constructor(e){cse(this,"cache",new Map),this.maxSize=e}get(e){var r=this.cache.get(e);return r!==void 0&&(this.cache.delete(e),this.cache.set(e,r)),r}set(e,r){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(e,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function FC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hse(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FC(Object(r),!0).forEach(function(n){pse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pse(t,e,r){return(e=mse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mse(t){var e=gse(t,"string");return typeof e=="symbol"?e:e+""}function gse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vse={cacheSize:2e3,enableCache:!0},V3=hse({},vse),UC=new fse(V3.cacheSize),yse={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},BC="recharts_measurement_span";function wse(t,e){var r=e.fontSize||"",n=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",o=e.letterSpacing||"",s=e.textTransform||"";return"".concat(t,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(s)}var zC=(t,e)=>{try{var r=document.getElementById(BC);r||(r=document.createElement("span"),r.setAttribute("id",BC),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,yse,e),r.textContent="".concat(t);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},fd=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||tl.isSsr)return{width:0,height:0};if(!V3.enableCache)return zC(e,r);var n=wse(e,r),i=UC.get(n);if(i)return i;var a=zC(e,r);return UC.set(n,a),a},WC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,qC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bse=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,_se=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,F3={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},xse=Object.keys(F3),Ll="NaN";function Ese(t,e){return t*F3[e]}class qr{static parse(e){var r,[,n,i]=(r=_se.exec(e))!==null&&r!==void 0?r:[];return new qr(parseFloat(n),i??"")}constructor(e,r){this.num=e,this.unit=r,this.num=e,this.unit=r,mn(e)&&(this.unit=""),r!==""&&!bse.test(r)&&(this.num=NaN,this.unit=""),xse.includes(r)&&(this.num=Ese(e,r),this.unit="px")}add(e){return this.unit!==e.unit?new qr(NaN,""):new qr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new qr(NaN,""):new qr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new qr(NaN,""):new qr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new qr(NaN,""):new qr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return mn(this.num)}}function U3(t){if(t.includes(Ll))return Ll;for(var e=t;e.includes("*")||e.includes("/");){var r,[,n,i,a]=(r=WC.exec(e))!==null&&r!==void 0?r:[],o=qr.parse(n??""),s=qr.parse(a??""),l=i==="*"?o.multiply(s):o.divide(s);if(l.isNaN())return Ll;e=e.replace(WC,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var c,[,u,d,h]=(c=qC.exec(e))!==null&&c!==void 0?c:[],p=qr.parse(u??""),m=qr.parse(h??""),g=d==="+"?p.add(m):p.subtract(m);if(g.isNaN())return Ll;e=e.replace(qC,g.toString())}return e}var KC=/\(([^()]*)\)/;function Sse(t){for(var e=t,r;(r=KC.exec(e))!=null;){var[,n]=r;e=e.replace(KC,U3(n))}return e}function kse(t){var e=t.replace(/\s+/g,"");return e=Sse(e),e=U3(e),e}function Tse(t){try{return kse(t)}catch{return Ll}}function E0(t){var e=Tse(t.slice(5,-1));return e===Ll?"":e}var Ase=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Pse=["dx","dy","angle","className","breakAll"];function i_(){return i_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i_.apply(null,arguments)}function HC(t,e){if(t==null)return{};var r,n,i=Ise(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Ise(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var B3=/[ \f\n\r\t\v\u2028\u2029]+/,z3=t=>{var{children:e,breakAll:r,style:n}=t;try{var i=[];lt(e)||(r?i=e.toString().split(""):i=e.toString().split(B3));var a=i.map(s=>({word:s,width:fd(s,n).width})),o=r?0:fd(" ",n).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},Cse=(t,e,r,n,i)=>{var{maxLines:a,children:o,style:s,breakAll:l}=t,c=ee(a),u=o,d=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce((O,P)=>{var{word:z,width:ie}=P,G=O[O.length-1];if(G&&(n==null||i||G.width+ie+r<Number(n)))G.words.push(z),G.width+=ie+r;else{var fe={words:[z],width:ie};O.push(fe)}return O},[])},h=d(e),p=R=>R.reduce((M,O)=>M.width>O.width?M:O);if(!c||i)return h;var m=h.length>a||p(h).width>Number(n);if(!m)return h;for(var g="…",_=R=>{var M=u.slice(0,R),O=z3({breakAll:l,style:s,children:M+g}).wordsWithComputedWidth,P=d(O),z=P.length>a||p(P).width>Number(n);return[z,P]},b=0,w=u.length-1,E=0,A;b<=w&&E<=u.length-1;){var D=Math.floor((b+w)/2),L=D-1,[T,k]=_(L),[I]=_(D);if(!T&&!I&&(b=D+1),T&&I&&(w=D-1),!T&&I){A=k;break}E++}return A||h},GC=t=>{var e=lt(t)?[]:t.toString().split(B3);return[{words:e}]},Ose=t=>{var{width:e,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:o}=t;if((e||r)&&!tl.isSsr){var s,l,c=z3({breakAll:a,children:n,style:i});if(c){var{wordsWithComputedWidth:u,spaceWidth:d}=c;s=u,l=d}else return GC(n);return Cse({breakAll:a,children:n,maxLines:o,style:i},s,l,e,r)}return GC(n)},YC="#808080",Xv=x.forwardRef((t,e)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:o=!1,textAnchor:s="start",verticalAnchor:l="end",fill:c=YC}=t,u=HC(t,Ase),d=x.useMemo(()=>Ose({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:o,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,o,u.style,u.width]),{dx:h,dy:p,angle:m,className:g,breakAll:_}=u,b=HC(u,Pse);if(!Ti(r)||!Ti(n))return null;var w=r+(ee(h)?h:0),E=n+(ee(p)?p:0),A;switch(l){case"start":A=E0("calc(".concat(a,")"));break;case"middle":A=E0("calc(".concat((d.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:A=E0("calc(".concat(d.length-1," * -").concat(i,")"));break}var D=[];if(o){var L=d[0].width,{width:T}=u;D.push("scale(".concat(ee(T)?T/L:1,")"))}return m&&D.push("rotate(".concat(m,", ").concat(w,", ").concat(E,")")),D.length&&(b.transform=D.join(" ")),x.createElement("text",i_({},ut(b,!0),{ref:e,x:w,y:E,className:Me("recharts-text",g),textAnchor:s,fill:c.includes("url")?YC:c}),d.map((k,I)=>{var R=k.words.join(_?"":" ");return x.createElement("tspan",{x:w,dy:I===0?A:i,key:"".concat(R,"-").concat(I)},R)}))});Xv.displayName="Text";var Nse=["offset"],Dse=["labelRef"];function QC(t,e){if(t==null)return{};var r,n,i=Rse(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Rse(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function XC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XC(Object(r),!0).forEach(function(n){Mse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mse(t,e,r){return(e=Lse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lse(t){var e=jse(t,"string");return typeof e=="symbol"?e:e+""}function jse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wi(){return Wi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wi.apply(null,arguments)}var $se=t=>{var{value:e,formatter:r}=t,n=lt(t.children)?e:t.children;return typeof r=="function"?r(n):n},vS=t=>t!=null&&typeof t=="function",Vse=(t,e)=>{var r=rr(e-t),n=Math.min(Math.abs(e-t),360);return r*n},Fse=(t,e,r,n)=>{var{position:i,offset:a,className:o}=t,{cx:s,cy:l,innerRadius:c,outerRadius:u,startAngle:d,endAngle:h,clockWise:p}=n,m=(c+u)/2,g=Vse(d,h),_=g>=0?1:-1,b,w;i==="insideStart"?(b=d+_*a,w=p):i==="insideEnd"?(b=h-_*a,w=!p):i==="end"&&(b=h+_*a,w=p),w=g<=0?w:!w;var E=$t(s,l,m,b),A=$t(s,l,m,b+(w?1:-1)*359),D="M".concat(E.x,",").concat(E.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(w?0:1,`,
    `).concat(A.x,",").concat(A.y),L=lt(t.id)?Kd("recharts-radial-line-"):t.id;return x.createElement("text",Wi({},r,{dominantBaseline:"central",className:Me("recharts-radial-bar-label",o)}),x.createElement("defs",null,x.createElement("path",{id:L,d:D})),x.createElement("textPath",{xlinkHref:"#".concat(L)},e))},Use=(t,e,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:s,endAngle:l}=t,c=(s+l)/2;if(r==="outside"){var{x:u,y:d}=$t(n,i,o+e,c);return{x:u,y:d,textAnchor:u>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+o)/2,{x:p,y:m}=$t(n,i,h,c);return{x:p,y:m,textAnchor:"middle",verticalAnchor:"middle"}},Bse=(t,e)=>{var{parentViewBox:r,offset:n,position:i}=t,{x:a,y:o,width:s,height:l}=e,c=l>=0?1:-1,u=c*n,d=c>0?"end":"start",h=c>0?"start":"end",p=s>=0?1:-1,m=p*n,g=p>0?"end":"start",_=p>0?"start":"end";if(i==="top"){var b={x:a+s/2,y:o-c*n,textAnchor:"middle",verticalAnchor:d};return bt(bt({},b),r?{height:Math.max(o-r.y,0),width:s}:{})}if(i==="bottom"){var w={x:a+s/2,y:o+l+u,textAnchor:"middle",verticalAnchor:h};return bt(bt({},w),r?{height:Math.max(r.y+r.height-(o+l),0),width:s}:{})}if(i==="left"){var E={x:a-m,y:o+l/2,textAnchor:g,verticalAnchor:"middle"};return bt(bt({},E),r?{width:Math.max(E.x-r.x,0),height:l}:{})}if(i==="right"){var A={x:a+s+m,y:o+l/2,textAnchor:_,verticalAnchor:"middle"};return bt(bt({},A),r?{width:Math.max(r.x+r.width-A.x,0),height:l}:{})}var D=r?{width:s,height:l}:{};return i==="insideLeft"?bt({x:a+m,y:o+l/2,textAnchor:_,verticalAnchor:"middle"},D):i==="insideRight"?bt({x:a+s-m,y:o+l/2,textAnchor:g,verticalAnchor:"middle"},D):i==="insideTop"?bt({x:a+s/2,y:o+u,textAnchor:"middle",verticalAnchor:h},D):i==="insideBottom"?bt({x:a+s/2,y:o+l-u,textAnchor:"middle",verticalAnchor:d},D):i==="insideTopLeft"?bt({x:a+m,y:o+u,textAnchor:_,verticalAnchor:h},D):i==="insideTopRight"?bt({x:a+s-m,y:o+u,textAnchor:g,verticalAnchor:h},D):i==="insideBottomLeft"?bt({x:a+m,y:o+l-u,textAnchor:_,verticalAnchor:d},D):i==="insideBottomRight"?bt({x:a+s-m,y:o+l-u,textAnchor:g,verticalAnchor:d},D):i&&typeof i=="object"&&(ee(i.x)||hs(i.x))&&(ee(i.y)||hs(i.y))?bt({x:a+Fr(i.x,s),y:o+Fr(i.y,l),textAnchor:"end",verticalAnchor:"end"},D):bt({x:a+s/2,y:o+l/2,textAnchor:"middle",verticalAnchor:"middle"},D)},zse=t=>"cx"in t&&ee(t.cx);function sn(t){var{offset:e=5}=t,r=QC(t,Nse),n=bt({offset:e},r),{viewBox:i,position:a,value:o,children:s,content:l,className:c="",textBreakAll:u,labelRef:d}=n,h=oe(D$),p=aE(),m=a==="center"?p:h??p,g=i||m;if(!g||lt(o)&&lt(s)&&!x.isValidElement(l)&&typeof l!="function")return null;var _=bt(bt({},n),{},{viewBox:g});if(x.isValidElement(l)){var b=QC(_,Dse);return x.cloneElement(l,b)}var w;if(typeof l=="function"){if(w=x.createElement(l,_),x.isValidElement(w))return w}else w=$se(n);var E=zse(g),A=ut(n,!0);if(E&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Fse(n,w,A,g);var D=E?Use(g,n.offset,n.position):Bse(n,g);return x.createElement(Xv,Wi({ref:d,className:Me("recharts-label",c)},A,D,{breakAll:u}),w)}sn.displayName="Label";var W3=t=>{var{cx:e,cy:r,angle:n,startAngle:i,endAngle:a,r:o,radius:s,innerRadius:l,outerRadius:c,x:u,y:d,top:h,left:p,width:m,height:g,clockWise:_,labelViewBox:b}=t;if(b)return b;if(ee(m)&&ee(g)){if(ee(u)&&ee(d))return{x:u,y:d,width:m,height:g};if(ee(h)&&ee(p))return{x:h,y:p,width:m,height:g}}if(ee(u)&&ee(d))return{x:u,y:d,width:0,height:0};if(ee(e)&&ee(r))return{cx:e,cy:r,startAngle:i||n||0,endAngle:a||n||0,innerRadius:l||0,outerRadius:c||s||o||0,clockWise:_};if(t.viewBox)return t.viewBox},Wse=(t,e,r)=>{if(!t)return null;var n={viewBox:e,labelRef:r};return t===!0?x.createElement(sn,Wi({key:"label-implicit"},n)):Ti(t)?x.createElement(sn,Wi({key:"label-implicit",value:t},n)):x.isValidElement(t)?t.type===sn?x.cloneElement(t,bt({key:"label-implicit"},n)):x.createElement(sn,Wi({key:"label-implicit",content:t},n)):vS(t)?x.createElement(sn,Wi({key:"label-implicit",content:t},n)):t&&typeof t=="object"?x.createElement(sn,Wi({},t,{key:"label-implicit"},n)):null},qse=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var{children:i,labelRef:a}=e,o=W3(e),s=Of(i,sn).map((c,u)=>x.cloneElement(c,{viewBox:r||o,key:"label-".concat(u)}));if(!n)return s;var l=Wse(e.label,r||o,a);return[l,...s]};sn.parseViewBox=W3;sn.renderCallByParent=qse;var q3={},K3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r[r.length-1]}t.last=e})(K3);var H3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Array.isArray(r)?r:Array.from(r)}t.toArray=e})(H3);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=K3,r=H3,n=yv;function i(a){if(n.isArrayLike(a))return e.last(r.toArray(a))}t.last=i})(q3);var Kse=q3.last;const Hse=wn(Kse);var Gse=["valueAccessor"],Yse=["data","dataKey","clockWise","id","textBreakAll"];function eg(){return eg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eg.apply(null,arguments)}function JC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ZC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JC(Object(r),!0).forEach(function(n){Qse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qse(t,e,r){return(e=Xse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xse(t){var e=Jse(t,"string");return typeof e=="symbol"?e:e+""}function Jse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eO(t,e){if(t==null)return{};var r,n,i=Zse(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Zse(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var ele=t=>Array.isArray(t.value)?Hse(t.value):t.value;function bo(t){var{valueAccessor:e=ele}=t,r=eO(t,Gse),{data:n,dataKey:i,clockWise:a,id:o,textBreakAll:s}=r,l=eO(r,Yse);return!n||!n.length?null:x.createElement(Nr,{className:"recharts-label-list"},n.map((c,u)=>{var d=lt(i)?e(c,u):Ge(c&&c.payload,i),h=lt(o)?{}:{id:"".concat(o,"-").concat(u)};return x.createElement(sn,eg({},ut(c,!0),l,h,{parentViewBox:c.parentViewBox,value:d,textBreakAll:s,viewBox:sn.parseViewBox(lt(a)?c:ZC(ZC({},c),{},{clockWise:a})),key:"label-".concat(u),index:u}))}))}bo.displayName="LabelList";function tle(t,e){return t?t===!0?x.createElement(bo,{key:"labelList-implicit",data:e}):x.isValidElement(t)||vS(t)?x.createElement(bo,{key:"labelList-implicit",data:e,content:t}):typeof t=="object"?x.createElement(bo,eg({data:e},t,{key:"labelList-implicit"})):null:null}function rle(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var{children:n}=t,i=Of(n,bo).map((o,s)=>x.cloneElement(o,{data:e,key:"labelList-".concat(s)}));if(!r)return i;var a=tle(t.label,e);return[a,...i]}bo.renderCallByParent=rle;function a_(){return a_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},a_.apply(null,arguments)}var G3=t=>{var{cx:e,cy:r,r:n,className:i}=t,a=Me("recharts-dot",i);return e===+e&&r===+r&&n===+n?x.createElement("circle",a_({},_a(t),Rx(t),{className:a,cx:e,cy:r,r:n})):null},Y3=t=>t.graphicalItems.polarItems,nle=$([ht,$f],qE),yS=$([Y3,Ot,nle],KE),ile=$([yS],HE),wS=$([ile,RE],GE),ale=$([wS,Ot,yS],QE),ole=$([wS,Ot,yS],(t,e,r)=>r.length>0?t.flatMap(n=>r.flatMap(i=>{var a,o=Ge(n,(a=e.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:Ge(n,e.dataKey),errorDomain:[]})):t.map(n=>({value:n,errorDomain:[]}))),tO=()=>{},sle=$([Ot,Q$,tO,ole,tO,Oe,ht],JE),Q3=$([Ot,Oe,wS,ale,jf,ht,sle],ZE),lle=$([Q3,Ot,zc],rS);$([Ot,Q3,lle,ht],iS);var cle={radiusAxis:{},angleAxis:{}},X3=En({name:"polarAxis",initialState:cle,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}});X3.actions;var ule=X3.reducer;function rO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rO(Object(r),!0).forEach(function(n){dle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dle(t,e,r){return(e=fle(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fle(t){var e=hle(t,"string");return typeof e=="symbol"?e:e+""}function hle(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ple=(t,e)=>e,bS=$([Y3,ple],(t,e)=>t.filter(r=>r.type==="pie").find(r=>r.id===e)),mle=[],_S=(t,e,r)=>(r==null?void 0:r.length)===0?mle:r,J3=$([RE,bS,_S],(t,e,r)=>{var{chartData:n}=t;if(e!=null){var i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(a=>nO(nO({},e.presentationProps),a.props))),i!=null)return i}}),gle=$([J3,bS,_S],(t,e,r)=>{if(!(t==null||e==null))return t.map((n,i)=>{var a,o=Ge(n,e.nameKey,e.name),s;return r!=null&&(a=r[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?s=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?s=n.fill:s=e.fill,{value:jc(o,e.dataKey),color:s,payload:n,type:e.legendType}})}),vle=$([J3,bS,_S,Wt],(t,e,r,n)=>{if(!(e==null||t==null))return lce({offset:n,pieSettings:e,displayedData:t,cells:r})}),Z3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}t.isPlainObject=e})(Z3);var yle=Z3.isPlainObject;const wle=wn(yle);function tg(){return tg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tg.apply(null,arguments)}var iO=(t,e,r,n,i)=>{var a=r-n,o;return o="M ".concat(t,",").concat(e),o+="L ".concat(t+r,",").concat(e),o+="L ".concat(t+r-a/2,",").concat(e+i),o+="L ".concat(t+r-a/2-n,",").concat(e+i),o+="L ".concat(t,",").concat(e," Z"),o},ble={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_le=t=>{var e=Sn(t,ble),r=x.useRef(),[n,i]=x.useState(-1);x.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&i(_)}catch{}},[]);var{x:a,y:o,upperWidth:s,lowerWidth:l,height:c,className:u}=e,{animationEasing:d,animationDuration:h,animationBegin:p,isUpdateAnimationActive:m}=e;if(a!==+a||o!==+o||s!==+s||l!==+l||c!==+c||s===0&&l===0||c===0)return null;var g=Me("recharts-trapezoid",u);return m?x.createElement(Vm,{canBegin:n>0,from:{upperWidth:0,lowerWidth:0,height:c,x:a,y:o},to:{upperWidth:s,lowerWidth:l,height:c,x:a,y:o},duration:h,animationEasing:d,isActive:m},_=>{var{upperWidth:b,lowerWidth:w,height:E,x:A,y:D}=_;return x.createElement(Vm,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:h,easing:d},x.createElement("path",tg({},ut(e,!0),{className:g,d:iO(A,D,b,w,E),ref:r})))}):x.createElement("g",null,x.createElement("path",tg({},ut(e,!0),{className:g,d:iO(a,o,s,l,c)})))},xle=["option","shapeType","propTransformer","activeClassName","isActive"];function Ele(t,e){if(t==null)return{};var r,n,i=Sle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Sle(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function aO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aO(Object(r),!0).forEach(function(n){kle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kle(t,e,r){return(e=Tle(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tle(t){var e=Ale(t,"string");return typeof e=="symbol"?e:e+""}function Ale(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ple(t,e){return rg(rg({},e),t)}function Ile(t,e){return t==="symbols"}function oO(t){var{shapeType:e,elementProps:r}=t;switch(e){case"rectangle":return x.createElement(S4,r);case"trapezoid":return x.createElement(_le,r);case"sector":return x.createElement(A4,r);case"symbols":if(Ile(e))return x.createElement(Vx,r);break;default:return null}}function Cle(t){return x.isValidElement(t)?t.props:t}function eV(t){var{option:e,shapeType:r,propTransformer:n=Ple,activeClassName:i="recharts-active-shape",isActive:a}=t,o=Ele(t,xle),s;if(x.isValidElement(e))s=x.cloneElement(e,rg(rg({},o),Cle(e)));else if(typeof e=="function")s=e(o);else if(wle(e)&&typeof e!="boolean"){var l=n(e,o);s=x.createElement(oO,{shapeType:r,elementProps:l})}else{var c=o;s=x.createElement(oO,{shapeType:r,elementProps:c})}return a?x.createElement(Nr,{className:i},s):s}var xS=(t,e)=>{var r=yt();return(n,i)=>a=>{t==null||t(n,i,a),r(f3({activeIndex:String(i),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}},ES=t=>{var e=yt();return(r,n)=>i=>{t==null||t(r,n,i),e(Dae())}},SS=(t,e)=>{var r=yt();return(n,i)=>a=>{t==null||t(n,i,a),r(Rae({activeIndex:String(i),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}};function kS(t){var{fn:e,args:r}=t,n=yt(),i=Zr();return x.useEffect(()=>{if(!i){var a=e(r);return n(Cae(a)),()=>{n(Oae(a))}}},[e,r,n,i]),null}var tV=()=>{};function rV(t){var{legendPayload:e}=t,r=yt(),n=Zr();return x.useEffect(()=>n?tV:(r(d4(e)),()=>{r(f4(e))}),[r,n,e]),null}function Ole(t){var{legendPayload:e}=t,r=yt(),n=oe(Oe);return x.useEffect(()=>n!=="centric"&&n!=="radial"?tV:(r(d4(e)),()=>{r(f4(e))}),[r,n,e]),null}function TS(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=x.useRef(Kd(e)),n=x.useRef(t);return n.current!==t&&(r.current=Kd(e),n.current=t),r.current}var S0,Nle=()=>{var[t]=x.useState(()=>Kd("uid-"));return t},Dle=(S0=$O["useId".toString()])!==null&&S0!==void 0?S0:Nle;function Rle(t,e){var r=Dle();return e||(t?"".concat(t,"-").concat(r):r)}var Mle=x.createContext(void 0),AS=t=>{var{id:e,type:r,children:n}=t,i=Rle("recharts-".concat(r),e);return x.createElement(Mle.Provider,{value:i},n(i))},Lle={cartesianItems:[],polarItems:[]},nV=En({name:"graphicalItems",initialState:Lle,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:r,next:n}=e.payload,i=ra(t).cartesianItems.indexOf(r);i>-1&&(t.cartesianItems[i]=n)},removeCartesianGraphicalItem(t,e){var r=ra(t).cartesianItems.indexOf(e.payload);r>-1&&t.cartesianItems.splice(r,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var r=ra(t).polarItems.indexOf(e.payload);r>-1&&t.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:jle,replaceCartesianGraphicalItem:$le,removeCartesianGraphicalItem:Vle,addPolarGraphicalItem:Fle,removePolarGraphicalItem:Ule}=nV.actions,Ble=nV.reducer;function iV(t){var e=yt(),r=x.useRef(null);return x.useEffect(()=>{r.current===null?e(jle(t)):r.current!==t&&e($le({prev:r.current,next:t})),r.current=t},[e,t]),x.useEffect(()=>()=>{r.current&&(e(Vle(r.current)),r.current=null)},[e]),null}function zle(t){var e=yt();return x.useEffect(()=>(e(Fle(t)),()=>{e(Ule(t))}),[e,t]),null}function Wle(){}var qle={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},sO={t:0},k0={t:1};function PS(t){var e=Sn(t,qle),{isActive:r,canBegin:n,duration:i,easing:a,begin:o,onAnimationEnd:s,onAnimationStart:l,children:c}=e,u=E4("JavascriptAnimate",e.animationManager),[d,h]=x.useState(r?sO:k0),p=x.useRef(null);return x.useEffect(()=>{r||h(k0)},[r]),x.useEffect(()=>{if(!r||!n)return Wle;var m=x4(sO,k0,b4(a),i,h,u.getTimeoutController()),g=()=>{p.current=m()};return u.start([l,o,g,i,s]),()=>{u.stop(),p.current&&p.current(),s()}},[r,n,i,a,o,l,s,u]),c(d.t)}var Kle=["onMouseEnter","onClick","onMouseLeave"],Hle=["id"],Gle=["id"];function IS(t,e){if(t==null)return{};var r,n,i=Yle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Yle(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function lO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lO(Object(r),!0).forEach(function(n){Qle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qle(t,e,r){return(e=Xle(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xle(t){var e=Jle(t,"string");return typeof e=="symbol"?e:e+""}function Jle(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function va(){return va=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},va.apply(null,arguments)}function Zle(t){var e=x.useMemo(()=>Of(t.children,Wf),[t.children]),r=oe(n=>gle(n,t.id,e));return r==null?null:x.createElement(Ole,{legendPayload:r})}function ece(t){var{dataKey:e,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:o,name:s,hide:l,tooltipType:c}=t;return{dataDefinedOnItem:n==null?void 0:n.map(u=>u.tooltipPayload),positions:n==null?void 0:n.map(u=>u.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:o,dataKey:e,nameKey:r,name:jc(s,e),hide:l,type:c,color:o,unit:""}}}var tce=(t,e)=>t>e?"start":t<e?"end":"middle",rce=(t,e,r)=>typeof e=="function"?e(t):Fr(e,r,r*.8),nce=(t,e,r)=>{var{top:n,left:i,width:a,height:o}=e,s=t4(a,o),l=i+Fr(t.cx,a,a/2),c=n+Fr(t.cy,o,o/2),u=Fr(t.innerRadius,s,0),d=rce(r,t.outerRadius,s),h=t.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:h}},ice=(t,e)=>{var r=rr(e-t),n=Math.min(Math.abs(e-t),360);return r*n},ace=(t,e)=>{if(x.isValidElement(t))return x.cloneElement(t,e);if(typeof t=="function")return t(e);var r=Me("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return x.createElement(cE,va({},e,{type:"linear",className:r}))},oce=(t,e,r)=>{if(x.isValidElement(t))return x.cloneElement(t,e);var n=r;if(typeof t=="function"&&(n=t(e),x.isValidElement(n)))return n;var i=Me("recharts-pie-label-text",typeof t!="boolean"&&typeof t!="function"?t.className:"");return x.createElement(Xv,va({},e,{alignmentBaseline:"middle",className:i}),n)};function sce(t){var{sectors:e,props:r,showLabels:n}=t,{label:i,labelLine:a,dataKey:o}=r;if(!n||!i||!e)return null;var s=_a(r),l=ut(i,!1),c=ut(a,!1),u=typeof i=="object"&&"offsetRadius"in i&&i.offsetRadius||20,d=e.map((h,p)=>{var m=(h.startAngle+h.endAngle)/2,g=$t(h.cx,h.cy,h.outerRadius+u,m),_=xt(xt(xt(xt({},s),h),{},{stroke:"none"},l),{},{index:p,textAnchor:tce(g.x,h.cx)},g),b=xt(xt(xt(xt({},s),h),{},{fill:"none",stroke:h.fill},c),{},{index:p,points:[$t(h.cx,h.cy,h.outerRadius,m),g],key:"line"});return x.createElement(Nr,{key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(p)},a&&ace(a,b),oce(i,_,Ge(h,o)))});return x.createElement(Nr,{className:"recharts-pie-labels"},d)}function aV(t){var{sectors:e,activeShape:r,inactiveShape:n,allOtherPieProps:i,showLabels:a}=t,o=oe(Co),{onMouseEnter:s,onClick:l,onMouseLeave:c}=i,u=IS(i,Kle),d=xS(s,i.dataKey),h=ES(c),p=SS(l,i.dataKey);return e==null?null:x.createElement(x.Fragment,null,e.map((m,g)=>{if((m==null?void 0:m.startAngle)===0&&(m==null?void 0:m.endAngle)===0&&e.length!==1)return null;var _=r&&String(g)===o,b=o?n:null,w=_?r:b,E=xt(xt({},m),{},{stroke:m.stroke,tabIndex:-1,[o4]:g,[s4]:i.dataKey});return x.createElement(Nr,va({tabIndex:-1,className:"recharts-pie-sector"},Cf(u,m,g),{onMouseEnter:d(m,g),onMouseLeave:h(m,g),onClick:p(m,g),key:"sector-".concat(m==null?void 0:m.startAngle,"-").concat(m==null?void 0:m.endAngle,"-").concat(m.midAngle,"-").concat(g)}),x.createElement(eV,va({option:w,isActive:_,shapeType:"sector"},E)))}),x.createElement(sce,{sectors:e,props:i,showLabels:a}))}function lce(t){var e,{pieSettings:r,displayedData:n,cells:i,offset:a}=t,{cornerRadius:o,startAngle:s,endAngle:l,dataKey:c,nameKey:u,tooltipType:d}=r,h=Math.abs(r.minAngle),p=ice(s,l),m=Math.abs(p),g=n.length<=1?0:(e=r.paddingAngle)!==null&&e!==void 0?e:0,_=n.filter(L=>Ge(L,c,0)!==0).length,b=(m>=360?_:_-1)*g,w=m-_*h-b,E=n.reduce((L,T)=>{var k=Ge(T,c,0);return L+(ee(k)?k:0)},0),A;if(E>0){var D;A=n.map((L,T)=>{var k=Ge(L,c,0),I=Ge(L,u,T),R=nce(r,a,L),M=(ee(k)?k:0)/E,O,P=xt(xt({},L),i&&i[T]&&i[T].props);T?O=D.endAngle+rr(p)*g*(k!==0?1:0):O=s;var z=O+rr(p)*((k!==0?h:0)+M*w),ie=(O+z)/2,G=(R.innerRadius+R.outerRadius)/2,fe=[{name:I,value:k,payload:P,dataKey:c,type:d}],W=$t(R.cx,R.cy,G,ie);return D=xt(xt(xt(xt({},r.presentationProps),{},{percent:M,cornerRadius:o,name:I,tooltipPayload:fe,midAngle:ie,middleRadius:G,tooltipPosition:W},P),R),{},{value:Ge(L,c),startAngle:O,endAngle:z,payload:P,paddingAngle:rr(p)*g}),D})}return A}function cce(t){var{props:e,previousSectorsRef:r}=t,{sectors:n,isAnimationActive:i,animationBegin:a,animationDuration:o,animationEasing:s,activeShape:l,inactiveShape:c,onAnimationStart:u,onAnimationEnd:d}=e,h=TS(e,"recharts-pie-"),p=r.current,[m,g]=x.useState(!0),_=x.useCallback(()=>{typeof d=="function"&&d(),g(!1)},[d]),b=x.useCallback(()=>{typeof u=="function"&&u(),g(!0)},[u]);return x.createElement(PS,{begin:a,duration:o,isActive:i,easing:s,onAnimationStart:b,onAnimationEnd:_,key:h},w=>{var E=[],A=n&&n[0],D=A.startAngle;return n.forEach((L,T)=>{var k=p&&p[T],I=T>0?Ao(L,"paddingAngle",0):0;if(k){var R=jP(k.endAngle-k.startAngle,L.endAngle-L.startAngle),M=xt(xt({},L),{},{startAngle:D+I,endAngle:D+R(w)+I});E.push(M),D=M.endAngle}else{var{endAngle:O,startAngle:P}=L,z=jP(0,O-P),ie=z(w),G=xt(xt({},L),{},{startAngle:D+I,endAngle:D+ie+I});E.push(G),D=G.endAngle}}),r.current=E,x.createElement(Nr,null,x.createElement(aV,{sectors:E,activeShape:l,inactiveShape:c,allOtherPieProps:e,showLabels:!m}))})}function uce(t){var{sectors:e,isAnimationActive:r,activeShape:n,inactiveShape:i}=t,a=x.useRef(null),o=a.current;return r&&e&&e.length&&(!o||o!==e)?x.createElement(cce,{props:t,previousSectorsRef:a}):x.createElement(aV,{sectors:e,activeShape:n,inactiveShape:i,allOtherPieProps:t,showLabels:!0})}function dce(t){var{hide:e,className:r,rootTabIndex:n}=t,i=Me("recharts-pie",r);return e?null:x.createElement(Nr,{tabIndex:n,className:i},x.createElement(uce,t))}var fce={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!tl.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function hce(t){var{id:e}=t,r=IS(t,Hle),n=x.useMemo(()=>Of(t.children,Wf),[t.children]),i=oe(a=>vle(a,e,n));return x.createElement(x.Fragment,null,x.createElement(kS,{fn:ece,args:xt(xt({},t),{},{sectors:i})}),x.createElement(dce,va({},r,{sectors:i})))}function oV(t){var e=Sn(t,fce),{id:r}=e,n=IS(e,Gle),i=_a(n);return x.createElement(AS,{id:r,type:"pie"},a=>x.createElement(x.Fragment,null,x.createElement(zle,{type:"pie",id:a,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i}),x.createElement(Zle,va({},n,{id:a})),x.createElement(hce,va({},n,{id:a})),n.children))}oV.displayName="Pie";var pce=$([Wt],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),mce=$([pce,xa,Ea],(t,e,r)=>{if(!(!t||e==null||r==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,r-t.top-t.bottom)}}),CS=()=>oe(mce),gce=()=>oe(boe);function cO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cO(Object(r),!0).forEach(function(n){vce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vce(t,e,r){return(e=yce(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yce(t){var e=wce(t,"string");return typeof e=="symbol"?e:e+""}function wce(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bce=t=>{var{point:e,childIndex:r,mainColor:n,activeDot:i,dataKey:a}=t;if(i===!1||e.x==null||e.y==null)return null;var o=uO(uO({index:r,dataKey:a,cx:e.x,cy:e.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},ut(i,!1)),Rx(i)),s;return x.isValidElement(i)?s=x.cloneElement(i,o):typeof i=="function"?s=i(o):s=x.createElement(G3,o),x.createElement(Nr,{className:"recharts-active-dot"},s)};function _ce(t){var{points:e,mainColor:r,activeDot:n,itemDataKey:i}=t,a=oe(Co),o=gce();if(e==null||o==null)return null;var s=e.find(l=>o.includes(l.payload));return lt(s)?null:bce({point:s,childIndex:Number(a),mainColor:r,dataKey:i,activeDot:n})}var xce=!0,T0="Invariant failed";function Ece(t,e){if(!t){if(xce)throw new Error(T0);var r=typeof e=="function"?e():e,n=r?"".concat(T0,": ").concat(r):T0;throw new Error(n)}}var Sce=["x","y"];function o_(){return o_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o_.apply(null,arguments)}function dO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Nu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dO(Object(r),!0).forEach(function(n){kce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kce(t,e,r){return(e=Tce(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tce(t){var e=Ace(t,"string");return typeof e=="symbol"?e:e+""}function Ace(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pce(t,e){if(t==null)return{};var r,n,i=Ice(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Ice(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Cce(t,e){var{x:r,y:n}=t,i=Pce(t,Sce),a="".concat(r),o=parseInt(a,10),s="".concat(n),l=parseInt(s,10),c="".concat(e.height||i.height),u=parseInt(c,10),d="".concat(e.width||i.width),h=parseInt(d,10);return Nu(Nu(Nu(Nu(Nu({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:h,name:e.name,radius:e.radius})}function sV(t){return x.createElement(eV,o_({shapeType:"rectangle",propTransformer:Cce,activeClassName:"recharts-active-bar"},t))}var Oce=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(ee(e))return e;var a=ee(n)||lt(n);return a?e(n,i):(a||Ece(!1),r)}},Nce={},lV=En({name:"errorBars",initialState:Nce,reducers:{addErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]||(t[r]=[]),t[r].push(n)},removeErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]&&(t[r]=t[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}});lV.actions;var Dce=lV.reducer,Rce=["children"];function Mce(t,e){if(t==null)return{};var r,n,i=Lce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Lce(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var jce={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},$ce=x.createContext(jce);function cV(t){var{children:e}=t,r=Mce(t,Rce);return x.createElement($ce.Provider,{value:r},e)}function OS(t,e){var r,n,i=oe(c=>ka(c,t)),a=oe(c=>Ko(c,e)),o=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:rn.allowDataOverflow,s=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:nn.allowDataOverflow,l=o||s;return{needClip:l,needClipX:o,needClipY:s}}function uV(t){var{xAxisId:e,yAxisId:r,clipPathId:n}=t,i=CS(),{needClipX:a,needClipY:o,needClip:s}=OS(e,r);if(!s)return null;var{x:l,y:c,width:u,height:d}=i;return x.createElement("clipPath",{id:"clipPath-".concat(n)},x.createElement("rect",{x:a?l:l-u/2,y:o?c:c-d/2,width:a?u:u*2,height:o?d:d*2}))}var Vce=["onMouseEnter","onMouseLeave","onClick"],Fce=["value","background","tooltipPosition"],Uce=["id"],Bce=["onMouseEnter","onClick","onMouseLeave"];function Ec(){return Ec=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ec.apply(null,arguments)}function fO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fO(Object(r),!0).forEach(function(n){zce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zce(t,e,r){return(e=Wce(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wce(t){var e=qce(t,"string");return typeof e=="symbol"?e:e+""}function qce(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ng(t,e){if(t==null)return{};var r,n,i=Kce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Kce(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Hce=t=>{var{dataKey:e,name:r,fill:n,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:n,value:jc(r,e),payload:t}]};function Gce(t){var{dataKey:e,stroke:r,strokeWidth:n,fill:i,name:a,hide:o,unit:s}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:e,nameKey:void 0,name:jc(a,e),hide:o,type:t.tooltipType,color:t.fill,unit:s}}}function Yce(t){var e=oe(Co),{data:r,dataKey:n,background:i,allOtherBarProps:a}=t,{onMouseEnter:o,onMouseLeave:s,onClick:l}=a,c=ng(a,Vce),u=xS(o,n),d=ES(s),h=SS(l,n);if(!i||r==null)return null;var p=ut(i,!1);return x.createElement(x.Fragment,null,r.map((m,g)=>{var{value:_,background:b,tooltipPosition:w}=m,E=ng(m,Fce);if(!b)return null;var A=u(m,g),D=d(m,g),L=h(m,g),T=Pr(Pr(Pr(Pr(Pr({option:i,isActive:String(g)===e},E),{},{fill:"#eee"},b),p),Cf(c,m,g)),{},{onMouseEnter:A,onMouseLeave:D,onClick:L,dataKey:n,index:g,className:"recharts-bar-background-rectangle"});return x.createElement(sV,Ec({key:"background-bar-".concat(g)},T))}))}function dV(t){var{data:e,props:r,showLabels:n}=t,i=_a(r),a=ng(i,Uce),{shape:o,dataKey:s,activeBar:l}=r,c=oe(Co),u=oe(k3),{onMouseEnter:d,onClick:h,onMouseLeave:p}=r,m=ng(r,Bce),g=xS(d,s),_=ES(p),b=SS(h,s);return e?x.createElement(x.Fragment,null,e.map((w,E)=>{var A=l&&String(E)===c&&(u==null||s===u),D=A?l:o,L=Pr(Pr(Pr({},a),w),{},{isActive:A,option:D,index:E,dataKey:s});return x.createElement(Nr,Ec({className:"recharts-bar-rectangle"},Cf(m,w,E),{onMouseEnter:g(w,E),onMouseLeave:_(w,E),onClick:b(w,E),key:"rectangle-".concat(w==null?void 0:w.x,"-").concat(w==null?void 0:w.y,"-").concat(w==null?void 0:w.value,"-").concat(E)}),x.createElement(sV,L))}),n&&bo.renderCallByParent(r,e)):null}function Qce(t){var{props:e,previousRectanglesRef:r}=t,{data:n,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:s,animationEasing:l,onAnimationEnd:c,onAnimationStart:u}=e,d=r.current,h=TS(e,"recharts-bar-"),[p,m]=x.useState(!1),g=x.useCallback(()=>{typeof c=="function"&&c(),m(!1)},[c]),_=x.useCallback(()=>{typeof u=="function"&&u(),m(!0)},[u]);return x.createElement(PS,{begin:o,duration:s,isActive:a,easing:l,onAnimationEnd:g,onAnimationStart:_,key:h},b=>{var w=b===1?n:n==null?void 0:n.map((E,A)=>{var D=d&&d[A];if(D)return Pr(Pr({},E),{},{x:Qn(D.x,E.x,b),y:Qn(D.y,E.y,b),width:Qn(D.width,E.width,b),height:Qn(D.height,E.height,b)});if(i==="horizontal"){var L=Qn(0,E.height,b);return Pr(Pr({},E),{},{y:E.y+E.height-L,height:L})}var T=Qn(0,E.width,b);return Pr(Pr({},E),{},{width:T})});return b>0&&(r.current=w??null),w==null?null:x.createElement(Nr,null,x.createElement(dV,{props:e,data:w,showLabels:!p}))})}function Xce(t){var{data:e,isAnimationActive:r}=t,n=x.useRef(null);return r&&e&&e.length&&(n.current==null||n.current!==e)?x.createElement(Qce,{previousRectanglesRef:n,props:t}):x.createElement(dV,{props:t,data:e,showLabels:!0})}var fV=0,Jce=(t,e)=>{var r=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:r,errorVal:Ge(t,e)}};class Zce extends x.PureComponent{render(){var{hide:e,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:o,needClip:s,background:l,id:c}=this.props;if(e)return null;var u=Me("recharts-bar",i),d=c;return x.createElement(Nr,{className:u,id:c},s&&x.createElement("defs",null,x.createElement(uV,{clipPathId:d,xAxisId:a,yAxisId:o})),x.createElement(Nr,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(d,")"):void 0},x.createElement(Yce,{data:r,dataKey:n,background:l,allOtherBarProps:this.props}),x.createElement(Xce,this.props)),this.props.children)}}var eue={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!tl.isSsr,legendType:"rect",minPointSize:fV,xAxisId:0,yAxisId:0};function tue(t){var{xAxisId:e,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:l,animationEasing:c,isAnimationActive:u}=t,{needClip:d}=OS(e,r),h=Dv(),p=Zr(),m=Of(t.children,Wf),g=oe(w=>Pue(w,e,r,p,t.id,m));if(h!=="vertical"&&h!=="horizontal")return null;var _,b=g==null?void 0:g[0];return b==null||b.height==null||b.width==null?_=0:_=h==="vertical"?b.height/2:b.width/2,x.createElement(cV,{xAxisId:e,yAxisId:r,data:g,dataPointFormatter:Jce,errorBarOffset:_},x.createElement(Zce,Ec({},t,{layout:h,needClip:d,data:g,xAxisId:e,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:l,animationEasing:c,isAnimationActive:u})))}function rue(t){var{layout:e,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:o,yAxis:s,xAxisTicks:l,yAxisTicks:c,stackedData:u,displayedData:d,offset:h,cells:p}=t,m=e==="horizontal"?s:o,g=u?m.scale.domain():null,_=nee({numericAxis:m});return d.map((b,w)=>{var E,A,D,L,T,k;u?E=XZ(u[w],g):(E=Ge(b,r),Array.isArray(E)||(E=[_,E]));var I=Oce(n,fV)(E[1],w);if(e==="horizontal"){var R,[M,O]=[s.scale(E[0]),s.scale(E[1])];A=mI({axis:o,ticks:l,bandSize:a,offset:i.offset,entry:b,index:w}),D=(R=O??M)!==null&&R!==void 0?R:void 0,L=i.size;var P=M-O;if(T=mn(P)?0:P,k={x:A,y:h.top,width:L,height:h.height},Math.abs(I)>0&&Math.abs(T)<Math.abs(I)){var z=rr(T||I)*(Math.abs(I)-Math.abs(T));D-=z,T+=z}}else{var[ie,G]=[o.scale(E[0]),o.scale(E[1])];if(A=ie,D=mI({axis:s,ticks:c,bandSize:a,offset:i.offset,entry:b,index:w}),L=G-ie,T=i.size,k={x:h.left,y:D,width:h.width,height:T},Math.abs(I)>0&&Math.abs(L)<Math.abs(I)){var fe=rr(L||I)*(Math.abs(I)-Math.abs(L));L+=fe}}if(A==null||D==null||L==null||T==null)return null;var W=Pr(Pr({},b),{},{x:A,y:D,width:L,height:T,value:u?E:E[1],payload:b,background:k,tooltipPosition:{x:A+L/2,y:D+T/2}},p&&p[w]&&p[w].props);return W}).filter(Boolean)}function Hu(t){var e=Sn(t,eue),r=Zr();return x.createElement(AS,{id:e.id,type:"bar"},n=>x.createElement(x.Fragment,null,x.createElement(rV,{legendPayload:Hce(e)}),x.createElement(kS,{fn:Gce,args:e}),x.createElement(iV,{type:"bar",id:n,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:ree(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),x.createElement(tue,Ec({},e,{id:n}))))}Hu.displayName="Bar";function hO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function np(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hO(Object(r),!0).forEach(function(n){nue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nue(t,e,r){return(e=iue(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iue(t){var e=aue(t,"string");return typeof e=="symbol"?e:e+""}function aue(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oue=(t,e)=>e,sue=(t,e,r)=>r,lue=(t,e,r,n)=>n,cue=(t,e,r,n,i)=>i,qf=$([qv,cue],(t,e)=>t.filter(r=>r.type==="bar").find(r=>r.id===e)),uue=$([qf],t=>t==null?void 0:t.maxBarSize),due=(t,e,r,n,i,a)=>a,pO=(t,e,r)=>{var n=r??t;if(!lt(n))return Fr(n,e,0)},fue=$([Oe,qv,oue,sue,lue],(t,e,r,n,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),hue=(t,e,r,n)=>{var i=Oe(t);return i==="horizontal"?Zb(t,"yAxis",r,n):Zb(t,"xAxis",e,n)},pue=(t,e,r)=>{var n=Oe(t);return n==="horizontal"?TC(t,"xAxis",e):TC(t,"yAxis",r)},mue=(t,e,r)=>{var n={},i=t.filter(Wv),a=t.filter(c=>c.stackId==null),o=i.reduce((c,u)=>(c[u.stackId]||(c[u.stackId]=[]),c[u.stackId].push(u),c),n),s=Object.entries(o).map(c=>{var[u,d]=c,h=d.map(m=>m.dataKey),p=pO(e,r,d[0].barSize);return{stackId:u,dataKeys:h,barSize:p}}),l=a.map(c=>{var u=[c.dataKey].filter(h=>h!=null),d=pO(e,r,c.barSize);return{stackId:void 0,dataKeys:u,barSize:d}});return[...s,...l]},gue=$([fue,Oie,pue],mue),vue=(t,e,r,n,i)=>{var a,o,s=qf(t,e,r,n,i);if(s!=null){var l=Oe(t),c=T$(t),{maxBarSize:u}=s,d=lt(u)?c:u,h,p;return l==="horizontal"?(h=Io(t,"xAxis",e,n),p=Po(t,"xAxis",e,n)):(h=Io(t,"yAxis",r,n),p=Po(t,"yAxis",r,n)),(a=(o=Yd(h,p,!0))!==null&&o!==void 0?o:d)!==null&&a!==void 0?a:0}},hV=(t,e,r,n)=>{var i=Oe(t),a,o;return i==="horizontal"?(a=Io(t,"xAxis",e,n),o=Po(t,"xAxis",e,n)):(a=Io(t,"yAxis",r,n),o=Po(t,"yAxis",r,n)),Yd(a,o)};function yue(t,e,r,n,i){var a=n.length;if(!(a<1)){var o=Fr(t,r,0,!0),s,l=[];if(yn(n[0].barSize)){var c=!1,u=r/a,d=n.reduce((b,w)=>b+(w.barSize||0),0);d+=(a-1)*o,d>=r&&(d-=(a-1)*o,o=0),d>=r&&u>0&&(c=!0,u*=.9,d=a*u);var h=(r-d)/2>>0,p={offset:h-o,size:0};s=n.reduce((b,w)=>{var E,A={stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:p.offset+p.size+o,size:c?u:(E=w.barSize)!==null&&E!==void 0?E:0}},D=[...b,A];return p=D[D.length-1].position,D},l)}else{var m=Fr(e,r,0,!0);r-2*m-(a-1)*o<=0&&(o=0);var g=(r-2*m-(a-1)*o)/a;g>1&&(g>>=0);var _=yn(i)?Math.min(g,i):g;s=n.reduce((b,w,E)=>[...b,{stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:m+(g+o)*E+(g-_)/2,size:_}}],l)}return s}}var wue=(t,e,r,n,i,a,o)=>{var s=lt(o)?e:o,l=yue(r,n,i!==a?i:a,t,s);return i!==a&&l!=null&&(l=l.map(c=>np(np({},c),{},{position:np(np({},c.position),{},{offset:c.position.offset-i/2})}))),l},bue=$([gue,T$,Cie,A$,vue,hV,uue],wue),_ue=(t,e,r,n)=>Io(t,"xAxis",e,n),xue=(t,e,r,n)=>Io(t,"yAxis",r,n),Eue=(t,e,r,n)=>Po(t,"xAxis",e,n),Sue=(t,e,r,n)=>Po(t,"yAxis",r,n),kue=$([bue,qf],(t,e)=>{if(!(t==null||e==null)){var r=t.find(n=>n.stackId===e.stackId&&e.dataKey!=null&&n.dataKeys.includes(e.dataKey));if(r!=null)return r.position}}),Tue=(t,e)=>{var r=zE(e);if(!(!t||r==null||e==null)){var{stackId:n}=e;if(n!=null){var i=t[n];if(i){var{stackedData:a}=i;if(a)return a.find(o=>o.key===r)}}}},Aue=$([hue,qf],Tue),Pue=$([Wt,_ue,xue,Eue,Sue,kue,Oe,Fv,hV,Aue,qf,due],(t,e,r,n,i,a,o,s,l,c,u,d)=>{var{chartData:h,dataStartIndex:p,dataEndIndex:m}=s;if(!(u==null||a==null||o!=="horizontal"&&o!=="vertical"||e==null||r==null||n==null||i==null||l==null)){var{data:g}=u,_;if(g!=null&&g.length>0?_=g:_=h==null?void 0:h.slice(p,m+1),_!=null)return rue({layout:o,barSettings:u,pos:a,bandSize:l,xAxis:e,yAxis:r,xAxisTicks:n,yAxisTicks:i,stackedData:c,displayedData:_,offset:t,cells:d})}}),pV=t=>{var{chartData:e}=t,r=yt(),n=Zr();return x.useEffect(()=>n?()=>{}:(r(MC(e)),()=>{r(MC(void 0))}),[e,r,n]),null},mO={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},mV=En({name:"brush",initialState:mO,reducers:{setBrushSettings(t,e){return e.payload==null?mO:e.payload}}});mV.actions;var Iue=mV.reducer;function Cue(t,e,r){return(e=Oue(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Oue(t){var e=Nue(t,"string");return typeof e=="symbol"?e:e+""}function Nue(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class NS{static create(e){return new NS(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(n)switch(n){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}isInRange(e){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?e>=n&&e<=i:e>=i&&e<=n}}Cue(NS,"EPS",1e-4);function Due(t){return(t%180+180)%180}var Rue=function(e){var{width:r,height:n}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Due(i),o=a*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},Mue={dots:[],areas:[],lines:[]},gV=En({name:"referenceElements",initialState:Mue,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var r=ra(t).dots.findIndex(n=>n===e.payload);r!==-1&&t.dots.splice(r,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var r=ra(t).areas.findIndex(n=>n===e.payload);r!==-1&&t.areas.splice(r,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var r=ra(t).lines.findIndex(n=>n===e.payload);r!==-1&&t.lines.splice(r,1)}}});gV.actions;var Lue=gV.reducer,jue=x.createContext(void 0),$ue=t=>{var{children:e}=t,[r]=x.useState("".concat(Kd("recharts"),"-clip")),n=CS();if(n==null)return null;var{x:i,y:a,width:o,height:s}=n;return x.createElement(jue.Provider,{value:r},x.createElement("defs",null,x.createElement("clipPath",{id:r},x.createElement("rect",{x:i,y:a,height:s,width:o}))),e)};function A0(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function vV(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)if(r===void 0||r(t[i])===!0)n.push(t[i]);else return;return n}function Vue(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Rue(n,r)}function Fue(t,e,r){var n=r==="width",{x:i,y:a,width:o,height:s}=t;return e===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function ig(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function Uue(t,e){return vV(t,e+1)}function Bue(t,e,r,n,i){for(var a=(n||[]).slice(),{start:o,end:s}=e,l=0,c=1,u=o,d=function(){var m=n==null?void 0:n[l];if(m===void 0)return{v:vV(n,c)};var g=l,_,b=()=>(_===void 0&&(_=r(m,g)),_),w=m.coordinate,E=l===0||ig(t,w,b,u,s);E||(l=0,u=o,c+=1),E&&(u=w+t*(b()/2+i),l+=c)},h;c<=a.length;)if(h=d(),h)return h.v;return[]}function gO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Sr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gO(Object(r),!0).forEach(function(n){zue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zue(t,e,r){return(e=Wue(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wue(t){var e=que(t,"string");return typeof e=="symbol"?e:e+""}function que(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kue(t,e,r,n,i){for(var a=(n||[]).slice(),o=a.length,{start:s}=e,{end:l}=e,c=function(h){var p=a[h],m,g=()=>(m===void 0&&(m=r(p,h)),m);if(h===o-1){var _=t*(p.coordinate+t*g()/2-l);a[h]=p=Sr(Sr({},p),{},{tickCoord:_>0?p.coordinate-_*t:p.coordinate})}else a[h]=p=Sr(Sr({},p),{},{tickCoord:p.coordinate});var b=ig(t,p.tickCoord,g,s,l);b&&(l=p.tickCoord-t*(g()/2+i),a[h]=Sr(Sr({},p),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return a}function Hue(t,e,r,n,i,a){var o=(n||[]).slice(),s=o.length,{start:l,end:c}=e;if(a){var u=n[s-1],d=r(u,s-1),h=t*(u.coordinate+t*d/2-c);o[s-1]=u=Sr(Sr({},u),{},{tickCoord:h>0?u.coordinate-h*t:u.coordinate});var p=ig(t,u.tickCoord,()=>d,l,c);p&&(c=u.tickCoord-t*(d/2+i),o[s-1]=Sr(Sr({},u),{},{isShow:!0}))}for(var m=a?s-1:s,g=function(w){var E=o[w],A,D=()=>(A===void 0&&(A=r(E,w)),A);if(w===0){var L=t*(E.coordinate-t*D()/2-l);o[w]=E=Sr(Sr({},E),{},{tickCoord:L<0?E.coordinate-L*t:E.coordinate})}else o[w]=E=Sr(Sr({},E),{},{tickCoord:E.coordinate});var T=ig(t,E.tickCoord,D,l,c);T&&(l=E.tickCoord+t*(D()/2+i),o[w]=Sr(Sr({},E),{},{isShow:!0}))},_=0;_<m;_++)g(_);return o}function DS(t,e,r){var{tick:n,ticks:i,viewBox:a,minTickGap:o,orientation:s,interval:l,tickFormatter:c,unit:u,angle:d}=t;if(!i||!i.length||!n)return[];if(ee(l)||tl.isSsr){var h;return(h=Uue(i,ee(l)?l:0))!==null&&h!==void 0?h:[]}var p=[],m=s==="top"||s==="bottom"?"width":"height",g=u&&m==="width"?fd(u,{fontSize:e,letterSpacing:r}):{width:0,height:0},_=(E,A)=>{var D=typeof c=="function"?c(E.value,A):E.value;return m==="width"?Vue(fd(D,{fontSize:e,letterSpacing:r}),g,d):fd(D,{fontSize:e,letterSpacing:r})[m]},b=i.length>=2?rr(i[1].coordinate-i[0].coordinate):1,w=Fue(a,b,m);return l==="equidistantPreserveStart"?Bue(b,w,_,i,o):(l==="preserveStart"||l==="preserveStartEnd"?p=Hue(b,w,_,i,o,l==="preserveStartEnd"):p=Kue(b,w,_,i,o),p.filter(E=>E.isShow))}var Gue=["viewBox"],Yue=["viewBox"];function jl(){return jl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jl.apply(null,arguments)}function vO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ft(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vO(Object(r),!0).forEach(function(n){RS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yO(t,e){if(t==null)return{};var r,n,i=Que(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Que(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function RS(t,e,r){return(e=Xue(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xue(t){var e=Jue(t,"string");return typeof e=="symbol"?e:e+""}function Jue(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Ho extends x.Component{constructor(e){super(e),this.tickRefs=x.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,r){var{viewBox:n}=e,i=yO(e,Gue),a=this.props,{viewBox:o}=a,s=yO(a,Yue);return!A0(n,o)||!A0(i,s)||!A0(r,this.state)}getTickLineCoord(e){var{x:r,y:n,width:i,height:a,orientation:o,tickSize:s,mirror:l,tickMargin:c}=this.props,u,d,h,p,m,g,_=l?-1:1,b=e.tickSize||s,w=ee(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":u=d=e.coordinate,p=n+ +!l*a,h=p-_*b,g=h-_*c,m=w;break;case"left":h=p=e.coordinate,d=r+ +!l*i,u=d-_*b,m=u-_*c,g=w;break;case"right":h=p=e.coordinate,d=r+ +l*i,u=d+_*b,m=u+_*c,g=w;break;default:u=d=e.coordinate,p=n+ +l*a,h=p+_*b,g=h+_*c,m=w;break}return{line:{x1:u,y1:h,x2:d,y2:p},tick:{x:m,y:g}}}getTickTextAnchor(){var{orientation:e,mirror:r}=this.props,n;switch(e){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:e,mirror:r}=this.props;switch(e){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:e,y:r,width:n,height:i,orientation:a,mirror:o,axisLine:s}=this.props,l=Ft(Ft(Ft({},ut(this.props,!1)),ut(s,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var c=+(a==="top"&&!o||a==="bottom"&&o);l=Ft(Ft({},l),{},{x1:e,y1:r+c*i,x2:e+n,y2:r+c*i})}else{var u=+(a==="left"&&!o||a==="right"&&o);l=Ft(Ft({},l),{},{x1:e+u*n,y1:r,x2:e+u*n,y2:r+i})}return x.createElement("line",jl({},l,{className:Me("recharts-cartesian-axis-line",Ao(s,"className"))}))}static renderTickItem(e,r,n){var i,a=Me(r.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(e))i=x.cloneElement(e,Ft(Ft({},r),{},{className:a}));else if(typeof e=="function")i=e(Ft(Ft({},r),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(o=Me(o,e.className)),i=x.createElement(Xv,jl({},r,{className:o}),n)}return i}renderTicks(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:a,tick:o,tickFormatter:s,unit:l,padding:c}=this.props,u=DS(Ft(Ft({},this.props),{},{ticks:n}),e,r),d=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),p=_a(this.props),m=ut(o,!1),g=Ft(Ft({},p),{},{fill:"none"},ut(i,!1)),_=u.map((b,w)=>{var{line:E,tick:A}=this.getTickLineCoord(b),D=Ft(Ft(Ft(Ft({textAnchor:d,verticalAnchor:h},p),{},{stroke:"none",fill:a},m),A),{},{index:w,payload:b,visibleTicksCount:u.length,tickFormatter:s,padding:c});return x.createElement(Nr,jl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(b.value,"-").concat(b.coordinate,"-").concat(b.tickCoord)},Cf(this.props,b,w)),i&&x.createElement("line",jl({},g,E,{className:Me("recharts-cartesian-axis-tick-line",Ao(i,"className"))})),o&&Ho.renderTickItem(o,D,"".concat(typeof s=="function"?s(b.value,w):b.value).concat(l||"")))});return _.length>0?x.createElement("g",{className:"recharts-cartesian-axis-ticks"},_):null}render(){var{axisLine:e,width:r,height:n,className:i,hide:a}=this.props;if(a)return null;var{ticks:o}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:x.createElement(Nr,{className:Me("recharts-cartesian-axis",i),ref:s=>{if(s){var l=s.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(l);var c=l[0];if(c){var u=window.getComputedStyle(c).fontSize,d=window.getComputedStyle(c).letterSpacing;(u!==this.state.fontSize||d!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(c).fontSize,letterSpacing:window.getComputedStyle(c).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,o),sn.renderCallByParent(this.props))}}RS(Ho,"displayName","CartesianAxis");RS(Ho,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Zue=["x1","y1","x2","y2","key"],ede=["offset"],tde=["xAxisId","yAxisId"],rde=["xAxisId","yAxisId"];function wO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ir(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wO(Object(r),!0).forEach(function(n){nde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nde(t,e,r){return(e=ide(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ide(t){var e=ade(t,"string");return typeof e=="symbol"?e:e+""}function ade(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vs(){return vs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vs.apply(null,arguments)}function ag(t,e){if(t==null)return{};var r,n,i=ode(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function ode(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var sde=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:o,ry:s}=t;return x.createElement("rect",{x:n,y:i,ry:s,width:a,height:o,stroke:"none",fill:e,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function yV(t,e){var r;if(x.isValidElement(t))r=x.cloneElement(t,e);else if(typeof t=="function")r=t(e);else{var{x1:n,y1:i,x2:a,y2:o,key:s}=e,l=ag(e,Zue),c=_a(l),u=ag(c,ede);r=x.createElement("line",vs({},u,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:s}))}return r}function lde(t){var{x:e,width:r,horizontal:n=!0,horizontalPoints:i}=t;if(!n||!i||!i.length)return null;var a=ag(t,tde),o=i.map((s,l)=>{var c=Ir(Ir({},a),{},{x1:e,y1:s,x2:e+r,y2:s,key:"line-".concat(l),index:l});return yV(n,c)});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function cde(t){var{y:e,height:r,vertical:n=!0,verticalPoints:i}=t;if(!n||!i||!i.length)return null;var a=ag(t,rde),o=i.map((s,l)=>{var c=Ir(Ir({},a),{},{x1:s,y1:e,x2:s,y2:e+r,key:"line-".concat(l),index:l});return yV(n,c)});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function ude(t){var{horizontalFill:e,fillOpacity:r,x:n,y:i,width:a,height:o,horizontalPoints:s,horizontal:l=!0}=t;if(!l||!e||!e.length)return null;var c=s.map(d=>Math.round(d+i-i)).sort((d,h)=>d-h);i!==c[0]&&c.unshift(0);var u=c.map((d,h)=>{var p=!c[h+1],m=p?i+o-d:c[h+1]-d;if(m<=0)return null;var g=h%e.length;return x.createElement("rect",{key:"react-".concat(h),y:d,x:n,height:m,width:a,stroke:"none",fill:e[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function dde(t){var{vertical:e=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:o,height:s,verticalPoints:l}=t;if(!e||!r||!r.length)return null;var c=l.map(d=>Math.round(d+i-i)).sort((d,h)=>d-h);i!==c[0]&&c.unshift(0);var u=c.map((d,h)=>{var p=!c[h+1],m=p?i+o-d:c[h+1]-d;if(m<=0)return null;var g=h%r.length;return x.createElement("rect",{key:"react-".concat(h),x:d,y:a,width:m,height:s,stroke:"none",fill:r[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var fde=(t,e)=>{var{xAxis:r,width:n,height:i,offset:a}=t;return n4(DS(Ir(Ir(Ir({},Ho.defaultProps),r),{},{ticks:i4(r,!0),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,e)},hde=(t,e)=>{var{yAxis:r,width:n,height:i,offset:a}=t;return n4(DS(Ir(Ir(Ir({},Ho.defaultProps),r),{},{ticks:i4(r,!0),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,e)},pde={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function za(t){var e=oE(),r=sE(),n=c4(),i=Ir(Ir({},Sn(t,pde)),{},{x:ee(t.x)?t.x:n.left,y:ee(t.y)?t.y:n.top,width:ee(t.width)?t.width:n.width,height:ee(t.height)?t.height:n.height}),{xAxisId:a,yAxisId:o,x:s,y:l,width:c,height:u,syncWithTicks:d,horizontalValues:h,verticalValues:p}=i,m=Zr(),g=oe(I=>AC(I,"xAxis",a,m)),_=oe(I=>AC(I,"yAxis",o,m));if(!ee(c)||c<=0||!ee(u)||u<=0||!ee(s)||s!==+s||!ee(l)||l!==+l)return null;var b=i.verticalCoordinatesGenerator||fde,w=i.horizontalCoordinatesGenerator||hde,{horizontalPoints:E,verticalPoints:A}=i;if((!E||!E.length)&&typeof w=="function"){var D=h&&h.length,L=w({yAxis:_?Ir(Ir({},_),{},{ticks:D?h:_.ticks}):void 0,width:e,height:r,offset:n},D?!0:d);dd(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof L,"]")),Array.isArray(L)&&(E=L)}if((!A||!A.length)&&typeof b=="function"){var T=p&&p.length,k=b({xAxis:g?Ir(Ir({},g),{},{ticks:T?p:g.ticks}):void 0,width:e,height:r,offset:n},T?!0:d);dd(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(A=k)}return x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(sde,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),x.createElement(ude,vs({},i,{horizontalPoints:E})),x.createElement(dde,vs({},i,{verticalPoints:A})),x.createElement(lde,vs({},i,{offset:n,horizontalPoints:E,xAxis:g,yAxis:_})),x.createElement(cde,vs({},i,{offset:n,verticalPoints:A,xAxis:g,yAxis:_})))}za.displayName="CartesianGrid";var wV=(t,e,r,n)=>Io(t,"xAxis",e,n),bV=(t,e,r,n)=>Po(t,"xAxis",e,n),_V=(t,e,r,n)=>Io(t,"yAxis",r,n),xV=(t,e,r,n)=>Po(t,"yAxis",r,n),mde=$([Oe,wV,_V,bV,xV],(t,e,r,n,i)=>Bo(t,"xAxis")?Yd(e,n,!1):Yd(r,i,!1)),gde=(t,e,r,n,i)=>i;function vde(t){return t.type==="line"}var yde=$([qv,gde],(t,e)=>t.filter(vde).find(r=>r.id===e)),wde=$([Oe,wV,_V,bV,xV,yde,mde,Fv],(t,e,r,n,i,a,o,s)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:u}=s;if(!(a==null||e==null||r==null||n==null||i==null||n.length===0||i.length===0||o==null)){var{dataKey:d,data:h}=a,p;if(h!=null&&h.length>0?p=h:p=l==null?void 0:l.slice(c,u+1),p!=null)return Fde({layout:t,xAxis:e,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:d,bandSize:o,displayedData:p})}}),bde=["id"],_de=["type","layout","connectNulls","needClip"],xde=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function bO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bO(Object(r),!0).forEach(function(n){Ede(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ede(t,e,r){return(e=Sde(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sde(t){var e=kde(t,"string");return typeof e=="symbol"?e:e+""}function kde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MS(t,e){if(t==null)return{};var r,n,i=Tde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Tde(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Bs(){return Bs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bs.apply(null,arguments)}var Ade=t=>{var{dataKey:e,name:r,stroke:n,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:n,value:jc(r,e),payload:t}]};function Pde(t){var{dataKey:e,data:r,stroke:n,strokeWidth:i,fill:a,name:o,hide:s,unit:l}=t;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:jc(o,e),hide:s,type:t.tooltipType,color:t.stroke,unit:l}}}var EV=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function Ide(t,e){for(var r=t.length%2!==0?[...t,0]:t,n=[],i=0;i<e;++i)n=[...n,...r];return n}var Cde=(t,e,r)=>{var n=r.reduce((d,h)=>d+h);if(!n)return EV(e,t);for(var i=Math.floor(t/n),a=t%n,o=e-t,s=[],l=0,c=0;l<r.length;c+=r[l],++l)if(c+r[l]>a){s=[...r.slice(0,l),a-c];break}var u=s.length%2===0?[0,o]:[o];return[...Ide(r,i),...s,...u].map(d=>"".concat(d,"px")).join(", ")};function Ode(t,e){var r;if(x.isValidElement(t))r=x.cloneElement(t,e);else if(typeof t=="function")r=t(e);else{var n=Me("recharts-line-dot",typeof t!="boolean"?t.className:"");r=x.createElement(G3,Bs({},e,{className:n}))}return r}function Nde(t,e){return t==null?!1:e?!0:t.length===1}function Dde(t){var{clipPathId:e,points:r,props:n}=t,{dot:i,dataKey:a,needClip:o}=n;if(!Nde(r,i))return null;var s=MS(n,bde),l=$L(i),c=_a(s),u=ut(i,!0),d=r.map((p,m)=>{var g=Xn(Xn(Xn({key:"dot-".concat(m),r:3},c),u),{},{index:m,cx:p.x,cy:p.y,dataKey:a,value:p.value,payload:p.payload,points:r});return Ode(i,g)}),h={clipPath:o?"url(#clipPath-".concat(l?"":"dots-").concat(e,")"):void 0};return x.createElement(Nr,Bs({className:"recharts-line-dots",key:"dots"},h),d)}function s_(t){var{clipPathId:e,pathRef:r,points:n,strokeDasharray:i,props:a,showLabels:o}=t,{type:s,layout:l,connectNulls:c,needClip:u}=a,d=MS(a,_de),h=Xn(Xn({},ut(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(e,")"):void 0,points:n,type:s,layout:l,connectNulls:c,strokeDasharray:i??a.strokeDasharray});return x.createElement(x.Fragment,null,(n==null?void 0:n.length)>1&&x.createElement(cE,Bs({},h,{pathRef:r})),x.createElement(Dde,{points:n,clipPathId:e,props:a}),o&&bo.renderCallByParent(a,n))}function Rde(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function Mde(t){var{clipPathId:e,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:o,strokeDasharray:s,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:d,animateNewValues:h,width:p,height:m,onAnimationEnd:g,onAnimationStart:_}=r,b=i.current,w=TS(r,"recharts-line-"),[E,A]=x.useState(!1),D=x.useCallback(()=>{typeof g=="function"&&g(),A(!1)},[g]),L=x.useCallback(()=>{typeof _=="function"&&_(),A(!0)},[_]),T=Rde(n.current),k=a.current;return x.createElement(PS,{begin:c,duration:u,isActive:l,easing:d,onAnimationEnd:D,onAnimationStart:L,key:w},I=>{var R=Qn(k,T+k,I),M=Math.min(R,T),O;if(s){var P="".concat(s).split(/[,\s]+/gim).map(G=>parseFloat(G));O=Cde(M,T,P)}else O=EV(T,M);if(b){var z=b.length/o.length,ie=I===1?o:o.map((G,fe)=>{var W=Math.floor(fe*z);if(b[W]){var X=b[W];return Xn(Xn({},G),{},{x:Qn(X.x,G.x,I),y:Qn(X.y,G.y,I)})}return h?Xn(Xn({},G),{},{x:Qn(p*2,G.x,I),y:Qn(m/2,G.y,I)}):Xn(Xn({},G),{},{x:G.x,y:G.y})});return i.current=ie,x.createElement(s_,{props:r,points:ie,clipPathId:e,pathRef:n,showLabels:!E,strokeDasharray:O})}return I>0&&T>0&&(i.current=o,a.current=M),x.createElement(s_,{props:r,points:o,clipPathId:e,pathRef:n,showLabels:!E,strokeDasharray:O})})}function Lde(t){var{clipPathId:e,props:r}=t,{points:n,isAnimationActive:i}=r,a=x.useRef(null),o=x.useRef(0),s=x.useRef(null),l=a.current;return i&&n&&n.length&&l!==n?x.createElement(Mde,{props:r,clipPathId:e,previousPointsRef:a,longestAnimatedLengthRef:o,pathRef:s}):x.createElement(s_,{props:r,points:n,clipPathId:e,pathRef:s,showLabels:!0})}var jde=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:Ge(t.payload,e)});class $de extends x.Component{render(){var e,{hide:r,dot:n,points:i,className:a,xAxisId:o,yAxisId:s,top:l,left:c,width:u,height:d,id:h,needClip:p}=this.props;if(r)return null;var m=Me("recharts-line",a),g=h,{r:_=3,strokeWidth:b=2}=(e=ut(n,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},w=$L(n),E=_*2+b;return x.createElement(x.Fragment,null,x.createElement(Nr,{className:m},p&&x.createElement("defs",null,x.createElement(uV,{clipPathId:g,xAxisId:o,yAxisId:s}),!w&&x.createElement("clipPath",{id:"clipPath-dots-".concat(g)},x.createElement("rect",{x:c-E/2,y:l-E/2,width:u+E,height:d+E}))),x.createElement(Lde,{props:this.props,clipPathId:g}),x.createElement(cV,{xAxisId:o,yAxisId:s,data:i,dataPointFormatter:jde,errorBarOffset:0},this.props.children)),x.createElement(_ce,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var SV={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!tl.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Vde(t){var e=Sn(t,SV),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:s,dot:l,hide:c,isAnimationActive:u,label:d,legendType:h,xAxisId:p,yAxisId:m,id:g}=e,_=MS(e,xde),{needClip:b}=OS(p,m),w=CS(),E=Dv(),A=Zr(),D=oe(R=>wde(R,p,m,A,g));if(E!=="horizontal"&&E!=="vertical"||D==null||w==null)return null;var{height:L,width:T,x:k,y:I}=w;return x.createElement($de,Bs({},_,{id:g,connectNulls:s,dot:l,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:o,isAnimationActive:u,hide:c,label:d,legendType:h,xAxisId:p,yAxisId:m,points:D,layout:E,height:L,width:T,left:k,top:I,needClip:b}))}function Fde(t){var{layout:e,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,dataKey:o,bandSize:s,displayedData:l}=t;return l.map((c,u)=>{var d=Ge(c,o);if(e==="horizontal"){var h=pI({axis:r,ticks:i,bandSize:s,entry:c,index:u}),p=lt(d)?null:n.scale(d);return{x:h,y:p,value:d,payload:c}}var m=lt(d)?null:r.scale(d),g=pI({axis:n,ticks:a,bandSize:s,entry:c,index:u});return m==null||g==null?null:{x:m,y:g,value:d,payload:c}}).filter(Boolean)}function Pp(t){var e=Sn(t,SV),r=Zr();return x.createElement(AS,{id:e.id,type:"line"},n=>x.createElement(x.Fragment,null,x.createElement(rV,{legendPayload:Ade(e)}),x.createElement(kS,{fn:Pde,args:e}),x.createElement(iV,{type:"line",id:n,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:r}),x.createElement(Vde,Bs({},e,{id:n}))))}Pp.displayName="Line";function _O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_O(Object(r),!0).forEach(function(n){Ude(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_O(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ude(t,e,r){return(e=Bde(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bde(t){var e=zde(t,"string");return typeof e=="symbol"?e:e+""}function zde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wde={xAxis:{},yAxis:{},zAxis:{}},kV=En({name:"cartesianAxis",initialState:Wde,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:r,width:n}=e.payload;t.yAxis[r]&&(t.yAxis[r]=xO(xO({},t.yAxis[r]),{},{width:n}))}}}),{addXAxis:qde,removeXAxis:Kde,addYAxis:Hde,removeYAxis:Gde,addZAxis:Dhe,removeZAxis:Rhe,updateYAxisWidth:Yde}=kV.actions,Qde=kV.reducer,Xde=["children"],Jde=["dangerouslySetInnerHTML","ticks"];function TV(t,e,r){return(e=Zde(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zde(t){var e=efe(t,"string");return typeof e=="symbol"?e:e+""}function efe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function l_(){return l_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},l_.apply(null,arguments)}function AV(t,e){if(t==null)return{};var r,n,i=tfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function tfe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function rfe(t){var e=yt(),r=x.useMemo(()=>{var a=AV(t,Xde);return a},[t]),n=oe(a=>ka(a,r.id)),i=r===n;return x.useEffect(()=>(e(qde(r)),()=>{e(Kde(r))}),[r,e]),i?t.children:null}var nfe=t=>{var{xAxisId:e,className:r}=t,n=oe(l4),i=Zr(),a="xAxis",o=oe(d=>Wc(d,a,e,i)),s=oe(d=>o3(d,a,e,i)),l=oe(d=>r3(d,e)),c=oe(d=>_ae(d,e));if(l==null||c==null)return null;var u=AV(t,Jde);return x.createElement(Ho,l_({},u,{scale:o,x:c.x,y:c.y,width:l.width,height:l.height,className:Me("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:s}))},ife=t=>{var e,r,n,i,a;return x.createElement(rfe,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(r=t.includeHidden)!==null&&r!==void 0?r:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(n=t.angle)!==null&&n!==void 0?n:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(a=t.tick)!==null&&a!==void 0?a:!0,tickFormatter:t.tickFormatter},x.createElement(nfe,t))};class Vi extends x.Component{render(){return x.createElement(ife,this.props)}}TV(Vi,"displayName","XAxis");TV(Vi,"defaultProps",{allowDataOverflow:rn.allowDataOverflow,allowDecimals:rn.allowDecimals,allowDuplicatedCategory:rn.allowDuplicatedCategory,height:rn.height,hide:!1,mirror:rn.mirror,orientation:rn.orientation,padding:rn.padding,reversed:rn.reversed,scale:rn.scale,tickCount:rn.tickCount,type:rn.type,xAxisId:0});var afe=t=>{var{ticks:e,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=t,o=0;if(e){e.forEach(u=>{if(u){var d=u.getBoundingClientRect();d.width>o&&(o=d.width)}});var s=r?r.getBoundingClientRect().width:0,l=i+a,c=o+l+s+(r?n:0);return Math.round(c)}return 0},ofe=["dangerouslySetInnerHTML","ticks"];function PV(t,e,r){return(e=sfe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sfe(t){var e=lfe(t,"string");return typeof e=="symbol"?e:e+""}function lfe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function c_(){return c_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},c_.apply(null,arguments)}function cfe(t,e){if(t==null)return{};var r,n,i=ufe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function ufe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function dfe(t){var e=yt();return x.useEffect(()=>(e(Hde(t)),()=>{e(Gde(t))}),[t,e]),null}var ffe=t=>{var e,{yAxisId:r,className:n,width:i,label:a}=t,o=x.useRef(null),s=x.useRef(null),l=oe(l4),c=Zr(),u=yt(),d="yAxis",h=oe(b=>Wc(b,d,r,c)),p=oe(b=>n3(b,r)),m=oe(b=>xae(b,r)),g=oe(b=>o3(b,d,r,c));if(x.useLayoutEffect(()=>{var b;if(!(i!=="auto"||!p||vS(a)||x.isValidElement(a))){var w=o.current,E=w==null||(b=w.tickRefs)===null||b===void 0?void 0:b.current,{tickSize:A,tickMargin:D}=w.props,L=afe({ticks:E,label:s.current,labelGapWithTick:5,tickSize:A,tickMargin:D});Math.round(p.width)!==Math.round(L)&&u(Yde({id:r,width:L}))}},[o,o==null||(e=o.current)===null||e===void 0||(e=e.tickRefs)===null||e===void 0?void 0:e.current,p==null?void 0:p.width,p,u,a,r,i]),p==null||m==null)return null;var _=cfe(t,ofe);return x.createElement(Ho,c_({},_,{ref:o,labelRef:s,scale:h,x:m.x,y:m.y,width:p.width,height:p.height,className:Me("recharts-".concat(d," ").concat(d),n),viewBox:l,ticks:g}))},hfe=t=>{var e,r,n,i,a;return x.createElement(x.Fragment,null,x.createElement(dfe,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(r=t.includeHidden)!==null&&r!==void 0?r:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(n=t.angle)!==null&&n!==void 0?n:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(a=t.tick)!==null&&a!==void 0?a:!0,tickFormatter:t.tickFormatter}),x.createElement(ffe,t))},pfe={allowDataOverflow:nn.allowDataOverflow,allowDecimals:nn.allowDecimals,allowDuplicatedCategory:nn.allowDuplicatedCategory,hide:!1,mirror:nn.mirror,orientation:nn.orientation,padding:nn.padding,reversed:nn.reversed,scale:nn.scale,tickCount:nn.tickCount,type:nn.type,width:nn.width,yAxisId:0};class Fi extends x.Component{render(){return x.createElement(hfe,this.props)}}PV(Fi,"displayName","YAxis");PV(Fi,"defaultProps",pfe);var mfe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kf=x;function gfe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var vfe=typeof Object.is=="function"?Object.is:gfe,yfe=Kf.useSyncExternalStore,wfe=Kf.useRef,bfe=Kf.useEffect,_fe=Kf.useMemo,xfe=Kf.useDebugValue;mfe.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var a=wfe(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=_fe(function(){function l(p){if(!c){if(c=!0,u=p,p=n(p),i!==void 0&&o.hasValue){var m=o.value;if(i(m,p))return d=m}return d=p}if(m=d,vfe(u,p))return m;var g=n(p);return i!==void 0&&i(m,g)?(u=p,m):(u=p,d=g)}var c=!1,u,d,h=r===void 0?null:r;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,r,n,i]);var s=yfe(t,a[0],a[1]);return bfe(function(){o.hasValue=!0,o.value=s},[s]),xfe(s),s};function Efe(t){t()}function Sfe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Efe(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=e={callback:r,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!n||t===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var EO={notify(){},get:()=>[]};function kfe(t,e){let r,n=EO,i=0,a=!1;function o(g){u();const _=n.subscribe(g);let b=!1;return()=>{b||(b=!0,_(),d())}}function s(){n.notify()}function l(){m.onStateChange&&m.onStateChange()}function c(){return a}function u(){i++,r||(r=e?e.addNestedSub(l):t.subscribe(l),n=Sfe())}function d(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=EO)}function h(){a||(a=!0,u())}function p(){a&&(a=!1,d())}const m={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:c,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>n};return m}var Tfe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Afe=Tfe(),Pfe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Ife=Pfe(),Cfe=()=>Afe||Ife?x.useLayoutEffect:x.useEffect,Ofe=Cfe(),P0=Symbol.for("react-redux-context"),I0=typeof globalThis<"u"?globalThis:{};function Nfe(){if(!x.createContext)return{};const t=I0[P0]??(I0[P0]=new Map);let e=t.get(x.createContext);return e||(e=x.createContext(null),t.set(x.createContext,e)),e}var Dfe=Nfe();function Rfe(t){const{children:e,context:r,serverState:n,store:i}=t,a=x.useMemo(()=>{const l=kfe(i);return{store:i,subscription:l,getServerState:n?()=>n:void 0}},[i,n]),o=x.useMemo(()=>i.getState(),[i]);Ofe(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,o]);const s=r||Dfe;return x.createElement(s.Provider,{value:a},e)}var Mfe=Rfe,Lfe=(t,e)=>e,LS=$([Lfe,Oe,D$,Kt,_3,Ta,Aoe,Wt],Noe),jS=t=>{var e=t.currentTarget.getBoundingClientRect(),r=e.width/t.currentTarget.offsetWidth,n=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/r),chartY:Math.round((t.clientY-e.top)/n)}},IV=Fn("mouseClick"),CV=Nf();CV.startListening({actionCreator:IV,effect:(t,e)=>{var r=t.payload,n=LS(e.getState(),jS(r));(n==null?void 0:n.activeIndex)!=null&&e.dispatch(Mae({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var u_=Fn("mouseMove"),OV=Nf();OV.startListening({actionCreator:u_,effect:(t,e)=>{var r=t.payload,n=e.getState(),i=sS(n,n.tooltip.settings.shared),a=LS(n,jS(r));i==="axis"&&((a==null?void 0:a.activeIndex)!=null?e.dispatch(p3({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(h3()))}});function jfe(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var SO={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},NV=En({name:"rootProps",initialState:SO,reducers:{updateOptions:(t,e)=>{var r;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(r=e.payload.barGap)!==null&&r!==void 0?r:SO.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),$fe=NV.reducer,{updateOptions:Vfe}=NV.actions,DV=En({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Ffe}=DV.actions,Ufe=DV.reducer,RV=Fn("keyDown"),MV=Fn("focus"),$S=Nf();$S.startListening({actionCreator:RV,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=Number(lS(i,Kc(r))),s=Ta(r);if(a==="Enter"){var l=Zm(r,"axis","hover",String(i.index));e.dispatch(t_({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:l}));return}var c=Tae(r),u=c==="left-to-right"?1:-1,d=a==="ArrowRight"?1:-1,h=o+d*u;if(!(s==null||h>=s.length||h<0)){var p=Zm(r,"axis","hover",String(h));e.dispatch(t_({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});$S.startListening({actionCreator:MV,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",o=Zm(r,"axis","hover",String(a));e.dispatch(t_({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var Cn=Fn("externalEvent"),LV=Nf();LV.startListening({actionCreator:Cn,effect:(t,e)=>{if(t.payload.handler!=null){var r=e.getState(),n={activeCoordinate:voe(r),activeDataKey:k3(r),activeIndex:Co(r),activeLabel:S3(r),activeTooltipIndex:Co(r),isTooltipActive:yoe(r)};t.payload.handler(n,t.payload.reactEvent)}}});var Bfe=$([qc],t=>t.tooltipItemPayloads),zfe=$([Bfe,Bf,(t,e,r)=>e,(t,e,r)=>r],(t,e,r,n)=>{var i=t.find(s=>s.settings.dataKey===n);if(i!=null){var{positions:a}=i;if(a!=null){var o=e(a,r);return o}}}),jV=Fn("touchMove"),$V=Nf();$V.startListening({actionCreator:jV,effect:(t,e)=>{var r=t.payload,n=e.getState(),i=sS(n,n.tooltip.settings.shared);if(i==="axis"){var a=LS(n,jS({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&e.dispatch(p3({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,s=r.touches[0],l=document.elementFromPoint(s.clientX,s.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(o4),u=(o=l.getAttribute(s4))!==null&&o!==void 0?o:void 0,d=zfe(e.getState(),c,u);e.dispatch(f3({activeDataKey:u,activeIndex:c,activeCoordinate:d}))}}});var Wfe=Nj({brush:Iue,cartesianAxis:Qde,chartData:Hoe,errorBars:Dce,graphicalItems:Ble,layout:MZ,legend:xee,options:Boe,polarAxis:ule,polarOptions:Ufe,referenceElements:Lue,rootProps:$fe,tooltip:Lae}),qfe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return oZ({reducer:Wfe,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([CV.middleware,OV.middleware,$S.middleware,LV.middleware,$V.middleware]),devTools:{serialize:{replacer:jfe},name:"recharts-".concat(r)}})};function VV(t){var{preloadedState:e,children:r,reduxStoreName:n}=t,i=Zr(),a=x.useRef(null);if(i)return r;a.current==null&&(a.current=qfe(e,n));var o=Yx;return x.createElement(Mfe,{context:o,store:a.current},r)}function FV(t){var{layout:e,width:r,height:n,margin:i}=t,a=yt(),o=Zr();return x.useEffect(()=>{o||(a(NZ(e)),a(DZ({width:r,height:n})),a(OZ(i)))},[a,o,e,r,n,i]),null}function UV(t){var e=yt();return x.useEffect(()=>{e(Vfe(t))},[e,t]),null}var Kfe=["children"];function Hfe(t,e){if(t==null)return{};var r,n,i=Gfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Gfe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function og(){return og=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},og.apply(null,arguments)}var Yfe={width:"100%",height:"100%"},Qfe=x.forwardRef((t,e)=>{var r=oE(),n=sE(),i=h4();if(!yc(r)||!yc(n))return null;var{children:a,otherAttributes:o,title:s,desc:l}=t,c,u;return typeof o.tabIndex=="number"?c=o.tabIndex:c=i?0:void 0,typeof o.role=="string"?u=o.role:u=i?"application":void 0,x.createElement(Mx,og({},o,{title:s,desc:l,role:u,tabIndex:c,width:r,height:n,style:Yfe,ref:e}),a)}),Xfe=t=>{var{children:e}=t,r=oe(Nv);if(!r)return null;var{width:n,height:i,y:a,x:o}=r;return x.createElement(Mx,{width:n,height:i,x:o,y:a},e)},kO=x.forwardRef((t,e)=>{var{children:r}=t,n=Hfe(t,Kfe),i=Zr();return i?x.createElement(Xfe,null,r):x.createElement(Qfe,og({ref:e},n),r)});function Jfe(){var t=yt(),[e,r]=x.useState(null),n=oe(uee);return x.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;yn(a)&&a!==n&&t(RZ(a))}},[e,t,n]),r}function TO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zfe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TO(Object(r),!0).forEach(function(n){ehe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ehe(t,e,r){return(e=the(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function the(t){var e=rhe(t,"string");return typeof e=="symbol"?e:e+""}function rhe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nhe=x.forwardRef((t,e)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:o,onDoubleClick:s,onMouseDown:l,onMouseEnter:c,onMouseLeave:u,onMouseMove:d,onMouseUp:h,onTouchEnd:p,onTouchMove:m,onTouchStart:g,style:_,width:b}=t,w=yt(),[E,A]=x.useState(null),[D,L]=x.useState(null);Qoe();var T=Jfe(),k=x.useCallback(Y=>{T(Y),typeof e=="function"&&e(Y),A(Y),L(Y)},[T,e,A,L]),I=x.useCallback(Y=>{w(IV(Y)),w(Cn({handler:a,reactEvent:Y}))},[w,a]),R=x.useCallback(Y=>{w(u_(Y)),w(Cn({handler:c,reactEvent:Y}))},[w,c]),M=x.useCallback(Y=>{w(h3()),w(Cn({handler:u,reactEvent:Y}))},[w,u]),O=x.useCallback(Y=>{w(u_(Y)),w(Cn({handler:d,reactEvent:Y}))},[w,d]),P=x.useCallback(()=>{w(MV())},[w]),z=x.useCallback(Y=>{w(RV(Y.key))},[w]),ie=x.useCallback(Y=>{w(Cn({handler:o,reactEvent:Y}))},[w,o]),G=x.useCallback(Y=>{w(Cn({handler:s,reactEvent:Y}))},[w,s]),fe=x.useCallback(Y=>{w(Cn({handler:l,reactEvent:Y}))},[w,l]),W=x.useCallback(Y=>{w(Cn({handler:h,reactEvent:Y}))},[w,h]),X=x.useCallback(Y=>{w(Cn({handler:g,reactEvent:Y}))},[w,g]),Q=x.useCallback(Y=>{w(jV(Y)),w(Cn({handler:m,reactEvent:Y}))},[w,m]),ce=x.useCallback(Y=>{w(Cn({handler:p,reactEvent:Y}))},[w,p]);return x.createElement(O3.Provider,{value:E},x.createElement(VL.Provider,{value:D},x.createElement("div",{className:Me("recharts-wrapper",n),style:Zfe({position:"relative",cursor:"default",width:b,height:i},_),onClick:I,onContextMenu:ie,onDoubleClick:G,onFocus:P,onKeyDown:z,onMouseDown:fe,onMouseEnter:R,onMouseLeave:M,onMouseMove:O,onMouseUp:W,onTouchEnd:ce,onTouchMove:Q,onTouchStart:X,ref:k},r)))}),ihe=["children","className","width","height","style","compact","title","desc"];function ahe(t,e){if(t==null)return{};var r,n,i=ohe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function ohe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var BV=x.forwardRef((t,e)=>{var{children:r,className:n,width:i,height:a,style:o,compact:s,title:l,desc:c}=t,u=ahe(t,ihe),d=_a(u);return s?x.createElement(kO,{otherAttributes:d,title:l,desc:c},r):x.createElement(nhe,{className:n,style:o,width:i,height:a,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},x.createElement(kO,{otherAttributes:d,title:l,desc:c,ref:e},x.createElement($ue,null,r)))}),she=["width","height"];function d_(){return d_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},d_.apply(null,arguments)}function lhe(t,e){if(t==null)return{};var r,n,i=che(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function che(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var uhe={top:5,right:5,bottom:5,left:5},dhe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:uhe,reverseStackOrder:!1,syncMethod:"index"},zV=x.forwardRef(function(e,r){var n,i=Sn(e.categoricalChartProps,dhe),{width:a,height:o}=i,s=lhe(i,she);if(!yc(a)||!yc(o))return null;var{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:h}=e,p={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return x.createElement(VV,{preloadedState:{options:p},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:l},x.createElement(pV,{chartData:h.data}),x.createElement(FV,{width:a,height:o,layout:i.layout,margin:i.margin}),x.createElement(UV,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),x.createElement(BV,d_({},s,{width:a,height:o,ref:r})))}),fhe=["axis"],C0=x.forwardRef((t,e)=>x.createElement(zV,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:fhe,tooltipPayloadSearcher:gS,categoricalChartProps:t,ref:e})),hhe=["axis","item"],ip=x.forwardRef((t,e)=>x.createElement(zV,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:hhe,tooltipPayloadSearcher:gS,categoricalChartProps:t,ref:e}));function phe(t){var e=yt();return x.useEffect(()=>{e(Ffe(t))},[e,t]),null}var mhe=["width","height","layout"];function f_(){return f_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},f_.apply(null,arguments)}function ghe(t,e){if(t==null)return{};var r,n,i=vhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function vhe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var yhe={top:5,right:5,bottom:5,left:5},whe={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:yhe,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},bhe=x.forwardRef(function(e,r){var n,i=Sn(e.categoricalChartProps,whe),{width:a,height:o,layout:s}=i,l=ghe(i,mhe);if(!yc(a)||!yc(o))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:h}=e,p={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:h,eventEmitter:void 0};return x.createElement(VV,{preloadedState:{options:p},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:c},x.createElement(pV,{chartData:i.data}),x.createElement(FV,{width:a,height:o,layout:s,margin:i.margin}),x.createElement(UV,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),x.createElement(phe,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),x.createElement(BV,f_({width:a,height:o},l,{ref:r})))}),_he=["item"],xhe={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Ehe=x.forwardRef((t,e)=>{var r=Sn(t,xhe);return x.createElement(bhe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:_he,tooltipPayloadSearcher:gS,categoricalChartProps:r,ref:e})});const AO=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8"],She=({bookings:t,resources:e,totalUsers:r,users:n=[]})=>{var I,R,M;const[i,a]=x.useState({start:new Date(Date.now()-2592e6).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]}),[o,s]=x.useState(!1),l=t.filter(O=>{const P=new Date(O.startTime).toISOString().split("T")[0];return P>=i.start&&P<=i.end}),c=()=>{s(!0),setTimeout(()=>s(!1),1e3)},u=()=>Array.from({length:30},(z,ie)=>{const G=new Date;return G.setDate(G.getDate()-(29-ie)),G.toISOString().split("T")[0]}).map(z=>{const ie=l.filter(G=>G.startTime.startsWith(z)).length;return{date:new Date(z).toLocaleDateString("en-US",{month:"short",day:"numeric"}),bookings:ie}}),d=()=>e.map(P=>{const z=l.filter(ie=>ie.resourceId===P.id);return{name:P.name.length>15?P.name.substring(0,15)+"...":P.name,bookings:z.length,status:P.status}}).sort((P,z)=>z.bookings-P.bookings).slice(0,10),h=()=>{const O={};return l.forEach(P=>{const z=new Date(P.startTime).getHours();O[z]=(O[z]||0)+1}),Array.from({length:24},(P,z)=>({hour:`${z}:00`,bookings:O[z]||0}))},p=()=>{const O={};return l.forEach(P=>{O[P.status]=(O[P.status]||0)+1}),Object.entries(O).map(([P,z])=>({name:P.charAt(0).toUpperCase()+P.slice(1),value:z}))},m=()=>{const O={};return l.forEach(P=>{P.userName&&(O[P.userName]=(O[P.userName]||0)+1)}),Object.entries(O).map(([P,z])=>({user:P.length>12?P.substring(0,12)+"...":P,bookings:z})).sort((P,z)=>z.bookings-P.bookings).slice(0,10)},g=()=>{const O={"0-1h":0,"1-2h":0,"2-4h":0,"4-8h":0,"8h+":0};return l.forEach(P=>{const z=new Date(P.startTime),G=(new Date(P.endTime).getTime()-z.getTime())/(1e3*60*60);G<=1?O["0-1h"]++:G<=2?O["1-2h"]++:G<=4?O["2-4h"]++:G<=8?O["4-8h"]++:O["8h+"]++}),Object.entries(O).map(([P,z])=>({duration:P,bookings:z}))},_=()=>{const O={};return e.forEach(P=>{const z=P.category||"Uncategorized";O[z]=(O[z]||0)+1}),Object.entries(O).map(([P,z])=>({category:P,count:z})).sort((P,z)=>z.count-P.count)},b=()=>{if(!n||n.length===0)return Array.from({length:30},(z,ie)=>{const G=new Date;return G.setDate(G.getDate()-(29-ie)),G.toISOString().split("T")[0]}).map(z=>({date:new Date(z).toLocaleDateString("en-US",{month:"short",day:"numeric"}),registrations:Math.floor(Math.random()*5)}));const O={};return n.forEach(P=>{if(P.createdAt){const z=new Date(P.createdAt).toISOString().split("T")[0];O[z]=(O[z]||0)+1}}),Object.entries(O).map(([P,z])=>({date:new Date(P).toLocaleDateString("en-US",{month:"short",day:"numeric"}),registrations:z})).sort((P,z)=>new Date(P.date).getTime()-new Date(z.date).getTime()).slice(-30)},w=u(),E=d(),A=h();p();const D=m(),L=g(),T=_(),k=b();return C("div",{className:"space-y-8",children:[C("div",{className:"flex justify-between items-center",children:[v("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Advanced Analytics"}),C("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Last updated: ",new Date().toLocaleString()]})]}),v("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow mb-6",children:C("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[C("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center",children:[C("div",{className:"flex items-center gap-2",children:[v(hi,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"}),v("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Date Range:"})]}),C("div",{className:"flex gap-2",children:[v("input",{type:"date",value:i.start,onChange:O=>a(P=>({...P,start:O.target.value})),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-sm"}),v("span",{className:"text-gray-500 dark:text-gray-400 self-center",children:"to"}),v("input",{type:"date",value:i.end,onChange:O=>a(P=>({...P,end:O.target.value})),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-sm"})]})]}),C("button",{onClick:c,disabled:o,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white rounded-lg transition-colors",children:[v(t5,{className:`w-4 h-4 ${o?"animate-spin":""}`}),v("span",{className:"text-sm",children:"Refresh"})]})]})}),C("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[C("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[v("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Filtered Bookings"}),v("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l.length})]}),C("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[v("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Active Resources"}),v("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.filter(O=>O.status==="available").length})]}),C("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[v("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Avg Bookings/Day"}),v("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:(()=>{const O=Math.max(1,Math.ceil((new Date(i.end).getTime()-new Date(i.start).getTime())/864e5));return(l.length/O).toFixed(1)})()})]}),C("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[v("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Utilization Rate"}),C("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[e.length>0?(l.length/e.length*100).toFixed(1):0,"%"]})]})]}),C("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-8",children:[C("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[C("div",{className:"flex justify-between items-center mb-4",children:[v("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Booking Trends (Last 30 Days)"}),C("button",{onClick:()=>{const O=document.createElement("canvas");O.getContext("2d"),O.width=800,O.height=400,alert("Export functionality would save chart as PNG here")},className:"flex items-center gap-2 px-3 py-1 text-sm bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors",children:[v(My,{className:"w-4 h-4"}),"Export"]})]}),v(Ba,{width:"100%",height:300,children:C(C0,{data:w,children:[v(za,{strokeDasharray:"3 3"}),v(Vi,{dataKey:"date"}),v(Fi,{}),v(Ua,{}),v(Bi,{}),v(Pp,{type:"monotone",dataKey:"bookings",stroke:"#8884d8",strokeWidth:2,dot:{fill:"#8884d8"}})]})})]}),C("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[C("div",{className:"flex justify-between items-center mb-4",children:[v("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Top 10 Resource Utilization"}),C("button",{onClick:()=>alert("Export functionality would save chart as PNG here"),className:"flex items-center gap-2 px-3 py-1 text-sm bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors",children:[v(My,{className:"w-4 h-4"}),"Export"]})]}),v(Ba,{width:"100%",height:300,children:C(ip,{data:E,children:[v(za,{strokeDasharray:"3 3"}),v(Vi,{dataKey:"name",angle:-45,textAnchor:"end",height:80}),v(Fi,{}),v(Ua,{}),v(Bi,{}),v(Hu,{dataKey:"bookings",fill:"#82ca9d"})]})})]}),C("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[v("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Peak Booking Hours"}),v(Ba,{width:"100%",height:300,children:C(ip,{data:A,children:[v(za,{strokeDasharray:"3 3"}),v(Vi,{dataKey:"hour"}),v(Fi,{}),v(Ua,{}),v(Bi,{}),v(Hu,{dataKey:"bookings",fill:"#ffc658"})]})})]}),C("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[v("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Booking Duration Analysis"}),v(Ba,{width:"100%",height:300,children:C(ip,{data:L,children:[v(za,{strokeDasharray:"3 3"}),v(Vi,{dataKey:"duration"}),v(Fi,{}),v(Ua,{}),v(Bi,{}),v(Hu,{dataKey:"bookings",fill:"#ff7300"})]})})]}),C("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[v("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Resource Category Breakdown"}),v(Ba,{width:"100%",height:300,children:C(Ehe,{children:[v(oV,{data:T,cx:"50%",cy:"50%",labelLine:!1,label:({category:O,percent:P})=>`${O} ${(P*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"count",children:T.map((O,P)=>v(Wf,{fill:AO[P%AO.length]},`cell-${P}`))}),v(Ua,{})]})})]})]}),C("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[C("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[C("div",{className:"flex justify-between items-center mb-4",children:[v("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"User Registration Trends"}),C("button",{onClick:()=>alert("Export functionality would save chart as PNG here"),className:"flex items-center gap-2 px-3 py-1 text-sm bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors",children:[v(My,{className:"w-4 h-4"}),"Export"]})]}),v(Ba,{width:"100%",height:300,children:C(C0,{data:k,children:[v(za,{strokeDasharray:"3 3"}),v(Vi,{dataKey:"date"}),v(Fi,{}),v(Ua,{}),v(Bi,{}),v(Pp,{type:"monotone",dataKey:"registrations",stroke:"#82ca9d",strokeWidth:2,dot:{fill:"#82ca9d"}})]})})]}),C("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[v("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"System Performance"}),C("div",{className:"space-y-4",children:[C("div",{className:"flex justify-between items-center",children:[v("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Page Load Time"}),v("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"1.2s"})]}),C("div",{className:"flex justify-between items-center",children:[v("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"API Response Time"}),v("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"245ms"})]}),C("div",{className:"flex justify-between items-center",children:[v("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Uptime"}),v("span",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"99.9%"})]}),C("div",{className:"flex justify-between items-center",children:[v("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Active Sessions"}),v("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:Math.floor(Math.random()*50)+10})]})]})]})]}),C("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[v("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Top 10 Active Users"}),v(Ba,{width:"100%",height:300,children:C(ip,{data:D,layout:"horizontal",children:[v(za,{strokeDasharray:"3 3"}),v(Vi,{type:"number"}),v(Fi,{dataKey:"user",type:"category",width:100}),v(Ua,{}),v(Bi,{}),v(Hu,{dataKey:"bookings",fill:"#8884d8"})]})})]}),C("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[v("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Predictive Analytics (Next 7 Days)"}),C("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[C("div",{children:[v("h4",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:"Expected Bookings"}),v(Ba,{width:"100%",height:200,children:C(C0,{data:(()=>{const O=w.slice(-7),P=O.reduce((ie,G)=>ie+G.bookings,0)/O.length;return Array.from({length:7},(ie,G)=>({date:new Date(Date.now()+(G+1)*24*60*60*1e3).toLocaleDateString("en-US",{month:"short",day:"numeric"}),predicted:Math.round(P*(.8+Math.random()*.4))}))})(),children:[v(za,{strokeDasharray:"3 3"}),v(Vi,{dataKey:"date"}),v(Fi,{}),v(Ua,{}),v(Pp,{type:"monotone",dataKey:"predicted",stroke:"#ff7300",strokeWidth:2,strokeDasharray:"5 5",dot:{fill:"#ff7300"}})]})})]}),C("div",{className:"space-y-4",children:[C("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[v("h4",{className:"text-sm font-medium text-blue-800 dark:text-blue-300 mb-2",children:"Trend Analysis"}),C("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:["Based on the last 30 days, booking activity shows a ",(()=>{const O=w.slice(-10),P=w.slice(-20,-10),z=O.reduce((fe,W)=>fe+W.bookings,0)/O.length,ie=P.reduce((fe,W)=>fe+W.bookings,0)/P.length,G=(z-ie)/ie*100;return G>5?"positive upward trend":G<-5?"downward trend":"stable pattern"})(),"."]})]}),C("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[v("h4",{className:"text-sm font-medium text-green-800 dark:text-green-300 mb-2",children:"Recommendations"}),C("ul",{className:"text-sm text-green-600 dark:text-green-400 space-y-1",children:[v("li",{children:"• Consider adding more resources during peak hours"}),v("li",{children:"• Schedule maintenance during low-activity periods"}),C("li",{children:["• Monitor ",((I=E[0])==null?void 0:I.name)||"top resource"," usage closely"]})]})]})]})]})]}),C("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[v("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Summary Statistics"}),C("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[C("div",{className:"text-center",children:[v("p",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:Math.max(...A.map(O=>O.bookings))}),v("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Peak Hour Bookings"})]}),C("div",{className:"text-center",children:[v("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:((R=E[0])==null?void 0:R.bookings)||0}),v("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Most Booked Resource"})]}),C("div",{className:"text-center",children:[v("p",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:((M=D[0])==null?void 0:M.bookings)||0}),v("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Most Active User"})]})]})]})]})},khe=()=>{var Aa,Go,Pa,Yo,Qo,Ia,Ca,Oa,At,Dt;const t=uf();HM();const[e,r]=x.useState(null),[n,i]=x.useState([]),[a,o]=x.useState([]),[s,l]=x.useState([]),[c,u]=x.useState(!0),[d,h]=x.useState("overview"),[p,m]=x.useState(0),[g,_]=x.useState(!1),[b,w]=x.useState(!1),[E,A]=x.useState(null),[D,L]=x.useState(!1),[T,k]=x.useState(!1),[I,R]=x.useState(null),[M,O]=x.useState(!1),[P,z]=x.useState(!1),[ie,G]=x.useState(!1),[fe,W]=x.useState(!1);x.useEffect(()=>{(async()=>{try{const se=localStorage.getItem("user");if(se){const Ve=JSON.parse(se);if(console.log("Current user role:",Ve.role),console.log("👤 Current user data:",Ve),console.log("🔍 User role:",Ve.role,"Role type:",typeof Ve.role),console.log("🆔 User ID:",Ve.id,"ID type:",typeof Ve.id),!Ve.id){console.error("❌ User ID not found in user data"),_e.error("User data is incomplete. Please log in again."),t("/login");return}r(Ve),await X(Ve.id,Ve.role)}else{console.log("❌ No user data found in localStorage"),t("/login");return}}catch(se){console.error("❌ Error initializing dashboard:",se),_e.error("Failed to initialize dashboard."),t("/login")}finally{u(!1)}})()},[t]);const X=async(V,se)=>{try{console.log("🔄 Loading dashboard data for user:",V,"role:",se);let Ve=[];if(se.toLowerCase()==="admin"){Ve=await Ce.getAllNotifications();const zn=await Ce.getAllUsers();m(zn.length)}else Ve=await Ce.getNotificationsByUser(V);const[kn]=await Promise.all([Ce.getResources()]);let sr=[];se.toLowerCase()==="admin"?(console.log("👑 Loading all bookings for admin"),sr=await Ce.getAllBookings()):(console.log("👤 Loading user bookings for:",se),sr=await Ce.getBookingsByUser(V)),console.log("📊 Dashboard data loaded:",{resources:kn.length,bookings:sr.length,notifications:Ve.length,userRole:se}),i(kn),o(sr),l(Ve)}catch(Ve){console.error("Error loading dashboard data:",Ve),_e.error("Failed to load dashboard data.")}},Q=async()=>{try{await Ce.logout(),localStorage.removeItem("user"),localStorage.removeItem("token"),t("/login")}catch(V){console.error("Logout error:",V),_e.error("Logout failed.")}},ce=async()=>{try{const V=await Ce.getResources();i(V)}catch(V){console.error("Error refreshing resources:",V)}},Y=async()=>{try{const V=await Ce.getResources();i(V)}catch(V){console.error("Error refreshing resources:",V)}},he=V=>{A(V),w(!0)},Nt=async V=>{if(window.confirm("Are you sure you want to delete this resource?"))try{await Ce.deleteResource(V),_e.success("Resource deleted successfully!");const se=await Ce.getResources();i(se)}catch(se){console.error("Error deleting resource:",se),_e.error("Failed to delete resource. Please try again.")}},qe=V=>{A(V),L(!0)},Gt=async()=>{var V;if(e)try{console.log("🔄 Refreshing bookings for user:",e.id);let se=[];((V=e.role)==null?void 0:V.toLowerCase())==="admin"?(console.log("👑 Refreshing all bookings for admin"),se=await Ce.getAllBookings()):(console.log("👤 Refreshing user bookings for:",e.role),se=await Ce.getBookingsByUser(e.id)),console.log("📋 Updated bookings:",se),o(se)}catch(se){console.error("Error refreshing bookings:",se)}},Tt=V=>{R(V),k(!0)},en=async()=>{var V;if(e)try{if(((V=e.role)==null?void 0:V.toLowerCase())==="admin"){const se=await Ce.getAllBookings();o(se)}else{const se=await Ce.getBookingsByUser(e.id);o(se)}}catch(se){console.error("Error refreshing bookings:",se)}},Z=async V=>{try{await Ce.approveBooking(V),_e.success("Booking approved successfully!"),en()}catch(se){console.error("Error approving booking:",se),_e.error("Failed to approve booking.")}},me=async V=>{try{await Ce.rejectBooking(V),_e.success("Booking rejected successfully!"),en()}catch(se){console.error("Error rejecting booking:",se),_e.error("Failed to reject booking.")}},ve=()=>{O(!0)},q=()=>{z(!0)},Qe=async()=>{if(e)try{const V=await Ce.getNotificationsByUser(e.id);l(V)}catch(V){console.error("Error refreshing notifications:",V)}},de=()=>{G(!0)},et=async()=>{if(e)try{const V=localStorage.getItem("user");if(V){const se=JSON.parse(V);r(se)}}catch(V){console.error("Error refreshing user data:",V)}},je=async()=>{if(e)try{console.log("🔄 Manual refresh of bookings for user:",e.id),await X(e.id,e.role),_e.success("Bookings refreshed!")}catch(V){console.error("Error refreshing bookings:",V),_e.error("Failed to refresh bookings.")}},or=async V=>{try{await Ce.markNotificationAsRead(V),_e.success("Notification marked as read!"),Qe()}catch(se){console.error("Error marking notification as read:",se),_e.error("Failed to mark notification as read.")}},Ii=async V=>{if(window.confirm("Are you sure you want to delete this notification?"))try{await Ce.deleteNotification(V),_e.success("Notification deleted successfully!"),Qe()}catch(se){console.error("Error deleting notification:",se),_e.error("Failed to delete notification.")}};return c?v("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:C("div",{className:"text-center",children:[v("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),v("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading dashboard..."})]})}):e?C("div",{className:"min-h-screen bg-gradient-to-br from-secondary-50 via-white to-primary-50/30 dark:from-secondary-950 dark:via-secondary-900 dark:to-primary-950/30 transition-all duration-500",children:[v(kg,{position:"top-center",toastOptions:{className:"bg-white/90 dark:bg-secondary-800/90 backdrop-blur-xl border border-secondary-200/50 dark:border-secondary-700/50",duration:4e3}}),v("header",{className:"glass-effect border-b border-secondary-200/50 dark:border-secondary-700/50 sticky top-0 z-50 backdrop-blur-xl",children:C("div",{className:"container-responsive",children:[C("div",{className:"flex items-center justify-between h-16 lg:hidden",children:[C("div",{className:"flex items-center space-x-3 animate-fade-in-left",children:[C("div",{className:"relative",children:[v(Pw,{className:"h-8 w-8 text-primary-600 dark:text-primary-400 animate-float"}),v("div",{className:"absolute inset-0 bg-primary-600/20 dark:bg-primary-400/20 rounded-full blur-lg animate-pulse-soft"})]}),C("div",{children:[v("h1",{className:"text-lg font-bold gradient-text",children:"Campus Resources"}),v("div",{className:"h-0.5 w-full bg-gradient-to-r from-primary-600 to-transparent rounded-full"})]})]}),C("div",{className:"flex items-center space-x-3 animate-fade-in-right",children:[v(LP,{}),v("button",{onClick:()=>W(!fe),className:"btn btn-ghost btn-sm p-2 rounded-xl hover-scale","aria-label":"Toggle mobile menu",children:fe?v(Lo,{className:"h-5 w-5 animate-scale-in"}):v(ZB,{className:"h-5 w-5 animate-scale-in"})})]})]}),C("div",{className:"hidden lg:flex justify-between items-center h-20 animate-fade-in-down",children:[C("div",{className:"flex items-center space-x-4",children:[C("div",{className:"relative group",children:[v(Pw,{className:"h-12 w-12 text-primary-600 dark:text-primary-400 animate-float group-hover:scale-110 transition-transform duration-300"}),v("div",{className:"absolute inset-0 bg-primary-600/20 dark:bg-primary-400/20 rounded-full blur-xl animate-pulse-soft opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),C("div",{className:"space-y-1",children:[v("h1",{className:"text-3xl font-bold gradient-text",children:"Campus Resources Management"}),v("div",{className:"h-1 w-full bg-gradient-to-r from-primary-600 via-primary-400 to-transparent rounded-full"})]})]}),C("div",{className:"flex items-center space-x-6",children:[v(LP,{}),((Aa=e.role)==null?void 0:Aa.toLowerCase())==="admin"&&v("div",{className:"animate-fade-in-up",children:v(VQ,{})}),C("div",{className:"flex items-center space-x-4 p-3 rounded-2xl bg-white/50 dark:bg-secondary-800/50 backdrop-blur-sm border border-secondary-200/50 dark:border-secondary-700/50 hover:bg-white/70 dark:hover:bg-secondary-800/70 transition-all duration-300 animate-fade-in-up",children:[C("div",{className:"relative",children:[v("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-500 to-primary-700 rounded-2xl flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:v(Cl,{className:"w-6 h-6 text-white"})}),v("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-success-500 rounded-full border-2 border-white dark:border-secondary-800 animate-pulse"})]}),C("div",{className:"text-sm",children:[v("p",{className:"font-semibold text-secondary-900 dark:text-secondary-100",children:e.username}),C("p",{className:"text-secondary-500 dark:text-secondary-400 capitalize flex items-center gap-1",children:[v(Zi,{className:"w-3 h-3"}),e.role]})]})]}),C("div",{className:"flex items-center space-x-3 animate-fade-in-up",children:[v(Ee,{onClick:de,variant:"ghost",size:"sm",className:"hover-lift",leftIcon:v(Cl,{className:"w-4 h-4"}),children:"Profile"}),v(Ee,{onClick:Q,variant:"outline",size:"sm",className:"hover-lift border-error-300 text-error-600 hover:bg-error-500 hover:text-white hover:border-error-500",leftIcon:v(UT,{className:"w-4 h-4"}),children:"Logout"})]})]})]}),fe&&C("div",{className:"lg:hidden border-t border-secondary-200/50 dark:border-secondary-700/50 py-6 space-y-6 animate-fade-in-down",children:[v("div",{className:"card-interactive p-4 animate-scale-in",children:C("div",{className:"flex items-center space-x-4",children:[C("div",{className:"relative",children:[v("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-500 to-primary-700 rounded-2xl flex items-center justify-center shadow-lg",children:v(Cl,{className:"w-6 h-6 text-white"})}),v("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-success-500 rounded-full border-2 border-white dark:border-secondary-800 animate-pulse"})]}),C("div",{className:"flex-1 min-w-0",children:[v("p",{className:"font-semibold text-secondary-900 dark:text-secondary-100 text-base",children:e.username}),C("p",{className:"text-secondary-500 dark:text-secondary-400 text-sm capitalize flex items-center gap-1",children:[v(Zi,{className:"w-3 h-3"}),e.role]})]})]})}),C("div",{className:"grid grid-cols-2 gap-4 animate-fade-in-up",children:[v(Ee,{onClick:de,variant:"ghost",size:"md",fullWidth:!0,leftIcon:v(Cl,{className:"w-4 h-4"}),className:"hover-lift",children:"Profile"}),v(Ee,{onClick:Q,variant:"outline",size:"md",fullWidth:!0,leftIcon:v(UT,{className:"w-4 h-4"}),className:"hover-lift border-error-300 text-error-600 hover:bg-error-500 hover:text-white hover:border-error-500",children:"Logout"})]})]})]})}),C("main",{className:"container-responsive py-8 lg:py-12 space-y-8 lg:space-y-12",children:[C("section",{className:"relative overflow-hidden",children:[v("div",{className:"absolute inset-0 bg-gradient-to-r from-primary-500/10 via-transparent to-accent-purple-500/10 rounded-3xl"}),v("div",{className:"relative card-glass p-8 lg:p-12 animate-fade-in-up",children:C("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[C("div",{className:"space-y-4",children:[C("div",{className:"flex items-center gap-3 mb-2",children:[v("div",{className:"w-2 h-2 bg-success-500 rounded-full animate-pulse"}),v("span",{className:"text-sm font-medium text-success-600 dark:text-success-400",children:"System Online"})]}),C("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold gradient-text leading-tight",children:["Welcome back, ",e.username,"!"]}),v("p",{className:"text-lg lg:text-xl text-secondary-600 dark:text-secondary-400 leading-relaxed max-w-2xl",children:"Manage your campus resources and bookings with our enhanced dashboard experience."})]}),C("div",{className:"flex lg:flex-col gap-4 lg:gap-2 text-right",children:[C("div",{className:"text-center lg:text-right",children:[v("div",{className:"text-2xl lg:text-3xl font-bold text-primary-600 dark:text-primary-400",children:n.length}),v("div",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"Resources"})]}),C("div",{className:"text-center lg:text-right",children:[v("div",{className:"text-2xl lg:text-3xl font-bold text-success-600 dark:text-success-400",children:a.length}),v("div",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"Bookings"})]}),C("div",{className:"text-center lg:text-right",children:[v("div",{className:"text-2xl lg:text-3xl font-bold text-warning-600 dark:text-warning-400",children:s.length}),v("div",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:"Notifications"})]})]})]})})]}),v("section",{className:"animate-fade-in-up",style:{animationDelay:"0.1s"},children:v("div",{className:"card-glass p-2 rounded-2xl",children:v("div",{className:"flex overflow-x-auto scrollbar-hide gap-2",children:[{key:"overview",label:"Overview",icon:v(Ly,{className:"w-4 h-4"})},...((Go=e==null?void 0:e.role)==null?void 0:Go.toLowerCase())==="admin"?[{key:"analytics",label:"Analytics",icon:v(p1,{className:"w-4 h-4"})},{key:"analysis",label:"Analysis",icon:v(KB,{className:"w-4 h-4"})}]:[],{key:"resources",label:"Resources",icon:v(Tw,{className:"w-4 h-4"})},{key:"bookings",label:"Bookings",icon:v(hi,{className:"w-4 h-4"})},{key:"notifications",label:"Notifications",icon:v(VT,{className:"w-4 h-4"})}].map((V,se)=>C("button",{onClick:()=>h(V.key),className:`nav-tab flex items-center gap-2 px-6 py-3 rounded-xl font-semibold text-sm transition-all duration-300 whitespace-nowrap min-h-touch hover-scale ${d===V.key?"bg-gradient-to-r from-primary-500 to-primary-600 text-white shadow-lg":"text-secondary-600 dark:text-secondary-400 hover:bg-secondary-100 dark:hover:bg-secondary-800 hover:text-secondary-900 dark:hover:text-secondary-100"}`,style:{animationDelay:`${se*.05}s`},children:[V.icon,v("span",{children:V.label}),d===V.key&&v("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-white rounded-full animate-bounce-in"})]},V.key))})})}),C("section",{className:"card-glass rounded-3xl overflow-hidden animate-fade-in-up",style:{animationDelay:"0.2s"},children:[d==="analytics"&&((Pa=e==null?void 0:e.role)==null?void 0:Pa.toLowerCase())==="admin"&&C("div",{className:"padding-responsive spacing-responsive",children:[C("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-8 gap-4",children:[C("div",{children:[v("h2",{className:"text-3xl font-bold gradient-text mb-2",children:"Analytics Dashboard"}),v("p",{className:"text-secondary-600 dark:text-secondary-400",children:"Comprehensive insights and metrics"})]}),C("div",{className:"flex items-center gap-2 text-sm text-secondary-500 dark:text-secondary-400",children:[v("div",{className:"w-2 h-2 bg-success-500 rounded-full animate-pulse"}),v("span",{children:"Live Data"})]})]}),v(UQ,{bookings:a||[],resources:n||[],totalUsers:p})]}),d==="analysis"&&((Yo=e==null?void 0:e.role)==null?void 0:Yo.toLowerCase())==="admin"&&v("div",{className:"padding-responsive spacing-responsive",children:v(She,{bookings:a||[],resources:n||[],totalUsers:p})}),d==="overview"&&C("div",{className:"padding-responsive",children:[C("div",{className:"flex items-center justify-between mb-8",children:[C("div",{children:[v("h3",{className:"text-3xl font-bold gradient-text mb-2",children:"Dashboard Overview"}),v("p",{className:"text-secondary-600 dark:text-secondary-400",children:"Your personalized campus resource hub"})]}),C("div",{className:"hidden sm:flex items-center gap-2 text-sm text-secondary-500 dark:text-secondary-400",children:[v(Wl,{className:"w-4 h-4"}),C("span",{children:["Updated ",new Date().toLocaleTimeString()]})]})]}),C("div",{className:"grid-responsive mb-12",children:[v("div",{className:"stat-card hover-lift animate-fade-in-up group",style:{animationDelay:"0.1s"},children:C("div",{className:"flex items-center justify-between",children:[C("div",{className:"space-y-2",children:[v("p",{className:"text-sm font-semibold text-primary-600 dark:text-primary-400 uppercase tracking-wide",children:"Total Resources"}),v("p",{className:"text-4xl font-bold text-primary-900 dark:text-primary-100 group-hover:scale-110 transition-transform duration-300",children:n.length}),v("p",{className:"text-xs text-secondary-500 dark:text-secondary-400",children:"Available for booking"})]}),C("div",{className:"relative",children:[v("div",{className:"p-4 bg-primary-100 dark:bg-primary-800 rounded-2xl group-hover:scale-110 transition-transform duration-300",children:v(Ly,{className:"w-8 h-8 text-primary-600 dark:text-primary-400"})}),v("div",{className:"absolute inset-0 bg-primary-600/20 dark:bg-primary-400/20 rounded-2xl blur-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]})}),v("div",{className:"stat-card-success hover-lift animate-fade-in-up group",style:{animationDelay:"0.2s"},children:C("div",{className:"flex items-center justify-between",children:[C("div",{className:"space-y-2",children:[v("p",{className:"text-sm font-semibold text-success-600 dark:text-success-400 uppercase tracking-wide",children:"Your Bookings"}),v("p",{className:"text-4xl font-bold text-success-900 dark:text-success-100 group-hover:scale-110 transition-transform duration-300",children:a.length}),v("p",{className:"text-xs text-secondary-500 dark:text-secondary-400",children:"Active reservations"})]}),C("div",{className:"relative",children:[v("div",{className:"p-4 bg-success-100 dark:bg-success-800 rounded-2xl group-hover:scale-110 transition-transform duration-300",children:v(hi,{className:"w-8 h-8 text-success-600 dark:text-success-400"})}),v("div",{className:"absolute inset-0 bg-success-600/20 dark:bg-success-400/20 rounded-2xl blur-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]})}),v("div",{className:"stat-card-warning hover-lift animate-fade-in-up group",style:{animationDelay:"0.3s"},children:C("div",{className:"flex items-center justify-between",children:[C("div",{className:"space-y-2",children:[v("p",{className:"text-sm font-semibold text-warning-600 dark:text-warning-400 uppercase tracking-wide",children:"Notifications"}),v("p",{className:"text-4xl font-bold text-warning-900 dark:text-warning-100 group-hover:scale-110 transition-transform duration-300",children:s.length}),v("p",{className:"text-xs text-secondary-500 dark:text-secondary-400",children:"Unread messages"})]}),C("div",{className:"relative",children:[v("div",{className:"p-4 bg-warning-100 dark:bg-warning-800 rounded-2xl group-hover:scale-110 transition-transform duration-300",children:v(JB,{className:"w-8 h-8 text-warning-600 dark:text-warning-400"})}),v("div",{className:"absolute inset-0 bg-warning-600/20 dark:bg-warning-400/20 rounded-2xl blur-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]})})]}),C("div",{className:"mb-12",children:[v("h4",{className:"text-2xl font-bold gradient-text mb-6",children:"Quick Actions"}),v("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[{key:"resources",label:"Book Resource",icon:v(nd,{className:"w-6 h-6"}),color:"primary",description:"Reserve a resource"},{key:"bookings",label:"View Bookings",icon:v(hi,{className:"w-6 h-6"}),color:"success",description:"Manage reservations"},{key:"notifications",label:"Notifications",icon:v(VT,{className:"w-6 h-6"}),color:"warning",description:"Check messages"},{action:ve,label:"Calendar",icon:v(FT,{className:"w-6 h-6"}),color:"info",description:"View schedule"}].map((V,se)=>C("button",{onClick:V.action||(()=>h(V.key)),className:`card-interactive p-6 text-center hover-lift animate-fade-in-up group ${V.color==="primary"?"hover:shadow-primary-500/25":V.color==="success"?"hover:shadow-success-500/25":V.color==="warning"?"hover:shadow-warning-500/25":"hover:shadow-info-500/25"}`,style:{animationDelay:`${.1+se*.1}s`},children:[v("div",{className:`inline-flex items-center justify-center w-12 h-12 rounded-2xl mb-4 group-hover:scale-110 transition-transform duration-300 ${V.color==="primary"?"bg-primary-100 dark:bg-primary-800 text-primary-600 dark:text-primary-400":V.color==="success"?"bg-success-100 dark:bg-success-800 text-success-600 dark:text-success-400":V.color==="warning"?"bg-warning-100 dark:bg-warning-800 text-warning-600 dark:text-warning-400":"bg-info-100 dark:bg-info-800 text-info-600 dark:text-info-400"}`,children:V.icon}),v("h5",{className:"font-semibold text-secondary-900 dark:text-secondary-100 mb-1",children:V.label}),v("p",{className:"text-xs text-secondary-500 dark:text-secondary-400",children:V.description})]},V.key||"calendar"))})]}),C("div",{className:"space-y-6",children:[C("div",{className:"flex items-center justify-between",children:[v("h4",{className:"text-2xl font-bold gradient-text",children:"Recent Activity"}),v(Ee,{onClick:()=>h("bookings"),variant:"ghost",size:"sm",className:"hover-scale",children:"View All"})]}),a.length>0?v("div",{className:"space-y-4",children:a.slice(0,3).map((V,se)=>v("div",{className:"card-interactive p-6 hover-lift animate-fade-in-up group",style:{animationDelay:`${.1+se*.1}s`},children:C("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[C("div",{className:"flex items-center space-x-4",children:[v("div",{className:"p-3 bg-primary-100 dark:bg-primary-800 rounded-2xl group-hover:scale-110 transition-transform duration-300",children:v(Tw,{className:"w-6 h-6 text-primary-600 dark:text-primary-400"})}),C("div",{className:"min-w-0 flex-1",children:[v("h5",{className:"font-semibold text-secondary-900 dark:text-secondary-100 text-lg mb-1",children:V.resourceName}),C("p",{className:"text-sm text-secondary-600 dark:text-secondary-400 flex items-center gap-2",children:[v(Wl,{className:"w-4 h-4"}),Nl(V.startTime)," at ",qM(V.startTime)]})]})]}),C("div",{className:"flex items-center gap-3",children:[v("span",{className:`badge ${V.status==="approved"?"badge-success":V.status==="pending"?"badge-warning":"badge-error"}`,children:V.status}),v(Ee,{onClick:()=>Tt(V),variant:"ghost",size:"sm",className:"hover-scale",children:v(Aw,{className:"w-4 h-4"})})]})]})},V.id))}):C("div",{className:"card text-center py-12 animate-fade-in-up",children:[v("div",{className:"w-16 h-16 bg-secondary-100 dark:bg-secondary-800 rounded-full flex items-center justify-center mx-auto mb-4",children:v(hi,{className:"w-8 h-8 text-secondary-400"})}),v("h5",{className:"text-lg font-semibold text-secondary-900 dark:text-secondary-100 mb-2",children:"No Recent Activity"}),v("p",{className:"text-secondary-500 dark:text-secondary-400 mb-6",children:"Start by booking your first resource"}),v(Ee,{onClick:()=>h("resources"),variant:"primary",className:"hover-scale",children:"Browse Resources"})]})]})]}),d==="resources"&&C("div",{className:"p-4 sm:p-6 lg:p-8",children:[C("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 sm:mb-8 space-y-4 sm:space-y-0",children:[v("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Available Resources"}),((Qo=e.role)==null?void 0:Qo.toLowerCase())==="admin"&&C(Ee,{className:"flex items-center justify-center space-x-2 w-full sm:w-auto",onClick:()=>_(!0),children:[v(nd,{className:"w-5 h-5 sm:w-6 sm:h-6"}),v("span",{className:"text-sm sm:text-base",children:"Add Resource"})]})]}),C("div",{className:"mb-6 space-y-3",children:[C("div",{className:"relative",children:[v(Z2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),v("input",{type:"text",placeholder:"Search resources...",className:"w-full pl-10 pr-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-all duration-200 text-base"})]}),C("div",{className:"flex flex-wrap gap-2",children:[v("button",{className:"px-3 py-2 text-sm font-medium bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300 rounded-lg border border-blue-200 dark:border-blue-700",children:"All"}),v("button",{className:"px-3 py-2 text-sm font-medium bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg border border-gray-200 dark:border-gray-600",children:"Available"}),v("button",{className:"px-3 py-2 text-sm font-medium bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg border border-gray-200 dark:border-gray-600",children:"Booked"}),v("button",{className:"px-3 py-2 text-sm font-medium bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg border border-gray-200 dark:border-gray-600",children:"Maintenance"})]})]}),n.length>0?v("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:n.map(V=>{var se,Ve;return C("div",{className:`card p-4 sm:p-6 transition-all duration-300 ${V.isUnderMaintenance?"opacity-60 grayscale":""}`,children:[C("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-3 sm:mb-4 space-y-2 sm:space-y-0",children:[v("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 text-base sm:text-lg",children:V.name}),C("div",{className:"flex flex-wrap items-center gap-2",children:[v("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${V.status==="available"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":V.status==="booked"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300"}`,children:V.status}),V.isUnderMaintenance&&v("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300",children:"Maintenance"})]})]}),v("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3 sm:mb-4 leading-relaxed",children:V.description}),V.isUnderMaintenance&&V.maintenanceNote&&v("div",{className:"mb-3 sm:mb-4 p-3 bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg",children:C("p",{className:"text-xs sm:text-sm text-orange-800 dark:text-orange-300 leading-relaxed",children:[v("strong",{children:"Maintenance Note:"})," ",V.maintenanceNote]})}),C("div",{className:"space-y-2 text-xs sm:text-sm text-gray-500 dark:text-gray-400 mb-3 sm:mb-4",children:[C("div",{className:"flex items-center",children:[v(Zi,{className:"w-4 h-4 mr-2 flex-shrink-0"}),v("span",{className:"truncate",children:V.category})]}),C("div",{className:"flex items-center",children:[v(Ic,{className:"w-4 h-4 mr-2 flex-shrink-0"}),C("span",{children:[V.capacity||"N/A"," capacity"]})]}),C("div",{className:"flex items-center",children:[v(Ly,{className:"w-4 h-4 mr-2 flex-shrink-0"}),v("span",{className:"truncate",children:V.location})]})]}),C("div",{className:"space-y-3",children:[((se=e.role)==null?void 0:se.toLowerCase())==="admin"&&v(FQ,{resourceId:V.id,resourceName:V.name,isUnderMaintenance:V.isUnderMaintenance||!1,onToggle:kn=>{i(sr=>sr.map(zn=>zn.id===V.id?{...zn,isUnderMaintenance:kn,status:kn?"maintenance":"available"}:zn))}}),C("div",{className:"flex flex-col space-y-3",children:[v(Ee,{className:"w-full mobile-button",size:"sm",onClick:()=>qe(V),disabled:V.isUnderMaintenance,children:V.isUnderMaintenance?"Unavailable":"Book Now"}),((Ve=e.role)==null?void 0:Ve.toLowerCase())==="admin"&&C("div",{className:"grid grid-cols-2 gap-3",children:[C(Ee,{variant:"outline",size:"sm",onClick:()=>he(V),className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 mobile-button",children:[v(Iw,{className:"w-4 h-4 mr-2"}),"Edit"]}),C(Ee,{variant:"outline",size:"sm",onClick:()=>Nt(V.id),className:"text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 mobile-button",children:[v(BT,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]})]},V.id)})}):v("p",{className:"text-gray-500 dark:text-gray-400 text-center py-8",children:"No resources available."})]}),d==="bookings"&&C("div",{className:"p-4 sm:p-6 lg:p-8",children:[C("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 space-y-4 sm:space-y-0",children:[v("h3",{className:"text-xl sm:text-2xl font-semibold text-gray-900 dark:text-gray-100",children:((Ia=e==null?void 0:e.role)==null?void 0:Ia.toLowerCase())==="admin"?"All Bookings":"Your Bookings"}),C("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 w-full sm:w-auto",children:[C(Ee,{variant:"outline",size:"sm",onClick:ve,className:"flex items-center justify-center space-x-2 w-full sm:w-auto",children:[v(FT,{className:"w-4 h-4"}),v("span",{className:"text-sm sm:text-base",children:"Calendar View"})]}),C(Ee,{variant:"outline",size:"sm",onClick:je,className:"flex items-center justify-center space-x-2 w-full sm:w-auto",children:[v(Wl,{className:"w-4 h-4"}),v("span",{className:"text-sm sm:text-base",children:"Refresh"})]})]})]}),a.length>0?v("div",{className:"space-y-4",children:a.map(V=>{var se,Ve,kn;return C("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 sm:p-6",children:[C("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-4 space-y-3 sm:space-y-0",children:[C("div",{className:"min-w-0 flex-1",children:[v("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 text-base sm:text-lg mb-1",children:V.resourceName}),((se=e==null?void 0:e.role)==null?void 0:se.toLowerCase())==="admin"&&C("p",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:["Booked by: ",V.userName," (",V.userRole,")"]})]}),v("span",{className:`px-3 py-1 text-xs font-medium rounded-full self-start sm:self-auto ${V.status==="approved"?"bg-green-100 text-green-800":V.status==="pending"?"bg-yellow-100 text-yellow-800":V.status==="rejected"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:V.status})]}),C("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 text-xs sm:text-sm mb-4",children:[C("div",{className:"bg-gray-50 dark:bg-gray-700 p-3 rounded-lg",children:[v("p",{className:"text-gray-500 dark:text-gray-400 mb-1 font-medium",children:"Start Time"}),v("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:Nl(V.startTime)})]}),C("div",{className:"bg-gray-50 dark:bg-gray-700 p-3 rounded-lg",children:[v("p",{className:"text-gray-500 dark:text-gray-400 mb-1 font-medium",children:"End Time"}),v("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:Nl(V.endTime)})]}),C("div",{className:"bg-gray-50 dark:bg-gray-700 p-3 rounded-lg",children:[v("p",{className:"text-gray-500 dark:text-gray-400 mb-1 font-medium",children:"Purpose"}),v("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:V.purpose})]}),C("div",{className:"bg-gray-50 dark:bg-gray-700 p-3 rounded-lg",children:[v("p",{className:"text-gray-500 dark:text-gray-400 mb-1 font-medium",children:"Attendees"}),C("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:[V.attendees," people"]})]})]}),C("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2",children:[C(Ee,{variant:"outline",size:"sm",onClick:()=>Tt(V),className:"flex items-center justify-center space-x-2 w-full sm:w-auto",children:[v(Aw,{className:"w-4 h-4"}),v("span",{className:"text-sm sm:text-base",children:"View Details"})]}),((Ve=e==null?void 0:e.role)==null?void 0:Ve.toLowerCase())==="admin"&&V.status==="pending"&&C("div",{className:"grid grid-cols-2 gap-3 w-full sm:w-auto",children:[C(Ee,{variant:"outline",size:"sm",onClick:()=>Z(V.id),className:"text-green-600 hover:text-green-700 w-full mobile-button",children:[v(tm,{className:"w-4 h-4 mr-2"}),"Approve"]}),C(Ee,{variant:"outline",size:"sm",onClick:()=>me(V.id),className:"text-red-600 hover:text-red-700 w-full mobile-button",children:[v(i5,{className:"w-4 h-4 mr-2"}),"Reject"]})]}),((kn=e==null?void 0:e.role)==null?void 0:kn.toLowerCase())!=="admin"&&V.status==="approved"&&v("div",{className:"text-center sm:text-left",children:v("p",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:"✅ Your booking has been approved!"})})]})]},V.id)})}):v("p",{className:"text-gray-500 dark:text-gray-400 text-center py-8",children:(((Ca=e==null?void 0:e.role)==null?void 0:Ca.toLowerCase())==="admin","No bookings found.")})]}),d==="notifications"&&C("div",{className:"p-4 sm:p-6 lg:p-8",children:[C("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 space-y-4 sm:space-y-0",children:[v("h3",{className:"text-xl sm:text-2xl font-semibold text-gray-900 dark:text-gray-100",children:((Oa=e==null?void 0:e.role)==null?void 0:Oa.toLowerCase())==="admin"?"All Notifications":"Your Notifications"}),((At=e==null?void 0:e.role)==null?void 0:At.toLowerCase())==="admin"&&C(Ee,{onClick:q,className:"flex items-center justify-center space-x-2 w-full sm:w-auto",children:[v(Cw,{className:"w-4 h-4 sm:w-5 sm:h-5"}),v("span",{className:"text-sm sm:text-base",children:"Create Notification"})]})]}),s.length>0?v("div",{className:"space-y-4",children:s.map(V=>{var se;return v("div",{className:`border-l-4 p-4 sm:p-6 ${V.isRead?"border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800":"border-blue-500 dark:border-blue-600 bg-blue-50 dark:bg-blue-900/20"}`,children:C("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between space-y-3 sm:space-y-0",children:[C("div",{className:"flex-1 min-w-0",children:[C("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-2 mb-2",children:[v("h4",{className:"font-medium text-gray-900 dark:text-gray-100 text-base sm:text-lg",children:V.title}),V.isSystemNotification&&v("span",{className:"px-2 py-1 text-xs bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300 rounded-full self-start sm:self-auto",children:"System"})]}),v("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1 leading-relaxed",children:V.message}),V.imageUrl&&v("div",{className:"mt-3",children:v("img",{src:V.imageUrl,alt:"Notification",className:"max-w-full max-h-48 object-cover rounded-lg"})}),C("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mt-3 sm:mt-2 space-y-2 sm:space-y-0",children:[v("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:Nl(V.createdAt)}),V.createdBy&&C("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["By: ",V.createdBy]})]})]}),C("div",{className:"flex flex-col space-y-2 self-start sm:self-auto w-full sm:w-auto",children:[!V.isRead&&C(Ee,{variant:"outline",size:"sm",onClick:()=>or(V.id),className:"text-blue-600 hover:text-blue-700 w-full sm:w-auto",children:[v(tm,{className:"w-4 h-4 mr-2"}),v("span",{className:"text-sm sm:text-base",children:"Mark Read"})]}),((se=e==null?void 0:e.role)==null?void 0:se.toLowerCase())==="admin"&&C(Ee,{variant:"outline",size:"sm",onClick:()=>Ii(V.id),className:"text-red-600 hover:text-red-700 w-full sm:w-auto",children:[v(BT,{className:"w-4 h-4 mr-2"}),v("span",{className:"text-sm sm:text-base",children:"Delete"})]})]})]})},V.id)})}):v("p",{className:"text-gray-500 dark:text-gray-400 text-center py-8 text-sm sm:text-base",children:(((Dt=e==null?void 0:e.role)==null?void 0:Dt.toLowerCase())==="admin","No notifications found.")})]})]})]}),v("div",{className:"fixed bottom-6 right-6 z-30 lg:hidden",children:C("div",{className:"relative",children:[v("button",{onClick:()=>{d==="resources"?_(!0):d==="notifications"?z(!0):d==="bookings"&&ve()},className:"w-14 h-14 bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-200 flex items-center justify-center",style:{minHeight:"56px",minWidth:"56px"},children:d==="resources"?v(nd,{className:"w-6 h-6"}):d==="notifications"?v(Cw,{className:"w-6 h-6"}):v(hi,{className:"w-6 h-6"})}),v("div",{className:"absolute bottom-full right-0 mb-2 px-3 py-2 bg-gray-900 dark:bg-gray-700 text-white text-sm rounded-lg whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none",children:d==="resources"?"Add Resource":d==="notifications"?"Create Notification":"View Calendar"})]})}),v(RG,{isOpen:g,onClose:()=>_(!1),onResourceAdded:ce}),v(MG,{isOpen:b,onClose:()=>{w(!1),A(null)},onResourceUpdated:Y,resource:E}),v(LG,{isOpen:D,onClose:()=>{L(!1),A(null)},resource:E,currentUser:e,onBookingCreated:Gt}),v(jG,{isOpen:T,onClose:()=>{k(!1),R(null)},booking:I,currentUser:e,onBookingUpdated:en}),v(LQ,{isOpen:M,onClose:()=>O(!1),currentUser:e}),v(jQ,{isOpen:P,onClose:()=>z(!1),currentUser:e,onNotificationCreated:Qe}),v($Q,{isOpen:ie,onClose:()=>G(!1),currentUser:e,onProfileUpdated:et})]}):null};function The(){return v(DG,{children:C("div",{className:"min-h-screen transition-all duration-300",children:[v(kg,{position:"top-right",toastOptions:{className:"dark:bg-gray-800 dark:text-gray-100",duration:4e3}}),C(AB,{children:[v(ju,{path:"/login",element:v(k9,{})}),v(ju,{path:"/register",element:v(OG,{})}),v(ju,{path:"/dashboard",element:v(khe,{})}),v(ju,{path:"/",element:v(kB,{to:"/login",replace:!0})})]})]})})}U2(document.getElementById("root")).render(v(le.StrictMode,{children:v(RB,{basename:"/Campus_Resourses_management_System",children:v(The,{})})}));
